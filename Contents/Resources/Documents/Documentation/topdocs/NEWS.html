<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>NEWS</title>

<meta name="description" content="NEWS">
<meta name="keywords" content="NEWS">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#Top" rel="start" title="New features in 2.12 since 2.10">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Top"></a>
<a name="Top"></a>
<h1 class="unnumbered">New features in 2.12 since 2.10</h1>

<p>This document is also available in <a href="NEWS.pdf">PDF</a>. It is part of
the <a href="../">LilyPond Documentation</a>.
</p>



<ul>
<li>
Fret diagrams can now have variable string thickness:
<blockquote><p>
 <a href="73/lily-3403d923.ly">
  <img align="middle"
       border="0"
       src="73/lily-3403d923.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
A new fret diagram orientation, opposing-landscape, is available:
<blockquote><p>
 <a href="36/lily-b10e64c2.ly">
  <img align="middle"
       border="0"
       src="36/lily-b10e64c2.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Unbeamed 128th notes are now supported:
<blockquote><p>
 <a href="6e/lily-61902fe6.ly">
  <img align="middle"
       border="0"
       src="6e/lily-61902fe6.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Extending LilyPond&rsquo;s existing support for microtones, there are
now arrowed accidentals for the notation of microtonal alterations.
To use them, redefine the <code>glyph-name-alist</code> property of
<code>Accidental</code> as in the following example which uses quartertones
to typeset arrowed accidentals. Alternatively, it is possible to
define separate names for all notes with arrowed accidentals (see
<code>ly/makam.ly</code> for boilerplate code).

<blockquote><p>
 <a href="cb/lily-a8064505.ly">
  <img align="middle"
       border="0"
       src="cb/lily-a8064505.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Straight flags (used in old scores of e.g. Bach, but also in different form in 
modern scores of e.g. Stockhausen) are now implemented:
<blockquote><p>
 <a href="57/lily-fcd0d484.ly">
  <img align="middle"
       border="0"
       src="57/lily-fcd0d484.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
<code>\bookpart</code> blocks may be used to split a book into several parts,
separated by a page break, in order to ease the page breaking, or to use
different <code>\paper</code> settings in different parts.

<blockquote><pre class="example">\bookpart {
  \header {
    title = &quot;Book title&quot;
    subtitle = &quot;First part&quot;
  }
  \score { &hellip; }
  &hellip;
}
\bookpart {
  \header {
    subtitle = &quot;Second part&quot;
  }
  \score { &hellip; }
  &hellip;
}
</pre></blockquote>

</li><li>
Nested contexts of the same type are now allowed.
This deprecates <code>InnerStaffGroup</code> and <code>InnerChoirStaff</code>.
<blockquote><p>
 <a href="75/lily-f5b2d948.ly">
  <img align="middle"
       border="0"
       src="75/lily-f5b2d948.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Percent repeat counters can be shown at regular intervals using the
context property <code>repeatCountVisibility</code>.
<blockquote><p>
 <a href="bb/lily-ee26bba6.ly">
  <img align="middle"
       border="0"
       src="bb/lily-ee26bba6.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
In addition to the already existing <code>showLastLength</code> property,
<code>showFirstLength</code> can now be set as well, rendering only the first
measures of a piece.  Both properties may be set at the same time:
<blockquote><p>
 <a href="bb/lily-1533ee70.ly">
  <img align="middle"
       border="0"
       src="bb/lily-1533ee70.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
The file extension for MIDI can be set using the command-line
program default <code>midi-extension</code>.  For Windows, the default
extension has been changed to <code>.mid</code>.

</li><li>
Two variations on the default double repeat bar line are now available.
<blockquote><p>
 <a href="57/lily-6951872b.ly">
  <img align="middle"
       border="0"
       src="57/lily-6951872b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Four automatic accidentals rules have been added: <code>neo-modern</code>,
<code>neo-modern-cautionary</code>, <code>dodecaphonic</code> and <code>teaching</code>.
The following example illustrates <code>neo-modern</code> rule.
<blockquote><p>
 <a href="20/lily-3b3a5381.ly">
  <img align="middle"
       border="0"
       src="20/lily-3b3a5381.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Flags can now be generated with Scheme-code using the <code>'flag</code>
<code>Stem</code> grob property.  Existing scores will work without change.
<blockquote><p>
 <a href="89/lily-3307362e.ly">
  <img align="middle"
       border="0"
       src="89/lily-3307362e.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Harp pedalling diagrams were added:

<blockquote><p>
 <a href="48/lily-e724a8c4.ly">
  <img align="middle"
       border="0"
       src="48/lily-e724a8c4.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Predefined, user-configurable, transposable fret diagrams
are now available in the <code>FretBoards</code> context:
<blockquote><p>
 <a href="c8/lily-51ca724b.ly">
  <img align="middle"
       border="0"
       src="c8/lily-51ca724b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
The following syntax changes were made, in chronological order. In
addition, fret diagram properties have been moved to
<code>fret-diagram-details</code>, and the <code>#'style</code> property is
used to select solid/dashed lines instead of <code>#'dash-fraction</code>.

<blockquote><pre class="example">'break-align-symbol -&gt; 'break-align-symbols
scripts.caesura -&gt; scripts.caesura.curved
\setEasyHeads -&gt; \easyHeadsOn
\easyHeadsOff (new command)
\fatText -&gt; \textLengthOn
\emptyText -&gt; \textLengthOff
\set hairpinToBarline -&gt; \override Hairpin #'to-barline
\compressMusic -&gt; \scaleDurations
\octave -&gt; \octaveCheck
\arpeggioUp -&gt; \arpeggioArrowUp
\arpeggioDown -&gt; \arpeggioArrowDown
\arpeggioNeutral -&gt; \arpeggioNormal
\setTextCresc -&gt; \crescTextCresc
\setTextDecresc -&gt; \dimTextDecresc
\setTextDecr -&gt; \dimTextDecr
\setTextDim -&gt; \dimTextDim
\setHairpinCresc -&gt; \crescHairpin
\setHairpinDecresc -&gt; \dimHairpin
\sustainUp -&gt; \sustainOff
\sustainDown -&gt; \sustainOn
\sostenutoDown -&gt; \sostenutoOn
\sostenutoUp -&gt; \sostenutoOff
'infinite-spacing-height -&gt; 'extra-spacing-height
#(set-octavation oct) -&gt; \ottava #oct
\put-adjacent markup axis dir markup -&gt; \put-adjacent axis dir markup markup
\pointAndClickOn (new command)
\pointAndClickOff (new command)
\center-align -&gt; \center-column
\hcenter -&gt; \center-align
printallheaders -&gt; print-all-headers
\bigger -&gt; \larger (already existing command)
systemSeparatorMarkup -&gt; system-separator-markup
</pre></blockquote>

<p>Moreover, some files in the <code>ly/</code> directory have been renamed;
the *-init.ly filenames are now only used for files that are automatically
included, while such files as <code>makam-init.ly</code> or <code>gregorian-init.ly</code>
have been renamed to <code>makam.ly</code> or <code>gregorian.ly</code>.
</p>
</li><li>
The &ldquo;tex&rdquo; and &ldquo;texstr&rdquo; backends have been removed.  Font are now
accessed via the fontconfig library; the Pango library is used to display
text strings.

</li><li>
Metronome marks can now also contain a textual description.  The
duration and count (if given) are shown in parentheses after the text.

<blockquote><p>
 <a href="7e/lily-aa48e1dc.ly">
  <img align="middle"
       border="0"
       src="7e/lily-aa48e1dc.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
In figured bass you can now also use a backslash through a number to
indicate a raised 6th step.

<blockquote><p>
 <a href="dc/lily-66d27c04.ly">
  <img align="middle"
       border="0"
       src="dc/lily-66d27c04.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Arpeggios may now use &ldquo;parenthesis&rdquo; style brackets:

<blockquote><p>
 <a href="46/lily-ee14689e.ly">
  <img align="middle"
       border="0"
       src="46/lily-ee14689e.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Single-system scores are now naturally spaced instead of being
stretched to fill the line width.  This can be changed by setting
<code>ragged-right = ##f</code>.

</li><li>
Enclosing text within boxes with rounded corners is now possible,
using the <code>\rounded-box</code> markup command.

</li><li>
<code>lilypond-book</code> can run any program instead of <code>latex</code>
to guess the line width, thanks to <code>--latex-program</code> command line
option.

</li><li>
Underlining is now possible with the <code>\underline</code> markup command.

</li><li>
It is now possible to specify, using the <code>page-count</code> variable in
the paper block, the number of pages that will be used.

</li><li>
A new page breaking function, <code>ly:minimal-breaking</code>, is dedicated
to books with many pages or a lot of text.

</li><li>
A table of contents is included using <code>\markuplines \table-of-contents</code>.
Elements are added to it using the <code>\tocItem</code> command.

</li><li>
Text spreading over several pages is entered using the
<code>\markuplines</code> keyword.  Builtin markup list commands, such as
<code>\justified-lines</code> or <code>\wordwrap-lines</code> may be used, and new
ones created using the <code>define-markup-list-command</code> Scheme macro.

</li><li>
Particular points of a book may be marked with the <code>\label</code>
command.  Then, the page where these points are placed can be
referred to using the <code>\page-ref</code> markup command.

</li><li>
Page breaking and page turning commands (<code>\pageBreak</code>,
<code>\noPageBreak</code>, etc.) can be used at top-level, between scores and
top-level markups.

</li><li>
The following options are now changed as a <code>-d</code> sub-option:
<code>--backend</code>, <code>--safe</code>, <code>--preview</code> and
<code>--no-pages</code> (which became <code>-dno-print-pages</code>).  The <code>-b</code>
option does not exist any more.

</li><li>
Improved testing procedures now catch changes in CPU and memory
performance, page layout, MIDI results and warnings.  This helps to
reduce the number of regression errors during development, resulting
in more stable releases.

<p>See <a href="INSTALL.html#Testing-LilyPond">INSTALL.html#Testing-LilyPond</a> for more information.
</p>
</li><li>
Nested properties, such as <code>'details</code> in <code>Slur</code>, can be
reverted as well.  The syntax for this is

<blockquote><pre class="example">\revert Slur #'(details closeness-factor)
</pre></blockquote>

</li><li>
All line spanners are more flexible now in the configuration of
their end points.  This includes glissando, voice followers, text
crescendos and other text spanners.  The old syntax for setting
text on line spanners is no longer valid.

<blockquote><p>
 <a href="d7/lily-9dd9d64f.ly">
  <img align="middle"
       border="0"
       src="d7/lily-9dd9d64f.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>This feature was sponsored by Trevor Bača.
</p>
</li><li>
The environment variable <code>LILYPONDPREFIX</code> has been renamed
<code>LILYPOND_DATADIR</code>.

</li><li>
Notes or rests, such as a typical end note, that fill an entire
measure are preceded by some more space.

<blockquote><p>
 <a href="33/lily-6c7e0e3c.ly">
  <img align="middle"
       border="0"
       src="33/lily-6c7e0e3c.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
All <code>\score</code>s in a lilypond-book fragment are now inserted
into the document.  Also, toplevel markups don&rsquo;t result in an entire
page.

</li><li>
Alterations (such as a sharp or flat) may now be arbitrary
fractions.  This allows some forms of microtonal music.  For example,
Turkish makam music uses 1/9th tone alterations.

<blockquote><p>
 <a href="d4/lily-075e2aa6.ly">
  <img align="middle"
       border="0"
       src="d4/lily-075e2aa6.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Tie directions may be set with <code>^~</code> and <code>_~</code>.

</li><li>
Tablature now supports harmonics and slides:

<blockquote><p>
 <a href="54/lily-33140a0e.ly">
  <img align="middle"
       border="0"
       src="54/lily-33140a0e.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>This feature was sponsored by Mike Amundsen
</p>
</li><li>
Horizontal spacing now follows object outlines more accurately.
This allows tighter horizontal spacing.

<blockquote><p>
 <a href="11/lily-f0314257.ly">
  <img align="middle"
       border="0"
       src="11/lily-f0314257.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Objects that belong outside of the staff are now positioned
automatically to avoid collisions.

<blockquote><p>
 <a href="ce/lily-2000ab8e.ly">
  <img align="middle"
       border="0"
       src="ce/lily-2000ab8e.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li><li>
Staves are spaced vertically using a skyline algorithm.  This helps
prevent uneven vertical spacing.

<blockquote><p>
 <a href="a3/lily-b5e08713.ly">
  <img align="middle"
       border="0"
       src="a3/lily-b5e08713.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



</li></ul>



<p>For older news, go to
<a href="http://lilypond.org/doc/v2.10/Documentation/topdocs/NEWS.html">http://lilypond.org/doc/v2.10/Documentation/topdocs/NEWS.html</a>,
or <a href="../">go back</a> to the Documentation index.
</p>


<hr size="1">
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
 Other languages: <a href="NEWS.es.html">español</a>.
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="#Top" title="Start of the manual">New features in 2.12 since 2.10</a></h4>
<div class="contents">
<ul class="toc">
</ul>
</div>
</div>

</body>
</html>
