<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2008 by the authors

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond Contributor's Guide</title>

<meta name="description" content="GNU LilyPond Contributor's Guide">
<meta name="keywords" content="GNU LilyPond Contributor's Guide">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#index" rel="start" title="GNU LilyPond &mdash; Contributor's Guide">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="#SEC_About" rel="help" title="About This Document">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Top"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<a name="index"></a>
<h1 class="settitle">GNU LilyPond &mdash; Contributor&rsquo;s Guide</h1>
<a name="The-music-typesetter"></a>
<h1 class="chapheading">The music typesetter</h1>


<p>This document is also available as a
<a href="../../Documentation/devel/contrib-guide.pdf">PDF</a> and as a
<a href="../../Documentation/devel/contrib-guide/index.html">HTML indexed multiple pages</a>.
</p>



<p>This file documents contributing to GNU LilyPond.
</p>
<p>Copyright 1999&ndash;2008 by the authors
</p>
<blockquote><p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled &ldquo;GNU
Free Documentation License&rdquo;.
</p></blockquote>


<p>More information can be found at
<a href="http://www.lilypond.org/">http://www.lilypond.org/</a>.  The website contains
on-line copies of this and other documentation.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Starting-with-git" accesskey="1">1. Starting with git</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Compiling-LilyPond" accesskey="2">2. Compiling LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation-work" accesskey="3">3. Documentation work</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Website-work" accesskey="4">4. Website work</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#LSR-work" accesskey="5">5. LSR work</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Issues" accesskey="6">6. Issues</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Programming-work" accesskey="7">7. Programming work</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Release-work" accesskey="8">8. Release work</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="1">
<a name="Starting-with-git"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#index" title="Beginning of this chapter or previous chapter"> &lt;&lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#index" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Getting-the-source-code" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Getting the source code &gt; </a>]</td></tr></table>
<a name="Starting-with-git"></a>
<h1 class="chapter">1. Starting with git</h1>

<p>To complete or present in another form the introduction to Git usage
in this chapter, it may be a good idea to look for Git documentation
at <a href="http://git-scm.com/documentation">http://git-scm.com/documentation</a>,
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Getting-the-source-code" accesskey="1">1.1 Getting the source code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Updating-the-source-code" accesskey="2">1.2 Updating the source code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Sharing-your-changes" accesskey="3">1.3 Sharing your changes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Advanced-git-stuff" accesskey="4">1.4 Advanced git stuff</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Git-on-Windows" accesskey="5">1.5 Git on Windows</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Getting-the-source-code"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Starting-with-git" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Starting-with-git" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Starting with git&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-introduction" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Git introduction &gt; </a>]</td></tr></table>
<a name="Getting-the-source-code"></a>
<h2 class="section">1.1 Getting the source code</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Git-introduction" accesskey="1">1.1.1 Git introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Main-source-code" accesskey="2">1.1.2 Main source code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Website-source-code" accesskey="3">1.1.3 Website source code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation-translations-source-code" accesskey="4">1.1.4 Documentation translations source code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Other-branches" accesskey="5">1.1.5 Other branches</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Other-locations-for-git" accesskey="6">1.1.6 Other locations for git</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Git-user-configuration" accesskey="7">1.1.7 Git user configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Git-introduction"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Getting-the-source-code" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Getting the source code&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Main-source-code" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Main source code &gt; </a>]</td></tr></table>
<a name="Git-introduction"></a>
<h3 class="subsection">1.1.1 Git introduction</h3>

<p>The source code is kept in a Git respository.  This allows us to
track changes to files, and for multiple people to work on the
same set of files efficiently.
</p>
<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> These instructions assume that you are using the
command-line version of Git 1.5 or higher.  Windows users should
skip to <a href="#Git-on-Windows">Git on Windows</a>.
</p></td></tr></table>


<hr size="6">
<a name="Main-source-code"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-introduction" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Git introduction&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Website-source-code" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Website source code &gt; </a>]</td></tr></table>
<a name="Main-source-code"></a>
<h3 class="subsection">1.1.2 Main source code</h3>

<p>To get the main source code and documentation,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">mkdir lilypond; cd lilypond
git init-db
git remote add -f -t master -m master origin git://git.sv.gnu.org/lilypond.git/
git checkout -b master origin/master
</pre></td></tr></table>


<hr size="6">
<a name="Website-source-code"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Main-source-code" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Main source code&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Documentation-translations-source-code" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Documentation translations source code &gt; </a>]</td></tr></table>
<a name="Website-source-code"></a>
<h3 class="subsection">1.1.3 Website source code</h3>

<p>To get the website (including translations),
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">mkdir lilypond-web ; cd lilypond-web
git init-db
git remote add -f -t web -m web origin git://git.sv.gnu.org/lilypond.git/
git checkout -b web origin/web
</pre></td></tr></table>


<hr size="6">
<a name="Documentation-translations-source-code"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Website-source-code" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Website source code&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Other-branches" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Other branches &gt; </a>]</td></tr></table>
<a name="Documentation-translations-source-code"></a>
<h3 class="subsection">1.1.4 Documentation translations source code</h3>

<p>To translate the documentation (<em>not</em> the website),
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">mkdir lilypond-translation; cd lilypond-translation
git init-db
git remote add -f -t lilypond/translation -m lilypond/translation origin git://git.sv.gnu.org/lilypond.git/
git checkout -b lilypond/translation origin/lilypond/translation
</pre></td></tr></table>


<hr size="6">
<a name="Other-branches"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Documentation-translations-source-code" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Documentation translations source code&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Other-locations-for-git" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Other locations for git &gt; </a>]</td></tr></table>
<a name="Other-branches"></a>
<h3 class="subsection">1.1.5 Other branches</h3>

<p>Most contributors will never need to touch the other branches.  If
you wish to do so, you will need more familiarity with git.
</p>
<ul>
<li> <code>gub</code>:
This stores the Grand Unified Binary, our cross-platform building
tool.
For more info, see <a href="http://lilypond.org/gub">http://lilypond.org/gub</a>.  The git
location is:

<blockquote><pre class="example">http://github.com/janneke/gub
</pre></blockquote>

</li><li> <code>dev/XYZ</code>:
These branches are for individual developers.  They store code
which is not yet stable enough to be added to the <code>master</code>
branch.

</li><li> <code>stable/XYZ</code>:
The branches are kept for archival reasons.

</li></ul>


<hr size="6">
<a name="Other-locations-for-git"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Other-branches" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Other branches&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-user-configuration" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Git user configuration &gt; </a>]</td></tr></table>
<a name="Other-locations-for-git"></a>
<h3 class="subsection">1.1.6 Other locations for git</h3>

<p>If you have difficulty connecting to most of the repositories
listed in earlier sections, try:
</p>
<blockquote><pre class="example">http://git.sv.gnu.org/r/lilypond.git
git://git.sv.gnu.org/lilypond.git
ssh://git.sv.gnu.org/srv/git/lilypond.git
</pre></blockquote>

<p>Using HTTP protocol is slowest, so it is not recommended unless both
SSH and Git protocols fail, which happens e.g. if you connect to
internet through a router that filters out Git and/or SSH connections.
</p>

<hr size="6">
<a name="Git-user-configuration"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Other-locations-for-git" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Other locations for git&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Updating-the-source-code" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Updating the source code &gt; </a>]</td></tr></table>
<a name="Git-user-configuration"></a>
<h3 class="subsection">1.1.7 Git user configuration</h3>

<p>To configure git to automatically use your name and email address
for commits and patches,
</p>
<blockquote><pre class="example">git config --global user.name &quot;MYNAME&quot;
git config --global user.email MYEMAIL@EXAMPLE.NET
</pre></blockquote>


<hr size="6">
<a name="Updating-the-source-code"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-user-configuration" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Git user configuration&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Starting-with-git" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Starting with git&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Importance-of-updating" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Importance of updating &gt; </a>]</td></tr></table>
<a name="Updating-the-source-code"></a>
<h2 class="section">1.2 Updating the source code</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Importance-of-updating" accesskey="1">1.2.1 Importance of updating</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Update-command" accesskey="2">1.2.2 Updating command</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Resolving-conflicts" accesskey="3">1.2.3 Resolving conflicts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Importance-of-updating"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Updating-the-source-code" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Updating the source code&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Updating-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Updating the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Update-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Update command &gt; </a>]</td></tr></table>
<a name="Importance-of-updating"></a>
<h3 class="subsection">1.2.1 Importance of updating</h3>

<p>In a large project like LilyPond, contributors sometimes edit the same
file at the same time.  As long as everybody updates their version of
the file with the most recent changes (<em>pulling</em>), there are
generally no problems with this multiple-person editing.  However,
boring problems can arise if you do not pull before attempting commit,
e.g. you may encounter a conflict; in this case, see <a href="#Resolving-conflicts">Resolving conflicts</a>.
</p>

<hr size="6">
<a name="Update-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Importance-of-updating" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Importance of updating&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Updating-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Updating the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Resolving-conflicts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Resolving conflicts &gt; </a>]</td></tr></table>
<a name="Update-command"></a>
<h3 class="subsection">1.2.2 Updating command</h3>

<p>Whenever you are asked to pull, it means you should update your
local copy of the repository with the changes made by others on
the remote <code>git.sv.gnu.org</code> repository:
</p>
<blockquote><pre class="example">git pull -r
</pre></blockquote>


<hr size="6">
<a name="Resolving-conflicts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Update-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Update command&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Updating-the-source-code" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Updating the source code&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Sharing-your-changes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Sharing your changes &gt; </a>]</td></tr></table>
<a name="Resolving-conflicts"></a>
<h3 class="subsection">1.2.3 Resolving conflicts</h3>

<p>Occasionally an update may result in conflicts &ndash; this happens
when you and somebody else have modified the same part of the same
file and git cannot figure out how to merge the two versions
together.  When this happens, you must manually merge the two
versions.
</p>
<p>If you need some documentation to understand and resolve conflicts,
see paragraphs <em>How conflicts are presented</em> and <em>How to
resolve conflicts</em> in <code>git merge</code> man page.
</p>

<hr size="6">
<a name="Sharing-your-changes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Resolving-conflicts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Resolving conflicts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Starting-with-git" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Starting with git&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Producing-a-patch" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Producing a patch &gt; </a>]</td></tr></table>
<a name="Sharing-your-changes"></a>
<h2 class="section">1.3 Sharing your changes</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Producing-a-patch" accesskey="1">1.3.1 Producing a patch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Committing-directly" accesskey="2">1.3.2 Committing directly</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Producing-a-patch"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Sharing-your-changes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Sharing your changes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Sharing-your-changes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Sharing your changes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Committing-directly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Committing directly &gt; </a>]</td></tr></table>
<a name="Producing-a-patch"></a>
<h3 class="subsection">1.3.1 Producing a patch</h3>

<p>Once you have finished editing your files, checked that your changes
meet the <a href="#Code-style">Code style</a>, and/or <a href="#Documentation-policy">Documentation policy</a>, properly
set up your name and email in <a href="#Git-user-configuration">Git user configuration</a>, and
checked that the entire thing compiles, you may:
</p>
<blockquote><pre class="example">git commit -a
git format-patch origin
</pre></blockquote>

<p>The commit should include a brief message describing the change.
This consists of a one-line summary describing the change, and
if necessary a blank line followed by several lines giving the
details:
</p>
<blockquote><pre class="example">Did household chores.

I hung up the wet laundry and then washed the car.  I also
vacuumed the floors, rinsed the dirty dishes, fed the cat, and
recalibrated the temporal flux machine.
</pre></blockquote>

<p>If the change is to the documentation only then the one-line
summary should be prefixed with &ldquo;Docs: &rdquo;.
</p>
<p>If you added a file to the source code, you must add it to git
with:
</p>
<blockquote><pre class="example">git add FILENAME
</pre></blockquote>

<p>(and possibly modify the &lsquo;<tt>GNUmakefile</tt>&rsquo;)
</p>
<p>These commands will produce one or more files named
&lsquo;<tt>0001-xyz</tt>&rsquo;, &lsquo;<tt>0002-abc</tt>&rsquo;, etc. in the top directory of the
git tree.  Send an email to <a href="mailto:lilypond-devel@gnu.org">lilypond-devel@gnu.org</a> with
these files attached, and a developer will review and apply the
patches to the main repository.
</p>

<hr size="6">
<a name="Committing-directly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Producing-a-patch" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Producing a patch&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Sharing-your-changes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Sharing your changes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Advanced-git-stuff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Advanced git stuff &gt; </a>]</td></tr></table>
<a name="Committing-directly"></a>
<h3 class="subsection">1.3.2 Committing directly</h3>

<p>Most contributors do not have permission to commit directly.  If you
do, make sure you have set up your name and email in <a href="#Git-user-configuration">Git user configuration</a>, then edit &lsquo;<tt>.git/config</tt>&rsquo;: change the line
</p>
<blockquote><pre class="example">url = git://git.sv.gnu.org/lilypond.git/
</pre></blockquote>

<p>into
</p>
<blockquote><pre class="example">url = ssh://<var>user</var>@git.sv.gnu.org/srv/git/lilypond.git
</pre></blockquote>

<p>where <var>user</var> is your login name on Savannah.
</p>
<p>If you have not already done so, you should generate and upload a SSH
key: open <a href="https://savannah.gnu.org/my/">https://savannah.gnu.org/my/</a> in your browser, then go to
&lsquo;Preferences&rsquo; then to something like &lsquo;Edit SSH Keys&rsquo;, and follow
the instructions on that page.
</p>
<p>You may then:
</p>
<blockquote><pre class="example">git push origin
</pre></blockquote>

<hr size="6">
<a name="Advanced-git-stuff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Committing-directly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Committing directly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Starting-with-git" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Starting with git&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Introduction-to-Git-concepts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Introduction to Git concepts &gt; </a>]</td></tr></table>
<a name="Advanced-git-stuff"></a>
<h2 class="section">1.4 Advanced git stuff</h2>

<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> This section is not necessary for normal contributors;
these commands are presented for information for people interested
in learning more about git.
</p></td></tr></table>


<p>It is possible to work with several branches on the same local Git
repository; this is especially useful for translators who may have to
deal with both <code>lilypond/translation</code> and a stable branch,
e.g. <code>stable/2.12</code>.
</p>
<p>Some Git commands are introduced first, then a workflow with several
Git branches of LilyPond source code is presented.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction-to-Git-concepts" accesskey="1">1.4.1 Introduction to Git concepts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Git-commands-for-managing-several-branches" accesskey="2">1.4.2 Git commands for managing several branches</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Working-on-LilyPond-sources-with-several-branches" accesskey="3">1.4.3 Working on LilyPond sources with several branches</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Git-log" accesskey="4">1.4.4 Git log</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Applying-git-patches" accesskey="5">1.4.5 Applying git patches</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Introduction-to-Git-concepts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Advanced-git-stuff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Advanced git stuff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Advanced-git-stuff" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Advanced git stuff&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-commands-for-managing-several-branches" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Git commands for managing several branches &gt; </a>]</td></tr></table>
<a name="Introduction-to-Git-concepts"></a>
<h3 class="subsection">1.4.1 Introduction to Git concepts</h3>

<p>A bit of Git vocabulary will be explained below.  The following is
just introduction material; for better understanding of Git concepts,
you are invited to read further documentation, especially Git
Community Book at <a href="http://book.git-scm.com/">http://book.git-scm.com/</a>.
</p>
<p>The <code>git pull origin</code> command above is just a shortcut for this
command:
</p>
<blockquote><pre class="example">git pull git://git.sv.gnu.org/lilypond.git/ <var>branch</var>:origin/<var>branch</var>
</pre></blockquote>

<p>where <code><var>branch</var></code> is typically <code>master</code>, <code>web</code> or
<code>lilypond/translation</code>; if you do not know or remember, see
<a href="#Getting-the-source-code">Getting the source code</a> to remember which commands you issued or
which source code you wanted to get.
</p>
<p>A <em>commit</em> is a set of changes made to the sources; it also
includes the committish of the parent commit, the name and e-mail of
the <em>author</em> (the person who wrote the changes), the name and
e-mail of the <em>committer</em> (the person who brings these changes
into the Git repository), and a commit message.
</p>
<p>A <em>committish</em> is the SHA1 checksum of a commit, a number made of
40 hexadecimal digits, which acts as the internal unique identifier
for this commit.  To refer to a particular revision, don&rsquo;t use vague
references like the (approximative) date, simply copy and paste the
committish.
</p>
<p>A <em>branch</em> is nothing more than a pointer to a particular commit,
which is called the <em>head</em> of the branch; when referring to a
branch, one often acutally thinks about its head and the ancestor
commits of the head.
</p>
<p>Now we will explain the two last commands you used to get the source
code from Git &ndash; see <a href="#Getting-the-source-code">Getting the source code</a>.
</p>
<blockquote><pre class="example">git remote add -f -t <var>branch</var> -m <var>branch</var> origin git://git.sv.gnu.org/lilypond.git/
git checkout -b <var>branch</var> origin/<var>branch</var>
</pre></blockquote>

<p>The <code>git remote</code> has created a branch called
<code>origin/<var>branch</var></code> in your local Git repository.  As this
branch is a copy of the remote branch web from git.sv.gnu.org LilyPond
repository, it is called a <em>remote branch</em>, and is meant to track
the changes on the branch from git.sv.gnu.org: it will be updated
every time you run <code>git pull origin</code> or <code>git fetch
origin</code>.
</p>
<p>The <code>git checkout</code> command has created a branch named
<code><var>branch</var></code>.  At the beginning, this branch is identical to
<code>origin/<var>branch</var></code>, but it will differ as soon as you make
changes, e.g. adding newly translated pages or editing some
documentation or code source file.  Whenever you pull, you merge the
changes from <code>origin/<var>branch</var></code> and <code><var>branch</var></code> since
the last pulling.  If you do not have push (i.e. &ldquo;write&rdquo;) access on
git.sv.gnu.org, your <code><var>branch</var></code> will always differ from
<code>origin/<var>branch</var></code>.  In this case, remember that other people
working like you with the remote branch <code><var>branch</var></code> of
git://git.sv.gnu.org/lilypond.git/ (called <code>origin/<var>branch</var></code>
on your local repository) know nothing about your own
<code><var>branch</var></code>: this means that whenever you use a committish or
make a patch, others expect you to take the latest commit of
<code>origin/<var>branch</var></code> as a reference.
</p>
<p>Finally, please remember to read the man page of every Git command you
will find in this manual in case you want to discover alternate
methods or just understand how it works.
</p>

<hr size="6">
<a name="Git-commands-for-managing-several-branches"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Introduction-to-Git-concepts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Introduction to Git concepts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Advanced-git-stuff" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Advanced git stuff&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Working-on-LilyPond-sources-with-several-branches" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Working on LilyPond sources with several branches &gt; </a>]</td></tr></table>
<a name="Git-commands-for-managing-several-branches"></a>
<h3 class="subsection">1.4.2 Git commands for managing several branches</h3>

<a name="Listing-branches-and-remotes"></a>
<h4 class="subsubheading">Listing branches and remotes</h4>

<p>You can get the exact path or URL of all remotes with
running
</p>
<blockquote><pre class="example">git remote -v
</pre></blockquote>

<p>To list Git branches on your local repositories, run
</p>
<blockquote><pre class="example">git branch     # list local branches only
git branch -r  # list remote branches
git branch -a  # list all branches
</pre></blockquote>


<a name="Checking-out-branches"></a>
<h4 class="subsubheading">Checking out branches</h4>

<p>To know the currently checked out branch, i.e. the branch whose source
files are present in your working tree, read the first line of the
output of
</p>
<blockquote><pre class="example">git status
</pre></blockquote>

<p>The currently checked out branch is also marked with an asterisk in
the output of <code>git branch</code>.
</p>
<p>You can check out another branch <code><var>other_branch</var></code>, i.e. check
out <code><var>other_branch</var></code> to the working tree, by running
</p>
<blockquote><pre class="example">git checkout <var>other_branch</var>
</pre></blockquote>

<p>Note that it is possible to check out another branch while having
uncommitted changes, but it is not recommended unless you know what
you are doing; it is recommended to run <code>git status</code> to check
this kind of issue before checking out another branch.
</p>

<a name="Merging-branches"></a>
<h4 class="subsubheading">Merging branches</h4>

<p>To merge branch <code><var>foo</var></code> into branch <code><var>bar</var></code>, i.e. to
&ldquo;add&rdquo; all changes made in branch <code><var>foo</var></code> to branch
<code><var>bar</var></code>, run
</p>
<blockquote><pre class="example">git checkout <var>bar</var>
git merge <var>foo</var>
</pre></blockquote>

<p>If any conflict happens, see <a href="#Resolving-conflicts">Resolving conflicts</a>.
</p>
<p>There are common usage cases for merging: as a translator, you will
often want to merge <code>master</code> into <code>lilypond/translation</code>; on
the other hand, the Translations meister wants to merge
<code>lilypond/translation</code> into <code>master</code> whenever he has checked
that <code>lilypond/translation</code> builds successfully.
</p>

<hr size="6">
<a name="Working-on-LilyPond-sources-with-several-branches"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-commands-for-managing-several-branches" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Git commands for managing several branches&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Advanced-git-stuff" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Advanced git stuff&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-log" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Git log &gt; </a>]</td></tr></table>
<a name="Working-on-LilyPond-sources-with-several-branches"></a>
<h3 class="subsection">1.4.3 Working on LilyPond sources with several branches</h3>

<a name="Fetching-new-branches-from-git_002esv_002egnu_002eorg"></a>
<h4 class="subsubheading">Fetching new branches from git.sv.gnu.org</h4>

<p>To fetch and check out a new branch named <code><var>branch</var></code> on
git.sv.gnu.org, run from top of the Git repository
</p>
<blockquote><pre class="example">git config --add remote.origin.fetch +refs/heads/<var>branch</var>:refs/remotes/origin/<var>branch</var>
git checkout --track -b <var>branch</var> origin/<var>branch</var>
</pre></blockquote>

<p>After this, you can pull <code><var>branch</var></code> from git.sv.gnu.org with
</p>
<blockquote><pre class="example">git pull origin
</pre></blockquote>

<p>Note that this command generally fetches all branches you added with
<code>git remote add</code> (when you initialized the repository) or
<code>git config --add</code>, i.e. it updates all remote branches from
remote <code>origin</code>, then it merges the remote branch tracked by
current branch into current branch.  For example, if your current
branch is <code>master</code> &mdash; which is the case if you got the sources
with the commands described in <a href="#Main-source-code">Main source code</a> and did not
issue any <code>git checkout</code> command &mdash; <code>origin/master</code> will
be merged into <code>master</code>.
</p>

<a name="Local-clones_002c-or-having-several-working-trees"></a>
<h4 class="subsubheading">Local clones, or having several working trees</h4>

<p>If you play with several Git branches, e.g. <code>master</code>,
<code>lilypond/translation</code>, <code>stable/2.12</code>), you may want to have
one source and build tree for each branch; this is possible with
subdirectories of your local Git repository, used as local cloned
subrepositories.  To create a local clone for the branch named
<code><var>branch</var></code>, run
</p>
<blockquote><pre class="example">git checkout <var>branch</var>
git clone -l -s -n . <var>subdir</var>
cd <var>subdir</var>
git reset --hard
</pre></blockquote>

<p>Note that <code><var>subdir</var></code> must be a directory name which does not
already exist.  In <code><var>subdir</var></code>, you can use all Git commands
to browse revisions history, commit and uncommit changes; to update
the cloned subrepository with changes made on the main repository, cd
into <code><var>subdir</var></code> and run <code>git pull</code>; to send changes
made on the subrepository back to the main repository, run
<code>git push</code> from <code><var>subdir</var></code>.  Note that only one
branch (the currently checked out branch) is created in the
subrepository by default; it is possible to have several branches in a
subrepository and do usual operations (checkout, merge, create,
delete...) on these branches, but this possibility is not detailed
here.
</p>
<p>When you push <code><var>branch</var></code> from <code><var>subdir</var></code> to the main
repository, and <code><var>branch</var></code> is checked out in the main
repository, you must save uncommitted changes (see <code>git
stash</code>) and do <code>git reset --hard</code> in the main repository in
order to apply pushed changes in the working tree of the main
repository.
</p>


<hr size="6">
<a name="Git-log"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Working-on-LilyPond-sources-with-several-branches" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Working on LilyPond sources with several branches&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Advanced-git-stuff" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Advanced git stuff&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Applying-git-patches" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Applying git patches &gt; </a>]</td></tr></table>
<a name="Git-log"></a>
<h3 class="subsection">1.4.4 Git log</h3>

<p>The commands above don&rsquo;t only bring you the latest version of the
sources, but also the full history of revisions (revisons, also
called commits, are changes made to the sources), stored in the
.git directory.  You can browse this history with
</p>
<blockquote><pre class="example">git log     # only shows the logs (author, committish and commit message)
git log -p  # also shows diffs
gitk        # shows history graphically
</pre></blockquote>

<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> The <code>gitk</code> command may require a separate <code>gitk</code> package,
available in the appropriate distribution&rsquo;s repositories.
</p></td></tr></table>

<hr size="6">
<a name="Applying-git-patches"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-log" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Git log&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Advanced-git-stuff" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Advanced git stuff&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Git on Windows &gt; </a>]</td></tr></table>
<a name="Applying-git-patches"></a>
<h3 class="subsection">1.4.5 Applying git patches</h3>

<p>Well-formed git patches should be committed with
</p>
<blockquote><pre class="example">git am
</pre></blockquote>

<p>Patches created without <code>git format-patch</code> should be
committed with
</p>
<blockquote><pre class="example">git apply
</pre></blockquote>



<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Applying-git-patches" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Applying git patches&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Starting-with-git" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Starting with git&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Git-on-Windows"></a>
<h2 class="section">1.5 Git on Windows</h2>


<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Git on Windows&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.1 Background to nomenclature</h3>

<p>Git is a system for tracking the changes made to source files by
a distributed set of editors.  It is designed to work without a
master repository, but we have chosen to have a master respository
for LilyPond files.  Editors hold local copies of the master
repository together with any changes they have made locally.  Local
changes are held in a local &lsquo;branch&rsquo;, of which there may be
several, but these instructions assume you are using just one.  The
files visible in the local repository always correspond to those
on the currently &lsquo;checked out&rsquo; local branch.
</p>
<p>Files are edited on a local branch, and in that state the
changes are said to be &lsquo;unstaged&rsquo;.  When editing is complete, the
changes are moved to being &lsquo;staged for commit&rsquo;, and finally the
changes are &lsquo;committed&rsquo; to the local branch.  Once
committed, the changes are given a unique reference number called the
&lsquo;Committish&rsquo; which identifies them to Git.  Such committed changes
can be sent to the master repository by &lsquo;pushing&rsquo; them (if you
have write permission) or by sending them by email to someone who
has, either complete or as a &lsquo;diff&rsquo; or &lsquo;patch&rsquo; (which send
just the differences from master).
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.2 Installing git</h3>

<p>Obtain Git from
<a href="http://code.google.com/p/msysgit/downloads/list">http://code.google.com/p/msysgit/downloads/list</a>
(note, not msysGit, which is for Git developers and not PortableGit,
which is not a full git installation) and
install it.
</p>
<p>Note that most users will not need to install SSH.  That is not
required until you have been granted direct push permissions to
the master git repository.
</p>
<p>Start Git by clicking on the desktop icon.
This will bring up a command line bash shell.  This may be
unfamiliar to Windows users.  If so, follow these
instructions carefully.  Commands are entered at a $ prompt
and are terminated by keying a newline.
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.3 Initialising Git</h3>

<p>Decide where you wish to place your local Git repository,
creating the folders in Windows as necessary.  Here we
call the folder to contain the repository [path]/Git.
You will need to have space for around 150Mbytes.
</p>
<p>Start the Git bash shell by clicking on the desk-top icon installed
with Git and type
</p>
<blockquote><pre class="example">cd [path]/Git
</pre></blockquote>

<p>to position the shell at your new Git repository.
</p>
<p>Note: if [path] contains folders with names containing
spaces use
</p>
<blockquote><pre class="example">cd &quot;[path]/Git&quot;
</pre></blockquote>

<p>Then type
</p>
<blockquote><pre class="example">git init
</pre></blockquote>

<p>to initialize your Git repository.
</p>
<p>Then type (all on one line; the shell will wrap automatically)
</p>
<blockquote><pre class="example">git remote add -f -t master origin git://git.sv.gnu.org/lilypond.git
</pre></blockquote>

<p>to download the lilypond master files.
</p>
<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> Be patient!  Even on a broadband connection this can take
10 minutes or more.  Wait for lots of [new tag] messages
and the $ prompt.
</p></td></tr></table>

<p>We now need to generate a local copy of the downloaded files
in a new local branch.  Your local branch needs to have a
name, here we call it &lsquo;lily-local&rsquo; - you may wish to make up
your own.
</p>
<p>Then, finally, type
</p>
<blockquote><pre class="example">git checkout -b lily-local origin/master
</pre></blockquote>

<p>to create the lily-local branch containing the local copies of the
master files.  You will be advised your local branch has been set
up to track the remote branch.
</p>
<p>Return to Windows Explorer and look in your Git repository.  You
should see lots of folders.  For example, the LilyPond documentation
can be found in Git/Documentation/user.
</p>
<p>Terminate the Git bash shell by typing <code>exit</code>.
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.4 Git GUI</h3>

<p>Almost all subsequent work will use the Git Graphical User
Interface, which avoids having to type command line
commands. To start Git GUI first start the Git bash shell by
clicking on the desktop icon, and type
</p>
<blockquote><pre class="example">cd [path]/Git
git gui
</pre></blockquote>

<p>The Git GUI will open in a new window.  It contains four panels
and 7 pull-down menus.  At this stage do not use any of the
commands under Branch, Commit, Merge or Remote.  These will
be explained later.
</p>
<p>The two panels on the left contain the names of files which
you are in the process of editing (Unstaged Changes), and
files you have finished editing and have staged ready for
committing (Staged Changes).  At this stage these panels will
be empty as you have not yet made any changes to any file.
After a file has been edited and saved the top panel on the right
will display the differences between the edited file selected
in one of the panels on the left and the last version committed.
</p>
<p>The final panel at bottom right is used to enter a descriptive
message about the change before committing it.
</p>
<p>The Git GUI is terminated by entering CNTL-Q while it is the
active window or by clicking on the usual Windows close-window
widget.
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.5 Personalising your local git repository</h3>

<p>Open the Git GUI, click on
</p>
<blockquote><pre class="example">Edit -&gt; Options
</pre></blockquote>

<p>and enter your name and email address in the
left-hand (Git Repository) panel.  Leave everything
else unchanged and save it.
</p>
<p>Note that Windows users must leave the default setting for line
endings unchanged.  All files in a git repository must have lines
terminated by just a LF, as this is required for Merge to work, but
Windows files are terminated by CRLF by default.  The git default
setting causes the line endings of files in a Windows git repository
to be flipped automatically between LF and CRLF as required.  This
enables files to be edited by any Windows editor without causing
problems in the git repository.
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.6 Checking out a branch</h3>

<p>At this stage you have two branches in your local repository,
both identical.  To see them click on
</p>
<blockquote><pre class="example">Branch -&gt; Checkout
</pre></blockquote>

<p>You should have one local branch called lily-local and one
tracking branch called origin/master.  The latter is your
local copy of the remote/origin/master branch in the master
LilyPond repository.  The lily-local branch is where you
will make your local changes.
</p>
<p>When a particular branch is selected, i.e., checked out, the
files visible in your repository are changed to reflect the
state of the files on that branch.
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.7 Updating files from remote/origin/master</h3>

<p>Before starting the editing of a file, ensure your local branches
contain the latest version in remote/origin/master by first
clicking
</p>
<blockquote><pre class="example">Remote -&gt; Fetch from -&gt; origin
</pre></blockquote>

<p>in the Git GUI.
</p>
<p>This will place the latest version of every file, including all the
changes made by others,
into the &lsquo;origin/master&rsquo; branch of the tracking branches
in your git repository.  You can see these files by checking
out this branch.  This will not affect any files you have
modified in your local branch.
</p>
<p>You then need to merge these fetched files into your local
branch by clicking on
</p>
<blockquote><pre class="example">Merge -&gt; Local Merge
</pre></blockquote>

<p>and if necessary select the local branch into which the merge
is to be made.
</p>
<p>Note that a merge cannot be completed if there are any local
uncommitted changes on the lily-local branch.
</p>
<p>This will update all the files in that branch to reflect the
current state of the origin/master branch.  If any of the
changes conflict with changes you have made yourself recently
you will be notified of the conflict (see below).
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.8 Editing files</h3>

<p>First ensure your lily-local branch is checked out, then
simply edit the files in your local Git repository with your
favourite editor and save them back there.  If any file contains
non-ASCII characters ensure you save it in UTF-8 format.  Git will
detect any changes whenever you restart Git GUI and the file names
will then be listed in the Unstaged Changes panel.
Or you can click the Rescan button to refresh the panel
contents at any time.  You may break off and resume at
editing any time.
</p>
<p>The changes you have made may be displayed in diff form
in the top right-hand panel by clicking on the name in
Git GUI.
</p>
<p>When your editing is complete, move the files from being
Unstaged to Staged by clicking the document symbol to
the left of each name.  If you change your mind it can
be moved back by clicking on the ticked box to the
left of the name.
</p>
<p>Finally the changes you have made may be committed to
your lily-local branch by entering a brief message in
the Commit Message box and clicking the Commit button.
</p>
<p>If you wish to amend your changes after a commit has been
made, the original version and the changes you made in that
commit may be recovered by selecting
</p>
<blockquote><pre class="example">Commit -&gt; Amend Last Commit
</pre></blockquote>

<p>or by checking the Amend Last Commit radio button at bottom left.
This will return the changes to the Staged state, so further
editing made be carried out within that commit.  This must only be
done <em>before</em> the changes have been Pushed or sent to your
mentor for Pushing - after that it is too late and corrections
have to be made as a separate commit.
</p>

<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.9 Sending changes to remote/origin/master</h3>

<p>If you do not have write access to remote/origin/master you will
need to send your changes by email to someone who does.
</p>
<p>First you need to create a diff or patch file containing
your changes.  To create this, the file must first be
committed.  Then terminate the Git GUI.  In the
git bash shell first cd to your Git repository with
</p>
<blockquote><pre class="example">cd [path]/Git
</pre></blockquote>

<p>if necessary, then produce the patch with
</p>
<blockquote><pre class="example">git format-patch origin
</pre></blockquote>

<p>This will create a patch file for all the locally committed files
which differ from origin/master.  The patch file can be found
in [path]/Git and will have a name formed from n and the commit
message.
</p>
<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Git-on-Windows" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.10 Resolving merge conflicts</h3>

<p>As soon as you have committed a changed file your local
branch has diverged from origin/master, and will
remain diverged until your changes have been committed
in remote/origin/master and Fetched back into your
origin/master.  Similarly, if a new commit has been made
to remote/origin/master by someone else and Fetched, your
lily-local branch is divergent.  You can detect a divergent
branch by clicking on
</p>
<blockquote><pre class="example">Repository -&gt; Visualise all branch history
</pre></blockquote>

<p>This opens up a very useful new window called &lsquo;gitk&rsquo;.
Use this to browse all the commits made by others.
</p>
<p>If the diagram at top left of the resulting window
does not show your branch&rsquo;s tag on the same node as
the remote/origins/master tag your branch has diverged from
origin/master.  This is quite normal if files you have modified
yourself have not yet been Pushed to remote/origin/master and
Fetched, or if files modified and committed by others have been
Fetched since you last Merged origin/master into your lily-local
branch.
</p>
<p>If a file being merged from origin/master differs from
one you have modified in a way that cannot be resolved
automatically by git, Merge will report a Conflict
which you must resolve by editing the file to create the
version you wish to keep.
</p>
<p>This could happen if the person updating remote/origin/master
for you has added some changes of his own before
committing your changes to remote/origin/master, or if someone
else has changed the same file since you last
fetched the file from remote/origin/master.
</p>
<p>Open the file in your editor and look for sections which
are delimited with ...
</p>
<p>[to be completed when I next have a merge conflict to be
sure I give the right instructions  -td]
</p>

<hr size="6">
<a name="Git-on-Windows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Compiling-LilyPond" title="Next chapter">&nbsp;Compiling LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Git-on-Windows" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Git on Windows&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Compiling-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Compiling LilyPond &gt; </a>]</td></tr></table>
<h3 class="subsection">1.5.11 Other actions</h3>

<p>The instructions above describe the simplest way of using
git on Windows.  Other git facilities which may usefully
supplement these include
</p>
<ul>
<li> Using multiple local branches (Create, Rename, Delete)
</li><li> Resetting branches
</li><li> Cherry-picking commits
</li><li> Pushing commits to remote/origin/master
</li><li> Using gitk to review history

</li></ul>

<p>Once familiarity with using git on Windows has been gained the
standard git manuals can be used to learn about these.
</p>
<hr size="6">
<a name="Compiling-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Starting-with-git" title="Beginning of this chapter or previous chapter"> &lt;&lt; Starting with git&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Documentation-work" title="Next chapter">&nbsp;Documentation work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Git-on-Windows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Compiling-from-source" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Compiling from source &gt; </a>]</td></tr></table>
<a name="Compiling-LilyPond"></a>
<h1 class="chapter">2. Compiling LilyPond</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Compiling-from-source" accesskey="1">2.1 Compiling from source</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Concurrent-Stable-and-Development-Versions" accesskey="2">2.2 Concurrent Stable and Development Versions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>

<hr size="6">
<a name="Compiling-from-source"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Compiling-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Compiling LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Documentation-work" title="Next chapter">&nbsp;Documentation work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Compiling-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Compiling LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Concurrent-Stable-and-Development-Versions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Concurrent Stable and Development Versions &gt; </a>]</td></tr></table>
<a name="Compiling-from-source"></a>
<h2 class="section">2.1 Compiling from source</h2>

<p>TODO  (see AU 1 for now)
</p>

<hr size="6">
<a name="Concurrent-Stable-and-Development-Versions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Compiling-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Compiling LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Documentation-work" title="Next chapter">&nbsp;Documentation work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Compiling-from-source" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Compiling from source&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Documentation-work" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Documentation work &gt; </a>]</td></tr></table>
<a name="Concurrent-Stable-and-Development-Versions"></a>
<h2 class="section">2.2 Concurrent Stable and Development Versions</h2>

<p>It can be useful to have both the stable and the development versions
of Lilypond available at once. One way to do this on GNU/Linux is to
install the stable version using the precompiled binary, and run the
development version from the source tree. After running <code>make
all</code> from the top directory of the Lilypond source files, there will
be a binary called <code>lilypond</code> in the <code>out</code> directory:
</p>
<blockquote><pre class="example">&lt;<var>path to</var>&gt;/lilypond/out/bin/lilypond
</pre></blockquote>

<p>This binary can be run without actually doing the <code>make
install</code> command. The advantage to this is that you can have all
of the latest changes available after pulling from git and running
<code>make all</code>, without having to uninstall the old version and
reinstall the new.
</p>
<p>So, to use the stable version, install it as usual and use the
normal commands:
</p>
<blockquote><pre class="example">lilypond foobar.ly
</pre></blockquote>

<p>To use the development version, create a link to the binary in the
source tree by saving the following line in a file somewhere in your
PATH:
</p>
<blockquote><pre class="example">exec &lt;<var>path to</var>&gt;/lilypond/out/bin/lilypond &quot;$@&quot;
</pre></blockquote>

<p>Save it as <code>Lilypond</code> (with a capital L to distinguish it
from the stable <code>lilypond</code>), and make it executable:
</p>
<blockquote><pre class="example">chmod +x Lilypond
</pre></blockquote>

<p>Then you can invoke the development version this way:
</p>
<blockquote><pre class="example">Lilypond foobar.ly
</pre></blockquote>


<p>TODO: ADD
</p>
<p>- how to build with debug info
</p>
<p>- other compilation tricks for developers
</p>
<hr size="6">
<a name="Documentation-work"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Compiling-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Compiling LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Concurrent-Stable-and-Development-Versions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Concurrent Stable and Development Versions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Introduction-to-documentation-work" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Introduction to documentation work &gt; </a>]</td></tr></table>
<a name="Documentation-work"></a>
<h1 class="chapter">3. Documentation work</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction-to-documentation-work" accesskey="1">3.1 Introduction to documentation work</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation-suggestions" accesskey="2">3.2 Documentation suggestions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Texinfo-introduction-and-usage-policy" accesskey="3">3.3 Texinfo introduction and usage policy</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation-policy" accesskey="4">3.4 Documentation policy</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Tips-for-writing-docs" accesskey="5">3.5 Tips for writing docs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Updating-docs-with-convert_002dly" accesskey="6">3.6 Updating doc with <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Translating-the-documentation" accesskey="7">3.7 Translating the documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Introduction-to-documentation-work"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Documentation-work" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Documentation-suggestions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Documentation suggestions &gt; </a>]</td></tr></table>
<a name="Introduction-to-documentation-work"></a>
<h2 class="section">3.1 Introduction to documentation work</h2>

<p>Our documentation tries to adhere to our <a href="#Documentation-policy">Documentation policy</a>.  This policy contains a few items which may seem odd.
One policy in particular is often questioned by potential
contributors: we do not repeat material in the Notation Reference,
and instead provide links to the &ldquo;definitive&rdquo; presentation of
that information.  Some people point out, with good reason, that
this makes the documentation harder to read.  If we repeated
certain information in relevant places, readers would be less
likely to miss that information.
</p>
<p>That reasoning is sound, but we have two counter-arguments.
First, the Notation Reference &ndash; one of <em>five</em> manuals for
users to read &ndash; is already over 500 pages long.  If we repeated
material, we could easily exceed 1000 pages!  Second, and much
more importantly, LilyPond is an evolving project.  New features
are added, bugs are fixed, and bugs are discovered and documented.
If features are discussed in multiple places, the documentation
team must find every instance.  Since the manual is so large, it
is impossible for one person to have the location of every piece
of information memorized, so any attempt to update the
documentation will invariably omit a few places.  This second
concern is not at all theoretical; the documentation used to be
plagued with inconsistent information.
</p>
<p>If the documentation were targeted for a specific version &ndash; say,
LilyPond 2.10.5 &ndash; and we had unlimited resources to spend on
documentation, then we could avoid this second problem.  But since
LilyPond evolves (and that is a very good thing!), and since we
have quite limited resources, this policy remains in place.
</p>
<p>A few other policies (such as not permitting the use of tweaks in
the main portion of NR 1+2) may also seem counter-intuitive, but
they also stem from attempting to find the most effective use of
limited documentation help.
</p>

<hr size="6">
<a name="Documentation-suggestions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Introduction-to-documentation-work" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Introduction to documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Texinfo-introduction-and-usage-policy" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Texinfo introduction and usage policy &gt; </a>]</td></tr></table>
<a name="Documentation-suggestions"></a>
<h2 class="section">3.2 Documentation suggestions</h2>

<a name="Small-additions"></a>
<h3 class="subheading">Small additions</h3>

<p>For additions to the documentation,
</p>
<ol>
<li>
Tell us where the addition should be placed. Please include both
the section number and title (i.e. &quot;LM 2.13 Printing lyrics&quot;).

</li><li>
Please write exact changes to the text.

</li><li>
A formal patch to the source code is <em>not</em> required; we can
take care of the technical details. Here is an example of a
perfect documentation report:

<pre class="verbatim">To: lilypond-devel@gnu.org
From: helpful-user@example.net
Subject: doc addition

In LM 2.13 (printing lyrics), above the last line (&quot;More options,
like...&quot;), please add:

----
To add lyrics to a divided part, use blah blah blah.  For example,

\score {
  \notes {blah &lt;&lt;blah&gt;&gt; }
  \lyrics {blah &lt;&lt;blah&gt;&gt; }
  blah blah blah
}
----

In addition, the second sentence of the first paragraph is
confusing.  Please delete that sentence (it begins &quot;Users
often...&quot;) and replace it with this:
----
To align lyrics with something, do this thing.
----

Have a nice day,
Helpful User
</pre>
</li></ol>


<a name="Larger-contributions"></a>
<h3 class="subheading">Larger contributions</h3>

<p>To replace large sections of the documentation, the guidelines are
stricter. We cannot remove parts of the current documentation
unless we are certain that the new version is an improvement.
</p>
<ol>
<li>
Ask on the lilypond-devel maillist if such a rewrite is necessary;
somebody else might already be working on this issue!

</li><li>
Split your work into small sections; this makes it much easier to
compare the new and old documentation.

</li><li>
Please prepare a formal git patch.

</li></ol>

<p>Once you have followed these guidelines, please send a message to
lilypond-devel with your documentation submissions. Unfortunately
there is a strict no top-posting check on the mailist; to avoid
this, add:
</p>
<p>&gt; I&rsquo;m not top posting.
</p>
<p>(you must include the &gt; ) to the top of your documentation
addition.
</p>
<p>We may edit your suggestion for spelling, grammar, or style, and
we may not place the material exactly where you suggested, but if
you give us some material to work with, we can improve the manual
much faster.  Thanks for your interest!
</p>

<hr size="6">
<a name="Texinfo-introduction-and-usage-policy"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Documentation-suggestions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Documentation suggestions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Texinfo-introduction" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Texinfo introduction &gt; </a>]</td></tr></table>
<a name="Texinfo-introduction-and-usage-policy"></a>
<h2 class="section">3.3 Texinfo introduction and usage policy</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Texinfo-introduction" accesskey="1">3.3.1 Texinfo introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation-files" accesskey="2">3.3.2 Documentation files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Sectioning-commands" accesskey="3">3.3.3 Sectioning commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#LilyPond-formatting" accesskey="4">3.3.4 LilyPond formatting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Text-formatting" accesskey="5">3.3.5 Text formatting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Syntax-survey" accesskey="6">3.3.6 Syntax survey</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Other-text-concerns" accesskey="7">3.3.7 Other text concerns</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Texinfo-introduction"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Texinfo-introduction-and-usage-policy" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Texinfo-introduction-and-usage-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Documentation-files" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Documentation files &gt; </a>]</td></tr></table>
<a name="Texinfo-introduction"></a>
<h3 class="subsection">3.3.1 Texinfo introduction</h3>

<p>The language is called Texinfo; you can see its manual here:
</p>
<p><a href="http://www.gnu.org/software/texinfo/manual/texinfo/">http://www.gnu.org/software/texinfo/manual/texinfo/</a>
</p>
<p>However, you don&rsquo;t need to read those docs.  The most important
thing to notice is that text is text.  If you see a mistake in the
text, you can fix it.  If you want to change the order of
something, you can cut-and-paste that stuff into a new location.
</p>
<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> Rule of thumb: follow the examples in the existing docs.
You can learn most of what you need to know from this; if you want
to do anything fancy, discuss it on <code>lilypond-devel</code> first.
</p></td></tr></table>


<hr size="6">
<a name="Documentation-files"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Texinfo-introduction" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Texinfo introduction&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Texinfo-introduction-and-usage-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Sectioning-commands" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Sectioning commands &gt; </a>]</td></tr></table>
<a name="Documentation-files"></a>
<h3 class="subsection">3.3.2 Documentation files</h3>

<p>The user manuals lives in &lsquo;<tt>Documentation/user/</tt>&rsquo;.  In
particular, the files &lsquo;<tt>lilypond-learning.ly</tt>&rsquo; (LM),
&lsquo;<tt>lilypond.itely</tt>&rsquo; (NR), &lsquo;<tt>music-glossary.tely</tt>&rsquo; (MG), and
&lsquo;<tt>lilypond-program</tt>&rsquo; (AU).  Each chapter is written in a
separate file (ending in &lsquo;<tt>.itely</tt>&rsquo; for files containing
lilypond code, and &lsquo;<tt>.itexi</tt>&rsquo; for files without lilypond code);
see the &ldquo;main&rdquo; file for each manual to determine the filename
of the specific chapter you wish to modify.
</p>
<p>Developer manuals live in &lsquo;<tt>Documentation/devel</tt>&rsquo;.  Currently
there is only one; &lsquo;<tt>contrib-guide.texi</tt>&rsquo;.
</p>
<p>Although snippets are part of documentation, they are not
(directly) part of the manuals.  For information about how to
modify them, see <a href="#LSR-work">LSR work</a>.
</p>

<hr size="6">
<a name="Sectioning-commands"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Documentation-files" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Documentation files&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Texinfo-introduction-and-usage-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-formatting" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LilyPond formatting &gt; </a>]</td></tr></table>
<a name="Sectioning-commands"></a>
<h3 class="subsection">3.3.3 Sectioning commands</h3>

<p>Most of the manual operates at the
</p>
<blockquote><pre class="example">@node Foo
@subsubsection Foo
</pre></blockquote>

<p>level.  Sections are created with
</p>
<blockquote><pre class="example">@node Foo
@subsection Foo
</pre></blockquote>

<ul>
<li>
Please leave two blank lines above a @node; this makes it
easier to find sections in texinfo.

</li><li>
Sectioning commands (@node and @section) must not appear
inside an @ignore.  Separate those commands with a space, ie @n
ode.

</li></ul>


<hr size="6">
<a name="LilyPond-formatting"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Sectioning-commands" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Sectioning commands&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Texinfo-introduction-and-usage-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Text-formatting" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Text formatting &gt; </a>]</td></tr></table>
<a name="LilyPond-formatting"></a>
<h3 class="subsection">3.3.4 LilyPond formatting</h3>

<ul>
<li>
Use two spaces for indentation in lilypond examples.  (no
tabs)

</li><li>
All text strings should be prefaced with #.  LilyPond does
not strictly require this, but it is helpful to get users
accustomed to this scheme construct.  ie <code>\set
Staff.instrumentName = #&quot;cello&quot;</code>

</li><li>
All engravers should have double-quotes around them:

<blockquote><pre class="example">\consists &quot;Spans_arpeggio_engraver&quot;
</pre></blockquote>

<p>Again, LilyPond does not strictly require this, but it is a useful
standard to follow.
</p>
</li><li>
Examples should end with a complete bar if possible.

</li><li>
If possible, only write one bar per line.  The notes on each
line should be an independent line &ndash; tweaks should occur on their
own line if possible.  Bad:

<blockquote><pre class="example">\override textscript #'padding = #3 c1^&quot;hi&quot;
</pre></blockquote>

<p>Good:
</p>
<blockquote><pre class="example">\override textscript #'padding = #3
c1^&quot;hi&quot;
</pre></blockquote>

</li><li>
Most LilyPond input should be produced with:

<blockquote><pre class="example">@lilypond[verbatim,quote,relative=2]
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">@lilypond[verbatim,quote,relative=1]
</pre></blockquote>

<p>If you want to use \layout{} or define variables, use
</p>
<blockquote><pre class="example">@lilypond[verbatim,quote]
</pre></blockquote>

<p>In rare cases, other options may be used (or omitted), but ask first.
</p>
</li><li>
Inspirational headwords are produced with

<blockquote><pre class="example">@lilypondfile[quote,ragged-right,line-width=16\cm,staffsize=16]
{pitches-headword.ly}
</pre></blockquote>

</li><li>
LSR snippets are linked with

<blockquote><pre class="example">@lilypondfile[verbatim,lilyquote,ragged-right,texidoc,doctitle]
{filename.ly}
</pre></blockquote>

<p>excepted in Templates, where &lsquo;doctitle&rsquo; may be omitted.
</p>
</li><li>
Avoid long stretches of input code.  Noone is going to read
them in print.  Please create a smaller example.  (the smaller
example does not need to be minimal, however)

</li><li>
Specify durations for at least the first note of every bar.

</li><li>
If possible, end with a complete bar.

</li><li>
Comments should go on their own line, and be placed before
the line(s) to which they refer.

</li><li>
Add extra spaces around { } marks; ie

<blockquote><pre class="example">not:          \chordmode {c e g}
but instead:  \chordmode { c e g }
</pre></blockquote>

</li><li>
If you only have one bar per line, omit bar checks.  If you
put more than one bar per line (not recommended), then include bar
checks.

</li><li>
If you want to work on an example outside of the manual (for
easier/faster processing), use this header:

<blockquote><pre class="example">\paper {
  #(define dump-extents #t)
  indent = 0\mm
  line-width = 160\mm - 2.0 * 0.4\in
  ragged-right = ##t
  force-assignment = #&quot;&quot;
  line-width = #(- line-width (* mm  3.000000))
}

\layout {
}
</pre></blockquote>

<p>You may not change any of these values.  If you are making an
example demonstrating special \paper{} values, contact the
Documentation Editor.
</p>
</li></ul>


<hr size="6">
<a name="Text-formatting"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-formatting" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; LilyPond formatting&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Texinfo-introduction-and-usage-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Syntax-survey" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Syntax survey &gt; </a>]</td></tr></table>
<a name="Text-formatting"></a>
<h3 class="subsection">3.3.5 Text formatting</h3>

<ul>
<li>
Lines should be less than 72 characters long.  (I personally
recommend writing with 66-char lines, but don&rsquo;t bother modifying
existing material.)

</li><li>
Do not use tabs.

</li><li>
Do not use spaces at the beginning of a line (except in
@example or @verbatim environments), and do not use more than a
single space between words.  &lsquo;makeinfo&rsquo; copies the input lines
verbatim without removing those spaces.

</li><li>
Use two spaces after a period.

</li><li>
In examples of syntax, use @var{musicexpr} for a music
expression.

</li><li>
Don&rsquo;t use @rinternals{} in the main text.  If you&rsquo;re
tempted to do so, you&rsquo;re probably getting too close to &quot;talking
through the code&quot;.  If you really want to refer to a context, use
@code{} in the main text and @rinternals{} in the @seealso.

</li><li>
Variables or numbers which consist of a single character
(probably followed by a punctuation mark) should be tied properly,
either to the previous or the next word.  Example:

<blockquote><pre class="example">The variable@tie{}@var{a} ...
</pre></blockquote>

</li><li>
To get consistent indentation in the DVI output it is better
to avoid the @verbatim environment.  Use the @example
environment instead if possible, but without extraneous
indentation.  For example, this

<blockquote><pre class="example">@example
  foo {
    bar
  }
@end example
</pre></blockquote>

<p>should be replaced with
</p>
<blockquote><pre class="example">@example
foo {
  bar
}
@end example
</pre></blockquote>

<p>where &lsquo;@example&rsquo; starts the line (without leading spaces).
</p>
</li><li>
Do not compress the input vertically; this is, do not use

<blockquote><pre class="example">    Beginning of logical unit
    @example
    ...
    @end example
    continuation of logical unit
</pre></blockquote>

<p>but instead do
</p>
<blockquote><pre class="example">Beginning of logical unit

@example
...
@end example

@noindent
continuation of logical unit
</pre></blockquote>

<p>This makes it easier to avoid forgetting the &lsquo;@noindent&rsquo;.  Only
use @noindent if the material is discussing the same material;
new material should simply begin without anything special on the
line above it.
</p>
</li><li>
in @itemize use @item
on a separate line like this:

<blockquote><pre class="example">@itemize
@item
Foo

@item
Bar
</pre></blockquote>

<p>Do not use @itemize @bullet.
</p>
</li><li>
To get LilyPond version, use @version{} (this does not work
inside LilyPond snippets).  If you write &quot;@version{}&quot; (enclosed
with quotes), or generally if @version{} is not followed by a
space, tere will be an ugly line break in PDF output unless you
enclose it with

<blockquote><pre class="example">@w{ ... }

  e.g.

@w{&quot;@version{}&quot;}
</pre></blockquote>

</li></ul>


<hr size="6">
<a name="Syntax-survey"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Text-formatting" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Text formatting&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Texinfo-introduction-and-usage-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Other-text-concerns" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Other text concerns &gt; </a>]</td></tr></table>
<a name="Syntax-survey"></a>
<h3 class="subsection">3.3.6 Syntax survey</h3>

<ul>
<li>
@c - single line comments
  &quot;@c NOTE:&quot; is a comment which should remain in the final
  version.  (gp only command ;)
</li><li>
@ignore ... @end ignore - multi-line comment

</li><li>
@cindex - General index. Please add as many as you can.  Don&rsquo;t
  capitalize the first word.
</li><li>
@funindex - is for a \lilycommand.

</li><li>
@example ... @end ignore - example text that should be set as a
  blockquote.  Any {} must be escaped with @{ }@
</li><li>
@itemize @item
A @item
B ... @end itemize - for bulleted lists.
  Do not compress vertically like this.

</li><li>
@code{} - typeset in a tt-font. Use for actual lilypond code or
  property/context names.  If the name contains a space, wrap
  the entire thing inside @w{@code{  }}.
</li><li>
@notation{} - refers to pieces of notation, e.g.
  &quot;@notation{cres.}&quot;.  Also use to specific lyrics (&quot;the
  @notation{A - men} is centered&quot;).  Only use once per subsection
  per term.
</li><li>
@q{} - Single quotes. Used for &lsquo;vague&rsquo; terms.
</li><li>
@qq{} - Double quotes.  Used for actual quotes (&quot;he said&quot;) or for
  introducing special input modes.

</li><li>
@tie{} - Variables or numbers which consist of a single character
  (probably followed by a punctuation mark) should be tied
  properly, either to the previous or the next word.  Example:
    &quot;The letter@tie{}@q{I} is skipped&quot;

</li><li>
@var - Use for variables.
</li><li>
@warning{} - produces a &quot;Note: &quot; box. Use for important messages.

</li><li>
@bs - Generates a backslash inside @warning.
    Any &lsquo;\&rsquo; used inside @warning (and @q or @qq) must be written as &lsquo;@bs{}&rsquo;
    (texinfo would also allow \\, but this breaks with PDF output).

</li><li>
@ref{} - normal references (type the exact node name inside the
{}).
</li><li>
@ruser{} - link to the NR.
</li><li>
@rlearning{} - link to the LM.
</li><li>
@rglos{} - link to the MG.
</li><li>
@rprogram{} - link to the AU.
</li><li>
@rlsr{} - link to a Snippet section.
</li><li>
@rinternals{} - link to the IR.
</li><li>
@uref{} - link to an external url.

</li></ul>



<hr size="6">
<a name="Other-text-concerns"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Syntax-survey" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Syntax survey&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Texinfo-introduction-and-usage-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Texinfo introduction and usage policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Documentation-policy" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Documentation policy &gt; </a>]</td></tr></table>
<a name="Other-text-concerns"></a>
<h3 class="subsection">3.3.7 Other text concerns</h3>

<ul>
<li>
References must occur at the end of a sentence, for more
information see @ref{the texinfo manual}.  Ideally this should
also be the final sentence of a paragraph, but this is not
required.  Any link in a doc section must be duplicated in the
@seealso section at the bottom.

</li><li>
Introducing examples must be done with

<blockquote><pre class="example">     . (ie finish the previous sentence/paragaph)
     : (ie `in this example:')
     , (ie `may add foo with the blah construct,')
</pre></blockquote>

<p>The old &quot;sentence runs directly into the example&quot; method is not
allowed any more.
</p>
</li><li>
Abbrevs in caps, e.g., HTML, DVI, MIDI, etc.

</li><li>
Colon usage

<ol>
<li>
To introduce lists

</li><li>
When beginning a quote: &quot;So, he said,...&quot;.

<p>This usage is rarer.  Americans often just use a comma.
</p>
</li><li>
When adding a defining example at the end of a sentence.

</li></ol>

</li><li>
Non-ASCII characters which are in utf-8 should be directly used;
this is, don&rsquo;t say &lsquo;Ba@ss{}tuba&rsquo; but &lsquo;Batuba&rsquo;.  This ensures
that all such characters appear in all output formats.

</li></ul>




<hr size="6">
<a name="Documentation-policy"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Other-text-concerns" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Other text concerns&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Books" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Books &gt; </a>]</td></tr></table>
<a name="Documentation-policy"></a>
<h2 class="section">3.4 Documentation policy</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Books" accesskey="1">3.4.1 Books</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Section-organization" accesskey="2">3.4.2 Section organization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Checking-cross_002dreferences" accesskey="3">3.4.3 Checking cross-references</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#General-writing" accesskey="4">3.4.4 General writing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Technical-writing-style" accesskey="5">3.4.5 Technical writing style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Books"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Documentation-policy" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Documentation policy&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Section-organization" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Section organization &gt; </a>]</td></tr></table>
<a name="Books"></a>
<h3 class="subsection">3.4.1 Books</h3>

<p>There are four parts to the documentation: the Learning Manual,
the Notation Reference, the Program Reference, and the Music
Glossary.
</p>
<ul>
<li>
Learning Manual:

<p>The LM is written in a tutorial style which introduces the most
important concepts, structure and syntax of the elements of a
LilyPond score in a carefully graded sequence of steps.
Explanations of all musical concepts used in the Manual can be
found in the Music Glossary, and readers are assumed to have no
prior knowledge of LilyPond.  The objective is to take readers to
a level where the Notation Reference can be understood and
employed to both adapt the templates in the Appendix to their
needs and to begin to construct their own scores.  Commonly used
tweaks are introduced and explained.  Examples are provided
throughout which, while being focussed on the topic being
introduced, are long enough to seem real in order to retain the
readers&rsquo; interest.  Each example builds on the previous material,
and comments are used liberally.  Every new aspect is thoroughly
explained before it is used.
</p>
<p>Users are encouraged to read the complete Learning Manual from
start-to-finish.
</p>

</li><li>
Notation Reference: a (hopefully complete) description of LilyPond
input notation.  Some material from here may be duplicated in the
Learning Manual (for teaching), but consider the NR to be the
&quot;definitive&quot; description of each notation element, with the LM
being an &quot;extra&quot;.  The goal is _not_ to provide a step-by-step
learning environment &ndash; do not avoid using notation that has not
be introduced previously in the NR  (for example, use \break if
appropriate).  This section is written in formal technical writing
style.

<p>Avoid duplication.  Although users are not expected to read this
manual from start to finish, they should be familiar with the
material in the Learning Manual (particularly &ldquo;Fundamental
Concepts&rdquo;), so do not repeat that material in each section of
this book.  Also watch out for common constructs, like ^ - _ for
directions &ndash; those are explained in NR 3.  In NR 1, you can
write: DYNAMICS may be manually placed above or below the staff,
see @ref{Controlling direction and placement}.
</p>
<p>Most tweaks should be added to LSR and not placed directly in the
.itely file.  In some cases, tweaks may be placed in the main
text, but ask about this first.
</p>
<p>Finally, you should assume that users know what the notation
means; explaining musical concepts happens in the Music Glossary.
</p>

</li><li>
Application Usage: information about using the program lilypond
with other programs (lilypond-book, operating systems, GUIs,
convert-ly, etc).  This section is written in formal technical
writing style.

<p>Users are not expected to read this manual from start to finish.
</p>

</li><li>
Music Glossary: information about the music notation itself.
Explanations and translations about notation terms go here.

<p>Users are not expected to read this manual from start to finish.
</p>
</li><li>
Internals Reference: not really a documentation book, since it is
automagically generated from the source, but this is its name.

</li></ul>


<hr size="6">
<a name="Section-organization"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Books" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Books&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Checking-cross_002dreferences" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Checking cross-references &gt; </a>]</td></tr></table>
<a name="Section-organization"></a>
<h3 class="subsection">3.4.2 Section organization</h3>

<ul>
<li>
The order of headings inside documentation sections should
be:

<blockquote><pre class="example">main docs
@predefined
@endpredefined
@snippets
@seealso
@knownissues
</pre></blockquote>

</li><li>
You <em>must</em> include a @seealso.

<ul>
<li>
The order of items inside the @seealso section is

<blockquote><pre class="example">Music Glossary:
@rglos{foo},
@rglos{bar}.

Learning Manual:
@rlearning{baz},
@rlearning{foozle}.

Notation Reference:
@ruser{faazle},
@ruser{boo}.

Application Usage:
@rprogram{blah}.

Installed Files:
@file{path/to/dir/blahz}.

Snippets: @rlsr{section}.

Internals Reference:
@rinternals{fazzle},
@rinternals{booar}.
</pre></blockquote>

</li><li>
If there are multiple entries, separate them by commas but do not
include an &lsquo;and&rsquo;.

</li><li>
Always end with a period.

</li><li>
Place each link on a new line as above; this makes it much easier
to add or remove links.  In the output, they appear on a single
line.

<p>(&quot;Snippets&quot; is REQUIRED; the others are optional)
</p>
</li><li>
Any new concepts or links which require an explanation should go
as a full sentence(s) in the main text.

</li><li>
Don&rsquo;t insert an empty line between @seealso and the first entry!
Otherwise there is excessive vertical space in the PDF output.

</li></ul>

</li><li>
To create links, use @ref{} if the link is within the same
manual.

</li><li>
@predefined ... @endpredefined is for commands in ly/*-init.ly
FIXME?

</li><li>
Do not include any real info in second-level sections (ie 1.1
Pitches).  A first-level section may have introductory material,
but other than that all material goes into third-level sections
(ie 1.1.1 Writing Pitches).

</li></ul>


<hr size="6">
<a name="Checking-cross_002dreferences"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Section-organization" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Section organization&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#General-writing" title="Next section in reading order" accesskey="n" rel="next">&nbsp;General writing &gt; </a>]</td></tr></table>
<a name="Checking-cross_002dreferences"></a>
<h3 class="subsection">3.4.3 Checking cross-references</h3>

<p>Cross-references between different manuals are heavily used in the
documentation, but they are not checked during compilation.
However, if you compile the documentation, a script called
check_texi_refs can help you with checking and fixing these
cross-references; for information on usage, cd into a source tree
where documentation has been built, cd into Documentation and look
for check-xrefs and fix-xrefs targets in &rsquo;make help&rsquo; output.  Note
that you have to find yourself the source files to fix
cross-references in the generated documentation such as the
Internals Reference; e.g. you can grep scm/ and lily/.
</p>

<hr size="6">
<a name="General-writing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Checking-cross_002dreferences" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Checking cross-references&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Technical-writing-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Technical writing style &gt; </a>]</td></tr></table>
<a name="General-writing"></a>
<h3 class="subsection">3.4.4 General writing</h3>

<ul>
<li>
Do not forget to create @cindex entries for new sections of text.
Enter commands with @funindex, i.e.

<blockquote><pre class="example">@cindex pitches, writing in different octaves
@funindex \relative
</pre></blockquote>

<p>do not bother with the @code{} (they are added automatically).
These items are added to both the command index and the unified
index.
</p>
<p>Both index commands should go in front of the actual material.
</p>
<p>@cindex entries should not be capitalized, ie
</p>
<blockquote><pre class="example">@cindex time signature
</pre></blockquote>

<p>is preferred instead of &ldquo;Time signature&rdquo;,   Only use capital
letters for musical terms which demand them, like D.S. al Fine.
</p>
<p>For scheme functions, only include the final part, i.e.,
</p>
<blockquote><pre class="example">@funindex modern-voice-cautionary
     and NOT
@funindex #(set-accidental-style modern-voice-cautionary)
</pre></blockquote>

</li><li>
Preferred terms:

<ul>
<li>
In general, use the American spellings.  The internal lilypond
property names use this spelling.

</li><li>
List of specific terms:

<blockquote><pre class="example">canceled
simultaneous    NOT concurrent
measure: the unit of music
bar line: the symbol delimiting a measure   NOT barline
note head   NOT notehead
chord construct   NOT chord (when referring to &lt;&gt;)
</pre></blockquote>

</li></ul>

</li></ul>


<hr size="6">
<a name="Technical-writing-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#General-writing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; General writing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-policy" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation policy&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tips-for-writing-docs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tips for writing docs &gt; </a>]</td></tr></table>
<a name="Technical-writing-style"></a>
<h3 class="subsection">3.4.5 Technical writing style</h3>

<p>These refer to the NR.  The LM uses a more gentle, colloquial
style.
</p>
<ul>
<li>
Do not refer to LilyPond in the text.  The reader knows what the
manual is about.  If you do, capitalization is LilyPond.

</li><li>
If you explicitly refer to &lsquo;lilypond&rsquo; the program (or any other
command to be executed), write <code>@command{lilypond}</code>.

</li><li>
Do not explicitly refer to the reader/user.  There is no one else
besides the reader and the writer.

</li><li>
Avoid contractions (don&rsquo;t, won&rsquo;t, etc.).  Spell the words out completely.

</li><li>
Avoid abbreviations, except for commonly used abbreviations of foreign
language terms such as etc. and i.e.

</li><li>
Avoid fluff (&ldquo;Notice that,&rdquo; &ldquo;as you can see,&rdquo;
&ldquo;Currently,&rdquo;).

</li><li>
The use of the word &lsquo;illegal&rsquo; is inappropriate in most cases.
Say &lsquo;invalid&rsquo; instead.

</li></ul>


<hr size="6">
<a name="Tips-for-writing-docs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Technical-writing-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Technical writing style&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Updating-docs-with-convert_002dly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Updating docs with convert-ly &gt; </a>]</td></tr></table>
<a name="Tips-for-writing-docs"></a>
<h2 class="section">3.5 Tips for writing docs</h2>

<p>In the NR, I highly recommend focusing on one subsection at a
time.  For each subsection,
</p>
<ul>
<li>
check the mundane formatting.  Are the headings (@predefined,
@seealso, etc.) in the right order?

</li><li>
add any appropriate index entries.

</li><li>
check the links in the @seealso section &ndash; links to music
glossary, internal references, and other NR sections are the main
concern.  Check for potential additions.

</li><li>
move LSR-worthy material into LSR.  Add the snippet, delete the
material from the .itely file, and add a @lilypondfile command.

</li><li>
check the examples and descriptions.  Do they still work?
<strong>Do not</strong> assume that the existing text is
accurate/complete; some of the manual is highly out of date.

</li><li>
is the material in the @knownissues  still accurate?

</li><li>
can the examples be improved (made more explanatory), or is there
any missing info?  (feel free to ask specific questions on -user;
a couple of people claimed to be interesting in being
&ldquo;consultants&rdquo; who would help with such questions)

</li></ul>

<p>In general, I favor short text explanations with good examples &ndash;
&ldquo;an example is worth a thousand words&rdquo;.  When I worked on the
docs, I spent about half my time just working on those tiny
lilypond examples.  Making easily-understandable examples is much
harder than it looks.
</p>

<a name="Tweaks"></a>
<h4 class="subsubheading">Tweaks</h4>

<p>In general, any \set or \override commands should go in the
&ldquo;select snippets&rdquo; section, which means that they should go in
LSR and not the .itely file.  For some cases, the command
obviously belongs in the &ldquo;main text&rdquo; (i.e. not inside
@predefined or @seealso or whatever) &ndash; instrument names are a
good example of this.
</p>
<blockquote><pre class="example">\set Staff.instrumentName = #&quot;foo&quot;
</pre></blockquote>

<p>On the other side of this,
</p>
<blockquote><pre class="example">\override Score.Hairpin #'after-line-breaking = ##t
</pre></blockquote>

<p>clearly belongs in LSR.
</p>
<p>I&rsquo;m quite willing to discuss specific cases if you think that a
tweaks needs to be in the main text.  But items that can go into
LSR are easier to maintain, so I&rsquo;d like to move as much as
possible into there.
</p>

<p>It would be &ldquo;nice&rdquo; if you spent a lot of time crafting nice
tweaks for users... but my recommendation is <strong>not</strong> to do
this.  There&rsquo;s a lot of doc work to do without adding examples of
tweaks.  Tweak examples can easily be added by normal users by adding
them to the LSR.
</p>
<p>One place where a documentation writer can profitably spend time writing
or upgrading tweaks is creating tweaks to deal with known issues.  It
would be ideal if every significant known issue had a workaround to avoid
the difficulty.
</p>
<a name="See-also-2"></a>
<h4 class="subsubheading">See also</h4>

<p><a href="#Adding-and-editing-snippets">Adding and editing snippets</a>.
</p>

<hr size="6">
<a name="Updating-docs-with-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tips-for-writing-docs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tips for writing docs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translating-the-documentation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translating the documentation &gt; </a>]</td></tr></table>
<a name="Updating-docs-with-convert_002dly"></a>
<h2 class="section">3.6 Updating doc with <code>convert-ly</code></h2>

<p>cd into Documentation and run
</p>
<blockquote><pre class="example">find . -name '*.itely' | xargs convert-ly -e
</pre></blockquote>

<p>This also updates translated documentation.
</p>


<hr size="6">
<a name="Translating-the-documentation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Updating-docs-with-convert_002dly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Updating docs with convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Getting-started-with-documentation-translation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Getting started with documentation translation &gt; </a>]</td></tr></table>
<a name="Translating-the-documentation"></a>
<h2 class="section">3.7 Translating the documentation</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Getting-started-with-documentation-translation" accesskey="1">3.7.1 Getting started with documentation translation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation-translation-details" accesskey="2">3.7.2 Documentation translation details</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Documentation-translation-maintenance" accesskey="3">3.7.3 Documentation translation maintenance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Translations-management-policies" accesskey="4">3.7.4 Translations management policies</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Technical-background" accesskey="5">3.7.5 Technical background</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Translation-status" accesskey="6">3.7.6 Translation status</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Getting-started-with-documentation-translation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translating-the-documentation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translating the documentation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translating-the-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translating the documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translation-requirements" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translation requirements &gt; </a>]</td></tr></table>
<a name="Getting-started-with-documentation-translation"></a>
<h3 class="subsection">3.7.1 Getting started with documentation translation</h3>

<p>First, get the sources from the Git repository, see <a href="#Documentation-translations-source-code">Documentation translations source code</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Translation-requirements" accesskey="1">Translation requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Which-documentation-can-be-translated" accesskey="2">Which documentation can be translated</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Starting-translation-in-a-new-language" accesskey="3">Starting translation in a new language</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Translation-requirements"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Getting-started-with-documentation-translation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Getting started with documentation translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-started-with-documentation-translation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting started with documentation translation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Which-documentation-can-be-translated" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Which documentation can be translated &gt; </a>]</td></tr></table>
<a name="Translation-requirements"></a>
<h4 class="unnumberedsubsubsec">Translation requirements</h4>

<p>Working on LilyPond documentation translations requires the following
pieces of software, in order to make use of dedicated helper tools:
</p>
<ul>
<li> Python 2.4 or higher,
</li><li> GNU Make,
</li><li> Gettext.
</li></ul>

<p>It is not required to build LilyPond and the documentation to
translate the documentation.  However, if you have enough time and
motivation and a suitable system, it can be very useful to build at
least the documentation so that you can check the output yourself and
more quickly; if you are interested, see <a href="#Compiling-from-source">Compiling from source</a>.
</p>

<hr size="6">
<a name="Which-documentation-can-be-translated"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translation-requirements" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translation requirements&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-started-with-documentation-translation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting started with documentation translation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Starting-translation-in-a-new-language" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Starting translation in a new language &gt; </a>]</td></tr></table>
<a name="Which-documentation-can-be-translated"></a>
<h4 class="unnumberedsubsubsec">Which documentation can be translated</h4>

<p>The makefiles and scripts infrastructure currently supports translation
of the following documentation:
</p>
<ul>
<li> documentation index (HTML);
</li><li> user manual and program usage &ndash; Texinfo source, PDF and HTML
output; Info output might be added if there is enough demand for it;
</li><li> the News document.
</li></ul>

<p>The following pieces of documentation should be added soon, by
descending order of priority:
</p>
<ul>
<li> automatically generated documentation: markup commands,
predefined music functions;
</li><li> the Snippets List;
</li><li> the examples page;
</li><li> the Internals Reference.
</li></ul>


<hr size="6">
<a name="Starting-translation-in-a-new-language"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Which-documentation-can-be-translated" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Which documentation can be translated&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Getting-started-with-documentation-translation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Getting started with documentation translation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Documentation-translation-details" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Documentation translation details &gt; </a>]</td></tr></table>
<a name="Starting-translation-in-a-new-language"></a>
<h4 class="unnumberedsubsubsec">Starting translation in a new language</h4>

<p>At top of the source directory, do
</p>
<blockquote><pre class="example">./autogen.sh
</pre></blockquote>

<p>or (if you want to install your self-compiled LilyPond locally)
</p>
<blockquote><pre class="example">./autogen.sh --prefix=$HOME
</pre></blockquote>

<p>If you want to compile LilyPond &ndash; which is almost required to build
the documentation, but is not required to do translation only &ndash; fix
all dependencies and rerun <code>./configure</code> (with the same
options as for <code>autogen.sh</code>).
</p>
<p>Then <code>cd</code> into &lsquo;<tt>Documentation</tt>&rsquo; and run
</p>
<blockquote><pre class="example">make ISOLANG=<var>MY-LANGUAGE</var> new-lang
</pre></blockquote>

<p>where <var>MY-LANGUAGE</var> is the ISO 639 language code.
</p>
<p>Finally, add a language definition for your language in
&lsquo;<tt>python/langdefs.py</tt>&rsquo;.
</p>
<p>Before starting the real translation work, it is recommended to commit
changes you made so far to Git, so e.g. you are able to get back to
this state of the sources easily if needed; see <a href="#Sharing-your-changes">Sharing your changes</a>.
</p>

<hr size="6">
<a name="Documentation-translation-details"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Starting-translation-in-a-new-language" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Starting translation in a new language&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translating-the-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translating the documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Files-to-be-translated" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Files to be translated &gt; </a>]</td></tr></table>
<a name="Documentation-translation-details"></a>
<h3 class="subsection">3.7.2 Documentation translation details</h3>

<p>Please follow all the instructions with care to ensure quality work.
</p>
<p>All files should be encoded in UTF-8.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Files-to-be-translated" accesskey="1">Files to be translated</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Translating-the-Learning-Manual-and-other-Texinfo-documentation" accesskey="2">Translating the Learning Manual and other Texinfo documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Translating-the-Notation-Reference-and-Application-Usage" accesskey="3">Translating the Notation Reference and Application Usage</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Translating-the-Documentation-index-index_002ehtml_002ein" accesskey="4">Translating the Documentation index &lsquo;<tt>index.html.in</tt>&rsquo;</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Files-to-be-translated"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Documentation-translation-details" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Documentation translation details&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-translation-details" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation translation details&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translating-the-Learning-Manual-and-other-Texinfo-documentation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translating the Learning Manual and other Texinfo documentation &gt; </a>]</td></tr></table>
<a name="Files-to-be-translated"></a>
<h4 class="unnumberedsubsubsec">Files to be translated</h4>


<p>Translation of &lsquo;<tt>Documentation/foo/bar</tt>&rsquo; should be
&lsquo;<tt>Documentation/<var>LANG</var>/foo/bar</tt>&rsquo;.  Unmentioned files should not
be translated.
</p>
<p>Priorities:
</p><ul>
<li> 1. delivery,
</li><li> 2. 3. 4. 5. later,
</li><li> 6. optional.
</li></ul>

<p>Files marked with priority 3, 4 or 5 may be submitted individually.
Word counts (excluding LilyPond snippets) are given for each file.
</p>
<blockquote><pre class="example">-1- Documentation index and Tutorial
429   user/lilypond-learning.tely
6343  user/tutorial.itely
23    user/dedication.itely
432   user/macros.itexi
171   index.html.in
161   translations.template.html.in
6438  po/lilypond-doc.pot (translate to po/<var>MY_LANGUAGE</var>.po)
---   ../lilypond-texi2html.init (section TRANSLATIONS)
13997 total

-2- Introduction and beginning of Application Usage
411   user/preface.itely
3855  user/introduction.itely
407   user/lilypond-program.tely
193   user/install.itely (partial translation)
1149  user/setup.itely
2827  user/running.itely
8842  total

-3- Learning manual
10318 user/fundamental.itely -- Fundamental concepts
14816 user/tweaks.itely -- Tweaking output
4550  user/working.itely -- Working on LilyPond files
498   user/templates.itely -- Templates
30182 total

-4- Notation reference
724   user/lilypond.tely
91    user/notation.itely -- Musical notation
3145  user/pitches.itely
4772  user/rhythms.itely
1393  user/expressive.itely
555   user/repeats.itely
1456  user/simultaneous.itely
1708  user/staff.itely
905   user/editorial.itely
2376  user/text.itely
76    user/specialist.itely -- Specialist notation
2725  user/vocal.itely
1516  user/chords.itely
702   user/piano.itely
810   user/percussion.itely
826   user/guitar.itely
66    user/strings.itely
242   user/bagpipes.itely
4487  user/ancient.itely
6024  user/input.itely -- Input syntax
2164  user/non-music.itely -- Non-musical notation
8663  user/spacing.itely -- Spacing issues
11747 user/changing-defaults.itely -- Changing defaults
5187  user/programming-interface.itely -- Interfaces for programmers
1182  user/notation-appendices.itely -- Notation manual tables
252   user/cheatsheet.itely -- Cheat sheet
63794 total

-5- Application usage
3248  user/lilypond-book.itely -- LilyPond-book
1171  user/converters.itely -- Converting from other formats
4419  total

-6- Appendices whose translation is optional
310   user/literature.itely
960   user/scheme-tutorial.itely (needs to be revised first)
1270  total
</pre></blockquote>

<hr size="6">
<a name="Translating-the-Learning-Manual-and-other-Texinfo-documentation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Files-to-be-translated" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Files to be translated&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-translation-details" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation translation details&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translating-the-Notation-Reference-and-Application-Usage" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translating the Notation Reference and Application Usage &gt; </a>]</td></tr></table>
<a name="Translating-the-Learning-Manual-and-other-Texinfo-documentation"></a>
<h4 class="unnumberedsubsubsec">Translating the Learning Manual and other Texinfo documentation</h4>

<p>Any title which comes with one of the following commands must not be
translated directly in the Texinfo source
</p>
<blockquote><pre class="example">@node                                                   @majorheading
@chapter       @unnumbered          @appendix           @chapheading
@section       @unnumberedsec       @appendixsec        @heading
@subsection    @unnumberedsubsec    @appendixsubsec     @subheading
@subsubsection @unnumberedsubsubsec @appendixsubsubsec  @subsubheading
@ref  @rglos  @ruser  @rlearning  @rprogram  @rlsr
</pre></blockquote>

<p>The same applies to first argument of <code>@r<var>manual</var>named</code>
commands; however, the second argument <var>Bar baz</var> of
<code>@ref{<var>Foo</var>,<var>Bar baz</var>,,<var>info-file</var>}</code> and
<code>@r<var>manual</var>named{<var>Foo</var>,<var>Bar baz</var>}</code> should be
translated.
</p>
<p><code>@uref</code>&rsquo;s names are to be translated.
</p>
<p>In any section which looks like
</p>
<blockquote><pre class="example">@menu
* <var>node1</var>:: <var>thing1</var>
* <var>node2</var>:: <var>thing2</var>
...
@end menu
</pre></blockquote>

<p>the node names <var>nodeN</var> are <em>not</em> to be translated, whereas
extra title information <var>thingN</var> is.
</p>
<p>Every node name or section title must from now on be translated
separately in a &lsquo;<tt>.po</tt>&rsquo; file (just as well as LilyPond output
messages) in &lsquo;<tt>Documentation/po</tt>&rsquo;.  The Gettext domain is named
<code>lilypond-doc</code>, and unlike <code>lilypond</code> domain it is not
managed through the Free Translation Project.
</p>

<p>Take care of using typographic rules for your language, especially in
&lsquo;<tt>user/macros.itexi</tt>&rsquo;.
</p>

<p>Please keep verbatim copies of music snippets (in <code>@lilypond</code>
blocs).  However, some music snippets containing text that shows in
the rendered music, and sometimes translating this text really helps
the user to understand the documentation; in this case, and only in
this case, you may as an exception translate text in the music
snippet, and then you must add a line immediately before the
<code>@lilypond</code> block, starting with
</p>
<blockquote><pre class="example">@c KEEP LY
</pre></blockquote>

<p>Otherwise the music snippet would be reset to the same content as the
English version at next <code>make snippet-update</code> run &ndash; see
<a href="#Updating-documentation-translation">Updating documentation translation</a>.
</p>
<p>When you encounter
</p>
<blockquote><pre class="example">@lilypondfile[&lt;number of fragment options&gt;,texidoc]{<var>filename.ly</var>}
</pre></blockquote>

<p>in the source, open &lsquo;<tt>input/lsr/<var>filename</var>.ly</tt>&rsquo;, translate the
<code>texidoc</code> header field it contains, enclose it with
<code>texidoc<var>MY-LANGUAGE</var> = &quot;</code> and <code>&quot;</code>, and write it into
&lsquo;<tt>input/texidocs/<var>filename</var>.texidoc</tt>&rsquo; &ndash; please keep possibly
existing translations in other languages!  Additionnally, you may
translate the snippet&rsquo;s title in <code>doctitle</code> header field, in case
<code>doctitle</code> is a fragment option used in <code>@lilypondfile</code>;
you can do this exactly the same way as <code>texidoc</code>.  For instance,
&lsquo;<tt>input/texidocs/<var>filename</var>.texidoc</tt>&rsquo; may contain
</p>
<blockquote><pre class="example">doctitlees = &quot;Spanish title baz&quot;
texidoces = &quot;
Spanish translation blah
&quot;
doctitlede = &quot;German title bar&quot;
texidocde = &quot;German translation foo
&quot;
</pre></blockquote>

<p><code>@example</code> blocs need not be verbatim copies, e.g. variable
names, file names and comments should be translated.
</p>
<p>Index entries (<code>@cindex</code> and so on) should be translated.
</p>
<p>Finally, please carefully apply every rule exposed in <a href="#Texinfo-introduction-and-usage-policy">Texinfo introduction and usage policy</a>, and <a href="#Documentation-policy">Documentation policy</a>.  If
one of these rules conflicts with a rule specific to your language,
please ask the Translation meister and/or the Documentation Editors on
<a href="mailto:lilypond-devel@gnu.org">lilypond-devel@gnu.org</a>.
</p>

<hr size="6">
<a name="Translating-the-Notation-Reference-and-Application-Usage"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translating-the-Learning-Manual-and-other-Texinfo-documentation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translating the Learning Manual and other Texinfo documentation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-translation-details" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation translation details&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translating-the-Documentation-index-index_002ehtml_002ein" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translating the Documentation index index.html.in &gt; </a>]</td></tr></table>
<a name="Translating-the-Notation-Reference-and-Application-Usage"></a>
<h4 class="unnumberedsubsubsec">Translating the Notation Reference and Application Usage</h4>

<p>Copy &lsquo;<tt>user/lilypond.tely</tt>&rsquo; (or &lsquo;<tt>user/lilypond-program.tely</tt>&rsquo;,
respectively) into &lsquo;<tt><var>MY-LANGUAGE</var>/user</tt>&rsquo;, then translate this
file and run <code>skeleton-update</code> &ndash; see <a href="#Updating-documentation-translation">Updating documentation translation</a>.  Your are now ready to translate the Notation Reference
(Application Usage, respectively) exactly like the Learning Manual.
</p>

<hr size="6">
<a name="Translating-the-Documentation-index-index_002ehtml_002ein"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translating-the-Notation-Reference-and-Application-Usage" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translating the Notation Reference and Application Usage&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-translation-details" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation translation details&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Documentation-translation-maintenance" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Documentation translation maintenance &gt; </a>]</td></tr></table>
<a name="Translating-the-Documentation-index-index_002ehtml_002ein"></a>
<h4 class="unnumberedsubsubsec">Translating the Documentation index &lsquo;<tt>index.html.in</tt>&rsquo;</h4>

<p>Unlike almost all HTML pages in this documentation, links in this page
are not tweaked by &lsquo;<tt>postprocess_html.py</tt>&rsquo;, so links should be
manually edited to link to existing translations.
</p>

<hr size="6">
<a name="Documentation-translation-maintenance"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translating-the-Documentation-index-index_002ehtml_002ein" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translating the Documentation index index.html.in&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translating-the-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translating the documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Check-state-of-translation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Check state of translation &gt; </a>]</td></tr></table>
<a name="Documentation-translation-maintenance"></a>
<h3 class="subsection">3.7.3 Documentation translation maintenance</h3>

<p>Several tools have been developed to make translations maintenance
easier.  These helper scripts make use of the power of Git, the
version control system used for LilyPond development.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Check-state-of-translation" accesskey="1">Check state of translation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Updating-documentation-translation" accesskey="2">Updating documentation translation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Check-state-of-translation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Documentation-translation-maintenance" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Documentation translation maintenance&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-translation-maintenance" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation translation maintenance&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Updating-documentation-translation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Updating documentation translation &gt; </a>]</td></tr></table>
<a name="Check-state-of-translation"></a>
<h4 class="unnumberedsubsubsec">Check state of translation</h4>

<p>First pull from Git, then cd into &lsquo;<tt>Documentation/</tt>&rsquo; (or at top of
the source tree, replace <code>make</code> with <code>make -C
Documentation</code>) and run
</p>
<blockquote><pre class="example">make ISOLANG=<var>MY_LANGUAGE</var> check-translation
</pre></blockquote>

<p>This presents a diff of the original files since the most recent
revision of the translation.  To check a single file, cd into
&lsquo;<tt>Documentation/</tt>&rsquo; and run
</p>
<blockquote><pre class="example">make CHECKED_FILES=<var>MY_LANGUAGE/user/foo.itely</var> check-translation
</pre></blockquote>

<p>To see only which files need to be updated, do
</p>
<blockquote><pre class="example">make ISOLANG=<var>MY_LANGUAGE</var> check-translation | grep 'diff --git'
</pre></blockquote>

<p>To avoid printing terminal colors control characters, which is often
desirable when you redirect output to a file, run
</p>
<blockquote><pre class="example">make ISOLANG=<var>MY_LANGUAGE</var> NO_COLOR=1 check-translation
</pre></blockquote>

<p>Global state of the translation is recorded in
&lsquo;<tt>Documentation/translations.html.in</tt>&rsquo;, which is used to generate
Translations status page.  To update that page, do from
&lsquo;<tt>Documentation/</tt>&rsquo;
</p>
<blockquote><pre class="example">make translation-status
</pre></blockquote>

<p>This will also leave &lsquo;<tt>out/translations-status.txt</tt>&rsquo;, which contains
up-to-dateness percentages for each translated file, and update word
counts of documentation files in this Guide.
</p>
<a name="See-also"></a>
<h4 class="subsubheading">See also</h4>

<p><a href="#Maintaining-without-updating-translations">Maintaining without updating translations</a>.
</p>

<hr size="6">
<a name="Updating-documentation-translation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Check-state-of-translation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Check state of translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Documentation-translation-maintenance" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Documentation translation maintenance&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translations-management-policies" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translations management policies &gt; </a>]</td></tr></table>
<a name="Updating-documentation-translation"></a>
<h4 class="unnumberedsubsubsec">Updating documentation translation</h4>

<p>Instead of running <code>check-translation</code>, you may want to run
<code>update-translation</code>, which will run your favorite text editor to
update files.  First, make sure environment variable <code>EDITOR</code> is
set to a text editor command, then run from &lsquo;<tt>Documentation/</tt>&rsquo;
</p>
<blockquote><pre class="example">make ISOLANG=<var>MY_LANGUAGE</var> update-translation
</pre></blockquote>

<p>or to update a single file
</p>
<blockquote><pre class="example">make CHECKED_FILES=<var>MY_LANGUAGE/user/foo.itely</var> update-translation
</pre></blockquote>

<p>For each file to be udpated, update-translation will open your text
editor with this file and a diff of the file in English; if the diff
cannot be generated or is bigger than the file in English itself, the
full file in English will be opened instead.
</p>
<p>Texinfo skeleton files, i.e. &lsquo;<tt>.itely</tt>&rsquo; files not yet translated,
containing only the Texinfo structure can be updated automatically:
whenever <code>make check-translation</code> shows that such files should
be updated, run from &lsquo;<tt>Documentation/</tt>&rsquo;
</p>
<blockquote><pre class="example">make ISOLANG=<var>MY_LANGUAGE</var> skeleton-update
</pre></blockquote>

<p>&lsquo;<tt>.po</tt>&rsquo; message catalogs in &lsquo;<tt>Documentation/po/</tt>&rsquo; may be updated
by issuing from &lsquo;<tt>Documentation/</tt>&rsquo; or &lsquo;<tt>Documentation/po/</tt>&rsquo;
</p>
<blockquote><pre class="example">make po-update
</pre></blockquote>

<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> if you run po-update and somebody else does the same and
pushes before you push or send a patch to be applied, there will be a
conflict when you pull.  Therefore, it is better that only the
Translation meister runs this command.
</p></td></tr></table>

<p>Updating music snippets can quickly become cumbersome, as most
snippets should be identical in all languages.  Fortunately, there is
a script that can do this odd job for you (run from
&lsquo;<tt>Documentation/</tt>&rsquo;):
</p>
<blockquote><pre class="example">make ISOLANG=<var>MY_LANGUAGE</var> snippet-update
</pre></blockquote>

<p>This script overwrites music snippets in
&lsquo;<tt><var>MY_LANGUAGE/user/every.itely</var></tt>&rsquo; with music snippets from
&lsquo;<tt><var>user/every.itely</var></tt>&rsquo;.  It ignores skeleton files, and keeps
intact music snippets preceded with a line starting with <code>@c
KEEP LY</code>; it reports an error for each &lsquo;<tt>.itely</tt>&rsquo; that has not the
same music snippet count in both languages.  Always use this script
with a lot of care, i.e. run it on a clean Git working tree, and check
the changes it made with <code>git diff</code> before committing; if you
don&rsquo;t do so, some <code>@lilypond</code> snippets might be broken or make
no sense in their context.
</p>
<p>Finally, a command runs the three update processes above for all
enabled languages (from &lsquo;<tt>Documentation/</tt>&rsquo;):
</p>
<blockquote><pre class="example">make all-translations-update
</pre></blockquote>

<p>Use this command with caution, and keep in mind it will not be really
useful until translations are stabilized after the end of GDP.
</p>
<a name="See-also-1"></a>
<h4 class="subsubheading">See also</h4>

<p><a href="#Maintaining-without-updating-translations">Maintaining without updating translations</a>.
</p>

<hr size="6">
<a name="Translations-management-policies"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Updating-documentation-translation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Updating documentation translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translating-the-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translating the documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Maintaining-without-updating-translations" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Maintaining without updating translations &gt; </a>]</td></tr></table>
<a name="Translations-management-policies"></a>
<h3 class="subsection">3.7.4 Translations management policies</h3>

<p>These policies show the general intent of how the translations should
be managed, they aim at helping translators, developers and
coordinators work efficiently.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Maintaining-without-updating-translations" accesskey="1">Maintaining without updating translations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Managing-documentation-translation-with-Git" accesskey="2">Managing documentation translation with Git</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Maintaining-without-updating-translations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translations-management-policies" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translations management policies&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translations-management-policies" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translations management policies&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Managing-documentation-translation-with-Git" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Managing documentation translation with Git &gt; </a>]</td></tr></table>
<a name="Maintaining-without-updating-translations"></a>
<h4 class="unnumberedsubsubsec">Maintaining without updating translations</h4>

<p>Keeping translations up to date under heavy changes in the
documentation in English may be almost impossible, especially as
during the former Grand Documentation Project (GDP) or the Grand
Organization Project (GOP) when a lot of contributors brings changes.
In addition, transloators may be (and that) involved in these porjects too.
</p>
<p>it is possible &ndash; and even recommended &ndash; to
perform some maintaining that keeps translated documentation usable
and eases future translation updating.  The rationale below the tasks
list motivates this plan.  The rationale below the tasks
list motivates this plan.
</p>
<p>The following tasks are listed in decreasing priority order.
</p>
<ol>
<li> Update macros.itexi.
For each obsolete macro definition, if it is possible to update macro
usage in documentation with an automatic text or regexp substitution,
do it and delete the macro definition from macros.itexi; otherwise,
mark this macro definition as obsolete with a comment, and keep it in
macros.itexi until the documentation translation has been updated and
no longer uses this macro.

</li><li> Update &lsquo;<tt>*.tely</tt>&rsquo; files completely with
<code>make check-translation</code> &ndash; you may want to redirect ouptput
to a file because of overwhelming output, or call check-translation.py
on individual files, see <a href="#Check-state-of-translation">Check state of translation</a>.

</li><li> In &lsquo;<tt>.itelys</tt>&rsquo;, match sections and .itely file names with those from
English docs, which possibly involves moving nodes contents in block
between files, without updating contents itself.  In other words, the
game is catching where has gone each section.  In Learning manual, and
in Notation Reference sections which have been revised in GDP, there
may be completely new sections: in this case, copy <code>@node</code> and
<code>@section</code>-command from English docs, and add the marker for
untranslated status <code>@untranslated</code> on a single line.  Note that
it is not possible to exactly match subsections or subsubsections of
documentation in English, when contents has been deeply revised; in
this case, keep obsolete (sub)subsections in the translation, marking
them with a line <code>@c obsolete</code> just before the node.

<p>Emacs with Texinfo mode makes this step easier:
</p>
<ul>
<li> without Emacs AucTeX installed, &lt;C-c C-s&gt; shows structure of current
Texinfo file in a new buffer *Occur*; to show structure of two files
simultaneously, first split Emacs window in 4 tiles (with &lt;C-x 1&gt;
and &lt;C-x 2&gt;), press &lt;C-c C-s&gt; to show structure of one file
(e.g. the translated file), copy *Occur* contents into *Scratch*, then
press &lt;C-c C-s&gt; for the other file.

<p>If you happen to have installed AucTeX, you can either call the macro
by doing &lt;M-x texinfo-show-structure&gt; or create a key binding in your
&lsquo;<tt>~/.emacs</tt>&rsquo;, by adding the four following lines:
</p>
<blockquote><pre class="example">(add-hook 'Texinfo-mode-hook
          '(lambda ()
             (define-key Texinfo-mode-map &quot;\C-cs&quot;
              'texinfo-show-structure)))
</pre></blockquote>

<p>and then obtain the structure in the *Occur* buffer with &lt;C-c s&gt;.
</p>
</li><li> Do not bother updating <code>@menu</code>s when all menu entries are in the same
file, just do &lt;C-c C-u C-a&gt; (&quot;update all menus&quot;) when you have
updated all the rest of the file.

</li><li> Moving to next or previous node using incremental search: press
&lt;C-s&gt; and type <code>node</code> (or &lt;C-s @node&gt; if the text
contains the word &lsquo;node&rsquo;) then press &lt;C-s&gt; to move to next node
or &lt;C-r&gt; to move to previous node.  Similar operation can be used
to move to the next/previous section.  Note that every cursor move
exits incremental search, and hitting &lt;C-s&gt; twice starts
incremental search with the text entered in previous incremental
search.

</li><li> Moving a whole node (or even a sequence of nodes): jump to beginning
of the node (quit incremental search by pressing an arrow), press
&lt;C-SPACE&gt;, press &lt;C-s node&gt; and repeat &lt;C-s&gt; until you
have selected enough text, cut it with &lt;C-w&gt; or &lt;C-x&gt;, jump to
the right place (moving between nodes with the previous hint is often
useful) and paste with &lt;C-y&gt; or &lt;C-v&gt;.
</li></ul>

</li><li> Update sections finished in the English documentation; check
sections status at
<a href="http://lilypondwiki.tuxfamily.org/index.php?title=Documentation_coordination">http://lilypondwiki.tuxfamily.org/index.php?title=Documentation_coordination</a>.

</li><li> Update documentation PO.  It is recommended not to update
strings which come from documentation that is currently deeply revised
in English, to avoid doing the work more than once.

</li><li> Fix broken cross-references by running (from &lsquo;<tt>Documentation/</tt>&rsquo;)

<blockquote><pre class="example">make ISOLANG=<var>YOUR-LANGUAGE</var> fix-xrefs
</pre></blockquote>

<p>This step requires a sucessful documentation build (with <code>make
doc</code>).  Some cross-references are broken because they point to a node
that exists in the documentation in English, which has not been added
to the translation; in this case, do not fix the cross-reference but
keep it &quot;broken&quot;, so that the resulting HTML link will point to an
existing page of documentation in English.
</p></li></ol>

<a name="Rationale"></a>
<h4 class="subsubheading">Rationale</h4>

<p>You may wonder if it would not be better to leave translations as-is
until you can really start updating translations.  There are several
reasons to do these maintenance tasks right now.
</p>
<ul>
<li> This will have to be done sooner or later anyway, before updating
translation of documentation contents, and this can already be done
without needing to be redone later, as sections of documentation in
English are mostly revised once.  However, note that not all
documentation sectioning has been revised in one go, so all this
maintenance plan has to be repeated whenever a big reorganization is
made.

</li><li> This just makes translated documentation take advantage of the new
organization, which is better than the old one.

</li><li> Moving and renaming sections to match sectioning of documentation in
English simplify future updating work: it allows updating the
translation by side-by-side comparison, without bothering whether
cross-reference names already exist in the translation.

</li><li> Each maintenance task except &lsquo;Updating PO files&rsquo; can be done by
the same person for all languages, which saves overall time spent by
translators to achieve this task: the node names and section titles
are in English, so you can do.  It is important to take advantage of
this now, as it will be more complicated (but still possible) to do
step 3 in all languages when documentation is compiled with
<code>texi2html</code> and node names are directly translated in source
files.
</li></ul>


<hr size="6">
<a name="Managing-documentation-translation-with-Git"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Maintaining-without-updating-translations" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Maintaining without updating translations&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translations-management-policies" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translations management policies&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Technical-background" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Technical background &gt; </a>]</td></tr></table>
<a name="Managing-documentation-translation-with-Git"></a>
<h4 class="unnumberedsubsubsec">Managing documentation translation with Git</h4>

<p>This policy explains how to manage Git branches and commit
translations to Git.
</p>
<ul>
<li> Translation changes matching master branch are preferably made on
<code>lilypond/translation</code> branch; they may be pushed directly to
<code>master</code> only if they do not break compilation of LilyPond and
its documentation, and in this case they should be pushed to
<code>lilypond/translation</code> too.  Similarly, changes matching
<code>stable/X.Y</code> are preferably made on
<code>lilypond/X.Ytranslation</code>.

</li><li> <code>lilypond/translation</code> Git branch may be merged into
master only if LilyPond (<code>make all</code>) and documentation
(<code>make doc</code>) compile succesfully.

</li><li> <code>master</code> Git branch may be merged into
<code>lilypond/translation</code> whenever <code>make</code> and <code>make
doc</code> are succesful (in order to ease documentation compilation by
translators), or when significant changes had been made in
documentation in English in master branch.

</li><li> General maintenance may be done by anybody who knows what he does
in documentation in all languages, without informing translators
first.  General maintenance include simple text substitutions
(e.g. automated by sed), compilation fixes, updating Texinfo or
lilypond-book commands, updating macros, updating ly code, fixing
cross-references, and operations described in <a href="#Maintaining-without-updating-translations">Maintaining without updating translations</a>.
</li></ul>


<hr size="6">
<a name="Technical-background"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Managing-documentation-translation-with-Git" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Managing documentation translation with Git&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translating-the-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translating the documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translation-status" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translation status &gt; </a>]</td></tr></table>
<a name="Technical-background"></a>
<h3 class="subsection">3.7.5 Technical background</h3>

<p>A number of Python scripts handle a part of the documentation
translation process.  All scripts used to maintain the translations
are located in &lsquo;<tt>scripts/auxiliar/</tt>&rsquo;.
</p>
<ul>
<li> &lsquo;<tt>check_translation.py</tt>&rsquo;  &ndash; show diff to update a translation,
</li><li> &lsquo;<tt>texi-langutils.py</tt>&rsquo;  &ndash; quickly and dirtily parse Texinfo files to
make message catalogs and Texinfo skeleton files,
</li><li> &lsquo;<tt>texi-skeleton-update.py</tt>&rsquo; &ndash; update Texinfo skeleton files,
</li><li> &lsquo;<tt>update-snippets.py</tt>&rsquo; &ndash; synchronize ly snippets with those
from English docs,
</li><li> &lsquo;<tt>translations-status.py</tt>&rsquo; &ndash; update translations status pages and word
counts in the file you are reading,
</li><li> &lsquo;<tt>tely-gettext.py</tt>&rsquo; &ndash; gettext node names, section titles and references
in the sources; WARNING only use this script once for each file, when support for
&quot;makeinfo &ndash;html&quot; has been dropped.
</li></ul>

<p>Other scripts are used in the build process, in &lsquo;<tt>scripts/build/</tt>&rsquo;:
</p>
<ul>
<li> &lsquo;<tt>html-gettext.py</tt>&rsquo; &ndash; translate node names, section titles and cross
references in HTML files generated by <code>makeinfo</code>,
</li><li> &lsquo;<tt>texi-gettext.py</tt>&rsquo; &ndash; gettext node names, section titles and references
before calling <code>texi2pdf</code>,
</li><li> &lsquo;<tt>mass-link.py</tt>&rsquo; &ndash; link or symlink files between English documentation
and documentation in other languages.
</li></ul>

<p>Python modules used by scripts in &lsquo;<tt>scripts/auxiliar/</tt>&rsquo; or &lsquo;<tt>scripts/build/</tt>&rsquo; (but
not by installed Python scripts) are located in &lsquo;<tt>python/auxiliar/</tt>&rsquo;:
</p><ul>
<li> &lsquo;<tt>manuals_definitions.py</tt>&rsquo; &ndash; define manual names and name of
cross-reference Texinfo macros,
</li><li> &lsquo;<tt>buildlib.py</tt>&rsquo; &ndash; common functions (read piped output
of a shell command, use Git),
</li><li> &lsquo;<tt>postprocess_html.py</tt>&rsquo; (module imported by &lsquo;<tt>www_post.py</tt>&rsquo;) &ndash; add footer and
tweak links in HTML pages.
</li></ul>

<p>And finally
</p><ul>
<li> &lsquo;<tt>python/langdefs.py</tt>&rsquo;  &ndash; language definitions module
</li></ul>


<hr size="6">
<a name="Translation-status"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Website-work" title="Next chapter">&nbsp;Website work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Technical-background" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Technical background&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Translating-the-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Translating the documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Website-work" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Website work &gt; </a>]</td></tr></table>
<a name="Translation-status"></a>
<h3 class="subsection">3.7.6 Translation status</h3>


<hr size="6">
<a name="Website-work"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Documentation-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Documentation work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LSR-work" title="Next chapter">&nbsp;LSR work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translation-status" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translation status&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Introduction-to-website-work" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Introduction to website work &gt; </a>]</td></tr></table>
<a name="Website-work"></a>
<h1 class="chapter">4. Website work</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction-to-website-work" accesskey="1">4.1 Introduction to website work</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Translating-the-website" accesskey="2">4.2 Translating the website</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Introduction-to-website-work"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Website-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Website work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LSR-work" title="Next chapter">&nbsp;LSR work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Website-work" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Website work&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Website-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Website work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Translating-the-website" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Translating the website &gt; </a>]</td></tr></table>
<a name="Introduction-to-website-work"></a>
<h2 class="section">4.1 Introduction to website work</h2>

<p>Short answer: don&rsquo;t do it yet.  We&rsquo;re completely revamping the
website.
</p>

<hr size="6">
<a name="Translating-the-website"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Website-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Website work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LSR-work" title="Next chapter">&nbsp;LSR work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Introduction-to-website-work" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Introduction to website work&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Website-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Website work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LSR-work" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LSR work &gt; </a>]</td></tr></table>
<a name="Translating-the-website"></a>
<h2 class="section">4.2 Translating the website</h2>



<hr size="6">
<a name="LSR-work"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Website-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Website work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Issues" title="Next chapter">&nbsp;Issues &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Translating-the-website" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Translating the website&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Introduction-to-LSR" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Introduction to LSR &gt; </a>]</td></tr></table>
<a name="LSR-work"></a>
<h1 class="chapter">5. LSR work</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction-to-LSR" accesskey="1">5.1 Introduction to LSR</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Adding-and-editing-snippets" accesskey="2">5.2 Adding and editing snippets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Approving-snippets" accesskey="3">5.3 Approving snippets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#LSR-to-Git" accesskey="4">5.4 LSR to Git</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Fixing-snippets-in-LilyPond-sources" accesskey="5">5.5 Fixing snippets in LilyPond sources</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Updating-LSR-to-a-new-version" accesskey="6">5.6 Updating LSR to a new version</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Introduction-to-LSR"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LSR-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Issues" title="Next chapter">&nbsp;Issues &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LSR-work" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LSR-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LSR work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-and-editing-snippets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding and editing snippets &gt; </a>]</td></tr></table>
<a name="Introduction-to-LSR"></a>
<h2 class="section">5.1 Introduction to LSR</h2>

<p>The
<a href="http://lsr.dsi.unimi.it/">LilyPond Snippet Repository (LSR)</a>
is a collection of lilypond examples.  A subset of these examples
are automatically imported into the documentation, making it easy
for users to contribute to the docs without learning Git and
Texinfo.
</p>

<hr size="6">
<a name="Adding-and-editing-snippets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LSR-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Issues" title="Next chapter">&nbsp;Issues &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Introduction-to-LSR" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Introduction to LSR&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LSR-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LSR work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Approving-snippets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Approving snippets &gt; </a>]</td></tr></table>
<a name="Adding-and-editing-snippets"></a>
<h2 class="section">5.2 Adding and editing snippets</h2>

<a name="General-guidelines"></a>
<h3 class="subheading">General guidelines</h3>

<p>When you create (or find!) a nice snippet, if it supported by LilyPond
version running on LSR, please add it to LSR.  Go to
<a href="http://lsr.dsi.unimi.it/">LSR</a> and log in &ndash; if you haven&rsquo;t
already, create an account.  Follow the instructions on the website.
These instructions also explain how to modify existing snippets.
</p>
<p>If you think the snippet is particularly informative and you think it
should be included in the documentation, tag it with &ldquo;docs&rdquo; and one
or more other categories, or ask somebody who has editing permissions to
do it on the development list.
</p>
<p>Please make sure that the lilypond code follows the guidelines in
<a href="#LilyPond-formatting">LilyPond formatting</a>.
</p>
<p>If a new snippet created for documentation purposes compiles with
LilyPond version currently on LSR, it should be added to LSR, and a
reference to the snippet should be added to the documentation.
</p>
<p>If the new snippet uses new features that are not available in the
current LSR version, the snippet should be added to &lsquo;<tt>input/new</tt>&rsquo; and
a reference should be added to the manual.
</p>
<p>Snippets created or updated in &lsquo;<tt>input/new</tt>&rsquo; should be copied to
&lsquo;<tt>input/lsr</tt>&rsquo; by invoking at top of the source tree
</p>
<blockquote><pre class="example">scripts/auxiliar/makelsr.py
</pre></blockquote>

<p>Be sure that <code>make doc</code> runs successfully before submitting a
patch, to prevent breaking compilation.
</p>
<a name="Formatting-snippets-in-input_002fnew"></a>
<h3 class="subheading">Formatting snippets in &lsquo;<tt>input/new</tt>&rsquo;</h3>

<p>When adding a file to this directory, please start the file with
</p>
<blockquote><pre class="example">\version &quot;2.x.y&quot;
\header {
  lsrtags = &quot;rhythms,expressive-marks&quot;  % use existing LSR tags other than
%   'docs'; see makelsr.py for the list of tags used to sort snippets.
  texidoc = &quot;This code demonstrates ...&quot;  % this will be formated by Texinfo
  doctitle = &quot;Snippet title&quot;  % please put this at the end so that
    the '% begin verbatim' mark is added correctly by makelsr.py.
}
</pre></blockquote>

<p>and name the file &lsquo;<tt>snippet-title.ly</tt>&rsquo;.
</p>

<hr size="6">
<a name="Approving-snippets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LSR-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Issues" title="Next chapter">&nbsp;Issues &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-and-editing-snippets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding and editing snippets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LSR-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LSR work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LSR-to-Git" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LSR to Git &gt; </a>]</td></tr></table>
<a name="Approving-snippets"></a>
<h2 class="section">5.3 Approving snippets</h2>

<p>The main task of LSR editors is approving snippets.  To find a list of
unapproved snippets, log into <a href="http://lsr.dsi.unimi.it/">LSR</a> and
select &ldquo;No&rdquo; from the dropdown menu to the right of the word
&ldquo;Approved&rdquo; at the bottom of the interface, then click
&ldquo;Enable filter&rdquo;.
</p>
<p>Check each snippet:
</p>
<ol>
<li>
Does the snippet make sense and does what the author claims that
it does?  If you think the snippet is particularly helpful, add
the &ldquo;docs&rdquo; tag and at least one other tag.

</li><li>
If the snippet is tagged with &ldquo;docs&rdquo;, check to see if it
matches our guidelines for <a href="#LilyPond-formatting">LilyPond formatting</a>.

</li><li>
If the snippet uses scheme, check that everything looks good and
there are no security risks.

<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> Somebody could sneak a <code>#'(system &quot;rm -rf /&quot;)</code>
command into our source tree if you do not do this!  Take this
step <strong>VERY SERIOUSLY</strong>.
</p></td></tr></table>

</li></ol>


<hr size="6">
<a name="LSR-to-Git"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LSR-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Issues" title="Next chapter">&nbsp;Issues &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Approving-snippets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Approving snippets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LSR-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LSR work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Fixing-snippets-in-LilyPond-sources" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Fixing snippets in LilyPond sources &gt; </a>]</td></tr></table>
<a name="LSR-to-Git"></a>
<h2 class="section">5.4 LSR to Git</h2>

<ol>
<li>
Make sure that <code>convert-ly</code> and <code>lilypond</code> commands in
current PATH are in a bleeding edge version &ndash; latest release from
master branch, or even better a fresh snapshot from Git master branch.

</li><li>
From the top source directory, run:

<blockquote><pre class="example">wget http://lsr.dsi.unimi.it/download/lsr-snippets-docs-<var>YYYY-MM-DD</var>.tar.gz
tar -xzf lsr-snippets-docs-<var>YYYY-MM-DD</var>.tar.gz
scripts/auxiliar/makelsr.py lsr-snippets-docs-<var>YYYY-MM-DD</var>
</pre></blockquote>

<p>where <var>YYYY-MM-DD</var> is the current date, e.g. 2009-02-28.
</p>
</li><li>
Follow the instructions printed on the console to manually check for
unsafe files.

<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> Somebody could sneak a <code>#'(system &quot;rm -rf /&quot;)</code>
command into our source tree if you do not do this!  Take this
step <strong>VERY SERIOUSLY</strong>.
</p></td></tr></table>

</li><li>
Do a git add / commit / push.

</li></ol>

<p>Note that whenever there is one snippet from &lsquo;<tt>input/new</tt>&rsquo; and the
other from LSR with the same file name, the one from &lsquo;<tt>input/new</tt>&rsquo;
will be copied by <code>makelsr.py</code>.
</p>

<hr size="6">
<a name="Fixing-snippets-in-LilyPond-sources"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LSR-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Issues" title="Next chapter">&nbsp;Issues &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LSR-to-Git" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; LSR to Git&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LSR-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LSR work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Updating-LSR-to-a-new-version" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Updating LSR to a new version &gt; </a>]</td></tr></table>
<a name="Fixing-snippets-in-LilyPond-sources"></a>
<h2 class="section">5.5 Fixing snippets in LilyPond sources</h2>

<p>In case some snippet from &lsquo;<tt>input/lsr</tt>&rsquo; cause the documentation
compilation to fail, the following steps should be followed to fix it
reliably.
</p>
<ol>
<li>
Look up the snippet filename &lsquo;<tt><var>foo</var>.ly</tt>&rsquo; in the error output
or log, then fix the file &lsquo;<tt>input/lsr/<var>foo</var>.ly</tt>&rsquo; to make the
documentation build succesfully.

</li><li>
Determine where it comes from by looking at its first line, e.g. run

<blockquote><pre class="example">head -1 input/lsr/<var>foo</var>.ly
</pre></blockquote>

</li><li>
<strong>In case the snippet comes from LSR</strong>, apply the fix to the
snippet in LSR and send a notification email to a LSR editor with CC
to the development list &ndash; see <a href="#Adding-and-editing-snippets">Adding and editing snippets</a>.  The
failure may sometimes not be caused by the snippet in LSR but by the
syntax conversion made by <code>convert-ly</code>; in this case, try to
fix <code>convert-ly</code> or report the problem on the development
list, then run <code>makelsr.py</code> again, see <a href="#LSR-to-Git">LSR to Git</a>.  In
some cases, when some features has been introduced or vastly changed
so it requires (or takes significant advantage of) important changes
in the snippet, it is simpler and recommended to write a new version
of the snippet in &lsquo;<tt>input/new</tt>&rsquo;, then run <code>makelsr.py</code>.

</li><li>
<strong>In case the snippet comes from</strong> &lsquo;<tt>input/new</tt>&rsquo;, apply in
&lsquo;<tt>input/new/<var>foo</var>.ly</tt>&rsquo; the same fix you did in
&lsquo;<tt>input/lsr/<var>foo</var>.ly</tt>&rsquo;.  In case the build failure was caused
by a translation string, you may have to fix
&lsquo;<tt>input/texidocs/<var>foo</var>.texidoc</tt>&rsquo; instead.

</li><li>
In any case, commit all changes to Git.

</li></ol>



<hr size="6">
<a name="Updating-LSR-to-a-new-version"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LSR-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Issues" title="Next chapter">&nbsp;Issues &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Fixing-snippets-in-LilyPond-sources" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Fixing snippets in LilyPond sources&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LSR-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LSR work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Issues" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Issues &gt; </a>]</td></tr></table>
<a name="Updating-LSR-to-a-new-version"></a>
<h2 class="section">5.6 Updating LSR to a new version</h2>

<p>To update LSR, perform the following steps:
</p>
<ol>
<li>
Download the latest snippet tarball, extract it, and run
<code>convert-ly</code> on all files using the command-line option
<code>--to=VERSION</code> to ensure snippets are updated to the
correct stable version.

</li><li>
Copy relevant snippets (i.e., snippets whose version is equal to or
less than the new version of LilyPond) from &lsquo;<tt>input/new/</tt>&rsquo; into
the tarball.

<p>You must not rename any files during this, or the next, stage.
</p>
</li><li>
Verify that all files compile with the new version of LilyPond,
ideally without any warnings or errors.  To ease the process,
you may use the shell script that appears after this list.

<p>Due to the workload involved, we <em>do not</em> require that you
verify that all snippets produce the expected output.  If you
happen to notice any such snippets and can fix them, great; but as
long as all snippets compile, don&rsquo;t delay this step due to some
weird output.  If a snippet is broken, the hordes of willing
web-2.0 volunteers will fix it.  It&rsquo;s not our problem.
</p>
</li><li>
Create a tarball and send it back to Sebastiano.

</li><li>
When LSR has been updated, download another snippet tarball,
verify that the relevant snippets from &lsquo;<tt>input/new/</tt>&rsquo; were
included, then delete those snippets from &lsquo;<tt>input/new/</tt>&rsquo;.

</li></ol>


<p>Here is a shell script to run all <code>.ly</code> files in a directory
and redirect terminal output to text files, which are then
searched for the word &quot;failed&quot; to see which snippets do not compile.
</p>
<blockquote><pre class="example">#!/bin/bash

for LILYFILE in *.ly
do
  STEM=$(basename &quot;$LILYFILE&quot; .ly)
  echo &quot;running $LILYFILE...&quot;
  lilypond --format=png -ddelete-intermediate-files &quot;$LILYFILE&quot; &gt;&amp; &quot;$STEM&quot;.txt
done

grep failed *.txt
</pre></blockquote>
<hr size="6">
<a name="Issues"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LSR-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; LSR work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Programming-work" title="Next chapter">&nbsp;Programming work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Updating-LSR-to-a-new-version" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Updating LSR to a new version&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Introduction-to-issues" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Introduction to issues &gt; </a>]</td></tr></table>
<a name="Issues"></a>
<h1 class="chapter">6. Issues</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction-to-issues" accesskey="1">6.1 Introduction to issues</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      
</td></tr>
<tr><td align="left" valign="top"><a href="#Issue-classification" accesskey="2">6.2 Issue classification</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        
</td></tr>
<tr><td align="left" valign="top"><a href="#Adding-issues-to-the-tracker" accesskey="3">6.3 Adding issues to the tracker</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
</table>


<hr size="6">
<a name="Introduction-to-issues"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Issues" title="Beginning of this chapter or previous chapter"> &lt;&lt; Issues&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Programming-work" title="Next chapter">&nbsp;Programming work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Issues" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Issues&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Issues" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Issues&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Issue-classification" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Issue classification &gt; </a>]</td></tr></table>
<a name="Introduction-to-issues"></a>
<h2 class="section">6.1 Introduction to issues</h2>

<p>First, &ldquo;issue&rdquo; isn&rsquo;t just a politically-correct term for
&ldquo;bug&rdquo;.  We use the same tracker for feature requests and code
TODOs, so the term &ldquo;bug&rdquo; wouldn&rsquo;t be accurate.
</p>
<p>Second, the classification of what counts as a bug vs. feature
request, and the priorities assigned to bugs, are a matter of
concern <strong>for developers only</strong>.  If you are curious about
the classification, read on, but don&rsquo;t complain that your
particular issue is higher priority or counts as a bug rather than
a feature request.
</p>

<hr size="6">
<a name="Issue-classification"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Issues" title="Beginning of this chapter or previous chapter"> &lt;&lt; Issues&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Programming-work" title="Next chapter">&nbsp;Programming work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Introduction-to-issues" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Introduction to issues&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Issues" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Issues&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-issues-to-the-tracker" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding issues to the tracker &gt; </a>]</td></tr></table>
<a name="Issue-classification"></a>
<h2 class="section">6.2 Issue classification</h2>


<hr size="6">
<a name="Adding-issues-to-the-tracker"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Issues" title="Beginning of this chapter or previous chapter"> &lt;&lt; Issues&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Programming-work" title="Next chapter">&nbsp;Programming work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Issue-classification" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Issue classification&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Issues" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Issues&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Programming-work" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Programming work &gt; </a>]</td></tr></table>
<a name="Adding-issues-to-the-tracker"></a>
<h2 class="section">6.3 Adding issues to the tracker</h2>






<hr size="6">
<a name="Programming-work"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Issues" title="Beginning of this chapter or previous chapter"> &lt;&lt; Issues&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-issues-to-the-tracker" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding issues to the tracker&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Overview-of-LilyPond-architecture" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Overview of LilyPond architecture &gt; </a>]</td></tr></table>
<a name="Programming-work"></a>
<h1 class="chapter">7. Programming work</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Overview-of-LilyPond-architecture" accesskey="1">7.1 Overview of LilyPond architecture</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#LilyPond-programming-languages" accesskey="2">7.2 LilyPond programming languages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Programming-without-compiling" accesskey="3">7.3 Programming without compiling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Finding-functions" accesskey="4">7.4 Finding functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           
</td></tr>
<tr><td align="left" valign="top"><a href="#Code-style" accesskey="5">7.5 Code style</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  
</td></tr>
<tr><td align="left" valign="top"><a href="#Debugging-LilyPond" accesskey="6">7.6 Debugging LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          
</td></tr>
</table>

<hr size="6">
<a name="Overview-of-LilyPond-architecture"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Programming-work" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LilyPond programming languages &gt; </a>]</td></tr></table>
<a name="Overview-of-LilyPond-architecture"></a>
<h2 class="section">7.1 Overview of LilyPond architecture</h2>

<p>LilyPond processes the input file into graphical and musical output in a
number of stages.  This process, along with the types of routines that
accomplish the various stages of the process, is described in this section.  A
more complete description of the LilyPond architecture and internal program
execution is found in Erik Sandberg&rsquo;s
<a href="http://lilypond.org/web/images/thesis-erik-sandberg.pdf">master&rsquo;s thesis</a>.
</p>

<p>The first stage of LilyPond processing is <em>parsing</em>.  In the parsing
process, music expressions in LilyPond input format are converted to music
expressions in Scheme format.  In Scheme format, a music expression is a list
in tree form, with nodes that indicate the relationships between various music
events.  The LilyPond parser is written in Bison.
</p>
<p>The second stage of LilyPond processing is <em>iterating</em>.  Iterating
assigns each music event to a context, which is the environment in which the
music will be finally engraved.  The context is responsible for all further
processing of the music.  It is during the iteration stage that contexts are
created as necessary to ensure that every note has a Voice type context (e.g.
Voice, TabVoice, DrumVoice, CueVoice, MensuralVoice, VaticanaVoice,
GregorianTranscriptionVoice), that the Voice type contexts exist in
appropriate Staff type contexts, and that parallel Staff type contexts exist
in StaffGroup type contexts.  In addition, during the iteration stage each
music event is assigned a moment, or a time in the music when the event
begins.
</p>
<p>Each type of music event has an associated iterator.  Iterators are defined in
*-iterator.cc. During iteration, an
event&rsquo;s iterator is called to deliver that music event to the appropriate
context(s).
</p>
<p>The final stage of LilyPond processing is <em>translation</em>.  During
translation, music events are prepared for graphical or midi output.  The
translation step is accomplished by translators or engravers (the distinction
is unclear).
</p>
<p>Translators are defined in C++ files named *-engraver.cc.  In *-engraver.cc, a
C++ class of Engraver type is created.  The Engraver is also declared as a
translator.  Much of the work of translating is handled by Scheme functions,
which is one of the keys to LilyPond&rsquo;s exceptional flexibility.
</p>

<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Overview-of-LilyPond-architecture" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Overview of LilyPond architecture&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="LilyPond-programming-languages"></a>
<h2 class="section">7.2 LilyPond programming languages</h2>

<p>Programming in LilyPond is done in a variety of programming languages.  Each
language is used for a specific purpose or purposes.  This section describes
the languages used and provides links to reference manuals and tutorials for
the relevant language.
</p>
<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond-programming-languages" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.2.1 C++</h3>

<p>The core functionality of LilyPond is implemented in C++.
</p>
<p>C++ is so ubiquitous that it is difficult to identify either a reference
manual or a tutorial.  Programmers unfamiliar with C++ will need to spend some
time to learn the language before attempting to modify the C++ code.
</p>
<p>The C++ code calls Scheme/GUILE through the GUILE interface, which is
documented in the
<a href="http://www.gnu.org/software/guile/manual/html_node/index.html">GUILE Reference Manual</a>.
</p>
<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond-programming-languages" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.2.2 GNU Bison</h3>

<p>The LilyPond parser is implemented in Bison, a GNU parser generator.  The
Bison homepage is found at <a href="http://www.gnu.org/software/bison/">gnu.org</a>.  The manual (which includes both a reference and tutorial) is
<a href="http://www.gnu.org/software/bison/manual/index.html">available</a> in a
variety of formats.
</p>
<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond-programming-languages" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.2.3 GNU Make</h3>

<p>GNU Make is used to control the compiling process and to build the
documentation and the website.  GNU Make documentation is available at
<a href="http://www.gnu.org/software/make/manual/">the GNU website</a>.
</p>
<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond-programming-languages" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.2.4 GUILE or Scheme</h3>

<p>GUILE is the dialect of Scheme that is used as LilyPond&rsquo;s extension language.  Many extensions to LilyPond are written entirely in GUILE.  The
<a href="http://www.gnu.org/software/guile/manual/html_node/index.html">GUILE Reference Manual</a> is available online.
</p>
<p><a href="http://mitpress.mit.edu/sicp/full-text/book/book.html">Structure and Interpretation of Computer Programs</a>, a popular textbook used to teach
programming in Scheme is available in its entirety online.
</p>
<p>An introduction to Guile/Scheme as used in LilyPond can be found in the
Learning Manual, see <a name="index-Scheme-tutorial"></a>
<a href="lilypond-learning-big-page.fr.html#Scheme-tutorial">Scheme tutorial</a>. 
</p>
<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond-programming-languages" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.2.5 MetaFont</h3>

<p>MetaFont is used to create the music fonts used by LilyPond.  A MetaFont
tutorial is available at <a href="http://metafont.tutorial.free.fr/">the METAFONT tutorial page</a>.
</p>
<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond-programming-languages" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-programming-languages" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.2.6 PostScript</h3>

<p>PostScript is used to generate graphical output.  A brief PostScript tutorial
is <a href="http://local.wasp.uwa.edu.au/~pbourke/dataformats/postscript/">available online</a>.  The
<a href="http://www.adobe.com/devnet/postscript/pdfs/PLRM.pdf">PostScript Lanugage Reference</a> is available online in PDF format.
</p>
<hr size="6">
<a name="LilyPond-programming-languages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond-programming-languages" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond programming languages&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Programming-without-compiling" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Programming without compiling &gt; </a>]</td></tr></table>
<h3 class="subsection">7.2.7 Python</h3>

<p>Python is used for XML2ly and is used for buillding the documentation and the
website.
</p>
<p>Python documentation is available at <a href="http://www.python.org/doc/">python.org</a>.
</p>
<hr size="6">
<a name="Programming-without-compiling"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond-programming-languages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Programming-without-compiling" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Programming-without-compiling"></a>
<h2 class="section">7.3 Programming without compiling</h2>

<p>Much of the development work in LilyPond takes place by changing *.ly or
*.scm files.  These changes can be made without compiling LilyPond.  Such
changes are described in this section.
</p>

<hr size="6">
<a name="Programming-without-compiling"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Programming-without-compiling" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Programming without compiling&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-without-compiling" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming without compiling&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Programming-without-compiling" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.3.1 Modifying distribution files</h3>

<p>Much of LilyPond is written in Scheme or LilyPond input files.  These
files are interpreted when the program is run, rather than being compiled
when the program is built, and are present in all LilyPond distributions.
You will find .ly files in the ly/ directory and the Scheme files in the
scm/ directory.  Both Scheme files and .ly files can be modified and
saved with any text editor.  It&rsquo;s probably wise to make a backup copy of
your files before you modify them, although you can reinstall if the
files become corrupted.
</p>
<p>Once you&rsquo;ve modified the files, you can test the changes just by running
LilyPond on some input file.  It&rsquo;s a good idea to create a file that
demonstrates the feature you&rsquo;re trying to add.  This file will eventually
become a regression test and will be part of the LilyPond distribution.
</p>
<hr size="6">
<a name="Programming-without-compiling"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Programming-without-compiling" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-without-compiling" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming without compiling&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Finding-functions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Finding functions &gt; </a>]</td></tr></table>
<h3 class="subsection">7.3.2 Desired file formatting</h3>

<p>Files that are part of the LilyPond distribution have Unix-style line
endings (LF), rather than DOS (CR+LF) or MacOS 9 and earlier (CR).  Make
sure you use the necessary tools to ensure that Unix-style line endings are
preserved in the patches you create.
</p>
<p>Tab characters should not be included in files for distribution.  All
indentation should be done with spaces.  Most editors have settings to
allow the setting of tab stops and ensuring that no tab characters are
included in the file.
</p>
<p>Scheme files and LilyPond files should be written according to standard
style guidelines.  Scheme file guidelines can be found at
<a href="http://community.schemewiki.org/?scheme-style">http://community.schemewiki.org/?scheme-style</a>.  Following these
guidelines will make your code easier to read.  Both you and others that
work on your code will be glad you followed these guidelines.
</p>
<p>For LilyPond files, you should follow the guidelines for LilyPond snippets
in the documentation.  You can find these guidelines at
<a href="#Texinfo-introduction-and-usage-policy">Texinfo introduction and usage policy</a>.
</p>
<hr size="6">
<a name="Finding-functions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Programming-without-compiling" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Finding-functions" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Finding-functions"></a>
<h2 class="section">7.4 Finding functions</h2>

<p>When making changes or fixing bugs in LilyPond, one of the initial
challenges is finding out where in the code tree the functions to
be modified live.  With nearly 3000 files in the source tree,
trial-and-error searching is generally ineffective. This section
describes a process for finding interesting code.
</p>
<hr size="6">
<a name="Finding-functions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Finding-functions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Finding functions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Finding-functions" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Finding functions&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Finding-functions" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.4.1 Using the ROADMAP</h3>

<p>The file ROADMAP is located in the main directory of the lilypond source.
ROADMAP lists all of the directories in the LilPond source tree, along
with a brief description of the kind of files found in each directory.
This can be a very helpful tool for deciding which directories to search
when looking for a function.
</p>

<hr size="6">
<a name="Finding-functions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Finding-functions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Finding-functions" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Finding functions&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Finding-functions" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.4.2 Using grep to search</h3>

<p>Having identified a likely subdirectory to search, the grep utility can
be used to search for a function name.  The format of the grep command is
</p>
<blockquote><pre class="example">grep -i functionName subdirectory/*
</pre></blockquote>

<p>This command will search all the contents of the directory subdirectory/
and display every line in any of the files that contains
functionName.  The <code>-i</code> option makes <code>grep</code> ignore
case &ndash; this can be very useful if you are not yet familiar with
our capitalization conventions.
</p>
<p>The most likely directories to grep for function names are scm/ for
scheme files, ly/ for lilypond input (*.ly) files, and lily/ for C++
files.
</p>

<hr size="6">
<a name="Finding-functions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Finding-functions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Finding-functions" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Finding functions&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Finding-functions" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.4.3 Using git grep to search</h3>

<p>If you have used git to obtain the source, you have access to a
powerful tool to search for functions.  The command:
</p>
<blockquote><pre class="example">git grep functionName
</pre></blockquote>

<p>will search through all of the files that are present in the git
repository looking for functionName.  It also presents the results
of the search using <code>less</code>, so the results are displayed one page
at a time.
</p>
<hr size="6">
<a name="Finding-functions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Finding-functions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Finding-functions" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Finding functions&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Code style &gt; </a>]</td></tr></table>
<h3 class="subsection">7.4.4 Searching on the git repository at Savannah</h3>

<p>You can also use the equivalent of git grep on the Savannah server.
</p>
<ul>
<li>
Go to http://git.sv.gnu.org/gitweb/?p=lilypond.git

</li><li>
In the pulldown box that says commit, select grep.

</li><li>
Type functionName in the search box, and hit enter/return

</li></ul>

<p>This will initiate a search of the remote git repository.
</p>

<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Finding-functions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Code-style"></a>
<h2 class="section">7.5 Code style</h2>


<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Code style&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.1 Handling errors</h3>

<p>As a general rule, you should always try to continue computations,
even if there is some kind of error.  When the program stops, it
is often very hard for a user to pinpoint what part of the input
causes an error.  Finding the culprit is much easier if there is
some viewable output.
</p>
<p>So functions and methods do not return errorcodes, they never
crash, but report a programming_error and try to carry on.
</p>
<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.2 Languages</h3>

<p>C++ and Python are preferred.  Python code should use PEP 8.
</p>
<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.3 Filenames</h3>

<p>Definitions of classes that are only accessed via pointers (*) or
references (&amp;) shall not be included as include files.
</p>
<pre class="verbatim">   filenames

        &quot;.hh&quot;   Include files
             &quot;.cc&quot;      Implementation files
             &quot;.icc&quot;     Inline definition files
             &quot;.tcc&quot;     non inline Template defs

   in emacs:

             (setq auto-mode-alist
                   (append '((&quot;\\.make$&quot; . makefile-mode)
                        (&quot;\\.cc$&quot; . c++-mode)
                        (&quot;\\.icc$&quot; . c++-mode)
                        (&quot;\\.tcc$&quot; . c++-mode)
                        (&quot;\\.hh$&quot; . c++-mode)
                        (&quot;\\.pod$&quot; . text-mode)
                        )
                      auto-mode-alist))
</pre>
<p>The class Class_name is coded in &lsquo;class-name.*&rsquo;
</p>
<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.4 Indentation</h3>

<p>Standard GNU coding style is used. In emacs:
</p>
<pre class="verbatim">             (add-hook 'c++-mode-hook
                  '(lambda() (c-set-style &quot;gnu&quot;)
                     ))
</pre>
<p>If you like using font-lock, you can also add this to your
&lsquo;.emacs&rsquo;:
</p>
<pre class="verbatim">             (setq font-lock-maximum-decoration t)
             (setq c++-font-lock-keywords-3
                   (append
                    c++-font-lock-keywords-3
                    '((&quot;\\b\\(a-zA-Z_?+_\\)\\b&quot; 1 font-lock-variable-name-face) (&quot;\\b\\(A-Z?+a-z_?+\\)\\b&quot; 1 font-lock-type-face))
                    ))
</pre>

<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.5 Classes and Types</h3>

<pre class="verbatim">This_is_a_class
</pre>

<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.6 Members</h3>

<p>Member variable names end with an underscore:
</p>
<pre class="verbatim">Type Class::member_
</pre>

<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.7 Macros</h3>

<p>Macro names should be written in uppercase completely.
</p>

<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.8 Broken code</h3>

<p>Do not write broken code.  This includes hardwired dependencies,
hardwired constants, slow algorithms and obvious limitations.  If
you can not avoid it, mark the place clearly, and add a comment
explaining shortcomings of the code.
</p>
<p>We reject broken-in-advance on principle.
</p>
<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.9 Naming</h3>


<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Code-style" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.10 Messages</h3>

<p>Messages need to follow Localization.
</p>

<hr size="6">
<a name="Code-style"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Code-style" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Code style&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Debugging-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Debugging LilyPond &gt; </a>]</td></tr></table>
<h3 class="subsection">7.5.11 Localization</h3>

<p>This document provides some guidelines for programmers write user
messages.  To help translations, user messages must follow
uniform conventions.  Follow these rules when coding for LilyPond.
Hopefully, this can be replaced by general GNU guidelines in the
future.  Even better would be to have an English (en_BR, en_AM)
guide helping programmers writing consistent messages for all GNU
programs.
</p>
<p>Non-preferred messages are marked with &lsquo;+&rsquo;. By convention,
ungrammatical examples are marked with &lsquo;*&rsquo;.  However, such ungrammatical
examples may still be preferred.
</p>
<ul>
<li>
Every message to the user should be localized (and thus be marked
for localization). This includes warning and error messages.

</li><li>
Don&rsquo;t localize/gettextify:

<ul>
<li>
&lsquo;programming_error ()&rsquo;s

</li><li>
&lsquo;programming_warning ()&rsquo;s

</li><li>
debug strings

</li><li>
output strings (PostScript, TeX, etc.)

</li></ul>

</li><li>
Messages to be localised must be encapsulated in &lsquo;_ (STRING)&rsquo; or
&lsquo;_f (FORMAT, ...)&rsquo;. E.g.:

<blockquote><pre class="example">warning (_ (&quot;need music in a score&quot;));
error (_f (&quot;cannot open file: `%s'&quot;, file_name));
</pre></blockquote>

<p>In some rare cases you may need to call &lsquo;gettext ()&rsquo; by hand. This
happens when you pre-define (a list of) string constants for later
use. In that case, you&rsquo;ll probably also need to mark these string
constants for translation, using &lsquo;_i (STRING)&rsquo;. The &lsquo;_i&rsquo; macro is
a no-op, it only serves as a marker for &lsquo;xgettext&rsquo;.
</p>
<blockquote><pre class="example">char const* messages[] = {
  _i (&quot;enable debugging output&quot;),
  _i (&quot;ignore lilypond version&quot;),
  0
};

void
foo (int i)
{
  puts (gettext (messages i));
}
</pre></blockquote>

<p>See also &lsquo;flower/getopt-long.cc&rsquo; and &lsquo;lily/main.cc&rsquo;.
</p>
</li><li>
Do not use leading or trailing whitespace in messages. If you need
whitespace to be printed, prepend or append it to the translated
message

<blockquote><pre class="example">message (&quot;Calculating line breaks...&quot; + &quot; &quot;);
</pre></blockquote>

</li><li>
Error or warning messages displayed with a file name and line
number never start with a capital, eg,

<blockquote><pre class="example">foo.ly: 12: not a duration: 3
</pre></blockquote>

<p>Messages containing a final verb, or a gerund (&lsquo;-ing&rsquo;-form) always
start with a capital. Other (simpler) messages start with a
lowercase letter
</p>
<blockquote><pre class="example">Processing foo.ly...
`foo': not declared.
Not declaring: `foo'.
</pre></blockquote>

</li><li>
Avoid abbreviations or short forms, use &lsquo;cannot&rsquo; and &lsquo;do not&rsquo;
rather than &lsquo;can&rsquo;t&rsquo; or &lsquo;don&rsquo;t&rsquo;
To avoid having a number of different messages for the same
situation, well will use quoting like this &lsquo;&quot;message: &lsquo;%s&rsquo;&quot;&rsquo; for all
strings. Numbers are not quoted:

<blockquote><pre class="example">_f (&quot;cannot open file: `%s'&quot;, name_str)
_f (&quot;cannot find character number: %d&quot;, i)
</pre></blockquote>

</li><li>
Think about translation issues. In a lot of cases, it is better to
translate a whole message. The english grammar must not be imposed
on the translator. So, instead of

<blockquote><pre class="example">stem at  + moment.str () +  does not fit in beam
</pre></blockquote>

<p>have
</p>
<blockquote><pre class="example">_f (&quot;stem at %s does not fit in beam&quot;, moment.str ())
</pre></blockquote>

</li><li>
Split up multi-sentence messages, whenever possible. Instead of

<blockquote><pre class="example">warning (_f (&quot;out of tune!  Can't find: `%s'&quot;, &quot;Key_engraver&quot;));
warning (_f (&quot;cannot find font `%s', loading default&quot;, font_name));
</pre></blockquote>

<p>rather say:
</p>
<blockquote><pre class="example">warning (_ (&quot;out of tune:&quot;));
warning (_f (&quot;cannot find: `%s', &quot;Key_engraver&quot;));
warning (_f (&quot;cannot find font: `%s', font_name));
warning (_f (&quot;Loading default font&quot;));
</pre></blockquote>

</li><li>
If you must have multiple-sentence messages, use full punctuation.
Use two spaces after end of sentence punctuation. No punctuation
(esp. period) is used at the end of simple messages.

<blockquote><pre class="example">_f (&quot;Non-matching braces in text `%s', adding braces&quot;, text)
_ (&quot;Debug output disabled.  Compiled with NPRINT.&quot;)
_f (&quot;Huh?  Not a Request: `%s'.  Ignoring.&quot;, request)
</pre></blockquote>

</li><li>
Do not modularise too much; words frequently cannot be translated
without context. It is probably safe to treat most occurences of
words like stem, beam, crescendo as separately translatable words.

</li><li>
When translating, it is preferable to put interesting information
at the end of the message, rather than embedded in the middle.
This especially applies to frequently used messages, even if this
would mean sacrificing a bit of eloquency. This holds for original
messages too, of course.

<blockquote><pre class="example">en: cannot open: `foo.ly'
+   nl: kan `foo.ly' niet openen (1)
kan niet openen: `foo.ly'*   (2)
niet te openen: `foo.ly'*    (3)
</pre></blockquote>


<p>The first nl message, although grammatically and stylistically
correct, is not friendly for parsing by humans (even if they speak
dutch). I guess we would prefer something like (2) or (3).
</p>
</li><li>
Do not run make po/po-update with GNU gettext &lt; 0.10.35

</li></ul>



<hr size="6">
<a name="Debugging-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Code-style" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Programming-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Programming work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Debugging-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Debugging-LilyPond"></a>
<h2 class="section">7.6 Debugging LilyPond</h2>

<p>The most commonly used tool for debugging LilyPond is the GNU debugger
gdb.  Use of gdb is described in this section.
</p>
<hr size="6">
<a name="Debugging-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Debugging-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Debugging LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Debugging-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Debugging LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Debugging-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.6.1 Debugging overview</h3>

<p>Using a debugger simplifies troubleshooting in at least two ways.
</p>
<p>First, breakpoints can be set to pause execution at any desired point.
Then, when execution has paused, debugger commands can be issued to
explore the values of various variables or to execute functions.
</p>
<p>Second, the debugger allows the display of a stack trace, which shows
the sequence in which functions are called and the arguments to the
various function calls.
</p>

<hr size="6">
<a name="Debugging-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Debugging-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Debugging-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Debugging LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Debugging-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.6.2 Compiling with debugging information</h3>

<p>In order to use a debugger with LilyPond, it is necessary to compile
LilyPond with debugging information.  This is accomplished by ...
</p>
<p>TODO &ndash; get good description here, or perhaps add debugging compile
to AU1.1 as it comes to CG and just use a reference here.
</p>
<p>TODO &ndash; Test the following to make sure it is true.
</p>
<p>If you want to be able to set breakpoints in Scheme functions, it is
necessary to compile guile with debugging information.  This is done
by ...
</p>
<p>TODO &ndash; get compiling description for guile here.
</p>
<hr size="6">
<a name="Debugging-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Debugging-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Debugging-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Debugging LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Debugging-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.6.3 Typical gdb usage</h3>

<hr size="6">
<a name="Debugging-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Debugging-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Debugging-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Debugging LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Debugging-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">7.6.4 Typical .gdbinit files</h3>

<p>The behavior of gdb can be readily customized through the use of
<var>.gdbinit</var> files.  A <var>.gdbinit</var> file is a file named
<var>.gdbinit</var> (notice the &ldquo;.&rdquo; at the beginning of the file name)
  that is placed in a user&rsquo;s home directory.
</p>
<p>The <var>.gdbinit</var> file below is from Han-Wen.  It sets breakpoints
for all errors and defines functions for displaying scheme objects
(ps), grobs (pgrob), and parsed music expressions (pmusic).
</p>
<blockquote><pre class="example">file lily/out/lilypond
b scm_error
b programming_error
b Grob::programming_error

define ps
   print ly_display_scm($arg0)
  end
  define pgrob
     print ly_display_scm($arg0-&gt;self_scm_)
     print ly_display_scm($arg0-&gt;mutable_property_alist_)
     print ly_display_scm($arg0-&gt;immutable_property_alist_)
     print ly_display_scm($arg0-&gt;object_alist_)
  end
  define pmusic
     print ly_display_scm($arg0-&gt;self_scm_)
     print ly_display_scm($arg0-&gt;mutable_property_alist_)
     print ly_display_scm($arg0-&gt;immutable_property_alist_)
  end
</pre></blockquote>

<hr size="6">
<a name="Debugging-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Release-work" title="Next chapter">&nbsp;Release work &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Debugging-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Debugging-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Debugging LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Release-work" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Release work &gt; </a>]</td></tr></table>
<h3 class="subsection">7.6.5 Using Guile interactively with LilyPond</h3>

<p>In order to experiment with Scheme programming in the LilyPond
environment, it is convenient to have a Guile interpreter that
has all the LilyPond modules loaded.  This requires the following
steps.
</p>
<p>First, define a Scheme symbol for the active module
in the .ly file:
</p>
<blockquote><pre class="example">#(module-define! (resolve-module '(guile-user))
    'lilypond-module (current-module))
</pre></blockquote>

<p>Second, place a Scheme function in the .ly file that gives an interactive Guile
prompt:
</p>
<blockquote><pre class="example">#(top-repl)
</pre></blockquote>

<p>When the .ly file is compiled, this causes the compilation to be interrupted
and an interactive guile prompt to appear.  When the guile prompt appears,
the LilyPond active module must be set as the current guile module:
</p>
<blockquote><pre class="example">guile&gt; (set-current-module lilypond-module)
</pre></blockquote>

<p>Proper operation of these commands can be demonstrated by typing the name
of a LilyPond public scheme function to see if it&rsquo;s properly defined:
</p>
<blockquote><pre class="example">guile&gt; fret-diagram-verbose-markup
#&lt;procedure fret-diagram-verbose-markup (layout props marking-list)&gt;
</pre></blockquote>

<p>If the LilyPond module has not been correctly loaded, an error
message will be generated:
</p>
<blockquote><pre class="example">guile&gt; fret-diagram-verbose-markup
ERROR: Unbound variable: fret-diagram-verbose-markup
ABORT: (unbound-variable)
</pre></blockquote>

<p>Once the module is properly loaded, any valid LilyPond Scheme expression
can be entered at the interactive prompt.
</p>
<p>After the investigation is complete, the interactive guile interpreter
can be exited:
</p>
<blockquote><pre class="example">guile&gt; (quit)
</pre></blockquote>

<p>The compilation of the .ly file will then continue.
</p>
<hr size="6">
<a name="Release-work"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Programming-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Programming work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Debugging-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Development-phases" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Development phases &gt; </a>]</td></tr></table>
<a name="Release-work"></a>
<h1 class="chapter">8. Release work</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Development-phases" accesskey="1">8.1 Development phases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          
</td></tr>
<tr><td align="left" valign="top"><a href="#Minor-release-checklist" accesskey="2">8.2 Minor release checklist</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     
</td></tr>
<tr><td align="left" valign="top"><a href="#Major-release-checklist" accesskey="3">8.3 Major release checklist</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     
</td></tr>
<tr><td align="left" valign="top"><a href="#Making-a-release" accesskey="4">8.4 Making a release</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Development-phases"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Release-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Release work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Release-work" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Release work&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Release-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Release work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Minor-release-checklist" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Minor release checklist &gt; </a>]</td></tr></table>
<a name="Development-phases"></a>
<h2 class="section">8.1 Development phases</h2>

<p>There are 2.5 states of development for LilyPond.
</p>
<ul>
<li> <strong>Stable phase</strong>:
Starting from the release of a new major version <code>2.x.0</code>, the
following patches <strong>MAY NOT</strong> be merged with master:

<ul>
<li> Any change to the input syntax.  If a file compiled with a
previous <code>2.x</code> version, then it must compile in the new
version.

</li><li> New features with new syntax <em>may be committed</em>,
although once committed that syntax cannot change during the
remainder of the stable phase.

</li><li> Any change to the build dependencies (including programming
libraries, documentation process programs, or python modules used
in the buildscripts).  If a contributor could compile a previous
lilypond <code>2.x</code>, then he must be able to compile the new
version.

</li></ul>

</li><li> <strong>Development phase</strong>:
Any commits are fine.  Readers may be familiar with the term
&ldquo;merge window&rdquo; from following Linux kernel news.


</li><li> <strong>Release prep phase</strong>:
FIXME: I don&rsquo;t like that name.

<p>A new git branch <code>stable/2.x</code> is created, and a major release
is made in two weeks.
</p>
<ul>
<li> <code>stable/2.x branch</code>:
Only translation updates and important bugfixes are allows.

</li><li> <code>master</code>:
Normal &ldquo;stable phase&rdquo; development occurs.

</li></ul>

<p>If we discover the need to change the syntax or build system, we
will apply it and re-start the release prep phase.
</p>
</li></ul>

<p>This marks a radical change from previous practice in LilyPond.
However, this setup is not intended to slow development &ndash; as a
rule of thumb, the next development phase will start within a
month of somebody wanting to commit something which is not
permitted during the stable phase.
</p>


<hr size="6">
<a name="Minor-release-checklist"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Release-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Release work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Development-phases" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Development phases&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Release-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Release work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Major-release-checklist" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Major release checklist &gt; </a>]</td></tr></table>
<a name="Minor-release-checklist"></a>
<h2 class="section">8.2 Minor release checklist</h2>

<p>A &ldquo;minor release&rdquo; means an update of <code>y</code> in <code>2.x.y</code>.
</p>
<p>email brief summary to info-lilypond
</p>


<hr size="6">
<a name="Major-release-checklist"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Release-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Release work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Minor-release-checklist" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Minor release checklist&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Release-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Release work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Making-a-release" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Making a release &gt; </a>]</td></tr></table>
<a name="Major-release-checklist"></a>
<h2 class="section">8.3 Major release checklist</h2>

<p>A &ldquo;major release&rdquo; means an update of <code>x</code> in <code>2.x.0</code>.
</p>
<p>Before release:
</p>
<p>* write release notes. note: stringent size requirements for
 various websites, so be brief.
</p>
<p>* write preface section for manual.
</p>
<p>* submit pots for translation : send url of tarball to
translation@iro.umontreal.ca, mentioning lilypond-VERSION.pot
</p>
<p>* Check reg test
</p>
<p>* Check all 2ly scripts.
</p>
<p>* Run convert-ly on all files, bump parser minimum version.
</p>
<p>* Make FTP directories on lilypond.org
</p>
<p>* website:
  - Make new table in download.html
</p>
<p>  - add to documentation list
</p>
<p>  - revise examples tour.html/howto.html
</p>
<p>  - add to front-page quick links
</p>
<p>  - change all links to the stable documentation
</p>
<p>  - doc auto redirects  to v2.LATEST-STABLE
</p>
<p>News:
</p>
<p>        comp.music.research
        comp.os.linux.announce
</p>
<p>        comp.text.tex
        rec.music.compose
</p>
<p>Mail:
</p>
<p>        info-lilypond@gnu.org
</p>
<p>linux-audio-announce@lists.linuxaudio.org
linux-audio-user@lists.linuxaudio.org
linux-audio-dev@lists.linuxaudio.org
</p>
<p>        tex-music@icking-music-archive.org
</p>
<p>   &mdash; non-existant?
        abcusers@blackmill.net
</p>
<p>        rosegarden-user@lists.sourceforge.net
        info-gnu@gnu.org
        noteedit-user@berlios.de
</p>
<p>        gmane.comp.audio.fomus.devel
        gmane.linux.audio.users
        gmane.linux.audio.announce
        gmane.comp.audio.rosegarden.devel
</p>
<p>Web:
</p>
<p>        lilypond.org
        freshmeat.net
        linuxfr.com
        http://www.apple.com/downloads
        harmony-central.com (news@harmony-central.com)
        versiontracker.com [auto]
        hitsquad.com [auto]
        http://www.svgx.org
</p>


<hr size="6">
<a name="Making-a-release"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Release-work" title="Beginning of this chapter or previous chapter"> &lt;&lt; Release work&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Major-release-checklist" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Major release checklist&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Release-work" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Release work&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[&nbsp; &gt; ]</td></tr></table>
<a name="Making-a-release"></a>
<h2 class="section">8.4 Making a release</h2>

<ul>
<li>
Build with GUB, and check the regtests.

</li><li>
Upload the tarballs and sh scripts.

</li><li>
(if major)
Branch MASTER to stable/2.x.

</li><li>
Make announcement.

</li></ul>



<hr size="6">
<a name="SEC_Contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Starting-with-git-1" href="#Starting-with-git">1. Starting with git</a>
  <ul class="toc">
    <li><a name="toc-Getting-the-source-code-1" href="#Getting-the-source-code">1.1 Getting the source code</a>
    <ul class="toc">
      <li><a name="toc-Git-introduction-1" href="#Git-introduction">1.1.1 Git introduction</a></li>
      <li><a name="toc-Main-source-code-1" href="#Main-source-code">1.1.2 Main source code</a></li>
      <li><a name="toc-Website-source-code-1" href="#Website-source-code">1.1.3 Website source code</a></li>
      <li><a name="toc-Documentation-translations-source-code-1" href="#Documentation-translations-source-code">1.1.4 Documentation translations source code</a></li>
      <li><a name="toc-Other-branches-1" href="#Other-branches">1.1.5 Other branches</a></li>
      <li><a name="toc-Other-locations-for-git-1" href="#Other-locations-for-git">1.1.6 Other locations for git</a></li>
      <li><a name="toc-Git-user-configuration-1" href="#Git-user-configuration">1.1.7 Git user configuration</a></li>
    </ul></li>
    <li><a name="toc-Updating-the-source-code-1" href="#Updating-the-source-code">1.2 Updating the source code</a>
    <ul class="toc">
      <li><a name="toc-Importance-of-updating-1" href="#Importance-of-updating">1.2.1 Importance of updating</a></li>
      <li><a name="toc-Updating-command" href="#Update-command">1.2.2 Updating command</a></li>
      <li><a name="toc-Resolving-conflicts-1" href="#Resolving-conflicts">1.2.3 Resolving conflicts</a></li>
    </ul></li>
    <li><a name="toc-Sharing-your-changes-1" href="#Sharing-your-changes">1.3 Sharing your changes</a>
    <ul class="toc">
      <li><a name="toc-Producing-a-patch-1" href="#Producing-a-patch">1.3.1 Producing a patch</a></li>
      <li><a name="toc-Committing-directly-1" href="#Committing-directly">1.3.2 Committing directly</a></li>
    </ul></li>
    <li><a name="toc-Advanced-git-stuff-1" href="#Advanced-git-stuff">1.4 Advanced git stuff</a>
    <ul class="toc">
      <li><a name="toc-Introduction-to-Git-concepts-1" href="#Introduction-to-Git-concepts">1.4.1 Introduction to Git concepts</a></li>
      <li><a name="toc-Git-commands-for-managing-several-branches-1" href="#Git-commands-for-managing-several-branches">1.4.2 Git commands for managing several branches</a></li>
      <li><a name="toc-Working-on-LilyPond-sources-with-several-branches-1" href="#Working-on-LilyPond-sources-with-several-branches">1.4.3 Working on LilyPond sources with several branches</a></li>
      <li><a name="toc-Git-log-1" href="#Git-log">1.4.4 Git log</a></li>
      <li><a name="toc-Applying-git-patches-1" href="#Applying-git-patches">1.4.5 Applying git patches</a></li>
    </ul></li>
    <li><a name="toc-Git-on-Windows-1" href="#Git-on-Windows">1.5 Git on Windows</a>
    <ul class="toc">
      <li><a name="toc-Background-to-nomenclature" href="#Git-on-Windows">1.5.1 Background to nomenclature</a></li>
      <li><a name="toc-Installing-git" href="#Git-on-Windows">1.5.2 Installing git</a></li>
      <li><a name="toc-Initialising-Git" href="#Git-on-Windows">1.5.3 Initialising Git</a></li>
      <li><a name="toc-Git-GUI" href="#Git-on-Windows">1.5.4 Git GUI</a></li>
      <li><a name="toc-Personalising-your-local-git-repository" href="#Git-on-Windows">1.5.5 Personalising your local git repository</a></li>
      <li><a name="toc-Checking-out-a-branch" href="#Git-on-Windows">1.5.6 Checking out a branch</a></li>
      <li><a name="toc-Updating-files-from-remote_002forigin_002fmaster" href="#Git-on-Windows">1.5.7 Updating files from remote/origin/master</a></li>
      <li><a name="toc-Editing-files" href="#Git-on-Windows">1.5.8 Editing files</a></li>
      <li><a name="toc-Sending-changes-to-remote_002forigin_002fmaster" href="#Git-on-Windows">1.5.9 Sending changes to remote/origin/master</a></li>
      <li><a name="toc-Resolving-merge-conflicts" href="#Git-on-Windows">1.5.10 Resolving merge conflicts</a></li>
      <li><a name="toc-Other-actions" href="#Git-on-Windows">1.5.11 Other actions</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Compiling-LilyPond-1" href="#Compiling-LilyPond">2. Compiling LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Compiling-from-source-1" href="#Compiling-from-source">2.1 Compiling from source</a></li>
    <li><a name="toc-Concurrent-Stable-and-Development-Versions-1" href="#Concurrent-Stable-and-Development-Versions">2.2 Concurrent Stable and Development Versions</a></li>
  </ul></li>
  <li><a name="toc-Documentation-work-1" href="#Documentation-work">3. Documentation work</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-documentation-work-1" href="#Introduction-to-documentation-work">3.1 Introduction to documentation work</a></li>
    <li><a name="toc-Documentation-suggestions-1" href="#Documentation-suggestions">3.2 Documentation suggestions</a></li>
    <li><a name="toc-Texinfo-introduction-and-usage-policy-1" href="#Texinfo-introduction-and-usage-policy">3.3 Texinfo introduction and usage policy</a>
    <ul class="toc">
      <li><a name="toc-Texinfo-introduction-1" href="#Texinfo-introduction">3.3.1 Texinfo introduction</a></li>
      <li><a name="toc-Documentation-files-1" href="#Documentation-files">3.3.2 Documentation files</a></li>
      <li><a name="toc-Sectioning-commands-1" href="#Sectioning-commands">3.3.3 Sectioning commands</a></li>
      <li><a name="toc-LilyPond-formatting-1" href="#LilyPond-formatting">3.3.4 LilyPond formatting</a></li>
      <li><a name="toc-Text-formatting-1" href="#Text-formatting">3.3.5 Text formatting</a></li>
      <li><a name="toc-Syntax-survey-1" href="#Syntax-survey">3.3.6 Syntax survey</a></li>
      <li><a name="toc-Other-text-concerns-1" href="#Other-text-concerns">3.3.7 Other text concerns</a></li>
    </ul></li>
    <li><a name="toc-Documentation-policy-1" href="#Documentation-policy">3.4 Documentation policy</a>
    <ul class="toc">
      <li><a name="toc-Books-1" href="#Books">3.4.1 Books</a></li>
      <li><a name="toc-Section-organization-1" href="#Section-organization">3.4.2 Section organization</a></li>
      <li><a name="toc-Checking-cross_002dreferences-1" href="#Checking-cross_002dreferences">3.4.3 Checking cross-references</a></li>
      <li><a name="toc-General-writing-1" href="#General-writing">3.4.4 General writing</a></li>
      <li><a name="toc-Technical-writing-style-1" href="#Technical-writing-style">3.4.5 Technical writing style</a></li>
    </ul></li>
    <li><a name="toc-Tips-for-writing-docs-1" href="#Tips-for-writing-docs">3.5 Tips for writing docs</a></li>
    <li><a name="toc-Updating-doc-with-convert_002dly" href="#Updating-docs-with-convert_002dly">3.6 Updating doc with <code>convert-ly</code></a></li>
    <li><a name="toc-Translating-the-documentation-1" href="#Translating-the-documentation">3.7 Translating the documentation</a>
    <ul class="toc">
      <li><a name="toc-Getting-started-with-documentation-translation-1" href="#Getting-started-with-documentation-translation">3.7.1 Getting started with documentation translation</a>
      <ul class="toc">
        <li><a name="toc-Translation-requirements-1" href="#Translation-requirements">Translation requirements</a></li>
        <li><a name="toc-Which-documentation-can-be-translated-1" href="#Which-documentation-can-be-translated">Which documentation can be translated</a></li>
        <li><a name="toc-Starting-translation-in-a-new-language-1" href="#Starting-translation-in-a-new-language">Starting translation in a new language</a></li>
      </ul></li>
      <li><a name="toc-Documentation-translation-details-1" href="#Documentation-translation-details">3.7.2 Documentation translation details</a>
      <ul class="toc">
        <li><a name="toc-Files-to-be-translated-1" href="#Files-to-be-translated">Files to be translated</a></li>
        <li><a name="toc-Translating-the-Learning-Manual-and-other-Texinfo-documentation-1" href="#Translating-the-Learning-Manual-and-other-Texinfo-documentation">Translating the Learning Manual and other Texinfo documentation</a></li>
        <li><a name="toc-Translating-the-Notation-Reference-and-Application-Usage-1" href="#Translating-the-Notation-Reference-and-Application-Usage">Translating the Notation Reference and Application Usage</a></li>
        <li><a name="toc-Translating-the-Documentation-index-index_002ehtml_002ein-1" href="#Translating-the-Documentation-index-index_002ehtml_002ein">Translating the Documentation index &lsquo;<tt>index.html.in</tt>&rsquo;</a></li>
      </ul></li>
      <li><a name="toc-Documentation-translation-maintenance-1" href="#Documentation-translation-maintenance">3.7.3 Documentation translation maintenance</a>
      <ul class="toc">
        <li><a name="toc-Check-state-of-translation-1" href="#Check-state-of-translation">Check state of translation</a></li>
        <li><a name="toc-Updating-documentation-translation-1" href="#Updating-documentation-translation">Updating documentation translation</a></li>
      </ul></li>
      <li><a name="toc-Translations-management-policies-1" href="#Translations-management-policies">3.7.4 Translations management policies</a>
      <ul class="toc">
        <li><a name="toc-Maintaining-without-updating-translations-1" href="#Maintaining-without-updating-translations">Maintaining without updating translations</a></li>
        <li><a name="toc-Managing-documentation-translation-with-Git-1" href="#Managing-documentation-translation-with-Git">Managing documentation translation with Git</a></li>
      </ul></li>
      <li><a name="toc-Technical-background-1" href="#Technical-background">3.7.5 Technical background</a></li>
      <li><a name="toc-Translation-status-1" href="#Translation-status">3.7.6 Translation status</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Website-work-1" href="#Website-work">4. Website work</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-website-work-1" href="#Introduction-to-website-work">4.1 Introduction to website work</a></li>
    <li><a name="toc-Translating-the-website-1" href="#Translating-the-website">4.2 Translating the website</a></li>
  </ul></li>
  <li><a name="toc-LSR-work-1" href="#LSR-work">5. LSR work</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-LSR-1" href="#Introduction-to-LSR">5.1 Introduction to LSR</a></li>
    <li><a name="toc-Adding-and-editing-snippets-1" href="#Adding-and-editing-snippets">5.2 Adding and editing snippets</a></li>
    <li><a name="toc-Approving-snippets-1" href="#Approving-snippets">5.3 Approving snippets</a></li>
    <li><a name="toc-LSR-to-Git-1" href="#LSR-to-Git">5.4 LSR to Git</a></li>
    <li><a name="toc-Fixing-snippets-in-LilyPond-sources-1" href="#Fixing-snippets-in-LilyPond-sources">5.5 Fixing snippets in LilyPond sources</a></li>
    <li><a name="toc-Updating-LSR-to-a-new-version-1" href="#Updating-LSR-to-a-new-version">5.6 Updating LSR to a new version</a></li>
  </ul></li>
  <li><a name="toc-Issues-1" href="#Issues">6. Issues</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-issues-1" href="#Introduction-to-issues">6.1 Introduction to issues</a></li>
    <li><a name="toc-Issue-classification-1" href="#Issue-classification">6.2 Issue classification</a></li>
    <li><a name="toc-Adding-issues-to-the-tracker-1" href="#Adding-issues-to-the-tracker">6.3 Adding issues to the tracker</a></li>
  </ul></li>
  <li><a name="toc-Programming-work-1" href="#Programming-work">7. Programming work</a>
  <ul class="toc">
    <li><a name="toc-Overview-of-LilyPond-architecture-1" href="#Overview-of-LilyPond-architecture">7.1 Overview of LilyPond architecture</a></li>
    <li><a name="toc-LilyPond-programming-languages-1" href="#LilyPond-programming-languages">7.2 LilyPond programming languages</a>
    <ul class="toc">
      <li><a name="toc-C_002b_002b" href="#LilyPond-programming-languages">7.2.1 C++</a></li>
      <li><a name="toc-GNU-Bison" href="#LilyPond-programming-languages">7.2.2 GNU Bison</a></li>
      <li><a name="toc-GNU-Make" href="#LilyPond-programming-languages">7.2.3 GNU Make</a></li>
      <li><a name="toc-GUILE-or-Scheme" href="#LilyPond-programming-languages">7.2.4 GUILE or Scheme</a></li>
      <li><a name="toc-MetaFont" href="#LilyPond-programming-languages">7.2.5 MetaFont</a></li>
      <li><a name="toc-PostScript" href="#LilyPond-programming-languages">7.2.6 PostScript</a></li>
      <li><a name="toc-Python" href="#LilyPond-programming-languages">7.2.7 Python</a></li>
    </ul></li>
    <li><a name="toc-Programming-without-compiling-1" href="#Programming-without-compiling">7.3 Programming without compiling</a>
    <ul class="toc">
      <li><a name="toc-Modifying-distribution-files" href="#Programming-without-compiling">7.3.1 Modifying distribution files</a></li>
      <li><a name="toc-Desired-file-formatting" href="#Programming-without-compiling">7.3.2 Desired file formatting</a></li>
    </ul></li>
    <li><a name="toc-Finding-functions-1" href="#Finding-functions">7.4 Finding functions</a>
    <ul class="toc">
      <li><a name="toc-Using-the-ROADMAP" href="#Finding-functions">7.4.1 Using the ROADMAP</a></li>
      <li><a name="toc-Using-grep-to-search" href="#Finding-functions">7.4.2 Using grep to search</a></li>
      <li><a name="toc-Using-git-grep-to-search" href="#Finding-functions">7.4.3 Using git grep to search</a></li>
      <li><a name="toc-Searching-on-the-git-repository-at-Savannah" href="#Finding-functions">7.4.4 Searching on the git repository at Savannah</a></li>
    </ul></li>
    <li><a name="toc-Code-style-1" href="#Code-style">7.5 Code style</a>
    <ul class="toc">
      <li><a name="toc-Handling-errors" href="#Code-style">7.5.1 Handling errors</a></li>
      <li><a name="toc-Languages" href="#Code-style">7.5.2 Languages</a></li>
      <li><a name="toc-Filenames" href="#Code-style">7.5.3 Filenames</a></li>
      <li><a name="toc-Indentation" href="#Code-style">7.5.4 Indentation</a></li>
      <li><a name="toc-Classes-and-Types" href="#Code-style">7.5.5 Classes and Types</a></li>
      <li><a name="toc-Members" href="#Code-style">7.5.6 Members</a></li>
      <li><a name="toc-Macros" href="#Code-style">7.5.7 Macros</a></li>
      <li><a name="toc-Broken-code" href="#Code-style">7.5.8 Broken code</a></li>
      <li><a name="toc-Naming" href="#Code-style">7.5.9 Naming</a></li>
      <li><a name="toc-Messages" href="#Code-style">7.5.10 Messages</a></li>
      <li><a name="toc-Localization" href="#Code-style">7.5.11 Localization</a></li>
    </ul></li>
    <li><a name="toc-Debugging-LilyPond-1" href="#Debugging-LilyPond">7.6 Debugging LilyPond</a>
    <ul class="toc">
      <li><a name="toc-Debugging-overview" href="#Debugging-LilyPond">7.6.1 Debugging overview</a></li>
      <li><a name="toc-Compiling-with-debugging-information" href="#Debugging-LilyPond">7.6.2 Compiling with debugging information</a></li>
      <li><a name="toc-Typical-gdb-usage" href="#Debugging-LilyPond">7.6.3 Typical gdb usage</a></li>
      <li><a name="toc-Typical-_002egdbinit-files" href="#Debugging-LilyPond">7.6.4 Typical .gdbinit files</a></li>
      <li><a name="toc-Using-Guile-interactively-with-LilyPond" href="#Debugging-LilyPond">7.6.5 Using Guile interactively with LilyPond</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Release-work-1" href="#Release-work">8. Release work</a>
  <ul class="toc">
    <li><a name="toc-Development-phases-1" href="#Development-phases">8.1 Development phases</a></li>
    <li><a name="toc-Minor-release-checklist-1" href="#Minor-release-checklist">8.2 Minor release checklist</a></li>
    <li><a name="toc-Major-release-checklist-1" href="#Major-release-checklist">8.3 Major release checklist</a></li>
    <li><a name="toc-Making-a-release-1" href="#Making-a-release">8.4 Making a release</a></li>
  </ul>
</li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>Graham Percival</em> on <em>January 13, 2010</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
Cette page documente LilyPond-2.12.3 (branche stable).
</p>
<p class="footer_report">
Vos <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions  propos de la documentation</a> sont les bienvenues ;
signalez tout bogue en franais  la <a href=\"http://n2.nabble.com/LilyPond-French-Users-f1298960.html\">liste
francophone des utilisateurs</a> ou en anglais  la <a href=\"http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs\">liste des
utilisateurs</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="index.fr.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="#index" title="Start of the manual">Contributor&rsquo;s Guide</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Starting-with-git-1" href="contrib-guide-big-page.fr.html#Starting-with-git">1. Starting with git</a>
  <ul class="toc">
    <li><a name="toc-Getting-the-source-code-1" href="contrib-guide-big-page.fr.html#Getting-the-source-code">1.1 Getting the source code</a>    </li>
    <li><a name="toc-Updating-the-source-code-1" href="contrib-guide-big-page.fr.html#Updating-the-source-code">1.2 Updating the source code</a>    </li>
    <li><a name="toc-Sharing-your-changes-1" href="contrib-guide-big-page.fr.html#Sharing-your-changes">1.3 Sharing your changes</a>    </li>
    <li><a name="toc-Advanced-git-stuff-1" href="contrib-guide-big-page.fr.html#Advanced-git-stuff">1.4 Advanced git stuff</a>    </li>
    <li><a name="toc-Git-on-Windows-1" href="contrib-guide-big-page.fr.html#Git-on-Windows">1.5 Git on Windows</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Compiling-LilyPond-1" href="contrib-guide-big-page.fr.html#Compiling-LilyPond">2. Compiling LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Compiling-from-source-1" href="contrib-guide-big-page.fr.html#Compiling-from-source">2.1 Compiling from source</a>    </li>
    <li><a name="toc-Concurrent-Stable-and-Development-Versions-1" href="contrib-guide-big-page.fr.html#Concurrent-Stable-and-Development-Versions">2.2 Concurrent Stable and Development Versions</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Documentation-work-1" href="contrib-guide-big-page.fr.html#Documentation-work">3. Documentation work</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-documentation-work-1" href="contrib-guide-big-page.fr.html#Introduction-to-documentation-work">3.1 Introduction to documentation work</a>    </li>
    <li><a name="toc-Documentation-suggestions-1" href="contrib-guide-big-page.fr.html#Documentation-suggestions">3.2 Documentation suggestions</a>    </li>
    <li><a name="toc-Texinfo-introduction-and-usage-policy-1" href="contrib-guide-big-page.fr.html#Texinfo-introduction-and-usage-policy">3.3 Texinfo introduction and usage policy</a>    </li>
    <li><a name="toc-Documentation-policy-1" href="contrib-guide-big-page.fr.html#Documentation-policy">3.4 Documentation policy</a>    </li>
    <li><a name="toc-Tips-for-writing-docs-1" href="contrib-guide-big-page.fr.html#Tips-for-writing-docs">3.5 Tips for writing docs</a>    </li>
    <li><a name="toc-Updating-doc-with-convert_002dly" href="contrib-guide-big-page.fr.html#Updating-docs-with-convert_002dly">3.6 Updating doc with <code>convert-ly</code></a>    </li>
    <li><a name="toc-Translating-the-documentation-1" href="contrib-guide-big-page.fr.html#Translating-the-documentation">3.7 Translating the documentation</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Website-work-1" href="contrib-guide-big-page.fr.html#Website-work">4. Website work</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-website-work-1" href="contrib-guide-big-page.fr.html#Introduction-to-website-work">4.1 Introduction to website work</a>    </li>
    <li><a name="toc-Translating-the-website-1" href="contrib-guide-big-page.fr.html#Translating-the-website">4.2 Translating the website</a>    </li>
  </ul>
  </li>
  <li><a name="toc-LSR-work-1" href="contrib-guide-big-page.fr.html#LSR-work">5. LSR work</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-LSR-1" href="contrib-guide-big-page.fr.html#Introduction-to-LSR">5.1 Introduction to LSR</a>    </li>
    <li><a name="toc-Adding-and-editing-snippets-1" href="contrib-guide-big-page.fr.html#Adding-and-editing-snippets">5.2 Adding and editing snippets</a>    </li>
    <li><a name="toc-Approving-snippets-1" href="contrib-guide-big-page.fr.html#Approving-snippets">5.3 Approving snippets</a>    </li>
    <li><a name="toc-LSR-to-Git-1" href="contrib-guide-big-page.fr.html#LSR-to-Git">5.4 LSR to Git</a>    </li>
    <li><a name="toc-Fixing-snippets-in-LilyPond-sources-1" href="contrib-guide-big-page.fr.html#Fixing-snippets-in-LilyPond-sources">5.5 Fixing snippets in LilyPond sources</a>    </li>
    <li><a name="toc-Updating-LSR-to-a-new-version-1" href="contrib-guide-big-page.fr.html#Updating-LSR-to-a-new-version">5.6 Updating LSR to a new version</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Issues-1" href="contrib-guide-big-page.fr.html#Issues">6. Issues</a>
  <ul class="toc">
    <li><a name="toc-Introduction-to-issues-1" href="contrib-guide-big-page.fr.html#Introduction-to-issues">6.1 Introduction to issues</a>    </li>
    <li><a name="toc-Issue-classification-1" href="contrib-guide-big-page.fr.html#Issue-classification">6.2 Issue classification</a>    </li>
    <li><a name="toc-Adding-issues-to-the-tracker-1" href="contrib-guide-big-page.fr.html#Adding-issues-to-the-tracker">6.3 Adding issues to the tracker</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Programming-work-1" href="contrib-guide-big-page.fr.html#Programming-work">7. Programming work</a>
  <ul class="toc">
    <li><a name="toc-Overview-of-LilyPond-architecture-1" href="contrib-guide-big-page.fr.html#Overview-of-LilyPond-architecture">7.1 Overview of LilyPond architecture</a>    </li>
    <li><a name="toc-LilyPond-programming-languages-1" href="contrib-guide-big-page.fr.html#LilyPond-programming-languages">7.2 LilyPond programming languages</a>    </li>
    <li><a name="toc-Programming-without-compiling-1" href="contrib-guide-big-page.fr.html#Programming-without-compiling">7.3 Programming without compiling</a>    </li>
    <li><a name="toc-Finding-functions-1" href="contrib-guide-big-page.fr.html#Finding-functions">7.4 Finding functions</a>    </li>
    <li><a name="toc-Code-style-1" href="contrib-guide-big-page.fr.html#Code-style">7.5 Code style</a>    </li>
    <li><a name="toc-Debugging-LilyPond-1" href="contrib-guide-big-page.fr.html#Debugging-LilyPond">7.6 Debugging LilyPond</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Release-work-1" href="contrib-guide-big-page.fr.html#Release-work">8. Release work</a>
  <ul class="toc">
    <li><a name="toc-Development-phases-1" href="contrib-guide-big-page.fr.html#Development-phases">8.1 Development phases</a>    </li>
    <li><a name="toc-Minor-release-checklist-1" href="contrib-guide-big-page.fr.html#Minor-release-checklist">8.2 Minor release checklist</a>    </li>
    <li><a name="toc-Major-release-checklist-1" href="contrib-guide-big-page.fr.html#Major-release-checklist">8.3 Major release checklist</a>    </li>
    <li><a name="toc-Making-a-release-1" href="contrib-guide-big-page.fr.html#Making-a-release">8.4 Making a release</a>    </li>
  </ul>
  </li>
</ul>
</div>
</div>

</body>
</html>
