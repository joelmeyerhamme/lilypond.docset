<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2009 bei den Autoren

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

Die Übersetzung der folgenden Lizenzanmerkung ist zur Orientierung
für Leser, die nicht Englisch sprechen. Im rechtlichen Sinne ist aber
nur die englische Version gültig.

Es ist erlaubt, dieses Dokument unter den Bedingungen der
GNU Free Documentation Lizenz (Version 1.1 oder
spätere, von der Free Software Foundation publizierte Versionen, ohne Invariante Abschnitte),
zu kopieren, verbreiten und/oder
zu verändern. Eine Kopie der Lizenz ist im Abschnitt "GNU
Free Documentation License" angefügt.


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on 13. Januar 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond Handbuch zum Lernen: 4.6.5 Fortgeschrittene Optimierungen mit Scheme</title>

<meta name="description" content="GNU LilyPond Handbuch zum Lernen: 4.6.5 Advanced tweaks with Scheme">
<meta name="keywords" content="GNU LilyPond Handbuch zum Lernen: 4.6.5 Advanced tweaks with Scheme">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.de.html#Top" rel="start" title="GNU LilyPond &ndash; Handbuch zum Lernen">
<link href="LilyPond-index.de.html#LilyPond-index" rel="index" title="D. LilyPond index">
<link href="index_toc.de.html#SEC_Contents" rel="contents" title="Inhaltsverzeichnis">
<link href="index_abt.de.html#SEC_About" rel="help" title="&Uuml;ber dieses Dokument">
<link href="Further-tweaking.de.html#Further-tweaking" rel="up" title="4.6 Further tweaking">
<link href="LilyPond-index.de.html#LilyPond-index" rel="next" title="D. LilyPond index">
<link href="Avoiding-tweaks-with-slower-processing.de.html#Avoiding-tweaks-with-slower-processing" rel="previous" title="4.6.4 Avoiding tweaks with slower processing">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="de" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Advanced-tweaks-with-Scheme"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Tweaking-output.de.html#Tweaking-output" title="Anfang dieses oder des letzten Kapitels"> &lt;&lt; Die Ausgabe verändern&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.de.html#Top" title="Titelseite des Dokuments" rel="start">Anfang</a>][<a href="index_toc.de.html#SEC_Contents" title="Inhaltsverzeichnis" rel="contents">Inhalt</a>][<a href="LilyPond-index.de.html#LilyPond-index" title="Index" rel="index">Index</a>][<a href="index_abt.de.html#SEC_About" title="&Uuml;ber (Hilfe)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Working-on-LilyPond-projects.de.html#Working-on-LilyPond-projects" title="N&auml;chstes Kapitel">&nbsp;An LilyPond-Projekten arbeiten &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Avoiding-tweaks-with-slower-processing.de.html#Avoiding-tweaks-with-slower-processing" title="Voriger Abschnitt in Lesereihenfolge" accesskey="p" rel="previous"> &lt; Vermeiden von Optimierungen durch langsamere Übersetzung&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Further-tweaking.de.html#Further-tweaking" title="Abschnitt nach oben" accesskey="u" rel="up">&nbsp; Nach oben :&nbsp;Weitere Optimierungen&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Working-on-LilyPond-projects.de.html#Working-on-LilyPond-projects" title="N&auml;chster Abschnitt in Lesereihenfolge" accesskey="n" rel="next">&nbsp;An LilyPond-Projekten arbeiten &gt; </a>]</td></tr></table>
<a name="Advanced-tweaks-with-Scheme"></a>
<h3 class="subsection">4.6.5 Fortgeschrittene Optimierungen mit Scheme</h3>

<p>Auch wenn viele Sachen mit <code>\override</code> und <code>\tweak</code>
möglich sind, gibt es eine sehr viel mächtigere Möglichkeit, die
Arbeitsweise von LilyPond mit Hilfe der programmierbaren Schnittstelle
zu beeinflussen.  Code, der in der Scheme-Programmiersprache
geschrieben ist, kann direkt in die interne Satzmaschine von LilyPond
eingefügt werden.  Natürlich brauchen Sie dazu wenigstens ein
grundlegendes Verständnis von Scheme.  Eine Einleitung finden
Sie in der <a href="Scheme-tutorial.de.html#Scheme-tutorial">Scheme-Übung</a>.
</p>
<p>Zur Illustration der vielen Möglichkeiten soll gezeigt werden, dass eine
Eigenschaft nicht nur auf eine Konstante, sondern auch auf eine
Scheme-Prozedur gesetzt werden kann, die dann jedes Mal
aufgerufen wird, wenn die Eigenschaft von LilyPond benutzt
wird.  Die Eigenschaft kann damit dynamisch auf einen Wert
gesetzt werden, der durch die Prozedur jedes Mal neu bestimmt
wird.  In diesem Beispiel wird die Farbe der Notenköpfe entsprechend
zu ihrer Position innerhalb der Tonleiter gesetzt.
</p>
<a name="index-x11_002dFarben_002c-Beispiel-zur-Benutzung"></a>
<a name="index-Notenkopf_002c-Beispiel-zur-Veranderung-1"></a>
<a name="index-Farb_002dEigenschaft_002c-in-Scheme_002dProzedur-gesetzt"></a>

<blockquote><pre class="verbatim">#(define (color-notehead grob)
  &quot;Color the notehead according to its position on the staff.&quot;
  (let ((mod-position (modulo (ly:grob-property grob 'staff-position) 7)))
    (case mod-position
      ;;   Return rainbow colors
      ((1) (x11-color 'red    ))  ; for C
      ((2) (x11-color 'orange ))  ; for D
      ((3) (x11-color 'yellow ))  ; for E
      ((4) (x11-color 'green  ))  ; for F
      ((5) (x11-color 'blue   ))  ; for G
      ((6) (x11-color 'purple ))  ; for A
      ((0) (x11-color 'violet ))  ; for B
    )
  )
)

\relative c' {
  % Anordnungen um Farbe von der color-notehead-Prozedur zu erhalten
  \override NoteHead #'color = #color-notehead
  c2 c' |
  b4 g8 a b4 c |
  c,2 a' |
  g1 |
}
\addlyrics {
  Some -- where o -- ver the Rain -- bow, way up high,
}
</pre><p>
 <a href="../05/lily-b6ef49f4.ly">
  <img align="middle"
       border="0"
       src="../05/lily-b6ef49f4.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Weiter Beispiele, die die Benutzung dieser programmierbaren
Schnittstelle zeigen, finden sich in <a href="Tweaking-with-Scheme.de.html#Tweaking-with-Scheme">Optimierungen mit Scheme</a>.
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Tweaking-output.de.html#Tweaking-output" title="Anfang dieses oder des letzten Kapitels"> &lt;&lt; Die Ausgabe verändern&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.de.html#Top" title="Titelseite des Dokuments" rel="start">Anfang</a>][<a href="index_toc.de.html#SEC_Contents" title="Inhaltsverzeichnis" rel="contents">Inhalt</a>][<a href="LilyPond-index.de.html#LilyPond-index" title="Index" rel="index">Index</a>][<a href="index_abt.de.html#SEC_About" title="&Uuml;ber (Hilfe)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Working-on-LilyPond-projects.de.html#Working-on-LilyPond-projects" title="N&auml;chstes Kapitel">&nbsp;An LilyPond-Projekten arbeiten &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Avoiding-tweaks-with-slower-processing.de.html#Avoiding-tweaks-with-slower-processing" title="Voriger Abschnitt in Lesereihenfolge" accesskey="p" rel="previous"> &lt; Vermeiden von Optimierungen durch langsamere Übersetzung&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Further-tweaking.de.html#Further-tweaking" title="Abschnitt nach oben" accesskey="u" rel="up">&nbsp; Nach oben :&nbsp;Weitere Optimierungen&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Working-on-LilyPond-projects.de.html#Working-on-LilyPond-projects" title="N&auml;chster Abschnitt in Lesereihenfolge" accesskey="n" rel="next">&nbsp;An LilyPond-Projekten arbeiten &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
Diese Seite ist für LilyPond-2.12.3 (stabiler Zweig).
</p>
<p class="footer_report">
Ihre <a href="http://lilypond.org/web/devel/participating/documentation-adding">Vorschläge für die Dokumentation</a> sind willkommen. Bitte melden Sie Probleme und Fehler an unsere <a·href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">Fehler-Liste</a>.
</p>
</div>


<p id="languages">
 Andere Sprachen: <a href="Advanced-tweaks-with-Scheme.html">English</a>, <a href="Advanced-tweaks-with-Scheme.fr.html">français</a>, <a href="Advanced-tweaks-with-Scheme.es.html">español</a>.
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.de.html" 
         title="Documentation Index">&lt;&lt; Zur Dokumentationsübersicht</a></p>
<h4 class="toc_header"><a href="index.de.html#Top" title="Start of the manual">Handbuch zum Lernen</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Preface-1" href="Preface.de.html#Preface">Vorwort</a>  </li>
  <li><a name="toc-Introduction-1" href="Introduction.de.html#Introduction">1. Einleitung</a>
  <ul class="toc">
    <li><a name="toc-Background-1" href="Background.de.html#Background">1.1 Hintergrund</a>    </li>
    <li><a name="toc-About-the-documentation-1" href="About-the-documentation.de.html#About-the-documentation">1.2 Über die Dokumentation</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Tutorial-1" href="Tutorial.de.html#Tutorial">2. Übung</a>
  <ul class="toc">
    <li><a name="toc-First-steps-1" href="First-steps.de.html#First-steps">2.1 Erste Schritte</a>    </li>
    <li><a name="toc-Single-staff-notation-1" href="Single-staff-notation.de.html#Single-staff-notation">2.2 Notation auf einem System</a>    </li>
    <li><a name="toc-Multiple-notes-at-once-1" href="Multiple-notes-at-once.de.html#Multiple-notes-at-once">2.3 Mehrere Noten auf einmal</a>    </li>
    <li><a name="toc-Songs-1" href="Songs.de.html#Songs">2.4 Lieder</a>    </li>
    <li><a name="toc-Final-touches-1" href="Final-touches.de.html#Final-touches">2.5 Letzter Schliff</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Fundamental-concepts-1" href="Fundamental-concepts.de.html#Fundamental-concepts">3. Grundbegriffe</a>
  <ul class="toc">
    <li><a name="toc-How-LilyPond-input-files-work-1" href="How-LilyPond-input-files-work.de.html#How-LilyPond-input-files-work">3.1 Wie eine LilyPond-Eingabe-Datei funktioniert</a>    </li>
    <li><a name="toc-Voices-contain-music-1" href="Voices-contain-music.de.html#Voices-contain-music">3.2 Voice enthält Noten</a>    </li>
    <li><a name="toc-Contexts-and-engravers-1" href="Contexts-and-engravers.de.html#Contexts-and-engravers">3.3 Kontexte und Engraver</a>    </li>
    <li><a name="toc-Extending-the-templates-1" href="Extending-the-templates.de.html#Extending-the-templates">3.4 Erweiterung der Beispiele</a>    </li>
  </ul>
  </li>
  <li class="toc_current"><a name="toc-Tweaking-output-1" href="Tweaking-output.de.html#Tweaking-output">4. Die Ausgabe verändern</a>
  <ul class="toc">
    <li><a name="toc-Tweaking-basics-1" href="Tweaking-basics.de.html#Tweaking-basics">4.1 Grundlagen für die Optimierung</a>    </li>
    <li><a name="toc-The-Internals-Reference-manual-1" href="The-Internals-Reference-manual.de.html#The-Internals-Reference-manual">4.2 Die Referenz der Programminterna</a>    </li>
    <li><a name="toc-Appearance-of-objects-1" href="Appearance-of-objects.de.html#Appearance-of-objects">4.3 Erscheinung von Objekten</a>    </li>
    <li><a name="toc-Placement-of-objects-1" href="Placement-of-objects.de.html#Placement-of-objects">4.4 Positionierung von Objekten</a>    </li>
    <li><a name="toc-Collisions-of-objects-1" href="Collisions-of-objects.de.html#Collisions-of-objects">4.5 Kollision von Objekten</a>    </li>
    <li class="toc_current"><a name="toc-Further-tweaking-1" href="Further-tweaking.de.html#Further-tweaking">4.6 Weitere Optimierungen</a>
    <ul class="toc">
      <li><a name="toc-Other-uses-for-tweaks-1" href="Other-uses-for-tweaks.de.html#Other-uses-for-tweaks">4.6.1 Andere Benutzung von Optimierungen</a>      </li>
      <li><a name="toc-Using-variables-for-tweaks-1" href="Using-variables-for-tweaks.de.html#Using-variables-for-tweaks">4.6.2 Variablen für Optimierungen einsetzen</a>      </li>
      <li><a name="toc-Other-sources-of-information-1" href="Other-sources-of-information.de.html#Other-sources-of-information">4.6.3 Mehr Information</a>      </li>
      <li><a name="toc-Avoiding-tweaks-with-slower-processing-1" href="Avoiding-tweaks-with-slower-processing.de.html#Avoiding-tweaks-with-slower-processing">4.6.4 Vermeiden von Optimierungen durch langsamere Übersetzung</a>      </li>
      <li class="toc_current"><a name="toc-Advanced-tweaks-with-Scheme-1" href="Advanced-tweaks-with-Scheme.de.html#Advanced-tweaks-with-Scheme">4.6.5 Fortgeschrittene Optimierungen mit Scheme</a>      </li>
    </ul>
    </li>
  </ul>
  </li>
  <li><a name="toc-Working-on-LilyPond-projects-1" href="Working-on-LilyPond-projects.de.html#Working-on-LilyPond-projects">5. An LilyPond-Projekten arbeiten</a>
  <ul class="toc">
    <li><a name="toc-Suggestions-for-writing-LilyPond-input-files-1" href="Suggestions-for-writing-LilyPond-input-files.de.html#Suggestions-for-writing-LilyPond-input-files">5.1 Vorschläge, wie LilyPond-Eingabe-Dateien geschrieben werden sollen</a>    </li>
    <li><a name="toc-When-things-don_0027t-work-1" href="When-things-don_0027t-work.de.html#When-things-don_0027t-work">5.2 Wenn etwas nicht funktioniert</a>    </li>
    <li><a name="toc-Scores-and-parts-1" href="Scores-and-parts.de.html#Scores-and-parts">5.3 Partituren und Stimmen</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Templates-1" href="Templates.de.html#Templates">A. Vorlagen</a>
  <ul class="toc">
    <li><a name="toc-Single-staff-1" href="Single-staff.de.html#Single-staff">A.1 Ein einzelnes System</a>    </li>
    <li><a name="toc-Piano-templates-1" href="Piano-templates.de.html#Piano-templates">A.2 Klaviervorlagen</a>    </li>
    <li><a name="toc-String-quartet-2" href="String-quartet.de.html#String-quartet">A.3 Streichquartett</a>    </li>
    <li><a name="toc-Vocal-ensembles-1" href="Vocal-ensembles.de.html#Vocal-ensembles">A.4 Vokalensemble</a>    </li>
    <li><a name="toc-Ancient-notation-templates-1" href="Ancient-notation-templates.de.html#Ancient-notation-templates">A.5 Vorlagen für alte Notation</a>    </li>
    <li><a name="toc-Jazz-combo-1" href="Jazz-combo.de.html#Jazz-combo">A.6 Jazz-Combo</a>    </li>
    <li><a name="toc-Lilypond_002dbook-templates-1" href="Lilypond_002dbook-templates.de.html#Lilypond_002dbook-templates">A.7 Lilypond-book-Vorlagen</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Scheme-tutorial-1" href="Scheme-tutorial.de.html#Scheme-tutorial">B. Scheme-Übung</a>
  <ul class="toc">
    <li><a name="toc-Tweaking-with-Scheme-1" href="Tweaking-with-Scheme.de.html#Tweaking-with-Scheme">B.1 Optimierungen mit Scheme</a>    </li>
  </ul>
  </li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="GNU-Free-Documentation-License.de.html#GNU-Free-Documentation-License">C. GNU Free Documentation License</a>  </li>
  <li><a name="toc-LilyPond-index-1" href="LilyPond-index.de.html#LilyPond-index">D. LilyPond-Index</a>  </li>
</ul>
</div>
</div>

</body>
</html>
