<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2009 por los autores

La traducción de la siguiente nota de copyright se ofrece como
cortesía para las personas de habla no inglesa, pero únicamente la
nota en inglés tiene validez legal.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

Se otorga permiso para copiar, distribuir y/o modificar este documento
bajo los términos de la Licencia de Documentación Libre de GNU, versión 1.1
o cualquier versión posterior publicada por la Free Software Foundation;
sin ninguna de las secciones invariantes.
Se incluye una copia de esta licencia dentro de la sección titulada "Licencia
de Documentación Libre de GNU".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on el 13 enero 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Manual de aprendizaje de GNU LilyPond: 4.6.5 Trucos avanzados con Scheme</title>

<meta name="description" content="Manual de aprendizaje de GNU LilyPond: 4.6.5 Advanced tweaks with Scheme">
<meta name="keywords" content="Manual de aprendizaje de GNU LilyPond: 4.6.5 Advanced tweaks with Scheme">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.es.html#Top" rel="start" title="GNU LilyPond: Manual de aprendizaje">
<link href="LilyPond-index.es.html#LilyPond-index" rel="index" title="D. LilyPond index">
<link href="index_toc.es.html#SEC_Contents" rel="contents" title="&Iacute;ndice General">
<link href="index_abt.es.html#SEC_About" rel="help" title="Acerca de este documento">
<link href="Further-tweaking.es.html#Further-tweaking" rel="up" title="4.6 Further tweaking">
<link href="LilyPond-index.es.html#LilyPond-index" rel="next" title="D. LilyPond index">
<link href="Avoiding-tweaks-with-slower-processing.es.html#Avoiding-tweaks-with-slower-processing" rel="previous" title="4.6.4 Avoiding tweaks with slower processing">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="es" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Advanced-tweaks-with-Scheme"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Tweaking-output.es.html#Tweaking-output" title="Inicio de este cap&iacute;tulo o cap&iacute;tulo anterior"> &lt;&lt; Trucar la salida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.es.html#Top" title="Portada del documento" rel="start">Arriba</a>][<a href="index_toc.es.html#SEC_Contents" title="&Iacute;ndice general" rel="contents">&Iacute;ndice general</a>][<a href="LilyPond-index.es.html#LilyPond-index" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>][<a href="index_abt.es.html#SEC_About" title="Acerca de (p&aacute;gina de ayuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Working-on-LilyPond-projects.es.html#Working-on-LilyPond-projects" title="Cap&iacute;tulo siguiente">&nbsp;Trabajar en proyectos de LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Avoiding-tweaks-with-slower-processing.es.html#Avoiding-tweaks-with-slower-processing" title="Secci&oacute;n anterior en orden de lectura" accesskey="p" rel="previous"> &lt; Evitar los trucos con un proceso ralentizado&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Further-tweaking.es.html#Further-tweaking" title="Subir secci&oacute;n" accesskey="u" rel="up">&nbsp; Subir :&nbsp;Trucajes adicionales&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Working-on-LilyPond-projects.es.html#Working-on-LilyPond-projects" title="Secci&oacute;n siguiente en orden de lectura" accesskey="n" rel="next">&nbsp;Trabajar en proyectos de LilyPond &gt; </a>]</td></tr></table>
<a name="Advanced-tweaks-with-Scheme"></a>
<h3 class="subsection">4.6.5 Trucos avanzados con Scheme</h3>

<p>Aunque es posible hacer muchas cosas con las instrucciones
<code>\override</code> y <code>\tweak</code> , tenemos una forma incluso más
poderosa de modificar el funcionamiento de LilyPond, a través de un
interface programable hacia las operaciones internas de LilyPond.  Se
puede incorporar código escrito en el lenguaje de programación Scheme,
directamente en el mecanismo de funcionamiento de LilyPond.  Por
supuesto, para hacer esto se necesitan al menos unos conocimientos
básicos de programación en Scheme, y damos una introducción en el
<a href="Scheme-tutorial.es.html#Scheme-tutorial">Tutorial de Scheme</a>.
</p>
<p>Como ejemplo que ilustra una de las muchas posibilidades, en lugar de
dar a una propiedad un valor constante, se puede establecer al
resultado de un procedimiento de Scheme que se invoca cada vez que
LilyPond accede a esta propiedad.  La propiedad se puede establecer
dinámicamente a un valor determinado por el procedimiento en el
momento en que se invoca.  En este ejemplo damos a las cabezas de las
notas un color que depende de su posición dentro del pentagrama.
</p>
<a name="index-x11_002dcolor-function_002c-ejemplo-de-utilizacion"></a>
<a name="index-NoteHead_002c-ejemplo-de-sobreescritura-5"></a>
<a name="index-color_002c-propiedad_002c-establecer-a-procedimiento-de-Scheme"></a>

<blockquote><pre class="verbatim">#(define (color-notehead grob)
  &quot;Color the notehead according to its position on the staff.&quot;
  (let ((mod-position (modulo (ly:grob-property grob 'staff-position) 7)))
    (case mod-position
      ;;   Return rainbow colors
      ((1) (x11-color 'red    ))  ; for C
      ((2) (x11-color 'orange ))  ; for D
      ((3) (x11-color 'yellow ))  ; for E
      ((4) (x11-color 'green  ))  ; for F
      ((5) (x11-color 'blue   ))  ; for G
      ((6) (x11-color 'purple ))  ; for A
      ((0) (x11-color 'violet ))  ; for B
    )
  )
)

\relative c' {
  % Truco para obtener color a partir del procedimiento color-notehead
  \override NoteHead #'color = #color-notehead
  c2 c' |
  b4 g8 a b4 c |
  c,2 a' |
  g1 |
}
\addlyrics {
  Some -- where o -- ver the Rain -- bow, way up high,
}
</pre><p>
 <a href="../05/lily-b6ef49f4.ly">
  <img align="middle"
       border="0"
       src="../05/lily-b6ef49f4.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Se pueden encontrar ejemplos adicionales que muestran la utilización
de estos interfaces programables, en <a href="Tweaking-with-Scheme.es.html#Tweaking-with-Scheme">Trucos con Scheme</a>.
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Tweaking-output.es.html#Tweaking-output" title="Inicio de este cap&iacute;tulo o cap&iacute;tulo anterior"> &lt;&lt; Trucar la salida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.es.html#Top" title="Portada del documento" rel="start">Arriba</a>][<a href="index_toc.es.html#SEC_Contents" title="&Iacute;ndice general" rel="contents">&Iacute;ndice general</a>][<a href="LilyPond-index.es.html#LilyPond-index" title="&Iacute;ndice" rel="index">&Iacute;ndice</a>][<a href="index_abt.es.html#SEC_About" title="Acerca de (p&aacute;gina de ayuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Working-on-LilyPond-projects.es.html#Working-on-LilyPond-projects" title="Cap&iacute;tulo siguiente">&nbsp;Trabajar en proyectos de LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Avoiding-tweaks-with-slower-processing.es.html#Avoiding-tweaks-with-slower-processing" title="Secci&oacute;n anterior en orden de lectura" accesskey="p" rel="previous"> &lt; Evitar los trucos con un proceso ralentizado&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Further-tweaking.es.html#Further-tweaking" title="Subir secci&oacute;n" accesskey="u" rel="up">&nbsp; Subir :&nbsp;Trucajes adicionales&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Working-on-LilyPond-projects.es.html#Working-on-LilyPond-projects" title="Secci&oacute;n siguiente en orden de lectura" accesskey="n" rel="next">&nbsp;Trabajar en proyectos de LilyPond &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
Esta página corresponde a LilyPond-2.12.3 (rama estable).
</p>
<p class="footer_report">
Se agradecen las <a href="http://lilypond.org/web/devel/participating/documentation-adding">sugerencias para la documentación</a>. Informe de los fallos a través de la lista en español <a href="http://es.groups.yahoo.com/group/lilypond-es/">lilypond-es</a>, o en inglés a través de <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">la lista oficial de fallos</a>.
</p>
</div>


<p id="languages">
 Otros idiomas: <a href="Advanced-tweaks-with-Scheme.html">English</a>, <a href="Advanced-tweaks-with-Scheme.fr.html">français</a>, <a href="Advanced-tweaks-with-Scheme.de.html">deutsch</a>.
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.es.html" 
         title="Documentation Index">&lt;&lt; Volver al índice de la documentación</a></p>
<h4 class="toc_header"><a href="index.es.html#Top" title="Start of the manual">Manual de aprendizaje</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Preface-1" href="Preface.es.html#Preface">Preámbulo</a>  </li>
  <li><a name="toc-Introduction-1" href="Introduction.es.html#Introduction">1. Introducción</a>
  <ul class="toc">
    <li><a name="toc-Background-1" href="Background.es.html#Background">1.1 Antecedentes</a>    </li>
    <li><a name="toc-About-the-documentation-1" href="About-the-documentation.es.html#About-the-documentation">1.2 Sobre la documentación</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Tutorial-1" href="Tutorial.es.html#Tutorial">2. Tutorial</a>
  <ul class="toc">
    <li><a name="toc-First-steps-1" href="First-steps.es.html#First-steps">2.1 Primeros pasos</a>    </li>
    <li><a name="toc-Single-staff-notation-1" href="Single-staff-notation.es.html#Single-staff-notation">2.2 Notación en un solo pentagrama</a>    </li>
    <li><a name="toc-Multiple-notes-at-once-1" href="Multiple-notes-at-once.es.html#Multiple-notes-at-once">2.3 Varias notas a la vez</a>    </li>
    <li><a name="toc-Songs-1" href="Songs.es.html#Songs">2.4 Canciones</a>    </li>
    <li><a name="toc-Final-touches-1" href="Final-touches.es.html#Final-touches">2.5 Retoques finales</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Fundamental-concepts-1" href="Fundamental-concepts.es.html#Fundamental-concepts">3. Conceptos fundamentales</a>
  <ul class="toc">
    <li><a name="toc-How-LilyPond-input-files-work-1" href="How-LilyPond-input-files-work.es.html#How-LilyPond-input-files-work">3.1 Cómo funcionan los archivos de entrada de LilyPond</a>    </li>
    <li><a name="toc-Voices-contain-music-1" href="Voices-contain-music.es.html#Voices-contain-music">3.2 Las voces contienen música</a>    </li>
    <li><a name="toc-Contexts-and-engravers-1" href="Contexts-and-engravers.es.html#Contexts-and-engravers">3.3 Contextos y grabadores</a>    </li>
    <li><a name="toc-Extending-the-templates-1" href="Extending-the-templates.es.html#Extending-the-templates">3.4 Extender las plantillas</a>    </li>
  </ul>
  </li>
  <li class="toc_current"><a name="toc-Tweaking-output-1" href="Tweaking-output.es.html#Tweaking-output">4. Trucar la salida</a>
  <ul class="toc">
    <li><a name="toc-Tweaking-basics-1" href="Tweaking-basics.es.html#Tweaking-basics">4.1 Elementos de trucaje</a>    </li>
    <li><a name="toc-The-Internals-Reference-manual-1" href="The-Internals-Reference-manual.es.html#The-Internals-Reference-manual">4.2 Manual de referencia de funcionamiento interno</a>    </li>
    <li><a name="toc-Appearance-of-objects-1" href="Appearance-of-objects.es.html#Appearance-of-objects">4.3 Apariencia de los objetos</a>    </li>
    <li><a name="toc-Placement-of-objects-1" href="Placement-of-objects.es.html#Placement-of-objects">4.4 Colocación de los objetos</a>    </li>
    <li><a name="toc-Collisions-of-objects-1" href="Collisions-of-objects.es.html#Collisions-of-objects">4.5 Colisiones de objetos</a>    </li>
    <li class="toc_current"><a name="toc-Further-tweaking-1" href="Further-tweaking.es.html#Further-tweaking">4.6 Trucajes adicionales</a>
    <ul class="toc">
      <li><a name="toc-Other-uses-for-tweaks-1" href="Other-uses-for-tweaks.es.html#Other-uses-for-tweaks">4.6.1 Otras aplicaciones de los trucos</a>      </li>
      <li><a name="toc-Using-variables-for-tweaks-1" href="Using-variables-for-tweaks.es.html#Using-variables-for-tweaks">4.6.2 Uso de variables para los trucos</a>      </li>
      <li><a name="toc-Other-sources-of-information-1" href="Other-sources-of-information.es.html#Other-sources-of-information">4.6.3 Otras fuentes de información</a>      </li>
      <li><a name="toc-Avoiding-tweaks-with-slower-processing-1" href="Avoiding-tweaks-with-slower-processing.es.html#Avoiding-tweaks-with-slower-processing">4.6.4 Evitar los trucos con un proceso ralentizado</a>      </li>
      <li class="toc_current"><a name="toc-Advanced-tweaks-with-Scheme-1" href="Advanced-tweaks-with-Scheme.es.html#Advanced-tweaks-with-Scheme">4.6.5 Trucos avanzados con Scheme</a>      </li>
    </ul>
    </li>
  </ul>
  </li>
  <li><a name="toc-Working-on-LilyPond-projects-1" href="Working-on-LilyPond-projects.es.html#Working-on-LilyPond-projects">5. Trabajar en proyectos de LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Suggestions-for-writing-LilyPond-files-1" href="Suggestions-for-writing-LilyPond-files.es.html#Suggestions-for-writing-LilyPond-files">5.1 Suggestions for writing LilyPond files</a>    </li>
    <li><a name="toc-When-things-don_0027t-work-1" href="When-things-don_0027t-work.es.html#When-things-don_0027t-work">5.2 Cuando las cosas no van</a>    </li>
    <li><a name="toc-Scores-and-parts-1" href="Scores-and-parts.es.html#Scores-and-parts">5.3 Partituras y particellas</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Templates-1" href="Templates.es.html#Templates">A. Plantillas</a>
  <ul class="toc">
    <li><a name="toc-Single-staff-1" href="Single-staff.es.html#Single-staff">A.1 Pentagrama único</a>    </li>
    <li><a name="toc-Piano-templates-1" href="Piano-templates.es.html#Piano-templates">A.2 Plantillas de piano</a>    </li>
    <li><a name="toc-String-quartet-2" href="String-quartet.es.html#String-quartet">A.3 Cuarteto de cuerda</a>    </li>
    <li><a name="toc-Vocal-ensembles-1" href="Vocal-ensembles.es.html#Vocal-ensembles">A.4 Conjuntos vocales</a>    </li>
    <li><a name="toc-Ancient-notation-templates-1" href="Ancient-notation-templates.es.html#Ancient-notation-templates">A.5 Plantillas para notación antigua</a>    </li>
    <li><a name="toc-Jazz-combo-1" href="Jazz-combo.es.html#Jazz-combo">A.6 Combo de jazz</a>    </li>
    <li><a name="toc-lilypond_002dbook-templates-1" href="lilypond_002dbook-templates.es.html#lilypond_002dbook-templates">A.7 Plantillas de lilypond-book</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Scheme-tutorial-1" href="Scheme-tutorial.es.html#Scheme-tutorial">B. Tutorial de Scheme</a>
  <ul class="toc">
    <li><a name="toc-Tweaking-with-Scheme-1" href="Tweaking-with-Scheme.es.html#Tweaking-with-Scheme">B.1 Trucos con Scheme</a>    </li>
  </ul>
  </li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="GNU-Free-Documentation-License.es.html#GNU-Free-Documentation-License">C. GNU Free Documentation License</a>  </li>
  <li><a name="toc-LilyPond-index-1" href="LilyPond-index.es.html#LilyPond-index">D. Índice de LilyPond</a>  </li>
</ul>
</div>
</div>

</body>
</html>
