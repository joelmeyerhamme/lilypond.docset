<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond program-reference: 2.1.20 Staff</title>

<meta name="description" content="LilyPond program-reference: 2.1.20 Staff">
<meta name="keywords" content="LilyPond program-reference: 2.1.20 Staff">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.fr.html#Top" rel="start" title="GNU LilyPond &ndash; Internals Reference">
<link href="Indices.fr.html#Indices" rel="index" title="A. Indices">
<link href="index_toc.fr.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.fr.html#SEC_About" rel="help" title="About This Document">
<link href="Contexts.fr.html#Contexts" rel="up" title="2.1 Contexts">
<link href="Indices.fr.html#Indices" rel="next" title="A.2 Function index">
<link href="Score.fr.html#Score" rel="previous" title="2.1.19 Score">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Translation.fr.html#Translation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.fr.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.fr.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.fr.html#Indices" title="Index" rel="index">Index</a>][<a href="index_abt.fr.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Backend.fr.html#Backend" title="Next chapter">&nbsp;Backend &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Score.fr.html#Score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Contexts.fr.html#Contexts" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="StaffGroup.fr.html#StaffGroup" title="Next section in reading order" accesskey="n" rel="next">&nbsp;StaffGroup &gt; </a>]</td></tr></table>
<a name="Staff"></a>
<h3 class="subsection">2.1.20 Staff</h3>

<p>Handles clefs, bar lines, keys, accidentals.  It can contain
<code>Voice</code> contexts.
</p>
<p>This context creates the following layout object(s):
</p>
<p><a href="AccidentalCautionary.fr.html#AccidentalCautionary">AccidentalCautionary</a>, <a href="AccidentalPlacement.fr.html#AccidentalPlacement">AccidentalPlacement</a>, <a href="AccidentalSuggestion.fr.html#AccidentalSuggestion">AccidentalSuggestion</a>, <a href="Accidental.fr.html#Accidental">Accidental</a>, <a href="BarLine.fr.html#BarLine">BarLine</a>, <a href="BassFigureAlignmentPositioning.fr.html#BassFigureAlignmentPositioning">BassFigureAlignmentPositioning</a>, <a href="BassFigureAlignment.fr.html#BassFigureAlignment">BassFigureAlignment</a>, <a href="BassFigureBracket.fr.html#BassFigureBracket">BassFigureBracket</a>, <a href="BassFigureContinuation.fr.html#BassFigureContinuation">BassFigureContinuation</a>, <a href="BassFigureLine.fr.html#BassFigureLine">BassFigureLine</a>, <a href="BassFigure.fr.html#BassFigure">BassFigure</a>, <a href="Clef.fr.html#Clef">Clef</a>, <a href="DotColumn.fr.html#DotColumn">DotColumn</a>, <a href="InstrumentName.fr.html#InstrumentName">InstrumentName</a>, <a href="KeyCancellation.fr.html#KeyCancellation">KeyCancellation</a>, <a href="KeySignature.fr.html#KeySignature">KeySignature</a>, <a href="LedgerLineSpanner.fr.html#LedgerLineSpanner">LedgerLineSpanner</a>, <a href="NoteCollision.fr.html#NoteCollision">NoteCollision</a>, <a href="OctavateEight.fr.html#OctavateEight">OctavateEight</a>, <a href="OttavaBracket.fr.html#OttavaBracket">OttavaBracket</a>, <a href="PianoPedalBracket.fr.html#PianoPedalBracket">PianoPedalBracket</a>, <a href="RestCollision.fr.html#RestCollision">RestCollision</a>, <a href="ScriptRow.fr.html#ScriptRow">ScriptRow</a>, <a href="SostenutoPedalLineSpanner.fr.html#SostenutoPedalLineSpanner">SostenutoPedalLineSpanner</a>, <a href="SostenutoPedal.fr.html#SostenutoPedal">SostenutoPedal</a>, <a href="StaffSpacing.fr.html#StaffSpacing">StaffSpacing</a>, <a href="StaffSymbol.fr.html#StaffSymbol">StaffSymbol</a>, <a href="SustainPedalLineSpanner.fr.html#SustainPedalLineSpanner">SustainPedalLineSpanner</a>, <a href="SustainPedal.fr.html#SustainPedal">SustainPedal</a>, <a href="TimeSignature.fr.html#TimeSignature">TimeSignature</a>, <a href="UnaCordaPedalLineSpanner.fr.html#UnaCordaPedalLineSpanner">UnaCordaPedalLineSpanner</a>, <a href="UnaCordaPedal.fr.html#UnaCordaPedal">UnaCordaPedal</a> and <a href="VerticalAxisGroup.fr.html#VerticalAxisGroup">VerticalAxisGroup</a>.
</p>
<p>This context sets the following properties:
</p>
<ul>
<li> Set translator property <code>shortInstrumentName</code> to <code>'()</code>.
</li><li> Set translator property <code>instrumentName</code> to <code>'()</code>.
</li><li> Set grob-property <code>minimum-Y-extent</code> in <a href="VerticalAxisGroup.fr.html#VerticalAxisGroup">VerticalAxisGroup</a> to <code>'(-4 . 4)</code>.
</li><li> Set translator property <code>ignoreFiguredBassRest</code> to <code>#t</code>.
</li><li> Set translator property <code>createSpacing</code> to <code>#t</code>.
</li><li> Set translator property <code>localKeySignature</code> to <code>'()</code>.
</li></ul>


<p>Context Staff can contain
<a href="Voice.fr.html#Voice">Voice</a> and <a href="CueVoice.fr.html#CueVoice">CueVoice</a>.
</p>
<p>This context is built from the following engraver(s):
</p><blockquote><dl compact="compact">
<dt> <code><a href="Script_005frow_005fengraver.fr.html#Script_005frow_005fengraver">Script_row_engraver</a></code></dt>
<dd><p>Determine order in horizontal side position elements.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="ScriptRow.fr.html#ScriptRow">ScriptRow</a>.
</p>

</dd>
<dt> <code><a href="Figured_005fbass_005fposition_005fengraver.fr.html#Figured_005fbass_005fposition_005fengraver">Figured_bass_position_engraver</a></code></dt>
<dd><p>Position figured bass alignments over notes.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="BassFigureAlignmentPositioning.fr.html#BassFigureAlignmentPositioning">BassFigureAlignmentPositioning</a>.
</p>

</dd>
<dt> <code><a href="Figured_005fbass_005fengraver.fr.html#Figured_005fbass_005fengraver">Figured_bass_engraver</a></code></dt>
<dd><p>Make figured bass numbers.
</p>
<p>Music types accepted:
</p>
<p><a href="bass_002dfigure_002devent.fr.html#bass_002dfigure_002devent">bass-figure-event</a> and <a href="rest_002devent.fr.html#rest_002devent">rest-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>figuredBassAlterationDirection</code> (direction)</dt>
<dd><p>Where to put alterations
relative to the main figure.
</p></dd>
<dt> <code>figuredBassCenterContinuations</code> (boolean)</dt>
<dd><p>Whether to vertically
center pairs of extender lines.  This does not work with three or more
lines.
</p></dd>
<dt> <code>figuredBassFormatter</code> (procedure)</dt>
<dd><p>A routine generating a markup
for a bass figure.
</p></dd>
<dt> <code>implicitBassFigures</code> (list)</dt>
<dd><p>A list of bass figures that are not
printed as numbers, but only as extender lines.
</p></dd>
<dt> <code>useBassFigureExtenders</code> (boolean)</dt>
<dd><p>Whether to use extender lines
for repeated bass figures.
</p></dd>
<dt> <code>ignoreFiguredBassRest</code> (boolean)</dt>
<dd><p>Don&rsquo;t swallow rest events.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="BassFigure.fr.html#BassFigure">BassFigure</a>, <a href="BassFigureAlignment.fr.html#BassFigureAlignment">BassFigureAlignment</a>, <a href="BassFigureBracket.fr.html#BassFigureBracket">BassFigureBracket</a>, <a href="BassFigureContinuation.fr.html#BassFigureContinuation">BassFigureContinuation</a> and <a href="BassFigureLine.fr.html#BassFigureLine">BassFigureLine</a>.
</p>

</dd>
<dt> <code><a href="Axis_005fgroup_005fengraver.fr.html#Axis_005fgroup_005fengraver">Axis_group_engraver</a></code></dt>
<dd><p>Group all objects created in this context in a <code>VerticalAxisGroup</code> spanner.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (layout object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="VerticalAxisGroup.fr.html#VerticalAxisGroup">VerticalAxisGroup</a>.
</p>

</dd>
<dt> <code><a href="String_005fnumber_005fengraver.fr.html#String_005fnumber_005fengraver">String_number_engraver</a></code></dt>
<dd><p>Swallow string number events.  The purpose of this engraver is to process tablatures for normal notation.  To provent warnings for unprocessed string number events to obscure real error messages, this engraver swallows them all.
</p>





</dd>
<dt> <code><a href="Instrument_005fname_005fengraver.fr.html#Instrument_005fname_005fengraver">Instrument_name_engraver</a></code></dt>
<dd><p>Create a system start text for instrument or vocal names.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (layout object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p></dd>
<dt> <code>shortInstrumentName</code> (markup)</dt>
<dd><p>See <code>instrument</code>.
</p></dd>
<dt> <code>instrumentName</code> (markup)</dt>
<dd><p>The name to print left of a staff.  The
<code>instrument</code> property labels the staff in the first system, and
the <code>instr</code> property labels following lines.
</p></dd>
<dt> <code>shortVocalName</code> (markup)</dt>
<dd><p>Name of a vocal line, short version.
</p></dd>
<dt> <code>vocalName</code> (markup)</dt>
<dd><p>Name of a vocal line.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="InstrumentName.fr.html#InstrumentName">InstrumentName</a>.
</p>

</dd>
<dt> <code><a href="Piano_005fpedal_005falign_005fengraver.fr.html#Piano_005fpedal_005falign_005fengraver">Piano_pedal_align_engraver</a></code></dt>
<dd><p>Align piano pedal symbols and brackets.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (layout object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="SostenutoPedalLineSpanner.fr.html#SostenutoPedalLineSpanner">SostenutoPedalLineSpanner</a>, <a href="SustainPedalLineSpanner.fr.html#SustainPedalLineSpanner">SustainPedalLineSpanner</a> and <a href="UnaCordaPedalLineSpanner.fr.html#UnaCordaPedalLineSpanner">UnaCordaPedalLineSpanner</a>.
</p>

</dd>
<dt> <code><a href="Piano_005fpedal_005fengraver.fr.html#Piano_005fpedal_005fengraver">Piano_pedal_engraver</a></code></dt>
<dd><p>Engrave piano pedal symbols and brackets.
</p>
<p>Music types accepted:
</p>
<p><a href="una_002dcorda_002devent.fr.html#una_002dcorda_002devent">una-corda-event</a>, <a href="sustain_002devent.fr.html#sustain_002devent">sustain-event</a> and <a href="sostenuto_002devent.fr.html#sostenuto_002devent">sostenuto-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (layout object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p></dd>
<dt> <code>pedalSostenutoStrings</code> (list)</dt>
<dd><p>See <code>pedalSustainStrings</code>.
</p></dd>
<dt> <code>pedalSostenutoStyle</code> (symbol)</dt>
<dd><p>See <code>pedalSustainStyle</code>.
</p></dd>
<dt> <code>pedalSustainStrings</code> (list)</dt>
<dd><p>A list of strings to print for
sustain-pedal.  Format is <code>(<var>up</var> <var>updown</var> <var>down</var>)</code>,
where each of the three is the string to print when this is done with
the pedal.
</p></dd>
<dt> <code>pedalSustainStyle</code> (symbol)</dt>
<dd><p>A symbol that indicates how to print
sustain pedals: <code>text</code>, <code>bracket</code> or <code>mixed</code> (both).
</p></dd>
<dt> <code>pedalUnaCordaStrings</code> (list)</dt>
<dd><p>See <code>pedalSustainStrings</code>.
</p></dd>
<dt> <code>pedalUnaCordaStyle</code> (symbol)</dt>
<dd><p>See <code>pedalSustainStyle</code>.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="PianoPedalBracket.fr.html#PianoPedalBracket">PianoPedalBracket</a>, <a href="SostenutoPedal.fr.html#SostenutoPedal">SostenutoPedal</a>, <a href="SustainPedal.fr.html#SustainPedal">SustainPedal</a> and <a href="UnaCordaPedal.fr.html#UnaCordaPedal">UnaCordaPedal</a>.
</p>

</dd>
<dt> <code><a href="Accidental_005fengraver.fr.html#Accidental_005fengraver">Accidental_engraver</a></code></dt>
<dd><p>Make accidentals.  Catch note heads, ties and notices key-change events.  This engraver usually lives at Staff level, but reads the settings for Accidental at <code>Voice</code> level, so you can <code>\override</code> them at <code>Voice</code>.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>autoAccidentals</code> (list)</dt>
<dd><p>List of different ways to typeset an
accidental.
</p>
<p>For determining when to print an accidental, several different rules
are tried.  The rule that gives the highest number of accidentals is
used.
</p>
<p>Each entry in the list is either a symbol or a procedure.
</p>
<dl compact="compact">
<dt> <var>symbol</var></dt>
<dd><p>The symbol is the name of the context in which the following rules are to be
applied. For example, if <var>context</var> is <a name="index-Score-3"></a>
<a href="../lilypond-internals/Score.fr.html#Score">Score</a> then all
staves share accidentals, and if <var>context</var> is <a name="index-Staff-2"></a>
<a href="../lilypond-internals/Staff.fr.html#Staff">Staff</a> then
all voices in the same staff share accidentals, but staves do not.
</p>
</dd>
<dt> <var>procedure</var></dt>
<dd><p>The procedure represents an accidental rule to be applied to the previously
specified context.
</p>
<p>The procedure takes the following arguments:
</p>
<dl compact="compact">
<dt> <code>context</code></dt>
<dd><p>The current context to which the rule should be applied.
</p>
</dd>
<dt> <code>pitch</code></dt>
<dd><p>The pitch of the note to be evaluated.
</p>
</dd>
<dt> <code>barnum</code></dt>
<dd><p>The current bar number.
</p>
</dd>
<dt> <code>measurepos</code></dt>
<dd><p>The current measure position.
</p>
</dd>
</dl>

<p>The procedure returns a pair of booleans. The first states whether an extra
natural should be added. The second states whether an accidental should be
printed. <code>(#t . #f)</code> does not make sense.
</p>
</dd>
</dl>
</dd>
<dt> <code>autoCautionaries</code> (list)</dt>
<dd><p>List similar to <code>autoAccidentals</code>,
but it controls cautionary accidentals rather than normal ones.  Both
lists are tried, and the one giving the most accidentals wins.  In
case of draw, a normal accidental is typeset.
</p></dd>
<dt> <code>internalBarNumber</code> (integer)</dt>
<dd><p>Contains the current barnumber.
This property is used for internal timekeeping, among others by the
<code>Accidental_engraver</code>.
</p></dd>
<dt> <code>extraNatural</code> (boolean)</dt>
<dd><p>Whether to typeset an extra natural sign
before accidentals changing from a non-natural to another
non-natural.
</p></dd>
<dt> <code>harmonicAccidentals</code> (boolean)</dt>
<dd><p>If set, harmonic notes in chords
get accidentals.
</p></dd>
<dt> <code>keySignature</code> (list)</dt>
<dd><p>The current key signature.  This is an alist
containing <code>(<var>step</var> . <var>alter</var>)</code> or <code>((<var>octave</var> .
<var>step</var>) . <var>alter</var>)</code>,  where <var>step</var> is a number in the range
0 to&nbsp;6 and <var>alter</var> a fraction, denoting alteration.  For
alterations, use symbols, e.g. <code>keySignature = #`((6 . ,FLAT))</code>.
</p></dd>
<dt> <code>localKeySignature</code> (list)</dt>
<dd><p>The key signature at this point in the
measure.  The format is the same as for <code>keySignature</code>, but can
also contain <code>((<var>octave</var> . <var>name</var>) . (<var>alter</var>
<var>barnumber</var> . <var>measureposition</var>))</code> pairs.
</p></dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>localKeySignature</code> (list)</dt>
<dd><p>The key signature at this point in the
measure.  The format is the same as for <code>keySignature</code>, but can
also contain <code>((<var>octave</var> . <var>name</var>) . (<var>alter</var>
<var>barnumber</var> . <var>measureposition</var>))</code> pairs.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="Accidental.fr.html#Accidental">Accidental</a>, <a href="AccidentalCautionary.fr.html#AccidentalCautionary">AccidentalCautionary</a>, <a href="AccidentalPlacement.fr.html#AccidentalPlacement">AccidentalPlacement</a> and <a href="AccidentalSuggestion.fr.html#AccidentalSuggestion">AccidentalSuggestion</a>.
</p>

</dd>
<dt> <code><a href="Rest_005fcollision_005fengraver.fr.html#Rest_005fcollision_005fengraver">Rest_collision_engraver</a></code></dt>
<dd><p>Handle collisions of rests.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>busyGrobs</code> (list)</dt>
<dd><p>A queue of <code>(<var>end-moment</var> .
<var>GROB</var>)</code> cons cells.  This is for internal (C++) use only.  This
property contains the grobs which are still busy (e.g. note heads,
spanners, etc.).
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="RestCollision.fr.html#RestCollision">RestCollision</a>.
</p>

</dd>
<dt> <code><a href="Grob_005fpq_005fengraver.fr.html#Grob_005fpq_005fengraver">Grob_pq_engraver</a></code></dt>
<dd><p>Administrate when certain grobs (e.g., note heads) stop playing.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>busyGrobs</code> (list)</dt>
<dd><p>A queue of <code>(<var>end-moment</var> .
<var>GROB</var>)</code> cons cells.  This is for internal (C++) use only.  This
property contains the grobs which are still busy (e.g. note heads,
spanners, etc.).
</p></dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>busyGrobs</code> (list)</dt>
<dd><p>A queue of <code>(<var>end-moment</var> .
<var>GROB</var>)</code> cons cells.  This is for internal (C++) use only.  This
property contains the grobs which are still busy (e.g. note heads,
spanners, etc.).
</p></dd>
</dl>
</blockquote>



</dd>
<dt> <code><a href="Collision_005fengraver.fr.html#Collision_005fengraver">Collision_engraver</a></code></dt>
<dd><p>Collect <code>NoteColumns</code>, and as soon as there are two or more, put them in a <code>NoteCollision</code> object.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="NoteCollision.fr.html#NoteCollision">NoteCollision</a>.
</p>

</dd>
<dt> <code><a href="Staff_005fsymbol_005fengraver.fr.html#Staff_005fsymbol_005fengraver">Staff_symbol_engraver</a></code></dt>
<dd><p>Create the constellation of five (default) staff lines.
</p>
<p>Music types accepted:
</p>
<p><a href="staff_002dspan_002devent.fr.html#staff_002dspan_002devent">staff-span-event</a>
</p>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="StaffSymbol.fr.html#StaffSymbol">StaffSymbol</a>.
</p>

</dd>
<dt> <code><a href="Ledger_005fline_005fengraver.fr.html#Ledger_005fline_005fengraver">Ledger_line_engraver</a></code></dt>
<dd><p>Create the spanner to draw ledger lines, and notices objects that need ledger lines.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="LedgerLineSpanner.fr.html#LedgerLineSpanner">LedgerLineSpanner</a>.
</p>

</dd>
<dt> <code><a href="Time_005fsignature_005fengraver.fr.html#Time_005fsignature_005fengraver">Time_signature_engraver</a></code></dt>
<dd><p>Create a <a href="TimeSignature.fr.html#TimeSignature">TimeSignature</a> whenever <code>timeSignatureFraction</code> changes.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>implicitTimeSignatureVisibility</code> (vector)</dt>
<dd><p>break visibility for
the default time signature.
</p></dd>
<dt> <code>timeSignatureFraction</code> (pair of numbers)</dt>
<dd><p>A pair of numbers,
signifying the time signature.  For example, <code>#'(4 . 4)</code> is a
4/4 time signature.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="TimeSignature.fr.html#TimeSignature">TimeSignature</a>.
</p>

</dd>
<dt> <code><a href="Key_005fengraver.fr.html#Key_005fengraver">Key_engraver</a></code></dt>
<dd><p>Engrave a key signature.
</p>
<p>Music types accepted:
</p>
<p><a href="key_002dchange_002devent.fr.html#key_002dchange_002devent">key-change-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>createKeyOnClefChange</code> (boolean)</dt>
<dd><p>Print a key signature whenever
the clef is changed.
</p></dd>
<dt> <code>explicitKeySignatureVisibility</code> (vector)</dt>
<dd><p>&lsquo;<samp>break-visibility</samp>&rsquo;
function for explicit key changes.  &lsquo;<samp>\override</samp>&rsquo; of the
<code>break-visibility</code> property will set the visibility for normal
(i.e., at the start of the line) key signatures.
</p></dd>
<dt> <code>extraNatural</code> (boolean)</dt>
<dd><p>Whether to typeset an extra natural sign
before accidentals changing from a non-natural to another
non-natural.
</p></dd>
<dt> <code>keyAlterationOrder</code> (list)</dt>
<dd><p>An alist that defines in what order
alterations should be printed.  The format is <code>(<var>step</var>
. <var>alter</var>)</code>, where <var>step</var> is a number from 0 to&nbsp;6 and
<var>alter</var> from -2 (sharp) to 2 (flat).
</p></dd>
<dt> <code>keySignature</code> (list)</dt>
<dd><p>The current key signature.  This is an alist
containing <code>(<var>step</var> . <var>alter</var>)</code> or <code>((<var>octave</var> .
<var>step</var>) . <var>alter</var>)</code>,  where <var>step</var> is a number in the range
0 to&nbsp;6 and <var>alter</var> a fraction, denoting alteration.  For
alterations, use symbols, e.g. <code>keySignature = #`((6 . ,FLAT))</code>.
</p></dd>
<dt> <code>lastKeySignature</code> (list)</dt>
<dd><p>Last key signature before a key
signature change.
</p></dd>
<dt> <code>printKeyCancellation</code> (boolean)</dt>
<dd><p>Print restoration alterations
before a key signature change.
</p></dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>keySignature</code> (list)</dt>
<dd><p>The current key signature.  This is an alist
containing <code>(<var>step</var> . <var>alter</var>)</code> or <code>((<var>octave</var> .
<var>step</var>) . <var>alter</var>)</code>,  where <var>step</var> is a number in the range
0 to&nbsp;6 and <var>alter</var> a fraction, denoting alteration.  For
alterations, use symbols, e.g. <code>keySignature = #`((6 . ,FLAT))</code>.
</p></dd>
<dt> <code>lastKeySignature</code> (list)</dt>
<dd><p>Last key signature before a key
signature change.
</p></dd>
<dt> <code>tonic</code> (pitch)</dt>
<dd><p>The tonic of the current scale.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="KeyCancellation.fr.html#KeyCancellation">KeyCancellation</a> and <a href="KeySignature.fr.html#KeySignature">KeySignature</a>.
</p>

</dd>
<dt> <code><a href="Clef_005fengraver.fr.html#Clef_005fengraver">Clef_engraver</a></code></dt>
<dd><p>Determine and set reference point for pitches.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>clefGlyph</code> (string)</dt>
<dd><p>Name of the symbol within the music font.
</p></dd>
<dt> <code>clefOctavation</code> (integer)</dt>
<dd><p>Add this much extra octavation.
Values of 7 and -7 are common.
</p></dd>
<dt> <code>clefPosition</code> (number)</dt>
<dd><p>Where should the center of the clef
symbol go, measured in half staff spaces from the center of the
staff.
</p></dd>
<dt> <code>explicitClefVisibility</code> (vector)</dt>
<dd><p>&lsquo;<samp>break-visibility</samp>&rsquo;
function for clef changes.
</p></dd>
<dt> <code>forceClef</code> (boolean)</dt>
<dd><p>Show clef symbol, even if it has not
changed.  Only active for the first clef after the property is set, not
for the full staff.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="Clef.fr.html#Clef">Clef</a> and <a href="OctavateEight.fr.html#OctavateEight">OctavateEight</a>.
</p>

</dd>
<dt> <code><a href="Ottava_005fspanner_005fengraver.fr.html#Ottava_005fspanner_005fengraver">Ottava_spanner_engraver</a></code></dt>
<dd><p>Create a text spanner when the ottavation property changes.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>ottavation</code> (markup)</dt>
<dd><p>If set, the text for an ottava spanner.
Changing this creates a new text spanner.
</p></dd>
<dt> <code>originalMiddleCPosition</code> (integer)</dt>
<dd><p>Used for temporary overriding
middle&nbsp;C in octavation brackets.
</p></dd>
<dt> <code>currentMusicalColumn</code> (layout object)</dt>
<dd><p>Grob that is X-parent to all
non-breakable items (note heads, lyrics, etc.).
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="OttavaBracket.fr.html#OttavaBracket">OttavaBracket</a>.
</p>

</dd>
<dt> <code><a href="Staff_005fcollecting_005fengraver.fr.html#Staff_005fcollecting_005fengraver">Staff_collecting_engraver</a></code></dt>
<dd><p>Maintain the <code>stavesFound</code> variable.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>stavesFound</code> (list of grobs)</dt>
<dd><p>A list of all staff-symbols found.
</p></dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>stavesFound</code> (list of grobs)</dt>
<dd><p>A list of all staff-symbols found.
</p></dd>
</dl>
</blockquote>



</dd>
<dt> <code><a href="Dot_005fcolumn_005fengraver.fr.html#Dot_005fcolumn_005fengraver">Dot_column_engraver</a></code></dt>
<dd><p>Engrave dots on dotted notes shifted to the right of the note.  If omitted, then dots appear on top of the notes.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="DotColumn.fr.html#DotColumn">DotColumn</a>.
</p>

</dd>
<dt> <code><a href="Separating_005fline_005fgroup_005fengraver.fr.html#Separating_005fline_005fgroup_005fengraver">Separating_line_group_engraver</a></code></dt>
<dd><p>Generate objects for computing spacing parameters.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>createSpacing</code> (boolean)</dt>
<dd><p>Create <code>StaffSpacing</code> objects?
Should be set for staves.
</p></dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>hasStaffSpacing</code> (boolean)</dt>
<dd><p>True if the current
<code>CommandColumn</code> contains items that will affect spacing.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="StaffSpacing.fr.html#StaffSpacing">StaffSpacing</a>.
</p>

</dd>
<dt> <code><a href="Font_005fsize_005fengraver.fr.html#Font_005fsize_005fengraver">Font_size_engraver</a></code></dt>
<dd><p>Put <code>fontSize</code> into <code>font-size</code> grob property.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>fontSize</code> (number)</dt>
<dd><p>The relative size of all grobs in a context.
</p></dd>
</dl>
</blockquote>



</dd>
<dt> <code><a href="Bar_005fengraver.fr.html#Bar_005fengraver">Bar_engraver</a></code></dt>
<dd><p>Create barlines.  This engraver is controlled through the <code>whichBar</code> property.  If it has no bar line to create, it will forbid a linebreak at this point.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>whichBar</code> (string)</dt>
<dd><p>This property is read to determine what type
of bar line to create.
</p>
<p>Example:
</p>
<blockquote><pre class="example">\set Staff.whichBar = &quot;|:&quot;
</pre></blockquote>

<p>This will create a start-repeat bar in this staff only.  Valid values
are described in <a name="index-bar_002dline_002dinterface-7"></a>
<a href="../lilypond-internals/bar_002dline_002dinterface.fr.html#bar_002dline_002dinterface">bar-line-interface</a>.
</p></dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>forbidBreak</code> (boolean)</dt>
<dd><p>If set to <code>##t</code>, prevent a line break
at this point.
</p></dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="BarLine.fr.html#BarLine">BarLine</a>.
</p>

</dd>
<dt> <code><a href="Output_005fproperty_005fengraver.fr.html#Output_005fproperty_005fengraver">Output_property_engraver</a></code></dt>
<dd><p>Apply a procedure to any grob acknowledged.
</p>
<p>Music types accepted:
</p>
<p><a href="apply_002doutput_002devent.fr.html#apply_002doutput_002devent">apply-output-event</a>
</p>



</dd>
</dl>
</blockquote>



<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Translation.fr.html#Translation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.fr.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.fr.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.fr.html#Indices" title="Index" rel="index">Index</a>][<a href="index_abt.fr.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Backend.fr.html#Backend" title="Next chapter">&nbsp;Backend &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Score.fr.html#Score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Contexts.fr.html#Contexts" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="StaffGroup.fr.html#StaffGroup" title="Next section in reading order" accesskey="n" rel="next">&nbsp;StaffGroup &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
Cette page documente LilyPond-2.12.3 (branche stable).
</p>
<p class="footer_report">
Vos <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions à propos de la documentation</a> sont les bienvenues ;
signalez tout bogue en français à la <a href=\"http://n2.nabble.com/LilyPond-French-Users-f1298960.html\">liste
francophone des utilisateurs</a> ou en anglais à la <a href=\"http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs\">liste des
utilisateurs</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.fr.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.fr.html#Top" title="Start of the manual">Internals Reference</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Music-definitions-1" href="Music-definitions.fr.html#Music-definitions">1. Music definitions</a>
  <ul class="toc">
    <li><a name="toc-Music-expressions-1" href="Music-expressions.fr.html#Music-expressions">1.1 Music expressions</a>    </li>
    <li><a name="toc-Music-classes-1" href="Music-classes.fr.html#Music-classes">1.2 Music classes</a>    </li>
    <li><a name="toc-Music-properties-1" href="Music-properties.fr.html#Music-properties">1.3 Music properties</a>    </li>
  </ul>
  </li>
  <li class="toc_current"><a name="toc-Translation-1" href="Translation.fr.html#Translation">2. Translation</a>
  <ul class="toc">
    <li class="toc_current"><a name="toc-Contexts-1" href="Contexts.fr.html#Contexts">2.1 Contexts</a>
    <ul class="toc">
      <li><a name="toc-ChoirStaff-1" href="ChoirStaff.fr.html#ChoirStaff">2.1.1 ChoirStaff</a>      </li>
      <li><a name="toc-ChordNames-1" href="ChordNames.fr.html#ChordNames">2.1.2 ChordNames</a>      </li>
      <li><a name="toc-CueVoice-1" href="CueVoice.fr.html#CueVoice">2.1.3 CueVoice</a>      </li>
      <li><a name="toc-Devnull-1" href="Devnull.fr.html#Devnull">2.1.4 Devnull</a>      </li>
      <li><a name="toc-DrumStaff-1" href="DrumStaff.fr.html#DrumStaff">2.1.5 DrumStaff</a>      </li>
      <li><a name="toc-DrumVoice-1" href="DrumVoice.fr.html#DrumVoice">2.1.6 DrumVoice</a>      </li>
      <li><a name="toc-FiguredBass-1" href="FiguredBass.fr.html#FiguredBass">2.1.7 FiguredBass</a>      </li>
      <li><a name="toc-FretBoards-1" href="FretBoards.fr.html#FretBoards">2.1.8 FretBoards</a>      </li>
      <li><a name="toc-Global-1" href="Global.fr.html#Global">2.1.9 Global</a>      </li>
      <li><a name="toc-GrandStaff-1" href="GrandStaff.fr.html#GrandStaff">2.1.10 GrandStaff</a>      </li>
      <li><a name="toc-GregorianTranscriptionStaff-1" href="GregorianTranscriptionStaff.fr.html#GregorianTranscriptionStaff">2.1.11 GregorianTranscriptionStaff</a>      </li>
      <li><a name="toc-GregorianTranscriptionVoice-1" href="GregorianTranscriptionVoice.fr.html#GregorianTranscriptionVoice">2.1.12 GregorianTranscriptionVoice</a>      </li>
      <li><a name="toc-Lyrics-1" href="Lyrics.fr.html#Lyrics">2.1.13 Lyrics</a>      </li>
      <li><a name="toc-MensuralStaff-1" href="MensuralStaff.fr.html#MensuralStaff">2.1.14 MensuralStaff</a>      </li>
      <li><a name="toc-MensuralVoice-1" href="MensuralVoice.fr.html#MensuralVoice">2.1.15 MensuralVoice</a>      </li>
      <li><a name="toc-NoteNames-1" href="NoteNames.fr.html#NoteNames">2.1.16 NoteNames</a>      </li>
      <li><a name="toc-PianoStaff-1" href="PianoStaff.fr.html#PianoStaff">2.1.17 PianoStaff</a>      </li>
      <li><a name="toc-RhythmicStaff-1" href="RhythmicStaff.fr.html#RhythmicStaff">2.1.18 RhythmicStaff</a>      </li>
      <li><a name="toc-Score-1" href="Score.fr.html#Score">2.1.19 Score</a>      </li>
      <li class="toc_current"><a name="toc-Staff-1" href="Staff.fr.html#Staff">2.1.20 Staff</a>      </li>
      <li><a name="toc-StaffGroup-1" href="StaffGroup.fr.html#StaffGroup">2.1.21 StaffGroup</a>      </li>
      <li><a name="toc-TabStaff-1" href="TabStaff.fr.html#TabStaff">2.1.22 TabStaff</a>      </li>
      <li><a name="toc-TabVoice-1" href="TabVoice.fr.html#TabVoice">2.1.23 TabVoice</a>      </li>
      <li><a name="toc-VaticanaStaff-1" href="VaticanaStaff.fr.html#VaticanaStaff">2.1.24 VaticanaStaff</a>      </li>
      <li><a name="toc-VaticanaVoice-1" href="VaticanaVoice.fr.html#VaticanaVoice">2.1.25 VaticanaVoice</a>      </li>
      <li><a name="toc-Voice-1" href="Voice.fr.html#Voice">2.1.26 Voice</a>      </li>
    </ul>
    </li>
    <li><a name="toc-Engravers-and-Performers-1" href="Engravers-and-Performers.fr.html#Engravers-and-Performers">2.2 Engravers and Performers</a>    </li>
    <li><a name="toc-Tunable-context-properties-1" href="Tunable-context-properties.fr.html#Tunable-context-properties">2.3 Tunable context properties</a>    </li>
    <li><a name="toc-Internal-context-properties-1" href="Internal-context-properties.fr.html#Internal-context-properties">2.4 Internal context properties</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Backend-1" href="Backend.fr.html#Backend">3. Backend</a>
  <ul class="toc">
    <li><a name="toc-All-layout-objects-1" href="All-layout-objects.fr.html#All-layout-objects">3.1 All layout objects</a>    </li>
    <li><a name="toc-Graphical-Object-Interfaces-1" href="Graphical-Object-Interfaces.fr.html#Graphical-Object-Interfaces">3.2 Graphical Object Interfaces</a>    </li>
    <li><a name="toc-User-backend-properties-1" href="User-backend-properties.fr.html#User-backend-properties">3.3 User backend properties</a>    </li>
    <li><a name="toc-Internal-backend-properties-1" href="Internal-backend-properties.fr.html#Internal-backend-properties">3.4 Internal backend properties</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Scheme-functions-1" href="Scheme-functions.fr.html#Scheme-functions">4. Scheme functions</a>  </li>
  <li><a name="toc-Indices-1" href="Indices.fr.html#Indices">A. Indices</a>
  <ul class="toc">
    <li><a name="toc-Concept-index" href="Indices.fr.html#Indices">A.1 Concept index</a>    </li>
    <li><a name="toc-Function-index" href="Indices.fr.html#Indices">A.2 Function index</a>    </li>
  </ul>
  </li>
</ul>
</div>
</div>

</body>
</html>
