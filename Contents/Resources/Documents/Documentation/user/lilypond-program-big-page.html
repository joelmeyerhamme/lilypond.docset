<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2009 by the authors

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond program usage</title>

<meta name="description" content="GNU LilyPond program usage">
<meta name="keywords" content="GNU LilyPond program usage">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#Top" rel="start" title="GNU LilyPond &mdash; Application Usage">
<link href="#LilyPond-index" rel="index" title="B. LilyPond index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="#SEC_About" rel="help" title="About This Document">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Top"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<a name="Top"></a>
<h1 class="settitle">GNU LilyPond &mdash; Application Usage</h1>


<p>This document is also available as a
<a href="../../Documentation/user/lilypond-program.pdf">PDF</a> and as
<a href="../../Documentation/user/lilypond-program/index.html">HTML indexed multiple pages</a>.
</p>









<p>This file documents GNU LilyPond program usage.
</p>
<p>Copyright 1999&ndash;2009 by the authors
</p>
<blockquote><p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled &ldquo;GNU
Free Documentation License&rdquo;.
</p></blockquote>

<p>This is the Application Usage (AU) manual for GNU LilyPond version 2.12.3.
For more information about how this fits with the other
documentation, see <a name="index-About-the-documentation"></a>
<a href="lilypond-learning-big-page.html#About-the-documentation">About the documentation</a>.
</p>
<a name="index-web-site"></a>
<a name="index-URL"></a>

<p>More information can be found at
<a href="http://www.lilypond.org/">http://www.lilypond.org/</a>.  The website contains on-line copies
of this and other documentation.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Install" accesskey="1">1. Install</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                        How to install or compile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Setup" accesskey="2">2. Setup</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                          Using LilyPond with other programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Running-LilyPond" accesskey="3">3. Running LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Operation.
</td></tr>
<tr><td align="left" valign="top"><a href="#LilyPond_002dbook" accesskey="4">4. <code>lilypond-book</code>: Integrating text and music</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Integrating text and music.
</td></tr>
<tr><td align="left" valign="top"><a href="#Converting-from-other-formats" accesskey="5">5. Converting from other formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Converting to lilypond source format.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Appendices

</pre></th></tr><tr><td align="left" valign="top"><a href="#GNU-Free-Documentation-License" accesskey="6">A. GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> License of this document.
</td></tr>
<tr><td align="left" valign="top"><a href="#LilyPond-index" accesskey="7">B. LilyPond index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>





<hr size="1">
<a name="Install"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Top" title="Beginning of this chapter or previous chapter"> &lt;&lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Top" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Precompiled-binaries" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Precompiled binaries &gt; </a>]</td></tr></table>
<a name="Install"></a>
<h1 class="chapter">1. Install</h1>

<p>There are two sets of releases for LilyPond: stable releases, and
unstable development releases.  Stable versions have an even-numbered
&lsquo;minor&rsquo; version number (i.e. 2.8, 2.10, 2.12, etc).  Development
versions have an odd-numbered &lsquo;minor&rsquo; version number (i.e. 2.7, 2.9,
2.11, etc).
</p>
<p>Building LilyPond is a very involved process, so we <strong>highly</strong>
recommend using the precompiled binaries.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Precompiled-binaries" accesskey="1">1.1 Precompiled binaries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Compiling-from-source" accesskey="2">1.2 Compiling from source</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Precompiled-binaries"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Install" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Install" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Install&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Precompiled-binaries" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Precompiled-binaries"></a>
<h2 class="section">1.1 Precompiled binaries</h2>

<hr size="6">
<a name="Precompiled-binaries"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Precompiled-binaries" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Precompiled binaries&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Precompiled-binaries" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Precompiled binaries&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Compiling-from-source" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Compiling from source &gt; </a>]</td></tr></table>
<h3 class="unnumberedsubsec">Downloading</h3>

<p>Check out <a href="http://lilypond.org/web/install/">http://lilypond.org/web/install/</a> for up to date
information on binary packages for your platform.  If your operating
system is not covered on that general page, please see the complete list
at <a href="http://download.linuxaudio.org/lilypond/binaries/">http://download.linuxaudio.org/lilypond/binaries/</a>
</p>
<p>We currently create binaries for
</p>
<blockquote><pre class="example">darwin-ppc  - MacOS X powerpc
darwin-x86  - MacOS X intel
freebsd-64  - FreeBSD 6.x, x86_64
freebsd-x86 - FreeBSD 4.x, x86
linux-64    - Any GNU/Linux distribution, x86_64
linux-ppc   - Any GNU/Linux distribution, powerpc
linux-x86   - Any GNU/Linux distribution, x86
mingw       - Windows x86
</pre></blockquote>

<a name="Known-issues-and-warnings-3"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>If you have MacOS 10.3 or 10.4 and you would like to use Python
scripts such as <code>convert-ly</code> and <code>lilypond-book</code>, see
<a href="lilypond-program.html#Setup-for-MacOS-X">Setup for MacOS X</a>.
</p>





<hr size="6">
<a name="Compiling-from-source"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Precompiled-binaries" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Install" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Install&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Downloading-source-code" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Downloading source code &gt; </a>]</td></tr></table>
<a name="Compiling-from-source"></a>
<h2 class="section">1.2 Compiling from source</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Downloading-source-code" accesskey="1">1.2.1 Downloading source code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Requirements" accesskey="2">1.2.2 Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Building-LilyPond" accesskey="3">1.2.3 Building LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Building-documentation" accesskey="4">1.2.4 Building documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Testing-LilyPond" accesskey="5">1.2.5 Testing LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Problems" accesskey="6">1.2.6 Problems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Downloading-source-code"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Compiling-from-source" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Compiling from source&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-from-source" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling from source&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Requirements" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Requirements &gt; </a>]</td></tr></table>
<a name="Downloading-source-code"></a>
<h3 class="subsection">1.2.1 Downloading source code</h3>

<p>Download source
</p>
<ul>
<li> tarballs from
<a href="http://lilypond.org/download/">http://lilypond.org/download/</a> by HTTP.
</li><li> tarballs from
<a href="http://download.linuxaudio.org/lilypond/">http://download.linuxaudio.org/lilypond/</a> by HTTP.
</li><li>
GIT from <a href="http://git.sv.gnu.org/gitweb/?p=lilypond.git;a=summary">git.sv.gnu.org</a>

<blockquote><pre class="example">git clone git://git.sv.gnu.org/lilypond.git
</pre></blockquote>

<p>The repository does not contain generated files.  To create
&lsquo;<tt>configure</tt>&rsquo;, run
</p><blockquote><pre class="example">./autogen.sh
</pre></blockquote>
</li></ul>

<p>For information on packaging, see <a href="http://lilypond.org/devel">http://lilypond.org/devel</a>.
</p>

<hr size="6">
<a name="Requirements"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Downloading-source-code" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Downloading source code&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-from-source" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling from source&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Requirements" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Requirements"></a>
<h3 class="subsection">1.2.2 Requirements</h3>

<hr size="6">
<a name="Requirements"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Requirements" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Requirements&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Requirements" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Requirements&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Requirements" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Compilation</h4>

<p>In addition to the packages needed for running LilyPond (see below), you
need the following extra packages for building.
</p>
<p>When installing a binary package FOO, you may need to install the
FOO-devel, libFOO-dev or FOO-dev package too.
</p>
<ul>
<li> <a href="http://fontforge.sf.net/">FontForge</a> 20060125 or newer.

</li><li> <a href="http://metafont.tutorial.free.fr/">MetaFont</a> (mf-nowin, mf, mfw or
mfont binaries) and <a href="http://cm.bell-labs.com/who/hobby/MetaPost.html">MetaPost</a>
(mpost binary), usually packaged with a LaTeX distribution like
tetex or texlive.

</li><li> <a href="http://www.lcdf.org/~eddietwo/type/#t1utils">t1utils</a>
(version 1.33 or newer recommended).

</li><li> New Century Schoolbook fonts, as PFB files.  These are shipped with
X11 and Ghostscript, and are named &lsquo;<tt>c059033l.pfb</tt>&rsquo;
&lsquo;<tt>c059036l.pfb</tt>&rsquo;, &lsquo;<tt>c059013l.pfb</tt>&rsquo; and &lsquo;<tt>c059016l.pfb</tt>&rsquo;.

</li><li> <a href="http://www.gnu.org/software/guile/guile.html">GUILE</a> (version
1.8.2 or newer).  If you are installing binary packages, you may need to
install guile-devel or guile-dev or libguile-dev too.

</li><li> <a href="ftp://ftp.gnu.org/gnu/texinfo/">Texinfo</a> (version 4.11 or newer).

</li><li> <a href="http://gcc.gnu.org/">The GNU c++ compiler</a> (version 3.4 or
newer.  4.x is strongly recommended).

</li><li> <a href="http://www.python.org">Python</a> (version 2.4 or newer)

</li><li> <a href="ftp://ftp.gnu.org/gnu/make/">GNU Make</a> (version 3.78 or newer).

</li><li> <a href="http://www.gnu.org/software/gettext/gettext.html">gettext</a>
(version 0.17 or newer).

</li><li> <a href="http://www.gnu.org/software/flex/">Flex</a>.

</li><li> <a href="http://www.perl.org/">Perl</a>.

</li><li> <a href="http://www.gnu.org/software/bison/">GNU Bison</a>.

</li><li> All packages required for running, including development packages with
header files and libraries.

</li></ul>


<hr size="6">
<a name="Requirements"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Requirements" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Requirements" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Requirements&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Requirements" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Running requirements</h4>

<p>Running LilyPond requires proper installation of the following software
</p>
<ul>
<li> <a href="http://www.freetype.org/">Freetype</a> (version 2.1.10 or newer).
</li><li> <a href="http://fontconfig.org/">FontConfig</a> (version 2.2 or newer).
</li><li> <a href="http://www.pango.org/">Pango</a> (version 1.12 or newer).
</li><li> <a href="http://www.gnu.org/software/guile/guile.html">GUILE</a>
(version 1.8.2 or newer), or patch 1.8.1 with
<a href="http://lilypond.org/vc/gub.darcs/patches/guile-1.8-rational.patch">http://lilypond.org/vc/gub.darcs/patches/guile-1.8-rational.patch</a>.
</li><li> <a href="http://www.python.org">Python</a> (version 2.4 or newer).
</li><li> <a href="http://www.ghostscript.com">Ghostscript</a> (version 8.15 or
newer. 8.60 recommended)
</li><li> Dejaview.  (This is normally installed by default)
</li></ul>

<p>International fonts are required to create music with international text
or lyrics.
</p>

<hr size="6">
<a name="Requirements"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Requirements" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Requirements" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Requirements&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Building-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Building LilyPond &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Requirements for building documentation</h4>

<p>You can view the documentation online at
<a href="http://lilypond.org/doc/">http://lilypond.org/doc/</a>, but you can also build it locally.
This process requires a successful compile of LilyPond, and some
additional tools and packages:
</p>
<ul>
<li> The <a href="http://netpbm.sourceforge.net/">netpbm utilities</a>
</li><li> ImageMagick
</li><li> International fonts (see input/regression/utf-8.ly for hints
about which font packages are necessary for your platform)
</li><li> Ghostscript 8.60 or newer, or 8.50 with the patch from
<a href="http://bugs.ghostscript.com/show_bug.cgi?id=688154">http://bugs.ghostscript.com/show_bug.cgi?id=688154</a>
and the patch from
<a href="http://bugs.ghostscript.com/show_bug.cgi?id=688017">http://bugs.ghostscript.com/show_bug.cgi?id=688017</a>.
</li><li> <a href="http://www.nongnu.org/texi2html/">Texi2HTML</a> 1.80 or newer
</li><li> rsync
</li></ul>


<hr size="6">
<a name="Building-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Requirements" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-from-source" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling from source&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Building-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Building-LilyPond"></a>
<h3 class="subsection">1.2.3 Building LilyPond</h3>

<hr size="6">
<a name="Building-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Building-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Building LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Building-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Building LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Building-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Compiling</h4>

<p>To install GNU LilyPond, type
</p>
<blockquote><pre class="example">gunzip -c lilypond-x.y.z | tar xf -
cd lilypond-x.y.z
./configure		# run with --help for applicable options
make
su -c 'make install'
</pre></blockquote>

<p>If you are not root, you should choose a <code>--prefix</code> argument that
points into your home directory, e.g.
</p>
<blockquote><pre class="example">./configure --prefix=$HOME/usr
</pre></blockquote>


<hr size="6">
<a name="Building-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Building-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Building-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Building LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Building-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Compiling for multiple platforms</h4>

<p>If you want to build multiple versions of LilyPond with different
configuration settings, you can use the <code>--enable-config=CONF</code>
option of <code>configure</code>.  You should use <code>make conf=CONF</code>
to generate the output in &lsquo;<tt>out-CONF</tt>&rsquo;.  For example, suppose you
want to build with and without profiling, then use the following for
the normal build
</p>
<blockquote><pre class="example">./configure --prefix=$HOME/usr/ --enable-checking
make
make install
</pre></blockquote>

<p>and for the profiling version, specify a different configuration
</p>
<blockquote><pre class="example">./configure --prefix=$HOME/usr/ --enable-profiling --enable-config=prof --disable-checking
make conf=prof
make conf=prof install
</pre></blockquote>


<hr size="6">
<a name="Building-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Building-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Building-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Building LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Building-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Compiling outside the source tree</h4>

<p>It is possible to compile LilyPond in a build tree different from the
source tree, with <code>--srcdir</code> option of <code>configure</code>:
</p>
<blockquote><pre class="example">mkdir lily-build &amp;&amp; cd lily-build
<var>sourcedir</var>/configure --srcdir=<var>sourcedir</var>

</pre></blockquote>


<hr size="6">
<a name="Building-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Building-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Building-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Building LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Building-documentation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Building documentation &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Useful <code>make</code> variables</h4>

<p>If a less verbose build output if desired, the variable
<code>QUIET_BUILD</code> may be set to <code>1</code> on <code>make</code> command
line, or in &lsquo;<tt>local.make</tt>&rsquo; at top of the build tree.
</p>

<hr size="6">
<a name="Building-documentation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Building-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-from-source" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling from source&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Commands-for-building-documentation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Commands for building documentation &gt; </a>]</td></tr></table>
<a name="Building-documentation"></a>
<h3 class="subsection">1.2.4 Building documentation</h3>

<p>This requires a successful compile of LilyPond, or using an external
LilyPond binary.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Commands-for-building-documentation" accesskey="1">Commands for building documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Compiling and installing the documentation.
</td></tr>
<tr><td align="left" valign="top"><a href="#Building-documentation-without-compiling-LilyPond" accesskey="2">Building documentation without compiling LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Using a LilyPond binary already installed.
</td></tr>
</table>

<hr size="6">
<a name="Commands-for-building-documentation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Building-documentation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Building documentation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Building-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Building documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Building-documentation-without-compiling-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Building documentation without compiling LilyPond &gt; </a>]</td></tr></table>
<a name="Commands-for-building-documentation"></a>
<h4 class="unnumberedsubsubsec">Commands for building documentation</h4>

<p>The documentation is built by issuing
</p>
<blockquote><pre class="example">make doc
</pre></blockquote>

<p>After compilation, the HTML documentation tree is available in
&lsquo;<tt>out-www/offline-root/</tt>&rsquo;, and can be browsed locally.
</p>
<p>The HTML, PDF and if available Info files can be installed into the
standard documentation path by issuing
</p>
<blockquote><pre class="example">make install-doc
</pre></blockquote>

<p>This also installs Info documentation with images if the installation
prefix is properly set; otherwise, instructions to complete proper
installation of Info documentation are printed on standard output.
</p>
<p>Compilation of documentation in Info format with images can be done
separately by issuing
</p>
<blockquote><pre class="example">make info
</pre></blockquote>

<p>Separate installation of this documentation is done by issuing
</p>
<blockquote><pre class="example">make install-info
</pre></blockquote>

<p>Note that to get the images in Info documentation, <code>install-doc</code>
target creates symbolic links to HTML and PDF installed documentation
tree in &lsquo;<tt><var>prefix</var>/share/info</tt>&rsquo;, in order to save disk space,
whereas <code>install-info</code> copies images in
&lsquo;<tt><var>prefix</var>/share/info</tt>&rsquo; subdirectories.
</p>
<p>It is possible to build a documentation tree in
&lsquo;<tt>out-www/online-root/</tt>&rsquo;, with special processing, so it can be
used on a website with content negotiation for automatic language
selection; this can be achieved by issuing
</p>
<blockquote><pre class="example">make WEB_TARGETS=online doc
</pre></blockquote>

<p>and both &lsquo;offline&rsquo; and &lsquo;online&rsquo; targets can be generated by issuing
</p>
<blockquote><pre class="example">make WEB_TARGETS=&quot;offline online&quot; doc
</pre></blockquote>

<p>Several targets are available to clean the documentation build and
help with maintaining documentation; an overview of these targets is
available with
</p>
<blockquote><pre class="example">make help
</pre></blockquote>

<p>from every directory in the build tree.  Most targets for
documentation maintenance are available from &lsquo;<tt>Documentation/</tt>&rsquo;;
for more information, see the Contributors&rsquo; Guide, section
<em>Documentation work</em>.
</p>
<p>The makefile variable <code>QUIET_BUILD</code> may be set to <code>1</code> for a
less verbose build output, just like for building the programs.
</p>

<a name="Known-issues-and-warnings-1"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>The most time consuming task for building the documentation is running
LilyPond to build images of music, and there cannot be several
simultaneously running <code>lilypond-book</code> instances, so <code>-j</code>
<code>make</code> option does not significantly speed up the build process.
To help speed it up, the makefile variable <var>CPU_COUNT</var> may be set
in &lsquo;<tt>local.make</tt>&rsquo; or on the command line to the number of
<code>.ly</code> files that LilyPond should process simultaneously, e.g. on
a bi-processor or dual core machine
</p>
<blockquote><pre class="example">make -j3 CPU_COUNT=3 doc
</pre></blockquote>

<p>The recommended value of <var>CPU_COUNT</var> is one plus the number of
cores or processors, but it is advisable to set it to a smaller value
if your system has not enough RAM to run that many simultaneous
LilyPond instances.
</p>
<p>If source files have changed since last documentation build, output
files that need to be rebuilt are normally rebuilt, even if you do not
run <code>make doc-clean</code> first.  However, building dependencies in the
documentation are so complex that rebuilding of some targets may not
be triggered as they should be; a workaround is to force rebuilding
by touching appropriate files, e.g.
</p>
<blockquote><pre class="example">touch Documentation/user/*.itely
touch input/lsr/*.ly
</pre></blockquote>


<hr size="6">
<a name="Building-documentation-without-compiling-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Commands-for-building-documentation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Commands for building documentation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Building-documentation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Building documentation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Testing-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Testing LilyPond &gt; </a>]</td></tr></table>
<a name="Building-documentation-without-compiling-LilyPond"></a>
<h4 class="unnumberedsubsubsec">Building documentation without compiling LilyPond</h4>

<p>The documentation can be built locally without compiling LilyPond
binary, if LilyPond is already installed on your system.
</p>
<p>From a fresh Git checkout, do
</p>
<blockquote><pre class="example">./autogen.sh   # ignore any warning messages
cp GNUmakefile.in GNUmakefile
make -C python
nice make LILYPOND_EXTERNAL_BINARY=/path/to/bin/lilypond doc
</pre></blockquote>

<p>Please note that this may break sometimes &ndash; for example, if a new
feature is added with a test file in input/regression, even the latest
development release of LilyPond will fail to build the docs.
</p>
<p>You may build the manual without building all the &lsquo;<tt>input/*</tt>&rsquo;
stuff: change directory, for example to &lsquo;<tt>Documentation/user</tt>&rsquo;,
issue <code>make doc</code>, which will build documentation in a
subdirectory &lsquo;<tt>out-www</tt>&rsquo; from the source files in current
directory.  In this case, if you also want to browse the documentation
in its post-processed form, change back to top directory and issue
</p>
<blockquote><pre class="example">make out=www WWW-post
</pre></blockquote>

<a name="Known-issues-and-warnings-5"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>You may also need to create a script for <code>pngtopnm</code> and
<code>pnmtopng</code>.  On GNU/Linux, I use this:
</p>
<pre class="verbatim">export LD_LIBRARY_PATH=/usr/lib
exec /usr/bin/pngtopnm &quot;$@&quot;
</pre>
<p>On MacOS&nbsp;X, I use this:
</p>
<pre class="verbatim">export DYLD_LIBRARY_PATH=/sw/lib
exec /sw/bin/pngtopnm &quot;$@&quot;
</pre>


<hr size="6">
<a name="Testing-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Building-documentation-without-compiling-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Building documentation without compiling LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-from-source" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling from source&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Problems" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Problems &gt; </a>]</td></tr></table>
<a name="Testing-LilyPond"></a>
<h3 class="subsection">1.2.5 Testing LilyPond</h3>

<a name="testing"></a>
<p>LilyPond comes with an extensive suite that exercises the entire
program.  This suite can be used to automatically check the impact of a
change.  This is done as follows
</p>
<blockquote><pre class="example">make test-baseline
<em>## apply your changes, compile</em>
make check
</pre></blockquote>

<p>This will leave an HTML page &lsquo;<tt>out/test-results/index.html</tt>&rsquo;.  This
page shows all the important differences that your change introduced,
whether in the layout, MIDI, performance or error reporting.
</p>
<p>To rerun tests, use
</p>
<blockquote><pre class="example">make test-redo           <em>## redo files differing from baseline</em>
make test-clean          <em>## remove all test results</em>
</pre></blockquote>

<p>and then run <code>make check</code> again.
</p>
<p>For tracking memory usage as part of this test, you will need GUILE
CVS; especially the following patch:
<a href="http://lilypond.org/vc/gub.darcs/patches/guile-1.9-gcstats.patch">http://lilypond.org/vc/gub.darcs/patches/guile-1.9-gcstats.patch</a>.
</p>
<p>For checking the coverage of the test suite, do the following
</p>
<blockquote><pre class="example">./scripts/auxiliar/build-coverage.sh
<em># uncovered files, least covered first</em>
./scripts/auxiliar/coverage.py  --summary out-cov/*.cc
<em># consecutive uncovered lines, longest first</em>
./scripts/auxiliar/coverage.py  --uncovered out-cov/*.cc
</pre></blockquote>


<hr size="6">
<a name="Problems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Testing-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Testing LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Compiling-from-source" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Compiling from source&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Problems" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Problems"></a>
<h3 class="subsection">1.2.6 Problems</h3>

<p>For help and questions use <a href="mailto:lilypond-user@gnu.org">lilypond-user@gnu.org</a>.  Send bug
reports to <a href="mailto:bug-lilypond@gnu.org">bug-lilypond@gnu.org</a>.
</p>
<p>Bugs that are not fault of LilyPond are documented here.
</p>
<hr size="6">
<a name="Problems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Problems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Problems&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Problems" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Problems&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Problems" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Bison 1.875</h4>

<p>There is a bug in bison-1.875: compilation fails with &quot;parse error
before &lsquo;goto&rsquo;&quot; in line 4922 due to a bug in bison.  To fix, please
recompile bison 1.875 with the following fix
</p>
<blockquote><pre class="example">$ cd lily; make out/parser.cc
$ vi +4919 out/parser.cc
# append a semicolon to the line containing &quot;__attribute__ ((__unused__))
# save
$ make
</pre></blockquote>


<hr size="6">
<a name="Problems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Problems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Problems" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Problems&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Problems" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Solaris</h4>

<p>Solaris7, ./configure
</p>
<p>&lsquo;<tt>./configure</tt>&rsquo; needs a POSIX compliant shell.  On Solaris7,
&lsquo;<tt>/bin/sh</tt>&rsquo; is not yet POSIX compliant, but &lsquo;<tt>/bin/ksh</tt>&rsquo; or bash
is.  Run configure like
</p>
<blockquote><pre class="example">CONFIG_SHELL=/bin/ksh ksh -c ./configure
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">CONFIG_SHELL=/bin/bash bash -c ./configure
</pre></blockquote>

<hr size="6">
<a name="Problems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Problems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Problems" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Problems&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Problems" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">FreeBSD</h4>

<p>To use system fonts, dejaview must be installed.  With the default
port, the fonts are installed in &lsquo;<tt>usr/X11R6/lib/X11/fonts/dejavu</tt>&rsquo;.
</p>
<p>Open the file &lsquo;<tt>$LILYPONDBASE/usr/etc/fonts/local.conf</tt>&rsquo; and add the
following line just after the <code>&lt;fontconfig&gt;</code> line.  (Adjust as necessary
for your hierarchy.)
</p>
<blockquote><pre class="example">&lt;dir&gt;/usr/X11R6/lib/X11/fonts&lt;/dir&gt;
</pre></blockquote>


<hr size="6">
<a name="Problems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Setup" title="Next chapter">&nbsp;Setup &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Problems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Problems" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Problems&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Setup" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Setup &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">International fonts</h4>

<p>On MacOS&nbsp;X, all fonts are installed by default.  However, finding all
system fonts requires a bit of configuration; see
<a href="http://lists.gnu.org/archive/html/lilypond-user/2007-03/msg00472.html">this post</a> on the <code>lilypond-user</code> mailing list.
</p>
<p>On Linux, international fonts are installed by different means on
every distribution.  We cannot list the exact commands or packages
that are necessary, as each distribution is different, and the exact
package names within each distribution changes.  Here are some
hints, though:
</p>
<pre class="verbatim">Red Hat Fedora

    taipeifonts fonts-xorg-truetype ttfonts-ja fonts-arabic \
         ttfonts-zh_CN fonts-ja fonts-hebrew

Debian GNU/Linux

   apt-get install emacs-intl-fonts xfonts-intl-.* \
        ttf-kochi-gothic ttf-kochi-mincho \
        xfonts-bolkhov-75dpi xfonts-cronyx-100dpi xfonts-cronyx-75dpi
</pre>


<hr size="6">
<a name="Setup"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Install" title="Beginning of this chapter or previous chapter"> &lt;&lt; Install&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Problems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Setup-for-specific-Operating-Systems" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Setup for specific Operating Systems &gt; </a>]</td></tr></table>
<a name="Setup"></a>
<h1 class="chapter">2. Setup</h1>

<p>This chapter discusses various post-install configuration options for
LilyPond and various other programs.  This chapter may be safely treated
as a reference: only read a section if it applies to you.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Setup-for-specific-Operating-Systems" accesskey="1">2.1 Setup for specific Operating Systems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Text-editor-support" accesskey="2">2.2 Text editor support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Point-and-click" accesskey="3">2.3 Point and click</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Setup-for-specific-Operating-Systems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Setup" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Setup" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Setup&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Setup-for-MacOS-X" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Setup for MacOS X &gt; </a>]</td></tr></table>
<a name="Setup-for-specific-Operating-Systems"></a>
<h2 class="section">2.1 Setup for specific Operating Systems</h2>

<p>This section explains how to perform additional setup for specific
operating systems.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Setup-for-MacOS-X" accesskey="1">2.1.1 Setup for MacOS X</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Setup-for-MacOS-X"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Setup-for-specific-Operating-Systems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Setup for specific Operating Systems&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Setup-for-specific-Operating-Systems" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Setup for specific Operating Systems&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Text-editor-support" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Text editor support &gt; </a>]</td></tr></table>
<a name="Setup-for-MacOS-X"></a>
<h3 class="subsection">2.1.1 Setup for MacOS X</h3>

<a name="Using-Python-scripts-on-MacOS-10_002e3-or-10_002e4"></a>
<h4 class="subsubheading">Using Python scripts on MacOS 10.3 or 10.4</h4>

<p>LilyPond binaries for MacOS X do not provide Python, but Python 2.4 or
newer is required by <code>convert-ly</code>.  Therefore, if you use MacOS
10.3 or 10.4, you must install a newer Python version from
<a href="http://python.org/download/">http://python.org/download/</a>, then edit the first line of
<code>convert-ly</code> and <code>lilypond-book</code> as follows: if the
Python binary you just installed is in your <var>PATH</var>, the first line
should be
</p>
<blockquote><pre class="example">#!/usr/bin/env python
</pre></blockquote>

<p>otherwise it should be
</p>
<blockquote><pre class="example">#!<var>/path/to/newly_installed/python</var>
</pre></blockquote>


<a name="MacOS-X-on-the-command-line"></a>
<h4 class="subsubheading">MacOS X on the command line</h4>

<p>The scripts &mdash; such as <code>lilypond-book</code>, <code>convert-ly</code>,
<code>abc2ly</code>, and even <code>lilypond</code> itself &mdash; are included
inside the <code>.app</code> file for MacOS&nbsp;X.  They can be run from
the command line by invoking them directly, e.g.
</p>
<blockquote><pre class="example"><var>path/to</var>/LilyPond.app/Contents/Resources/bin/lilypond
</pre></blockquote>

<p>The same is true of the other scripts in that directory, including
<code>lilypond-book</code>, <code>convert-ly</code>, <code>abc2ly</code>, etc.
</p>
<p>Alternatively, you may create scripts which add the path
automatically.  Create a directory to store these scripts,
</p>
<blockquote><pre class="example">mkdir -p ~/bin
cd ~/bin
</pre></blockquote>

<p>Create a file called <code>lilypond</code> which contains
</p>
<blockquote><pre class="example">exec <var>path/to</var>/LilyPond.app/Contents/Resources/bin/lilypond &quot;$@&quot;
</pre></blockquote>

<p>Create similar files <code>lilypond-book</code>, <code>convert-ly</code>, and
any other helper programs you use (<code>abc2ly</code>, <code>midi2ly</code>,
etc).  Simply replace the <code>bin/lilypond</code> with
<code>bin/convert-ly</code> (or other program name) in the above file.
</p>
<p>Make the file executable,
</p>
<blockquote><pre class="example">chmod u+x lilypond
</pre></blockquote>

<p>Now, add this directory to your path.  Modify (or create)
a file called <code>.profile</code> in your home directory such that it contains
</p>
<blockquote><pre class="example">export PATH=$PATH:~/bin
</pre></blockquote>

<p>This file should end with a blank line.
</p>
<p>Note that <var>path/to</var> will generally be <code>/Applications/</code>.
</p>

<hr size="6">
<a name="Text-editor-support"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Setup-for-MacOS-X" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Setup for MacOS X&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Setup" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Setup&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Emacs-mode" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Emacs mode &gt; </a>]</td></tr></table>
<a name="Text-editor-support"></a>
<h2 class="section">2.2 Text editor support</h2>

<a name="index-editors"></a>
<a name="index-vim"></a>
<a name="index-emacs"></a>
<a name="index-modes_002c-editor"></a>
<a name="index-syntax-coloring"></a>
<a name="index-coloring_002c-syntax"></a>

<p>There is support from different text editors for LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Emacs-mode" accesskey="1">2.2.1 Emacs mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Vim-mode" accesskey="2">2.2.2 Vim mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#jEdit" accesskey="3">2.2.3 jEdit</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#TexShop" accesskey="4">2.2.4 TexShop</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#TextMate" accesskey="5">2.2.5 TextMate</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#LilyKDE" accesskey="6">2.2.6 LilyKDE</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Emacs-mode"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Text-editor-support" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Text editor support&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text-editor-support" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vim-mode" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vim mode &gt; </a>]</td></tr></table>
<a name="Emacs-mode"></a>
<h3 class="subsection">2.2.1 Emacs mode</h3>

<p>Emacs has a &lsquo;<tt>lilypond-mode</tt>&rsquo;, which provides keyword
autocompletion, indentation, LilyPond specific parenthesis matching
and syntax coloring, handy compile short-cuts and reading LilyPond
manuals using Info.  If &lsquo;<tt>lilypond-mode</tt>&rsquo; is not installed on your
platform, see below.
</p>
<p>An Emacs mode for entering music and running LilyPond is contained in
the source archive in the &lsquo;<tt>elisp</tt>&rsquo; directory.  Do <code>make
install</code> to install it to <var>elispdir</var>.  The file &lsquo;<tt>lilypond-init.el</tt>&rsquo;
should be placed to <var>load-path</var>&lsquo;<tt>/site-start.d/</tt>&rsquo; or appended
to your &lsquo;<tt>~/.emacs</tt>&rsquo; or &lsquo;<tt>~/.emacs.el</tt>&rsquo;.
</p>
<p>As a user, you may want add your source path (e.g. &lsquo;<tt>~/site-lisp/</tt>&rsquo;) to
your <var>load-path</var> by appending the following line (as modified) to your
&lsquo;<tt>~/.emacs</tt>&rsquo;
</p>
<blockquote><pre class="example">(setq load-path (append (list (expand-file-name &quot;~/site-lisp&quot;)) load-path))
</pre></blockquote>


<hr size="6">
<a name="Vim-mode"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Emacs-mode" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Emacs mode&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text-editor-support" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#jEdit" title="Next section in reading order" accesskey="n" rel="next">&nbsp;jEdit &gt; </a>]</td></tr></table>
<a name="Vim-mode"></a>
<h3 class="subsection">2.2.2 Vim mode</h3>

<p>For <a href="http://www.vim.org">VIM</a>, a &lsquo;<tt>vimrc</tt>&rsquo; is supplied,
along with syntax coloring tools.  A Vim mode for entering music and
running LilyPond is contained in the source archive in <code>$VIM</code>
directory.
</p>
<p>The LilyPond file type is detected if the file
&lsquo;<tt>~/.vim/filetype.vim</tt>&rsquo; has the following content
</p>
<blockquote><pre class="example">if exists(&quot;did_load_filetypes&quot;)
  finish
endif
augroup filetypedetect
  au! BufNewFile,BufRead *.ly,*.ily           setf lilypond
augroup END
</pre></blockquote>

<p>Please include this path by appending the following line to your
&lsquo;<tt>~/.vimrc</tt>&rsquo;
</p>
<blockquote><pre class="example">set runtimepath+=/usr/local/share/lilypond/${LILYPOND_VERSION}/vim/
</pre></blockquote>

<p>where ${LILYPOND_VERSION} is your LilyPond version.  If LilyPond was not
installed in &lsquo;<tt>/usr/local/</tt>&rsquo;, then change this path accordingly.
</p>

<hr size="6">
<a name="jEdit"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vim-mode" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vim mode&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text-editor-support" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#TexShop" title="Next section in reading order" accesskey="n" rel="next">&nbsp;TexShop &gt; </a>]</td></tr></table>
<a name="jEdit"></a>
<h3 class="subsection">2.2.3 jEdit</h3>

<p>Created as a plugin for the <a href="http://www.jedit.org">jEdit</a>
text editor, LilyPondTool is the most feature-rich text-based tool for
editing LilyPond scores.  Its features include a Document Wizard with
lyrics support to set up documents easier, and embedded PDF viewer with
advanced point-and-click support.  For screenshots, demos and
installation instructions, visit
<a href="http://lilypondtool.organum.hu">http://lilypondtool.organum.hu</a>
</p>

<hr size="6">
<a name="TexShop"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#jEdit" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; jEdit&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text-editor-support" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#TextMate" title="Next section in reading order" accesskey="n" rel="next">&nbsp;TextMate &gt; </a>]</td></tr></table>
<a name="TexShop"></a>
<h3 class="subsection">2.2.4 TexShop</h3>

<p>The <a href="http://www.uoregon.edu/~koch/texshop/index.html">TexShop</a>
editor for MacOS&nbsp;X can be extended to run LilyPond, lilypond-book and
convert-ly from within the editor, using the extensions available at
<a href="http://www.dimi.uniud.it/vitacolo/freesoftware.html">http://www.dimi.uniud.it/vitacolo/freesoftware.html</a>.
</p>

<hr size="6">
<a name="TextMate"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#TexShop" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; TexShop&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text-editor-support" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyKDE" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LilyKDE &gt; </a>]</td></tr></table>
<a name="TextMate"></a>
<h3 class="subsection">2.2.5 TextMate</h3>

<p>There is a LilyPond bundle for TextMate.  It may be installed by running
</p>
<blockquote><pre class="example">mkdir -p /Library/Application\ Support/TextMate/Bundles
cd /Library/Application\ Support/TextMate/Bundles
svn co http://macromates.com/svn/Bundles/trunk/Bundles/Lilypond.tmbundle/
</pre></blockquote>


<hr size="6">
<a name="LilyKDE"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#TextMate" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; TextMate&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text-editor-support" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Point-and-click" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Point and click &gt; </a>]</td></tr></table>
<a name="LilyKDE"></a>
<h3 class="subsection">2.2.6 LilyKDE</h3>

<p><a href="http://lilykde.googlecode.com/">LilyKDE</a> is a plugin for KDE&rsquo;s
text editor <a href="http://kate-editor.org/">Kate</a>.  It has a powerful Score
Wizard to quickly setup a LilyPond document and an embedded PDF viewer.
</p>
<p>LilyKDE can use <a href="http://www.volny.cz/smilauer/rumor/">Rumor</a>,
so music can entered by playing on a MIDI keyboard.
</p>
<p>Other features are lyric hyphenation and running LilyPond on multiple files
at once from within the KDE file manager.
</p>

<hr size="6">
<a name="Point-and-click"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Running-LilyPond" title="Next chapter">&nbsp;Running LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyKDE" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; LilyKDE&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Setup" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Setup&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Running-LilyPond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Running LilyPond &gt; </a>]</td></tr></table>
<a name="Point-and-click"></a>
<h2 class="section">2.3 Point and click</h2>
<a name="index-point-and-click"></a>


<p>Point and click lets you find notes in the input by clicking on them
in the PDF viewer.  This makes it easier to find input that causes
some error in the sheet music.
</p>
<p>When this functionality is active, LilyPond adds hyperlinks to the PDF
file.  These hyperlinks are sent to the web-browser, which opens a
text-editor with the cursor in the right place.
</p>
<p>To make this chain work, you should configure your PDF viewer to
follow hyperlinks using the &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; script
supplied with LilyPond.
</p>
<p>For Xpdf on UNIX, the following should be present in
&lsquo;<tt>xpdfrc</tt>&rsquo;<sup><a name="DOCF1" href="#FOOT1">1</a></sup>
</p>
<blockquote><pre class="example">urlCommand     &quot;lilypond-invoke-editor %s&quot;
</pre></blockquote>

<p>The program &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; is a small helper
program.  It will invoke an editor for the special <code>textedit</code>
URIs, and run a web browser for others.  It tests the environment
variable <code>EDITOR</code> for the following patterns,
</p>
<dl compact="compact">
<dt> <code>emacs</code></dt>
<dd><p>  this will invoke
</p><blockquote><pre class="example">emacsclient --no-wait +<var>line</var>:<var>column</var> <var>file</var>
</pre></blockquote>
</dd>
<dt> <code>vim</code></dt>
<dd><p>  this will invoke
</p><blockquote><pre class="example">gvim --remote +:<var>line</var>:norm<var>char</var> <var>file</var>
</pre></blockquote>

</dd>
<dt> <code>nedit</code></dt>
<dd><p>this will invoke
</p><blockquote><pre class="example">  nc -noask +<var>line</var> <var>file</var>'
</pre></blockquote>
</dd>
</dl>

<p>The environment variable <code>LYEDITOR</code> is used to override this.  It
contains the command line to start the editor, where <code>%(file)s</code>,
<code>%(column)s</code>, <code>%(line)s</code> is replaced with the file, column
and line respectively.  The  setting
</p>
<blockquote><pre class="example">emacsclient --no-wait +%(line)s:%(column)s %(file)s
</pre></blockquote>

<p>for <code>LYEDITOR</code> is equivalent to the standard emacsclient
invocation.
</p>

<a name="index-file-size_002c-output"></a>

<p>The point and click links enlarge the output files significantly.  For
reducing the size of PDF and PS files, point and click may be switched
off by issuing
</p>
<blockquote><pre class="example">\pointAndClickOff
</pre></blockquote>

<p>in a &lsquo;<tt>.ly</tt>&rsquo; file.  Point and click may be explicitly enabled with
</p>
<blockquote><pre class="example">\pointAndClickOn
</pre></blockquote>

<p>Alternately, you may disable point and click with a command-line
option:
</p>
<blockquote><pre class="example">lilypond -dno-point-and-click file.ly
</pre></blockquote>

<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> You should always turn off point and click in any LilyPond
files to be distributed to avoid including path information about
your computer in the .pdf file, which can pose a security risk.
</p></td></tr></table>



<hr size="6">
<a name="Running-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; Setup&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Point-and-click" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Point and click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Normal-usage" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Normal usage &gt; </a>]</td></tr></table>
<a name="Running-LilyPond"></a>
<h1 class="chapter">3. Running LilyPond</h1>

<p>This chapter details the technicalities of running LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Normal-usage" accesskey="1">3.1 Normal usage</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Command_002dline-usage" accesskey="2">3.2 Command-line usage</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Error-messages" accesskey="3">3.3 Error messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Updating-files-with-convert_002dly" accesskey="4">3.4 Updating files with <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Reporting-bugs" accesskey="5">3.5 Reporting bugs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Normal-usage"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Running-LilyPond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Running-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Running LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Command_002dline-usage" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Command-line usage &gt; </a>]</td></tr></table>
<a name="Normal-usage"></a>
<h2 class="section">3.1 Normal usage</h2>

<p>Most users run LilyPond through a GUI; see <a name="index-First-steps"></a>
<a href="lilypond-learning-big-page.html#First-steps">First steps</a> if
you have not read this already.
</p>

<hr size="6">
<a name="Command_002dline-usage"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Normal-usage" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Normal usage&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Running-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Running LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Invoking-lilypond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking lilypond &gt; </a>]</td></tr></table>
<a name="Command_002dline-usage"></a>
<h2 class="section">3.2 Command-line usage</h2>

<p>This section contains extra information about using LilyPond on the
command-line.  This may be desirable to pass extra options to the
program.  In addition, there are certain extra &lsquo;helper&rsquo; programs (such
as <code>midi2ly</code>) which are only available on the command-line.
</p>
<p>By &lsquo;command-line&rsquo;, we mean the command line in the operating system.
Windows users might be more familiar with the terms &lsquo;DOS shell&rsquo; or
&lsquo;command shell&rsquo;; MacOS&nbsp;X users might be more familiar with the terms
&lsquo;terminal&rsquo; or &lsquo;console&rsquo;.  They should also consult <a href="#Setup-for-MacOS-X">Setup for MacOS X</a>.
</p>
<p>Describing how to use this part of an operating system is outside the
scope of this manual; please consult other documentation on this topic
if you are unfamiliar with the command-line.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Invoking-lilypond" accesskey="1">3.2.1 Invoking <code>lilypond</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Command-line-options-for-lilypond" accesskey="2">3.2.2 Command line options for <code>lilypond</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Environment-variables" accesskey="3">3.2.3 Environment variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Invoking-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Command_002dline-usage" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Command-line usage&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Command_002dline-usage" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Command-line usage&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Command-line-options-for-lilypond" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Command line options for lilypond &gt; </a>]</td></tr></table>
<a name="Invoking-lilypond"></a>
<h3 class="subsection">3.2.1 Invoking <code>lilypond</code></h3>

<a name="index-Invoking-lilypond"></a>
<a name="index-command-line-options-for-lilypond"></a>
<a name="index-options_002c-command-line"></a>
<a name="index-switches"></a>


<p>The <code>lilypond</code> executable may be called as follows from the command line.
</p>
<blockquote><pre class="example">lilypond [<var>option</var>]&hellip; <var>file</var>&hellip;
</pre></blockquote>


<p>When invoked with a filename that has no extension, the &lsquo;<tt>.ly</tt>&rsquo;
extension is tried first.  To read input from stdin, use a
dash (<code>-</code>) for <var>file</var>.
</p>
<p>When &lsquo;<tt>filename.ly</tt>&rsquo; is processed it will produce &lsquo;<tt>filename.ps</tt>&rsquo;
and &lsquo;<tt>filename.pdf</tt>&rsquo; as output.  Several files can be specified;
they will each be processed independently.  <sup><a name="DOCF2" href="#FOOT2">2</a></sup>
</p>
<p>If &lsquo;<tt>filename.ly</tt>&rsquo; contains more than one <code>\score</code>
block, then the rest of the scores will be output in numbered files,
starting with &lsquo;<tt>filename-1.pdf</tt>&rsquo;.  In addition, the value of
<code>output-suffix</code> will be inserted between the basename and the
number.  An input file containing
</p>
<blockquote><pre class="example">#(define output-suffix &quot;violin&quot;)
\score { &hellip; }
#(define output-suffix &quot;cello&quot;)
\score { &hellip; }
</pre></blockquote>

<p>will output <var>base</var>&lsquo;<tt>-violin.pdf</tt>&rsquo; and
<var>base</var>&lsquo;<tt>-cello-1.pdf</tt>&rsquo;.
</p>

<hr size="6">
<a name="Command-line-options-for-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Invoking-lilypond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Invoking lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Command_002dline-usage" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Command-line usage&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Environment-variables" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Environment variables &gt; </a>]</td></tr></table>
<a name="Command-line-options-for-lilypond"></a>
<h3 class="subsection">3.2.2 Command line options for <code>lilypond</code></h3>

<p>The following options are supported:
</p>
<dl compact="compact">
<dt> <code>-e,--evaluate=<var>expr</var></code></dt>
<dd><p>Evaluate the Scheme <var>expr</var> before parsing any &lsquo;<tt>.ly</tt>&rsquo; files.
Multiple <code>-e</code> options may be given, they will be evaluated
sequentially.
</p>
<p>The expression will be evaluated in the <code>guile-user</code> module, so
if you want to use definitions in <var>expr</var>, use
</p>
<blockquote><pre class="example">lilypond -e '(define-public a 42)'
</pre></blockquote>

<p>on the command-line, and include
</p>
<blockquote><pre class="example">#(use-modules (guile-user))
</pre></blockquote>

<p>at the top of the <code>.ly</code> file.
</p>
</dd>
<dt> <code>-f,--format=<var>format</var></code></dt>
<dd><p>which formats should be written.  Choices for <code>format</code> are
<code>svg</code>, <code>ps</code>, <code>pdf</code>, and <code>png</code>.
</p>
<p>Example: <code>lilypond -fpng <var>filename</var>.ly</code>
</p>


</dd>
<dt> <code>-d,--define-default=<var>var</var>=<var>val</var></code></dt>
<dd><p>This sets the internal program option <var>var</var> to the Scheme value
<var>val</var>.  If <var>val</var> is not supplied, then <var>#t</var> is used.  To
switch off an option, <code>no-</code> may be prefixed to <var>var</var>, e.g.
</p>
<a name="index-point-and-click_002c-command-line"></a>

<blockquote><pre class="example">-dno-point-and-click
</pre></blockquote>

<p>is the same as
</p><blockquote><pre class="example">-dpoint-and-click='#f'
</pre></blockquote>

<p>Here are a few interesting options.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>help</samp>&rsquo;</dt>
<dd><p>Running <code>lilypond -dhelp</code> will print all of the <code>-d</code> options
available.
</p>
</dd>
<dt> &lsquo;<samp>paper-size</samp>&rsquo;</dt>
<dd><p>This option sets the default paper-size,
</p><blockquote><pre class="example">-dpaper-size=\&quot;letter\&quot;
</pre></blockquote>

<p>Note that the string must be enclosed in escaped quotes ( <code>\&quot;</code> ).
</p>
</dd>
<dt> &lsquo;<samp>safe</samp>&rsquo;</dt>
<dd><p>Do not trust the <code>.ly</code> input.
</p>
<p>When LilyPond formatting is available through a web server, either the
<code>--safe</code> or the <code>--jail</code> option <b>MUST</b> be passed.  The
<code>--safe</code> option will prevent inline Scheme code from wreaking
havoc, for example
</p>
<blockquote><pre class="verbatim">#(system &quot;rm -rf /&quot;)
{
  c4^#(ly:export (ly:gulp-file &quot;/etc/passwd&quot;))
}
</pre></blockquote>

<p>The <code>-dsafe</code> option works by evaluating in-line Scheme
expressions in a special safe module.  This safe module is derived from
GUILE &lsquo;<tt>safe-r5rs</tt>&rsquo; module, but adds a number of functions of the
LilyPond API.  These functions are listed in &lsquo;<tt>scm/safe-lily.scm</tt>&rsquo;.
</p>
<p>In addition, safe mode disallows <code>\include</code> directives and
disables the use of backslashes in TeX strings.
</p>
<p>In safe mode, it is not possible to import LilyPond variables
into Scheme.
</p>
<p><code>-dsafe</code> does <em>not</em> detect resource overuse.  It is still possible to
make the program hang indefinitely, for example by feeding cyclic data
structures into the backend.  Therefore, if using LilyPond on a
publicly accessible webserver, the process should be limited in both
CPU and memory usage.
</p>
<p>The safe mode will prevent many useful LilyPond snippets from being
compiled.  The <code>--jail</code> is a more secure alternative, but
requires more work to set up.
</p>
<a name="index-output-format_002c-setting"></a>
</dd>
<dt> &lsquo;<samp>backend</samp>&rsquo;</dt>
<dd><p>the output format to use for the back-end.  Choices for <code>format</code> are
</p><dl compact="compact">
<dt> <code>ps</code></dt>
<dd><a name="index-PostScript-output"></a>
<p> for PostScript.
</p>
<p>  Postscript files include TTF, Type1 and OTF fonts.  No subsetting of
  these fonts is done.  When using oriental character sets, this can
  lead to huge files.
</p>
</dd>
<dt> <code>eps</code></dt>
<dd><p> for encapsulated PostScript.  This dumps every page (system) as a separate
&lsquo;<tt>EPS</tt>&rsquo; file, without fonts, and as one collated &lsquo;<tt>EPS</tt>&rsquo; file with
all pages (systems) including fonts.
</p>
<p>This mode is used by default by <code>lilypond-book</code>.
</p>
</dd>
<dt> <code>svg</code></dt>
<dd><a name="index-SVG-_0028Scalable-Vector-Graphics_0029"></a>
<p> for SVG (Scalable Vector Graphics).  This dumps every page as a separate
&lsquo;<tt>SVG</tt>&rsquo; file, with embedded fonts.
  You need a SVG viewer which supports embedded fonts, or a SVG
  viewer which is able to replace the embedded fonts with OTF fonts.
  Under UNIX, you may use <a href="http://www.inkscape.org">Inkscape</a>
  (version 0.42 or later), after copying the OTF fonts from the LilyPond directory
  (typically &lsquo;<tt>/usr/share/lilypond/VERSION/fonts/otf/</tt>&rsquo;) to &lsquo;<tt>~/.fonts/</tt>&rsquo;.
</p></dd>
<dt> <code>scm</code></dt>
<dd><a name="index-Scheme-dump"></a>
<p> for a dump of the raw, internal Scheme-based drawing commands.
</p>
</dd>
<dt> <code>null</code></dt>
<dd><p> do not output a printed score; has the same effect as <code>-dno-print-pages</code>.
</p></dd>
</dl>

<p>Example: <code>lilypond -dbackend=svg <var>filename</var>.ly</code>
</p>
</dd>
<dt> &lsquo;<samp>preview</samp>&rsquo;</dt>
<dd><p>Generate an output file containing the titles and the first system
</p>
</dd>
<dt> &lsquo;<samp>print-pages</samp>&rsquo;</dt>
<dd><p>Generate the full pages, the default.  <code>-dno-print-pages</code> is
useful in combination with <code>-dpreview</code>.
</p>
</dd>
</dl>



</dd>
<dt> <code>-h,--help</code></dt>
<dd><p>Show a summary of usage.
</p>
</dd>
<dt> <code>-H,--header=<var>FIELD</var></code></dt>
<dd><p>Dump a header field to file &lsquo;<tt>BASENAME.<var>FIELD</var></tt>&rsquo;.
</p>
</dd>
<dt> <code>--include, -I=<var>directory</var></code></dt>
<dd><p>Add <var>directory</var> to the search path for input files.
<a name="index-file-searching"></a>
<a name="index-search-path"></a>
</p>
</dd>
<dt> <code>-i,--init=<var>file</var></code></dt>
<dd><p>Set init file to <var>file</var> (default: &lsquo;<tt>init.ly</tt>&rsquo;).
</p>
</dd>
<dt> <code>-o,--output=<var>FILE</var></code></dt>
<dd><p>Set the default output file to <var>FILE</var>.  The appropriate
suffix will be added (e.g. <code>.pdf</code> for pdf)
</p>
</dd>
<dt> <code>--ps</code></dt>
<dd><p>Generate PostScript.
</p>
</dd>
<dt> <code>--png</code></dt>
<dd><p>Generate pictures of each page, in PNG format.  This implies
<code>--ps</code>.  The resolution in DPI of the image may be set with
</p><blockquote><pre class="example">-dresolution=110
</pre></blockquote>

</dd>
<dt> <code>--pdf</code></dt>
<dd><p>Generate PDF.  This implies <code>--ps</code>.
</p>


</dd>
<dt> <code>-j,--jail=<var>user</var>,<var>group</var>,<var>jail</var>,<var>dir</var></code></dt>
<dd><p>Run <code>lilypond</code> in a chroot jail.
</p>
<p>The <code>--jail</code> option provides a more flexible alternative to
<code>--safe</code> when LilyPond formatting is available through a web
server or whenever LilyPond executes externally provided
sources.
</p>
<p>The <code>--jail</code> option works by changing the root of <code>lilypond</code> to
<var>jail</var> just before starting the actual compilation process.  The user
and group are then changed to match those provided, and the current
directory is changed to <var>dir</var>.  This setup guarantees that it is not
possible (at least in theory) to escape from the jail.  Note that for
<code>--jail</code> to work <code>lilypond</code> must be run as root, which is usually
accomplished in a safe way using <code>sudo</code>.
</p>
<p>Setting up a jail is a slightly delicate matter, as we must be sure that
LilyPond is able to find whatever it needs to compile the source
<em>inside the jail</em>.  A typical setup comprises the following items:
</p>
<dl compact="compact">
<dt> Setting up a separate filesystem</dt>
<dd><p>A separate filesystem should be created for LilyPond, so that it can be
mounted with safe options such as <code>noexec</code>, <code>nodev</code>, and
<code>nosuid</code>.  In this way, it is impossible to run executables or to
write directly to a device from LilyPond.  If you do not want to create a
separate partition, just create a file of reasonable size and use it to
mount a loop device.  A separate filesystem also guarantees that LilyPond
cannot write more space than it is allowed.
</p>
</dd>
<dt> Setting up a separate user</dt>
<dd><p>A separate user and group (say, <code>lily</code>/<code>lily</code>) with low
privileges should be used to run LilyPond inside the jail.  There should
be a single directory writable by this user, which should be passed in
<var>dir</var>.
</p>
</dd>
<dt> Preparing the jail</dt>
<dd><p>LilyPond needs to read a number of files while running.  All these files
are to be copied into the jail, under the same path they appear in the
real root filesystem.  The entire content of the LilyPond installation
(e.g., &lsquo;<tt>/usr/share/lilypond</tt>&rsquo;)
should be copied.
</p>
<p>If problems arise, the simplest way to trace them down is to run
LilyPond using <code>strace</code>, which will allow you to determine which
files are missing.
</p>
</dd>
<dt> Running LilyPond</dt>
<dd><p>In a jail mounted with <code>noexec</code> it is impossible to execute any external
program.  Therefore LilyPond must be run with a backend that does not
require any such program.  As we already mentioned, it must be also run
with superuser privileges (which, of course, it will lose immediately),
possibly using <code>sudo</code>.  It is a good idea to limit the number of
seconds of CPU time LilyPond can use (e.g., using <code>ulimit
-t</code>), and, if your operating system supports it, the amount of memory
that can be allocated.
</p></dd>
</dl>


</dd>
<dt> <code>-v,--version</code></dt>
<dd><p>Show version information.
</p>
</dd>
<dt> <code>-V,--verbose</code></dt>
<dd><p>Be verbose: show full paths of all files read, and give timing
information.
</p>
</dd>
<dt> <code>-w,--warranty</code></dt>
<dd><p>Show the warranty with which GNU LilyPond comes. (It comes with
<strong>NO WARRANTY</strong>!)
</p></dd>
</dl>

<hr size="6">
<a name="Environment-variables"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Command-line-options-for-lilypond" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Command line options for lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Command_002dline-usage" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Command-line usage&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Error-messages" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Error messages &gt; </a>]</td></tr></table>
<a name="Environment-variables"></a>
<h3 class="subsection">3.2.3 Environment variables</h3>


<a name="index-LANG"></a>
<a name="index-LILYPOND_005fDATADIR"></a>

<p><code>lilypond</code> recognizes the following environment variables:
</p><dl compact="compact">
<dt> <code>LILYPOND_DATADIR</code></dt>
<dd><p>This specifies a directory where locale messages and
data files will be looked up by default.  The directory should contain
subdirectories called &lsquo;<tt>ly/</tt>&rsquo;, &lsquo;<tt>ps/</tt>&rsquo;, &lsquo;<tt>tex/</tt>&rsquo;, etc.
</p>
</dd>
<dt> <code>LANG</code></dt>
<dd><p>This selects the language for the warning messages.
</p>
</dd>
<dt> <code>LILYPOND_GC_YIELD</code></dt>
<dd><p>With this variable the memory footprint and performance can be
adjusted.  It is a percentage tunes memory management behavior.  With
higher values, the program uses more memory, with smaller values, it
uses more CPU time.  The default value is <code>70</code>.
</p>
</dd>
</dl>


<hr size="6">
<a name="Error-messages"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Environment-variables" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Environment variables&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Running-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Running LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Updating-files-with-convert_002dly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Updating files with convert-ly &gt; </a>]</td></tr></table>
<a name="Error-messages"></a>
<h2 class="section">3.3 Error messages</h2>

<a name="index-error-messages"></a>
<p>Different error messages can appear while compiling a file:
</p>
<dl compact="compact">
<dt> <em>Warning</em></dt>
<dd><a name="index-warning"></a>
<p>Something looks suspect.  If you are requesting something out of the
ordinary then you will understand the message, and can ignore it.
However, warnings usually indicate that something is wrong with the
input file.
</p>
</dd>
<dt> <em>Error</em></dt>
<dd><p>Something is definitely wrong.  The current processing step (parsing,
interpreting, or formatting) will be finished, but the next step will
be skipped.
</p>
</dd>
<dt> <em>Fatal error</em></dt>
<dd><a name="index-error"></a>
<a name="index-fatal-error"></a>
<p>Something is definitely wrong, and LilyPond cannot continue.  This
happens rarely.  The most usual cause is misinstalled fonts.
</p>
</dd>
<dt> <em>Scheme error</em></dt>
<dd><a name="index-trace_002c-Scheme"></a>
<a name="index-call-trace"></a>
<a name="index-Scheme-error"></a>
<p>Errors that occur while executing Scheme code are caught by the Scheme
interpreter.  If running with the verbose option (<code>-V</code> or
<code>--verbose</code>) then a call trace of the offending
function call is printed.
</p>
</dd>
<dt> <em>Programming error</em></dt>
<dd><a name="index-Programming-error"></a>
<p>There was some internal inconsistency.  These error messages are
intended to help the programmers and debuggers.  Usually, they can be
ignored.  Sometimes, they come in such big quantities that they obscure
other output.
</p>
</dd>
<dt> <em>Aborted (core dumped)</em></dt>
<dd><p>This signals a serious programming error that caused the program to
crash.  Such errors are considered critical.  If you stumble on one,
send a bug-report.
</p></dd>
</dl>

<a name="index-errors_002c-message-format"></a>
<p>If warnings and errors can
be linked to some part of the input file, then error messages have the
following form
</p>
<blockquote><pre class="example"><var>filename</var>:<var>lineno</var>:<var>columnno</var>: <var>message</var>
<var>offending input line</var>
</pre></blockquote>

<p>A line-break is inserted in the offending line to indicate the column
where the error was found.  For example,
</p>
<blockquote><pre class="example">test.ly:2:19: error: not a duration: 5
  { c'4 e'
           5 g' }
</pre></blockquote>

<p>These locations are LilyPond&rsquo;s best guess about where the warning or
error occurred, but (by their very nature) warnings and errors occur
when something unexpected happens.  If you can&rsquo;t see an error in the
indicated line of your input file, try checking one or two lines
above the indicated position.
</p>

<hr size="6">
<a name="Updating-files-with-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Error-messages" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Error messages&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Running-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Running LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Invoking-convert_002dly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking convert-ly &gt; </a>]</td></tr></table>
<a name="Updating-files-with-convert_002dly"></a>
<h2 class="section">3.4 Updating files with <code>convert-ly</code></h2>

<a name="index-Updating-a-LilyPond-file"></a>
<a name="index-convert_002dly"></a>

<p>The LilyPond input syntax is routinely changed to simplify it or improve
it in different ways.  As a side effect of this, the LilyPond interpreter
often is no longer compatible with older input files.  To remedy this,
the program <code>convert-ly</code> can be used to deal with most of the
syntax changes between LilyPond versions.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Invoking-convert_002dly" accesskey="1">3.4.1 Invoking <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Command-line-options-for-convert_002dly" accesskey="2">3.4.2 Command line options for <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Problems-with-convert_002dly" accesskey="3">3.4.3 Problems with <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Invoking-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Updating-files-with-convert_002dly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Updating files with convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Updating-files-with-convert_002dly" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Updating files with convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Command-line-options-for-convert_002dly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Command line options for convert-ly &gt; </a>]</td></tr></table>
<a name="Invoking-convert_002dly"></a>
<h3 class="subsection">3.4.1 Invoking <code>convert-ly</code></h3>

<p><code>convert-ly</code> uses <code>\version</code> statements in the input
file to detect the old version number.  In most cases, to upgrade
your input file it is sufficient to run
</p>
<blockquote><pre class="example">convert-ly -e myfile.ly
</pre></blockquote>

<p>in the directory containing the file.  This will upgrade
<code>myfile.ly</code> in-place and preserve the original file in
<code>myfile.ly~</code>.
</p>
<p>To convert all the input files in a directory together use
</p>
<blockquote><pre class="example">convert-ly -e *.ly
</pre></blockquote>

<p>Alternatively, if you want to specify a different name for the
upgraded file, preserving the original file and name unchanged,
use
</p>
<blockquote><pre class="example">convert-ly myfile.ly &gt; mynewfile.ly
</pre></blockquote>

<p><code>convert-ly</code> always converts up to the last syntax change
handled by it.  This means that the <code>\version</code> number left in
the file is usually lower than the version of <code>convert-ly</code>
itself.
</p>
<p>The program will list the version numbers for which conversions
have been made.  If no version numbers are listed the file is
already up to date.
</p>
<p>MacOS&nbsp;X users may execute these commands under the menu entry
<code>Compile &gt; Update syntax</code>.
</p>
<p>Windows users should enter these commands in a Command Prompt window,
which is usually found under
<code>Start &gt; Accessories &gt; Command Prompt</code>.
</p>
<hr size="6">
<a name="Command-line-options-for-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Invoking-convert_002dly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Invoking convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Updating-files-with-convert_002dly" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Updating files with convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Problems-with-convert_002dly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Problems with convert-ly &gt; </a>]</td></tr></table>
<a name="Command-line-options-for-convert_002dly"></a>
<h3 class="subsection">3.4.2 Command line options for <code>convert-ly</code></h3>

<p>In general, the program is invoked as follows:
</p>
<blockquote><pre class="example">convert-ly [<var>option</var>]&hellip; <var>filename</var>&hellip;
</pre></blockquote>


<p>The following options can be given:
</p>
<dl compact="compact">
<dt> <code>-e,--edit</code></dt>
<dd><p>Apply the conversions direct to the input file, modifying it
in-place.
</p>
</dd>
<dt> <code>-f,--from=<var>from-patchlevel</var></code></dt>
<dd><p>Set the version to convert from.  If this is not set, <code>convert-ly</code>
will guess this, on the basis of <code>\version</code> strings in the file.
E.g. <code>--from=2.10.25</code>
</p>
</dd>
<dt> <code>-n,--no-version</code></dt>
<dd><p>Normally, <code>convert-ly</code> adds a <code>\version</code> indicator
to the output.  Specifying this option suppresses this.
</p>
</dd>
<dt> <code>-s, --show-rules</code></dt>
<dd><p>Show all known conversions and exit.
</p>
</dd>
<dt> <code>--to=<var>to-patchlevel</var></code></dt>
<dd><p>Set the goal version of the conversion.  It defaults to the latest
available version.  E.g. <code>--to=2.12.2</code>
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Print usage help.
</p></dd>
</dl>

<p>To upgrade LilyPond fragments in texinfo files, use
</p>
<blockquote><pre class="example">convert-ly --from=... --to=... --no-version *.itely
</pre></blockquote>

<p>To see the changes in the LilyPond syntax between two versions, use
</p>
<blockquote><pre class="example">convert-ly --from=... --to=... -s
</pre></blockquote>


<hr size="6">
<a name="Problems-with-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Command-line-options-for-convert_002dly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Command line options for convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Updating-files-with-convert_002dly" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Updating files with convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Reporting-bugs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Reporting bugs &gt; </a>]</td></tr></table>
<a name="Problems-with-convert_002dly"></a>
<h3 class="subsection">3.4.3 Problems with <code>convert-ly</code></h3>

<p>When running convert-ly in a Command Prompt window under Windows
on a file which has spaces in the filename or in the path to it,
it is necessary to surround the entire file name with three (!)
sets of double quotes:
</p>
<blockquote><pre class="example">convert-ly &quot;&quot;&quot;D:/My Scores/Ode.ly&quot;&quot;&quot; &gt; &quot;&quot;&quot;D:/My Scores/new Ode.ly&quot;&quot;&quot;
</pre></blockquote>

<p>If the simple <code>convert-ly -e *.ly</code> command fails because the
expanded command line becomes too long, the <code>convert-ly</code>
command may be placed in a loop instead.  This example for UNIX
will upgrade all <code>.ly</code> files in the current directory
</p>
<blockquote><pre class="example">for f in *.ly; do convert-ly -e $f; done;
</pre></blockquote>

<p>In the Windows Command Prompt window the corresponding command is
</p>
<blockquote><pre class="example">for %x in (*.ly) do convert-ly -e &quot;&quot;&quot;%x&quot;&quot;&quot;
</pre></blockquote>

<p>Not all language changes are handled.  Only one output option can be
specified.  Automatically updating scheme and LilyPond scheme
interfaces is quite unlikely; be prepared to tweak scheme code
manually.
</p>
<pre class="verbatim">There are a few things that the convert-ly cannot handle.  Here's a list
of limitations that the community has complained about.

This bug report structure has been chosen because convert-ly has a
structure that doesn't allow to smoothly implement all needed changes.
Thus this is just a wishlist, placed here for reference.

1.6-&gt;2.0:
 Doesn't always convert figured bass correctly, specifically things like {&lt;
&gt;}.  Mats' comment on working around this:
   To be able to run convert-ly
   on it, I first replaced all occurrences of '{&lt;' to some dummy like '{#'
   and similarly I replaced '&gt;}' with '&amp;}'.  After the conversion, I could
   then change back from '{ #' to '{ &lt;' and from '&amp; }' to '&gt; }'.
 Doesn't convert all text markup correctly.  In the old markup syntax,
 it was possible to group a number of markup commands together within
parentheses, e.g.
   -#'((bold italic) &quot;string&quot;)
   This will incorrectly be converted into
   -\markup{{\bold italic} &quot;string&quot;}
   instead of the correct
   -\markup{\bold \italic &quot;string&quot;}
2.0-&gt;2.2:
 Doesn't handle \partcombine
 Doesn't do \addlyrics =&gt; \lyricsto, this breaks some scores with multiple
stanzas.
2.0-&gt;2.4:
 \magnify isn't changed to \fontsize.
    - \magnify #m =&gt; \fontsize #f, where f = 6ln(m)/ln(2)
 remove-tag isn't changed.
    - \applyMusic #(remove-tag '. . .) =&gt; \keepWithTag #'. . .
 first-page-number isn't changed.
    - first-page-number no =&gt; print-first-page-number = ##f
 Line breaks in header strings aren't converted.
    - \\\\  as line break in \header strings =&gt; \markup \center-align &lt;
      &quot;First Line&quot; &quot;Second Line&quot; &gt;
 Crescendo and decrescendo terminators aren't converted.
    - \rced =&gt; \!
    - \rc =&gt; \!
2.2-&gt;2.4:
 \turnOff (used in \set Staff.VoltaBracket = \turnOff) is not properly
converted.
2.4.2-&gt;2.5.9
 \markup{ \center-align &lt;{ ... }&gt; } should be converted to:
 \markup{ \center-align {\line { ... }} }
 but now, \line is missing.
2.4-&gt;2.6
 Special LaTeX characters such as $~$ in text are not converted to UTF8.
2.8
 \score{} must now begin with a music expression.  Anything else
 (particularly \header{}) must come after the music.
</pre>

<hr size="6">
<a name="Reporting-bugs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond_002dbook" title="Next chapter">&nbsp;LilyPond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Problems-with-convert_002dly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Problems with convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Running-LilyPond" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Running LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond_002dbook" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LilyPond-book &gt; </a>]</td></tr></table>
<a name="Reporting-bugs"></a>
<h2 class="section">3.5 Reporting bugs</h2>

<a name="index-bugs"></a>
<a name="index-reporting-bugs"></a>

<p>If you have input that results in a crash or an erroneous output, then
that is a bug.  There is a list of current bugs on our Google bug tracker,
</p>
<p><a href="http://code.google.com/p/lilypond/issues/list">http://code.google.com/p/lilypond/issues/list</a>
</p>
<p>If you have discovered a bug which is not listed, please report the
bug by following the directions on
</p>
<p><a href="http://lilypond.org/web/devel/participating/bugs">http://lilypond.org/web/devel/participating/bugs</a>
</p>
<p>Please construct and submit minimal examples of bugs in reports.  We do not
have the resources to investigate reports which are not as small as possible.
</p>




<hr size="6">
<a name="LilyPond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Running-LilyPond" title="Beginning of this chapter or previous chapter"> &lt;&lt; Running LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Reporting-bugs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Reporting bugs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#An-example-of-a-musicological-document" title="Next section in reading order" accesskey="n" rel="next">&nbsp;An example of a musicological document &gt; </a>]</td></tr></table>
<a name="LilyPond_002dbook"></a>
<h1 class="chapter">4. <code>lilypond-book</code>: Integrating text and music</h1>

<p>If you want to add pictures of music to a document, you can simply do it
the way you would do with other types of pictures.  The pictures are
created separately, yielding PostScript output or PNG images, and those
are included into a LaTeX or HTML document.
</p>
<p><code>lilypond-book</code> provides a way to automate this process: This
program extracts snippets of music from your document, runs
<code>lilypond</code> on them, and outputs the document with pictures
substituted for the music.  The line width and font size definitions for
the music are adjusted to match the layout of your document.
</p>
<p>This is a separate program from <code>lilypond</code> itself, and is run
on the command line; for more information, see <a href="#Command_002dline-usage">Command-line usage</a>.  If you have MacOS 10.3 or 10.4 and you have trouble running
<code>lilypond-book</code>, see <a href="#Setup-for-MacOS-X">Setup for MacOS X</a>.
</p>
<p>This procedure may be applied to LaTeX, HTML, Texinfo or DocBook
documents.
</p>
<a name="index-texinfo"></a>
<a name="index-latex"></a>
<a name="index-texinfo-1"></a>
<a name="index-texi"></a>
<a name="index-html"></a>
<a name="index-docbook"></a>
<a name="index-documents_002c-adding-music-to"></a>
<a name="index-HTML_002c-music-in"></a>
<a name="index-Texinfo_002c-music-in"></a>
<a name="index-DocBook_002c-music-in"></a>
<a name="index-LaTeX_002c-music-in"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#An-example-of-a-musicological-document" accesskey="1">4.1 An example of a musicological document</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Integrating-music-and-text" accesskey="2">4.2 Integrating music and text</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Music-fragment-options" accesskey="3">4.3 Music fragment options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-lilypond_002dbook" accesskey="4">4.4 Invoking <code>lilypond-book</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Filename-extensions" accesskey="5">4.5 Filename extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Alternate-methods-of-mixing-text-and-music" accesskey="6">4.6 Alternative methods of mixing text and music</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="An-example-of-a-musicological-document"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LilyPond_002dbook" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond_002dbook" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Integrating-music-and-text" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Integrating music and text &gt; </a>]</td></tr></table>
<a name="An-example-of-a-musicological-document"></a>
<h2 class="section">4.1 An example of a musicological document</h2>

<a name="index-musicology"></a>
<p>Some texts contain music examples.  These texts are musicological
treatises, songbooks, or manuals like this.  Such texts can be made by
hand, simply by importing a PostScript figure into the word processor.
However, there is an automated procedure to reduce the amount of work
involved in HTML, LaTeX, Texinfo and DocBook documents.
</p>
<p>A script called <code>lilypond-book</code> will extract the music fragments,
format them, and put back the resulting notation.  Here we show a small
example for use with LaTeX.  The example also contains explanatory
text, so we will not comment on it further.
</p>
<a name="Input"></a>
<h3 class="subheading">Input</h3>

<blockquote><pre class="verbatim">\documentclass[a4paper]{article}

\begin{document}

Documents for \verb+lilypond-book+ may freely mix music and text.
For example,

\begin{lilypond}
\relative c' {
  c2 g'2 \times 2/3 { f8 e d } c'2 g4
}
\end{lilypond}

Options are put in brackets.

\begin[fragment,quote,staffsize=26,verbatim]{lilypond}
  c'4 f16
\end{lilypond}

Larger examples can be put into a separate file, and introduced with
\verb+\lilypondfile+.

\lilypondfile[quote,noindent]{screech-boink.ly}

(If needed, replace screech-boink.ly by any .ly file you put in the same
directory as this file.)

\end{document}
</pre></blockquote>

<a name="Processing"></a>
<h3 class="subheading">Processing</h3>

<p>Save the code above to a file called &lsquo;<tt>lilybook.lytex</tt>&rsquo;, then in a
terminal run
</p>
<blockquote><pre class="example">lilypond-book --output=out --pdf lilybook.lytex
<em>lilypond-book (GNU LilyPond) 2.12.3 </em>
<em>Reading lilybook.lytex...</em>
<em>..lots of stuff deleted..</em>
<em>Compiling lilybook.tex...</em>
cd out
pdflatex lilybook
<em>..lots of stuff deleted..</em>
xpdf lilybook
<em>(replace <code>xpdf</code> by your favorite PDF viewer)</em>
</pre></blockquote>

<p>Running <code>lilypond-book</code> and <code>latex</code> creates a lot of
temporary files, which would clutter up the working directory.  To
remedy this, use the <code>--output=<var>dir</var></code> option.  It will create
the files in a separate subdirectory &lsquo;<tt>dir</tt>&rsquo;.
</p>
<p>Finally the result of the LaTeX example shown above.<sup><a name="DOCF3" href="#FOOT3">3</a></sup>  This finishes the tutorial section.
</p>


<a name="Output"></a>
<h3 class="subheading">Output</h3>

<p>Documents for <code>lilypond-book</code> may freely mix music and text.
For example,
</p>
<p>
 <a href="33/lily-4d2f8df5.ly">
  <img align="middle"
       border="0"
       src="33/lily-4d2f8df5.png"
       alt="[image of music]">
 </a>
</p>



<p>Options are put in brackets.
</p>
<blockquote><pre class="verbatim">c'4 f16
</pre><p>
 <a href="7d/lily-7135a16b.ly">
  <img align="middle"
       border="0"
       src="7d/lily-7135a16b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Larger examples can be put into a separate file, and introduced with
<code>\lilypondfile</code>.
</p>
<blockquote><p>
 <a href="07/lily-b160e1fa.ly">
  <img align="middle"
       border="0"
       src="07/lily-b160e1fa.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>






<hr size="6">
<a name="Integrating-music-and-text"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#An-example-of-a-musicological-document" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; An example of a musicological document&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond_002dbook" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LaTeX" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LaTeX &gt; </a>]</td></tr></table>
<a name="Integrating-music-and-text"></a>
<h2 class="section">4.2 Integrating music and text</h2>

<p>Here we explain how to integrate LilyPond with various output formats.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#LaTeX" accesskey="1">4.2.1 LaTeX</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Texinfo" accesskey="2">4.2.2 Texinfo</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#HTML" accesskey="3">4.2.3 HTML</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#DocBook" accesskey="4">4.2.4 DocBook</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="LaTeX"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Integrating-music-and-text" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Integrating music and text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Integrating-music-and-text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Texinfo" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<a name="LaTeX"></a>
<h3 class="subsection">4.2.1 LaTeX</h3>

<p>LaTeX is the de-facto standard for publishing layouts in the exact
sciences.  It is built on top of the TeX typesetting engine,
providing the best typography available anywhere.
</p>
<p>See
<a href="http://www.ctan.org/tex-archive/info/lshort/english/"><em>The Not So Short Introduction to LaTeX</em></a> for an overview on how
to use LaTeX.
</p>
<p>Music is entered using
</p>
<blockquote><pre class="example">\begin[options,go,here]{lilypond}
  YOUR LILYPOND CODE
\end{lilypond}
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">\lilypondfile[options,go,here]{<var>filename</var>}
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">\lilypond{ YOUR LILYPOND CODE }
</pre></blockquote>

<p>Additionally, <code>\lilypondversion</code> displays the current version
of lilypond.
Running <code>lilypond-book</code> yields a file that can be further
processed with LaTeX. 
</p>
<p>We show some examples here.  The <code>lilypond</code> environment
</p>
<blockquote><pre class="example">\begin[quote,fragment,staffsize=26]{lilypond}
  c' d' e' f' g'2 g'2
\end{lilypond}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="b4/lily-8adedf93.ly">
  <img align="middle"
       border="0"
       src="b4/lily-8adedf93.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The short version
</p>
<blockquote><pre class="example">\lilypond[quote,fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="8b/lily-2a983f53.ly">
  <img align="middle"
       border="0"
       src="8b/lily-2a983f53.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Currently, you cannot include <code>{</code> or <code>}</code> within
<code>\lilypond{}</code>, so this command is only useful with the
<code>fragment</code> option.
</p>
<p>The default line width of the music will be adjusted by examining the
commands in the document preamble, the part of the document before
<code>\begin{document}</code>.  The <code>lilypond-book</code> command sends
these to LaTeX to find out how wide the text is.  The line width for
the music fragments is then adjusted to the text width.  Note that this
heuristic algorithm can fail easily; in such cases it is necessary to
use the <code>line-width</code> music fragment option.
</p>
<a name="index-titling-and-lilypond_002dbook"></a>
<a name="index-_005cheader-in-LaTeX-documents"></a>

<p>Each snippet will call the following macros if they have been defined by
the user:
</p>
<ul>
<li> <code>\preLilyPondExample</code> called before the music,

</li><li> <code>\postLilyPondExample</code> called after the music,

</li><li> <code>\betweenLilyPondSystem[1]</code> is called between systems if
<code>lilypond-book</code> has split the snippet into several PostScript
files.  It must be defined as taking one parameter and will be
passed the number of files already included in this snippet.
The default is to simply insert a <code>\linebreak</code>.
</li></ul>


<a name="Selected-Snippets"></a>
<h4 class="subsubheading">Selected Snippets</h4>

<p>Sometimes it is useful to display music elements (such as ties and slurs)
as if they continued after the end of the fragment.  This can be done by
breaking the staff and suppressing inclusion of the rest of the LilyPond
output.
</p>
<p>In LaTeX, define <code>\betweenLilyPondSystem</code> in such a way that
inclusion of other systems is terminated once the required number of
systems are included.  Since <code>\betweenLilypondSystem</code> is first
called <em>after</em> the first system, including only the first system
is trivial.
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{\endinput}

\begin[fragment]{lilypond}
  c'1\( e'( c'~ \break c' d) e f\)
\end{lilypond}
</pre></blockquote>

<p>If a greater number of systems is requested, a TeX conditional must
be used before the <code>\endinput</code>.  In this example, replace &lsquo;2&rsquo; by
the number of systems you want in the output,
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{
    \ifnum##1&lt;2\else\endinput\fi
}
</pre></blockquote>

<p>Remember that the definition of <code>\betweenLilyPondSystem</code> is
effective until TeX quits the current group (such as the LaTeX
environment) or is overridden by another definition (which is, in
most cases, for the rest of the document).  To reset your
definition, write
</p>
<blockquote><pre class="example">\let\betweenLilyPondSystem\undefined
</pre></blockquote>

<p>in your LaTeX source.
</p>
<p>This may be simplified by defining a TeX macro
</p>
<blockquote><pre class="example">\def\onlyFirstNSystems#1{
    \def\betweenLilyPondSystem##1{\ifnum##1&lt;#1\else\endinput\fi}
}
</pre></blockquote>

<p>and then saying only how many systems you want before each fragment,
</p>
<blockquote><pre class="example">\onlyFirstNSystems{3}
\begin{lilypond}...\end{lilypond}
\onlyFirstNSystems{1}
\begin{lilypond}...\end{lilypond}
</pre></blockquote>


<a name="See-also"></a>
<h4 class="subsubheading">See also</h4>
<p>There are specific <code>lilypond-book</code> command line options and
other details to know when processing LaTeX documents, see
<a href="#Invoking-lilypond_002dbook">Invoking <code>lilypond-book</code></a>.
</p>

<hr size="6">
<a name="Texinfo"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#LaTeX" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; LaTeX&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Integrating-music-and-text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#HTML" title="Next section in reading order" accesskey="n" rel="next">&nbsp;HTML &gt; </a>]</td></tr></table>
<a name="Texinfo"></a>
<h3 class="subsection">4.2.2 Texinfo</h3>

<p>Texinfo is the standard format for documentation of the GNU project.  An
example of a Texinfo document is this manual.  The HTML, PDF, and Info
versions of the manual are made from the Texinfo document.
</p>
<p>In the input file, music is specified with
</p>
<blockquote><pre class="example">@lilypond[options,go,here]
  YOUR LILYPOND CODE
@end lilypond
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">@lilypond[options,go,here]{ YOUR LILYPOND CODE }
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">@lilypondfile[options,go,here]{<var>filename</var>}
</pre></blockquote>

<p>Additionally, <code>@lilypondversion</code> displays the current version
of lilypond.
</p>
<p>When <code>lilypond-book</code> is run on it, this results in a Texinfo
file (with extension &lsquo;<tt>.texi</tt>&rsquo;) containing <code>@image</code> tags for
HTML, Info and printed output.  <code>lilypond-book</code> generates images
of the music in EPS and PDF formats for use in the printed output, and
in PNG format for use in HTML and Info output.
</p>
<p>We show two simple examples here.  A <code>lilypond</code> environment
</p>
<blockquote><pre class="example">@lilypond[fragment]
c' d' e' f' g'2 g'
@end lilypond
</pre></blockquote>

<p>produces
</p>
<p>
 <a href="69/lily-ec115b59.ly">
  <img align="middle"
       border="0"
       src="69/lily-ec115b59.png"
       alt="[image of music]">
 </a>
</p>



<p>The short version
</p>
<blockquote><pre class="example">@lilypond[fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produces
</p>
<p>
 <a href="e6/lily-ee004a71.ly">
  <img align="middle"
       border="0"
       src="e6/lily-ee004a71.png"
       alt="[image of music]">
 </a>
</p>



<p>Contrary to LaTeX, <code>@lilypond{...}</code> does not generate an
in-line image.  It always gets a paragraph of its own.
</p>

<hr size="6">
<a name="HTML"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Texinfo" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Texinfo&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Integrating-music-and-text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#DocBook" title="Next section in reading order" accesskey="n" rel="next">&nbsp;DocBook &gt; </a>]</td></tr></table>
<a name="HTML"></a>
<h3 class="subsection">4.2.3 HTML</h3>

<p>Music is entered using
</p>
<blockquote><pre class="example">&lt;lilypond fragment relative=2&gt;
\key c \minor c4 es g2
&lt;/lilypond&gt;
</pre></blockquote>
<p><code>lilypond-book</code> then produces an HTML file with appropriate image
tags for the music fragments:
</p>
<p>
 <a href="eb/lily-76e844f5.ly">
  <img align="middle"
       border="0"
       src="eb/lily-76e844f5.png"
       alt="[image of music]">
 </a>
</p>



<p>For inline pictures, use <code>&lt;lilypond ... /&gt;</code>, where the options
are separated by a colon from the music, for example
</p>
<blockquote><pre class="example">Some music in &lt;lilypond relative=2: a b c/&gt; a line of text.
</pre></blockquote>


<p>To include separate files, say
</p>
<blockquote><pre class="example">&lt;lilypondfile <var>option1</var> <var>option2</var> ...&gt;<var>filename</var>&lt;/lilypondfile&gt;
</pre></blockquote>

<p>Additionally, <code>&lt;lilypondversion/&gt;</code> displays the current version
of lilypond.
</p>

<a name="index-titling-in-HTML"></a>
<a name="index-preview-image"></a>
<a name="index-thumbnail"></a>

<hr size="6">
<a name="DocBook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#HTML" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; HTML&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Integrating-music-and-text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Music-fragment-options" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Music fragment options &gt; </a>]</td></tr></table>
<a name="DocBook"></a>
<h3 class="subsection">4.2.4 DocBook</h3>

<p>For inserting LilyPond snippets it is good to keep the conformity of our
DocBook document, thus allowing us to use DocBook editors, validation
etc. So we don&rsquo;t use custom tags, only specify a convention based on the
standard DocBook elements.
</p>
<a name="Common-conventions"></a>
<h3 class="subheading">Common conventions</h3>

<p>For inserting all type of snippets we use the <code>mediaobject</code> and
<code>inlinemediaobject</code> element, so our snippets can be formatted
inline or not inline.  The snippet formatting options are always
provided in the <code>role</code> property of the innermost element (see in
next sections).  Tags are chosen to allow DocBook editors format the
content gracefully.  The DocBook files to be processed with
<code>lilypond-book</code> should have the extension &lsquo;<tt>.lyxml</tt>&rsquo;.
</p>
<a name="Including-a-LilyPond-file"></a>
<h3 class="subheading">Including a LilyPond file</h3>

<p>This is the most simple case.  We must use the &lsquo;<tt>.ly</tt>&rsquo; extension for
the included file, and insert it as a standard <code>imageobject</code>, with
the following structure:
</p>
<blockquote><pre class="example">&lt;mediaobject&gt;
  &lt;imageobject&gt;
    &lt;imagedata fileref=&quot;music1.ly&quot; role=&quot;printfilename&quot; /&gt;
  &lt;/imageobject&gt;
&lt;/mediaobject&gt;
</pre></blockquote>

<p>Note that you can use <code>mediaobject</code> or <code>inlinemediaobject</code>
as the outermost element as you wish.
</p>
<a name="Including-LilyPond-code"></a>
<h3 class="subheading">Including LilyPond code</h3>

<p>Including LilyPond code is possible by using a <code>programlisting</code>,
where the language is set to <code>lilypond</code> with the following
structure:
</p>
<blockquote><pre class="example">&lt;inlinemediaobject&gt;
  &lt;textobject&gt;
    &lt;programlisting language=&quot;lilypond&quot; role=&quot;fragment verbatim staffsize=16 ragged-right relative=2&quot;&gt;
\context Staff \with {
  \remove Time_signature_engraver
  \remove Clef_engraver}
  { c4( fis) }
    &lt;/programlisting&gt;
  &lt;/textobject&gt;
&lt;/inlinemediaobject&gt;
</pre></blockquote>

<p>As you can see, the outermost element is a <code>mediaobject</code> or
<code>inlinemediaobject</code>, and there is a <code>textobject</code> containing
the <code>programlisting</code> inside.
</p>
<a name="Processing-the-DocBook-document"></a>
<h3 class="subheading">Processing the DocBook document</h3>

<p>Running <code>lilypond-book</code> on our &lsquo;<tt>.lyxml</tt>&rsquo; file will create a
valid DocBook document to be further processed with &lsquo;<tt>.xml</tt>&rsquo;
extension.  If you use
<a href="http://dblatex.sourceforge.net">dblatex</a>, it will create a
PDF file from this document automatically.  For HTML (HTML Help,
JavaHelp etc.) generation you can use the official DocBook XSL
stylesheets, however, it is possible that you have to make some
customization for it.
</p>

<hr size="6">
<a name="Music-fragment-options"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#DocBook" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; DocBook&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond_002dbook" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Invoking-lilypond_002dbook" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking lilypond-book &gt; </a>]</td></tr></table>
<a name="Music-fragment-options"></a>
<h2 class="section">4.3 Music fragment options</h2>

<p>In the following, a &lsquo;LilyPond command&rsquo; refers to any command described
in the previous sections which is handled by <code>lilypond-book</code> to
produce a music snippet.  For simplicity, LilyPond commands are only
shown in LaTeX syntax.
</p>
<p>Note that the option string is parsed from left to right; if an option
occurs multiple times, the last one is taken.
</p>
<p>The following options are available for LilyPond commands:
</p>
<dl compact="compact">
<dt> <code>staffsize=<var>ht</var></code></dt>
<dd><p>Set staff size to <var>ht</var>, which is measured in points.
</p>
</dd>
<dt> <code>ragged-right</code></dt>
<dd><p>Produce ragged-right lines with natural spacing, i.e.,
<code>ragged-right = ##t</code> is added to the LilyPond snippet.  This is the
default for the <code>\lilypond{}</code> command if no <code>line-width</code>
option is present.  It is also the default for the <code>lilypond</code>
environment if the <code>fragment</code> option is set, and no line width is
explicitly specified.
</p>
</dd>
<dt> <code>noragged-right</code></dt>
<dd><p>For single-line snippets, allow the staff length to be stretched to
equal that of the line width, i.e., <code>ragged-right = ##f</code> is
added to the LilyPond snippet.
</p>
</dd>
<dt> <code>line-width</code></dt>
<dt> <code>line-width=<var>size</var>\<var>unit</var></code></dt>
<dd><p>Set line width to <var>size</var>, using <var>unit</var> as units.  <var>unit</var> is
one of the following strings: <code>cm</code>, <code>mm</code>, <code>in</code>, or
<code>pt</code>.  This option affects LilyPond output (this is, the staff
length of the music snippet), not the text layout.
</p>
<p>If used without an argument, set line width to a default value (as
computed with a heuristic algorithm).
</p>
<p>If no <code>line-width</code> option is given, <code>lilypond-book</code> tries to
guess a default for <code>lilypond</code> environments which don&rsquo;t use the
<code>ragged-right</code> option.
</p>
</dd>
<dt> <code>notime</code></dt>
<dd><p>Do not print the time signature, and turns off the timing (time signature,
bar lines) in the score.
</p>
</dd>
<dt> <code>fragment</code></dt>
<dd><p>Make <code>lilypond-book</code> add some boilerplate code so that you can
simply enter, say,
</p>
<blockquote><pre class="example">c'4
</pre></blockquote>

<p>without <code>\layout</code>, <code>\score</code>, etc.
</p>
</dd>
<dt> <code>nofragment</code></dt>
<dd><p>Do not add additional code to complete LilyPond code in music snippets.
Since this is the default, <code>nofragment</code> is redundant normally.
</p>
</dd>
<dt> <code>indent=<var>size</var>\<var>unit</var></code></dt>
<dd><p>Set indentation of the first music system to <var>size</var>, using
<var>unit</var> as units. <var>unit</var> is one of the following strings:
<code>cm</code>, <code>mm</code>, <code>in</code>, or <code>pt</code>.  This option affects
LilyPond, not the text layout.
</p>
</dd>
<dt> <code>noindent</code></dt>
<dd><p>Set indentation of the first music system to zero.  This option affects
LilyPond, not the text layout.  Since no indentation is the default,
<code>noindent</code> is redundant normally.
</p>
</dd>
<dt> <code>quote</code></dt>
<dd><p>Reduce line length of a music snippet by <em>2*0.4</em>in and put
the output into a quotation block.  The value &lsquo;0.4in&rsquo; can be
controlled with the <code>exampleindent</code> option.
</p>
</dd>
<dt> <code>exampleindent</code></dt>
<dd><p>Set the amount by which the <code>quote</code> option indents a music snippet.
</p>
</dd>
<dt> <code>relative</code></dt>
<dt> <code>relative=<var>n</var></code></dt>
<dd><p>Use relative octave mode.  By default, notes are specified relative to
middle&nbsp;C.  The optional integer argument specifies the octave of
the starting note, where the default <code>1</code> is middle C.
<code>relative</code> option only works when <code>fragment</code> option is set,
so <code>fragment</code> is automatically implied by <code>relative</code>,
regardless of the presence of any <code>(no)fragment</code> option in the
source.
</p></dd>
</dl>

<p>LilyPond also uses <code>lilypond-book</code> to produce its own
documentation.  To do that, some more obscure music fragment options are
available.
</p>
<dl compact="compact">
<dt> <code>verbatim</code></dt>
<dd><p>The argument of a LilyPond command is copied to the output file and
enclosed in a verbatim block, followed by any text given with the
<code>intertext</code> option (not implemented yet); then the actual music is
displayed.  This option does not work well with <code>\lilypond{}</code> if
it is part of a paragraph.
</p>
<p>If <code>verbatim</code> is used in a <code>lilypondfile</code> command, it is
possible to enclose verbatim only a part of the source file.  If the
source file contain a comment containing &lsquo;<samp>begin verbatim</samp>&rsquo; (without
quotes), quoting the source in the verbatim block will start after the
last occurrence of such a comment; similarly, quoting the source verbatim
will stop just before the first occurrence of a comment containing
&lsquo;<samp>end verbatim</samp>&rsquo;, if there is any.  In the following source file
example, the music will be interpreted in relative mode, but the
verbatim quote will not show the <code>relative</code> block, i.e.
</p>
<blockquote><pre class="example">\relative c' { % begin verbatim
  c4 e2 g4
  f2 e % end verbatim
}
</pre></blockquote>

<p>will be printed with a verbatim block like
</p>
<blockquote><pre class="example">  c4 e2 g4
  f2 e
</pre></blockquote>

<p>If you would like to translate comments and variable names in verbatim
output but not in the sources, you may set the environment variable
<code>LYDOC_LOCALEDIR</code> to a directory path; the directory should
contain a tree of &lsquo;<tt>.mo</tt>&rsquo; message catalogs with <code>lilypond-doc</code>
as a domain.
</p>
</dd>
<dt> <code>addversion</code></dt>
<dd><p>(Only for Texinfo output.)  Prepend line <code>\version
@w{&quot;@version{}&quot;}</code> to <code>verbatim</code> output.
</p>
</dd>
<dt> <code>texidoc</code></dt>
<dd><p>(Only for Texinfo output.)  If <code>lilypond</code> is called with the
&lsquo;<samp>--header=texidoc</samp>&rsquo; option, and the file to be processed is
called &lsquo;<tt>foo.ly</tt>&rsquo;, it creates a file &lsquo;<tt>foo.texidoc</tt>&rsquo; if there
is a <code>texidoc</code> field in the <code>\header</code>.  The <code>texidoc</code>
option makes <code>lilypond-book</code> include such files, adding its
contents as a documentation block right before the music snippet.
</p>
<p>Assuming the file &lsquo;<tt>foo.ly</tt>&rsquo; contains
</p>
<blockquote><pre class="example">\header {
  texidoc = &quot;This file demonstrates a single note.&quot;
}
{ c'4 }
</pre></blockquote>

<p>and we have this in our Texinfo document &lsquo;<tt>test.texinfo</tt>&rsquo;
</p>
<blockquote><pre class="example">@lilypondfile[texidoc]{foo.ly}
</pre></blockquote>

<p>the following command line gives the expected result
</p>
<blockquote><pre class="example">lilypond-book --pdf --process=&quot;lilypond \
  -dbackend=eps --header=texidoc&quot; test.texinfo
</pre></blockquote>

<p>Most LilyPond test documents (in the &lsquo;<tt>input</tt>&rsquo; directory of the
distribution) are small &lsquo;<tt>.ly</tt>&rsquo; files which look exactly like this.
</p>
<p>For localization purpose, if the Texinfo document contains
<code>@documentlanguage <var>LANG</var></code> and &lsquo;<tt>foo.ly</tt>&rsquo; header
contains a <code>texidoc<var>LANG</var></code> field, and if <code>lilypond</code>
is called with &lsquo;<samp>--header=texidoc<var>LANG</var></samp>&rsquo;, then
&lsquo;<tt>foo.texidoc<var>LANG</var></tt>&rsquo; will be included instead of
&lsquo;<tt>foo.texidoc</tt>&rsquo;.
</p>
</dd>
<dt> <code>lilyquote</code></dt>
<dd><p>(Only for Texinfo output.)  This option is similar to quote, but only
the music snippet (and the optional verbatim block implied by
<code>verbatim</code> option) is put into a quotation block.  This option is
useful if you want to <code>quote</code> the music snippet but not the
<code>texidoc</code> documentation block.
</p>
</dd>
<dt> <code>doctitle</code></dt>
<dd><p>(Only for Texinfo output.) This option works similarly to
<code>texidoc</code> option: if <code>lilypond</code> is called with the
&lsquo;<samp>--header=doctitle</samp>&rsquo; option, and the file to be processed is
called &lsquo;<tt>foo.ly</tt>&rsquo; and contains a <code>doctitle</code> field in the
<code>\header</code>, it creates a file &lsquo;<tt>foo.doctitle</tt>&rsquo;.  When
<code>doctitle</code> option is used, the contents of &lsquo;<tt>foo.doctitle</tt>&rsquo;,
which should be a single line of <var>text</var>, is inserted in the
Texinfo document as <code>@lydoctitle <var>text</var></code>.
<code>@lydoctitle</code> should be a macro defined in the Texinfo document.
The same remark about <code>texidoc</code> processing with localized
languages also applies to <code>doctitle</code>.
</p>
</dd>
<dt> <code>nogettext</code></dt>
<dd><p>(Only for Texinfo output.) Do not translate comments and variable
names in the snippet quoted verbatim.
</p>
</dd>
<dt> <code>printfilename</code></dt>
<dd><p>If a LilyPond input file is included with <code>\lilypondfile</code>, print
the file name right before the music snippet.  For HTML output, this
is a link.  Only the base name of the file is printed, i.e. the
directory part of the file path is stripped.
</p>
</dd>
<dt> <code>fontload</code></dt>
<dd><p>This option includes fonts in all of the generated EPS-files for this
snippet.  This should be used if the snippet uses any font that LaTeX
cannot find on its own.
</p>
</dd>
</dl>


<hr size="6">
<a name="Invoking-lilypond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Music-fragment-options" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Music fragment options&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond_002dbook" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Filename-extensions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Filename extensions &gt; </a>]</td></tr></table>
<a name="Invoking-lilypond_002dbook"></a>
<h2 class="section">4.4 Invoking <code>lilypond-book</code></h2>

<p><code>lilypond-book</code> produces a file with one of the following
extensions: &lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo;, &lsquo;<tt>.html</tt>&rsquo; or &lsquo;<tt>.xml</tt>&rsquo;,
depending on the output format.  All of &lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo; and
&lsquo;<tt>.xml</tt>&rsquo; files need further processing.
</p>
<a name="Format_002dspecific-instructions"></a>
<h3 class="subheading">Format-specific instructions</h3>

<a name="LaTeX-2"></a>
<h4 class="subsubheading">LaTeX</h4>

<p>There are two ways of processing your LaTeX document for printing or
publishing: getting a PDF file directly with PDFLaTeX, or getting a
PostScript file with LaTeX via a DVI to PostScript translator like
<code>dvips</code>.  The first way is simpler and recommended<sup><a name="DOCF4" href="#FOOT4">4</a></sup>, and whichever
way you use, you can easily convert between PostScript and PDF with
tools, like <code>ps2pdf</code> and <code>pdf2ps</code> included in
Ghostscript package.
</p>
<p>To produce a PDF file through PDFLaTeX, use
</p>
<blockquote><pre class="example">lilypond-book --pdf yourfile.pdftex
pdflatex yourfile.tex
</pre></blockquote>

<a name="index-outline-fonts"></a>
<a name="index-type1-fonts"></a>
<a name="index-dvips"></a>
<a name="index-invoking-dvips"></a>
<p>To produce PDF output via LaTeX/<code>dvips</code>/<code>ps2pdf</code>, you
should do
</p>
<blockquote><pre class="example">lilypond-book yourfile.lytex
latex yourfile.tex
dvips -Ppdf yourfile.dvi
ps2pdf yourfile.ps
</pre></blockquote>

<p>The &lsquo;<tt>.dvi</tt>&rsquo; file created by this process will not contain
 note heads.  This is normal; if you follow the instructions, they
will be included in the &lsquo;<tt>.ps</tt>&rsquo; and &lsquo;<tt>.pdf</tt>&rsquo; files.
</p>
<p>Running <code>dvips</code> may produce some warnings about fonts; these
are harmless and may be ignored.  If you are running <code>latex</code> in
twocolumn mode, remember to add <code>-t landscape</code> to the
<code>dvips</code> options.
</p>
<a name="Texinfo-2"></a>
<h4 class="subsubheading">Texinfo</h4>

<p>To produce a Texinfo document (in any output format), follow the normal
procedures for Texinfo; this is, either call <code>texi2pdf</code> or
<code>texi2dvi</code> or <code>makeinfo</code>, depending on the output format
you want to create.
See the documentation of Texinfo for further details.
</p>

<a name="Command-line-options"></a>
<h3 class="subheading">Command line options</h3>

<p><code>lilypond-book</code> accepts the following command line options:
</p>
<dl compact="compact">
<dt> <code>-f <var>format</var></code></dt>
<dt> <code>--format=<var>format</var></code></dt>
<dd><p>Specify the document type to process: <code>html</code>, <code>latex</code>,
<code>texi</code> (the default) or <code>docbook</code>.  If this option is missing,
<code>lilypond-book</code> tries to detect the format automatically, see
<a href="#Filename-extensions">Filename extensions</a>. Currently, <code>texi</code> is the same as
<code>texi-html</code>.
</p>

</dd>
<dt> <code>-F <var>filter</var></code></dt>
<dt> <code>--filter=<var>filter</var></code></dt>
<dd><p>Pipe snippets through <var>filter</var>.  <code>lilypond-book</code> will
not &ndash;filter and &ndash;process at the same time.  For example,
</p>
<blockquote><pre class="example">lilypond-book --filter='convert-ly --from=2.0.0 -' my-book.tely
</pre></blockquote>

</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Print a short help message.
</p>
</dd>
<dt> <code>-I <var>dir</var></code></dt>
<dt> <code>--include=<var>dir</var></code></dt>
<dd><p>Add <var>dir</var> to the include path.  <code>lilypond-book</code> also looks
for already compiled snippets in the include path, and does not write
them back to the output directory, so in some cases it is necessary to
invoke further processing commands such as <code>makeinfo</code> or
<code>latex</code> with the same <code>-I <var>dir</var></code> options.
</p>
</dd>
<dt> <code>-o <var>dir</var></code></dt>
<dt> <code>--output=<var>dir</var></code></dt>
<dd><p>Place generated files in directory <var>dir</var>.  Running
<code>lilypond-book</code> generates lots of small files that LilyPond will
process.  To avoid all that garbage in the source directory, use the
&lsquo;<samp>--output</samp>&rsquo; command line option, and change to that directory
before running <code>latex</code> or <code>makeinfo</code>.
</p>
<blockquote><pre class="example">lilypond-book --output=out yourfile.lytex
cd out
...
</pre></blockquote>

</dd>
<dt> <code>--skip-lily-check</code></dt>
<dd><p>Do not fail if no lilypond output is found.  It is used for LilyPond
Info documentation without images.
</p>
</dd>
<dt> <code>--skip-png-check</code></dt>
<dd><p>Do not fail if no PNG images are found for EPS files.  It is used for
LilyPond Info documentation without images.
</p>
</dd>
<dt> <code>--lily-output-dir=<var>dir</var></code></dt>
<dd><p>Write lily-XXX files to directory <var>dir</var>, link into <code>--output</code>
directory.  Use this option to save building time for documents in
different directories which share a lot of identical snippets.
</p>
</dd>
<dt> <code>--info-images-dir=<var>dir</var></code></dt>
<dd><p>Format Texinfo output so that Info will look for images of music in
<var>dir</var>.
</p>
</dd>
<dt> <code>--latex-program=<var>prog</var></code></dt>
<dd><p>Run executable <code>prog</code> instead of <code>latex</code>.  This is
useful if your document is processed with <code>xelatex</code>, for
example.
</p>
</dd>
<dt> <code>--left-padding=<var>amount</var></code></dt>
<dd><p>Pad EPS boxes by this much. <var>amount</var> is measured in millimeters,
and is 3.0 by default.  This option should be used if the lines of
music stick out of the right margin.
</p>
<p>The width of a tightly clipped system can vary, due to notation
elements that stick into the left margin, such as bar numbers and
instrument names.  This option will shorten each line and move each
line to the right by the same amount.
</p>

</dd>
<dt> <code>-P <var>command</var></code></dt>
<dt> <code>--process=<var>command</var></code></dt>
<dd><p>Process LilyPond snippets using <var>command</var>.  The default command is
<code>lilypond</code>.  <code>lilypond-book</code> will not <code>--filter</code> and
<code>--process</code> at the same time.
</p>
</dd>
<dt> <code>--pdf</code></dt>
<dd><p>Create PDF files for use with PDFLaTeX.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--verbose</code></dt>
<dd><p>Be verbose.
</p>
</dd>
<dt> <code>-v</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Print version information.
</p></dd>
</dl>

<a name="Known-issues-and-warnings-7"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>The Texinfo command <code>@pagesizes</code> is not interpreted.  Similarly,
LaTeX commands that change margins and line widths after the preamble
are ignored.
</p>
<p>Only the first <code>\score</code> of a LilyPond block is processed.
</p>

<hr size="6">
<a name="Filename-extensions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Invoking-lilypond_002dbook" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Invoking lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond_002dbook" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Alternate-methods-of-mixing-text-and-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Alternate methods of mixing text and music &gt; </a>]</td></tr></table>
<a name="Filename-extensions"></a>
<h2 class="section">4.5 Filename extensions</h2>

<p>You can use any filename extension for the input file, but if you do not
use the recommended extension for a particular format you may need to
manually specify the output format; for details, see <a href="#Invoking-lilypond_002dbook">Invoking <code>lilypond-book</code></a>.  Otherwise, <code>lilypond-book</code> automatically
selects the output format based on the input filename&rsquo;s extension.
</p>
<blockquote><table>
<tr><td width="20%"><p> <strong>extension</strong> </p></td><td width="50%"><p> <strong>output format</strong>
</p></td></tr>
<tr><td width="20%"></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.html</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.itely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.latex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lytex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lyxml</tt>&rsquo; </p></td><td width="50%"><p> DocBook
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texi</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texinfo</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.xml</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
</table>
</blockquote>

<p>If you use the same filename extension for the input file than the
extension <code>lilypond-book</code> uses for the output file, and if the
input file is in the same directory as <code>lilypond-book</code> working
directory, you must use <code>--output</code> option to make
<code>lilypond-book</code> running, otherwise it will exit with an error
message like &ldquo;Output would overwrite input file&rdquo;.
</p>

<hr size="6">
<a name="Alternate-methods-of-mixing-text-and-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Filename-extensions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Filename extensions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#LilyPond_002dbook" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;LilyPond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Many-quotes-from-a-large-score" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Many quotes from a large score &gt; </a>]</td></tr></table>
<a name="Alternate-methods-of-mixing-text-and-music"></a>
<h2 class="section">4.6 Alternative methods of mixing text and music</h2>

<p>This section shows methods to integrate text and music, different than
the automated method with <code>lilypond-book</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Many-quotes-from-a-large-score" accesskey="1">Many quotes from a large score</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Inserting-LilyPond-output-into-OpenOffice_002eorg" accesskey="2">Inserting LilyPond output into OpenOffice.org</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Inserting-LilyPond-output-into-other-programs" accesskey="3">Inserting LilyPond output into other programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Many-quotes-from-a-large-score"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Alternate-methods-of-mixing-text-and-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Alternate methods of mixing text and music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Alternate-methods-of-mixing-text-and-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Alternate methods of mixing text and music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Inserting-LilyPond-output-into-OpenOffice_002eorg" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Inserting LilyPond output into OpenOffice.org &gt; </a>]</td></tr></table>
<a name="Many-quotes-from-a-large-score"></a>
<h3 class="unnumberedsubsec">Many quotes from a large score</h3>

<p>If you need to quote many fragments from a large score, you can also use
the clip systems feature, see <a name="index-Extracting-fragments-of-music"></a>
<a href="lilypond-big-page.html#Extracting-fragments-of-music">Extracting fragments of music</a>.
</p>

<hr size="6">
<a name="Inserting-LilyPond-output-into-OpenOffice_002eorg"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Many-quotes-from-a-large-score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Many quotes from a large score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Alternate-methods-of-mixing-text-and-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Alternate methods of mixing text and music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Inserting-LilyPond-output-into-other-programs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Inserting LilyPond output into other programs &gt; </a>]</td></tr></table>
<a name="Inserting-LilyPond-output-into-OpenOffice_002eorg"></a>
<h3 class="unnumberedsubsec">Inserting LilyPond output into OpenOffice.org</h3>

<a name="index-OpenOffice_002eorg"></a>

<p>LilyPond notation can be added to OpenOffice.org with
<a href="http://ooolilypond.sourceforge.net">OOoLilyPond</a>.
</p>

<hr size="6">
<a name="Inserting-LilyPond-output-into-other-programs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Inserting-LilyPond-output-into-OpenOffice_002eorg" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Inserting LilyPond output into OpenOffice.org&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Alternate-methods-of-mixing-text-and-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Alternate methods of mixing text and music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Converting-from-other-formats" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Converting from other formats &gt; </a>]</td></tr></table>
<a name="Inserting-LilyPond-output-into-other-programs"></a>
<h3 class="unnumberedsubsec">Inserting LilyPond output into other programs</h3>

<p>To insert LilyPond output in other programs, use <code>lilypond</code>
instead of <code>lilypond-book</code>.  Each example must be created
individually and added to the document; consult the documentation for
that program.  Most programs will be able to insert LilyPond output in
&lsquo;<tt>PNG</tt>&rsquo;, &lsquo;<tt>EPS</tt>&rsquo;, or &lsquo;<tt>PDF</tt>&rsquo; formats.
</p>
<p>To reduce the white space around your LilyPond score, use
the following options
</p>
<blockquote><pre class="example">\paper{
  indent=0\mm
  line-width=120\mm
  oddFooterMarkup=##f
  oddHeaderMarkup=##f
  bookTitleMarkup = ##f
  scoreTitleMarkup = ##f
}

{ c1 }
</pre></blockquote>

<p>To produce a useful &lsquo;<tt>EPS</tt>&rsquo; file, use
</p>
<blockquote><pre class="example">lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts   myfile.ly

&lsquo;<tt>PNG</tt>&rsquo;:
lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts --png myfile.ly
</pre></blockquote>



<hr size="6">
<a name="Converting-from-other-formats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#GNU-Free-Documentation-License" title="Next chapter">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Inserting-LilyPond-output-into-other-programs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Inserting LilyPond output into other programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Invoking-midi2ly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking midi2ly &gt; </a>]</td></tr></table>
<a name="Converting-from-other-formats"></a>
<h1 class="chapter">5. Converting from other formats</h1>

<p>Music can be entered also by importing it from other formats.  This
chapter documents the tools included in the distribution to do so.
There are other tools that produce LilyPond input, for example GUI
sequencers and XML converters.  Refer to the
<a href="http://lilypond.org">website</a> for more details.
</p>
<p>These are separate programs from <code>lilypond</code> itself, and are
run on the command line; see <a href="#Command_002dline-usage">Command-line usage</a> for more
information.  If you have MacOS 10.3 or 10.4 and you have trouble
running some of these scripts, e.g. <code>convert-ly</code>, see <a href="#Setup-for-MacOS-X">Setup for MacOS X</a>.
</p>

<a name="Known-issues-and-warnings-6"></a>
<h4 class="subsubheading">Known issues and warnings</h4>
<p>We unfortunately do not have the resources to maintain these
programs; please consider them &ldquo;as-is&rdquo;.  Patches are appreciated, but
bug reports will almost certainly not be resolved.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Invoking-midi2ly" accesskey="1">5.1 Invoking <code>midi2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Importing MIDI.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-musicxml2ly" accesskey="2">5.2 Invoking <code>musicxml2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Importing MusicXML.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-abc2ly" accesskey="3">5.3 Invoking <code>abc2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Importing ABC.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-etf2ly" accesskey="4">5.4 Invoking <code>etf2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Importing Finale.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generating-LilyPond-files" accesskey="5">5.5 Generating LilyPond files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   GUIs, transcribers, and algorithmic composition programs.
</td></tr>
</table>



<hr size="6">
<a name="Invoking-midi2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Converting-from-other-formats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#GNU-Free-Documentation-License" title="Next chapter">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Converting-from-other-formats" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Converting-from-other-formats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Invoking-musicxml2ly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking musicxml2ly &gt; </a>]</td></tr></table>
<a name="Invoking-midi2ly"></a>
<h2 class="section">5.1 Invoking <code>midi2ly</code></h2>

<a name="index-MIDI"></a>

<p><code>midi2ly</code> translates a Type&nbsp;1 MIDI file to a LilyPond source
file.
</p>
<p>MIDI (Music Instrument Digital Interface) is a standard for digital
instruments: it specifies cabling, a serial protocol and a file
format.  The MIDI file format is a de facto standard format for
exporting music from other programs, so this capability may come in
useful when importing files from a program that has a converter for a
direct format.
</p>
<p><code>midi2ly</code> converts tracks into <a name="index-Staff"></a>
<a href="lilypond-internals-big-page.html#Staff">Staff</a> and
channels into <a name="index-Voice"></a>
<a href="lilypond-internals-big-page.html#Voice">Voice</a> contexts.  Relative mode is used
for pitches, durations are only written when necessary.
</p>
<p>It is possible to record a MIDI file using a digital keyboard, and
then convert it to &lsquo;<tt>.ly</tt>&rsquo;.  However, human players are not
rhythmically exact enough to make a MIDI to LY conversion trivial.
When invoked with quantizing (<code>-s</code> and <code>-d</code> options)
<code>midi2ly</code> tries to compensate for these timing errors, but is not
very good at this.  It is therefore not recommended to use <code>midi2ly</code>
for human-generated midi files.
</p>

<p>It is invoked from the command-line as follows,
</p><blockquote><pre class="example">midi2ly [<var>option</var>]&hellip; <var>midi-file</var>
</pre></blockquote>

<p>Note that by &lsquo;command-line&rsquo;, we mean the command line of the
operating system.  See <a href="#Converting-from-other-formats">Converting from other formats</a>, for
more information about this.
</p>
<p>The following options are supported by <code>midi2ly</code>.
</p>
<dl compact="compact">
<dt> <code>-a, --absolute-pitches</code></dt>
<dd><p>Print absolute pitches.
</p>
</dd>
<dt> <code>-d, --duration-quant=<var>DUR</var></code></dt>
<dd><p>Quantize note durations on <var>DUR</var>.
</p>
</dd>
<dt> <code>-e, --explicit-durations</code></dt>
<dd><p>Print explicit durations.
</p>
</dd>
<dt> <code>-h,--help</code></dt>
<dd><p>Show summary of usage.
</p>
</dd>
<dt> <code>-k, --key=<var>acc</var>[:<var>minor</var>]</code></dt>
<dd><p>Set default key.  <em><var>acc</var> &gt; 0</em> sets number of sharps;
<em><var>acc</var> &lt; 0</em> sets number of flats.  A minor key is indicated by
<code>:1</code>.
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>Write output to <var>file</var>.
</p>
</dd>
<dt> <code>-s, --start-quant=<var>DUR</var></code></dt>
<dd><p>Quantize note starts on <var>DUR</var>.
</p>
</dd>
<dt> <code>-t, --allow-tuplet=<var>DUR</var>*<var>NUM</var>/<var>DEN</var></code></dt>
<dd><p>Allow tuplet durations <var>DUR</var>*<var>NUM</var>/<var>DEN</var>.
</p>
</dd>
<dt> <code>-v, --verbose</code></dt>
<dd><p>Be verbose.
</p>
</dd>
<dt> <code>-V, --version</code></dt>
<dd><p>Print version number.
</p>
</dd>
<dt> <code>-w, --warranty</code></dt>
<dd><p>Show warranty and copyright.
</p>
</dd>
<dt> <code>-x, --text-lyrics</code></dt>
<dd><p>Treat every text as a lyric.
</p></dd>
</dl>


<a name="Known-issues-and-warnings"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>Overlapping notes in an arpeggio will not be correctly rendered.  The
first note will be read and the others will be ignored.  Set them all
to a single duration and add phrase markings or pedal indicators.
</p>

<hr size="6">
<a name="Invoking-musicxml2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Converting-from-other-formats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#GNU-Free-Documentation-License" title="Next chapter">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Invoking-midi2ly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Invoking midi2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Converting-from-other-formats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Invoking-abc2ly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking abc2ly &gt; </a>]</td></tr></table>
<a name="Invoking-musicxml2ly"></a>
<h2 class="section">5.2 Invoking <code>musicxml2ly</code></h2>

<a name="index-MusicXML"></a>

<p><a href="http://www.musicxml.org/">MusicXML</a> is an XML dialect
for representing music notation.
</p>
<p><code>musicxml2ly</code> extracts the notes, articulations, score structure,
lyrics, etc. from part-wise MusicXML files, and writes them to a .ly
file.  It is invoked from the command-line.
</p>

<p>It is invoked from the command-line as follows,
</p><blockquote><pre class="example">musicxml2ly [<var>option</var>]&hellip; <var>xml-file</var>
</pre></blockquote>

<p>Note that by &lsquo;command-line&rsquo;, we mean the command line of the
operating system.  See <a href="#Converting-from-other-formats">Converting from other formats</a>, for
more information about this.
</p>
<p>If the given filename is &lsquo;<tt>-</tt>&rsquo;, <code>musicxml2ly</code> reads input
from the command line.
</p>
<p>The following options are supported by <code>musicxml2ly</code>:
</p>
<dl compact="compact">
<dt> <code>-a, --absolute</code></dt>
<dd><p>convert pitches in absolute mode.
</p>
</dd>
<dt> <code>-h,--help</code></dt>
<dd><p>print usage and option summary.
</p>
</dd>
<dt> <code>-l, --language=LANG</code></dt>
<dd><p>use a different language file &rsquo;LANG.ly&rsquo; and corresponding pitch names,
e.g. &rsquo;deutsch&rsquo; for deutsch.ly and German note names.
</p>
</dd>
<dt> <code>--lxml</code></dt>
<dd><p>use the lxml.etree Python package for XML-parsing; uses less memory and cpu time.
</p>
</dd>
<dt> <code>--nd --no-articulation-directions</code></dt>
<dd><p>do not convert directions (<code>^</code>, <code>_</code> or <code>-</code>) for
articulations, dynamics, etc.
</p>
</dd>
<dt> <code>--no-beaming</code></dt>
<dd><p>do not convert beaming information, use LilyPond&rsquo;s automatic
beaming instead.
</p>
</dd>
<dt> <code>-o,--output=<var>file</var></code></dt>
<dd><p>set output filename to <var>file</var>.  If <var>file</var> is &lsquo;<tt>-</tt>&rsquo;, the output
will be printed on stdout.  If not given, <var>xml-file</var>&lsquo;<tt>.ly</tt>&rsquo; will
be used.
</p>
</dd>
<dt> <code>-r,--relative</code></dt>
<dd><p>convert pitches in relative mode (default).
</p>
</dd>
<dt> <code>-v,--verbose</code></dt>
<dd><p>be verbose.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>print version information.
</p>
</dd>
<dt> <code>-z,--compressed</code></dt>
<dd><p>input file is a zip-compressed MusicXML file.
</p></dd>
</dl>


<hr size="6">
<a name="Invoking-abc2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Converting-from-other-formats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#GNU-Free-Documentation-License" title="Next chapter">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Invoking-musicxml2ly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Invoking musicxml2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Converting-from-other-formats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Invoking-etf2ly" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Invoking etf2ly &gt; </a>]</td></tr></table>
<a name="Invoking-abc2ly"></a>
<h2 class="section">5.3 Invoking <code>abc2ly</code></h2>

<a name="index-ABC"></a>

<p>ABC is a fairly simple ASCII based format.  It is described at the ABC site:
</p>
<blockquote><p><a href="http://www.walshaw.plus.com/abc/learn.html">http://www.walshaw.plus.com/abc/learn.html</a>.
</p></blockquote>

<p><code>abc2ly</code> translates from ABC to LilyPond.  It is invoked as follows:
</p>
<blockquote><pre class="example">abc2ly [<var>option</var>]&hellip; <var>abc-file</var>
</pre></blockquote>

<p>The following options are supported by <code>abc2ly</code>:
</p>
<dl compact="compact">
<dt> <code>-b,--beams=None</code></dt>
<dd><p>preserve ABC&rsquo;s notion of beams
</p></dd>
<dt> <code>-h,--help</code></dt>
<dd><p>this help
</p></dd>
<dt> <code>-o,--output=<var>file</var></code></dt>
<dd><p>set output filename to <var>file</var>.
</p></dd>
<dt> <code>-s,--strict</code></dt>
<dd><p>be strict about success
</p></dd>
<dt> <code>--version</code></dt>
<dd><p>print version information.
</p></dd>
</dl>

<p>There is a rudimentary facility for adding LilyPond code to the ABC
source file.  If you say:
</p>
<blockquote><pre class="example">%%LY voices \set autoBeaming = ##f
</pre></blockquote>

<p>This will cause the text following the keyword &lsquo;voices&rsquo; to be inserted
into the current voice of the LilyPond output file.
</p>
<p>Similarly,
</p>
<blockquote><pre class="example">%%LY slyrics more words
</pre></blockquote>

<p>will cause the text following the &lsquo;slyrics&rsquo; keyword to be inserted
into the current line of lyrics.
</p>

<a name="Known-issues-and-warnings-2"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>The ABC standard is not very &lsquo;standard&rsquo;.  For extended features
(e.g., polyphonic music) different conventions exist.
</p>
<p>Multiple tunes in one file cannot be converted.
</p>
<p>ABC synchronizes words and notes at the beginning of a line;
<code>abc2ly</code> does not.
</p>
<p><code>abc2ly</code> ignores the ABC beaming.
</p>

<hr size="6">
<a name="Invoking-etf2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Converting-from-other-formats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#GNU-Free-Documentation-License" title="Next chapter">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Invoking-abc2ly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Invoking abc2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Converting-from-other-formats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Generating-LilyPond-files" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Generating LilyPond files &gt; </a>]</td></tr></table>
<a name="Invoking-etf2ly"></a>
<h2 class="section">5.4 Invoking <code>etf2ly</code></h2>

<a name="index-ETF"></a>
<a name="index-enigma"></a>
<a name="index-Finale"></a>
<a name="index-Coda-Technology"></a>

<p>ETF (Enigma Transport Format) is a format used by Coda Music
Technology&rsquo;s Finale product.  <code>etf2ly</code> will convert part of an ETF
file to a ready-to-use LilyPond file.
</p>
<p>It is invoked from the command-line as follows.
</p>
<blockquote><pre class="example">etf2ly [<var>option</var>]&hellip; <var>etf-file</var>
</pre></blockquote>

<p>Note that by &lsquo;command-line&rsquo;, we mean the command line of the
operating system.  See <a href="#Converting-from-other-formats">Converting from other formats</a>, for
more information about this.
</p>
<p>The following options are supported by <code>etf2ly</code>:
</p>
<dl compact="compact">
<dt> <code>-h,--help</code></dt>
<dd><p>this help
</p></dd>
<dt> <code>-o,--output=<var>FILE</var></code></dt>
<dd><p>set output filename to <var>FILE</var>
</p></dd>
<dt> <code>--version</code></dt>
<dd><p>version information
</p></dd>
</dl>


<a name="Known-issues-and-warnings-4"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>The list of articulation scripts is incomplete.  Empty measures
confuse <code>etf2ly</code>.  Sequences of grace notes are ended improperly.
</p>

<hr size="6">
<a name="Generating-LilyPond-files"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Converting-from-other-formats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#GNU-Free-Documentation-License" title="Next chapter">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Invoking-etf2ly" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Invoking etf2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Converting-from-other-formats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#GNU-Free-Documentation-License" title="Next section in reading order" accesskey="n" rel="next">&nbsp;GNU Free Documentation License &gt; </a>]</td></tr></table>
<a name="Generating-LilyPond-files"></a>
<h2 class="section">5.5 Generating LilyPond files</h2>

<a name="index-External-programs_002c-generating-LilyPond-files"></a>

<p>LilyPond itself does not come with support for any other formats, but
there are some external tools that also generate LilyPond files.
</p>
<p>These tools include
</p>
<ul>
<li>
<a href="http://www.denemo.org/">Denemo</a>, a graphical score editor.
</li><li>
<a href="http://www.volny.cz/smilauer/rumor/rumor.html">Rumor</a>, a realtime
monophonic MIDI to LilyPond converter.
</li><li>
<a href="http://nicolas.sceaux.free.fr/lilypond/lyqi.html">lyqi</a>, an
Emacs major mode.
</li><li>
<a href="http://www.nongnu.org/xml2ly/">xml2ly</a>, which imports
<a href="http://www.musicxml.com/xml.html">MusicXML</a>
</li><li>
<a href="http://noteedit.berlios.de">NoteEdit</a>
which imports <a href="http://www.musicxml.com/xml.html">MusicXML</a>
</li><li>
<a href="http://www.rosegardenmusic.com">Rosegarden</a>,
which imports MIDI
</li><li>
<a href="http://common-lisp.net/project/fomus/">FOMUS</a>,
a LISP library to generate music notation
</li><li>
<a href="http://vsr.informatik.tu-chemnitz.de/staff/jan/nted/nted.xhtml">http://vsr.informatik.tu-chemnitz.de/staff/jan/nted/nted.xhtml</a>,
has experimental export for LilyPond.
</li><li>
<a href="http://www.tuxguitar.com.ar/">http://www.tuxguitar.com.ar/</a>, can export to LilyPond.
</li><li>
<a href="http://musescore.org">http://musescore.org</a> can also export to LilyPond.
</li></ul>



<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Converting-from-other-formats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#LilyPond-index" title="Next chapter">&nbsp;LilyPond index &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Generating-LilyPond-files" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Generating LilyPond files&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#LilyPond-index" title="Next section in reading order" accesskey="n" rel="next">&nbsp;LilyPond index &gt; </a>]</td></tr></table>
<a name="GNU-Free-Documentation-License"></a>
<h1 class="appendix">A. GNU Free Documentation License</h1>

<a name="index-FDL_002c-GNU-Free-Documentation-License"></a>
<p align="center"> Version 1.1, March 2000
</p>
<table><tr><td>&nbsp;</td><td><pre class="display">Copyright &copy; 2000 Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307, USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></td></tr></table>

<ol>
<li>
PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
written document <em>free</em> in the sense of freedom: to assure everyone
the effective freedom to copy and redistribute it, with or without
modifying it, either commercially or noncommercially.  Secondarily,
this License preserves for the author and publisher a way to get
credit for their work, while not being considered responsible for
modifications made by others.
</p>
<p>This License is a kind of &lsquo;copyleft&rsquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li>
APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work that contains a
notice placed by the copyright holder saying it can be distributed
under the terms of this License.  The &lsquo;Document&rsquo;, below, refers to any
such manual or work.  Any member of the public is a licensee, and is
addressed as &lsquo;you&rsquo;.
</p>
<p>A &lsquo;Modified Version&rsquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &lsquo;Secondary Section&rsquo; is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall subject
(or to related matters) and contains nothing that could fall directly
within that overall subject.  (For example, if the Document is in part a
textbook of mathematics, a Secondary Section may not explain any
mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &lsquo;Invariant Sections&rsquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.
</p>
<p>The &lsquo;Cover Texts&rsquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.
</p>
<p>A &lsquo;Transparent&rsquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, whose contents can be viewed and edited directly and
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup has been designed to thwart or discourage
subsequent modification by readers is not Transparent.  A copy that is
not &lsquo;Transparent&rsquo; is called &lsquo;Opaque&rsquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input format,
<acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym> designed
for human modification.  Opaque formats include PostScript,
<acronym>PDF</acronym>, proprietary formats that can be read and edited only by
proprietary word processors, <acronym>SGML</acronym> or <acronym>XML</acronym> for which
the <acronym>DTD</acronym> and/or processing tools are not generally available,
and the machine-generated <acronym>HTML</acronym> produced by some word
processors for output purposes only.
</p>
<p>The &lsquo;Title Page&rsquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &lsquo;Title Page&rsquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
</li><li>
VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li>
COPYING IN QUANTITY

<p>If you publish printed copies of the Document numbering more than 100,
and the Document&rsquo;s license notice requires Cover Texts, you must enclose
the copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a publicly-accessible computer-network location containing a complete
Transparent copy of the Document, free of added material, which the
general network-using public has access to download anonymously at no
charge using public-standard network protocols.  If you use the latter
option, you must take reasonably prudent steps, when you begin
distribution of Opaque copies in quantity, to ensure that this
Transparent copy will remain thus accessible at the stated location
until at least one year after the last time you distribute an Opaque
copy (directly or through your agents or retailers) of that edition to
the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li>
MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li>
Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>
List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has less than five).

</li><li>
State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>
Preserve all the copyright notices of the Document.

</li><li>
Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>
Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>
Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li>
Include an unaltered copy of this License.

</li><li>
Preserve the section entitled &lsquo;History&rsquo;, and its title, and add to
it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section entitled &lsquo;History&rsquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>
Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &lsquo;History&rsquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>
In any section entitled &lsquo;Acknowledgments&rsquo; or &lsquo;Dedications&rsquo;,
preserve the section&rsquo;s title, and preserve in the section all the
substance and tone of each of the contributor acknowledgments
and/or dedications given therein.

</li><li>
Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>
Delete any section entitled &lsquo;Endorsements&rsquo;.  Such a section
may not be included in the Modified Version.

</li><li>
Do not retitle any existing section as &lsquo;Endorsements&rsquo;
or to conflict in title with any Invariant Section.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section entitled &lsquo;Endorsements&rsquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li>
COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections entitled &lsquo;History&rsquo;
in the various original documents, forming one section entitled
&lsquo;History&rsquo;; likewise combine any sections entitled &lsquo;Acknowledgments&rsquo;,
and any sections entitled &lsquo;Dedications&rsquo;.  You must delete all sections
entitled &lsquo;Endorsements.&rsquo;
</p>
</li><li>
COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li>
AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, does not as a whole count as a Modified Version
of the Document, provided no compilation copyright is claimed for the
compilation.  Such a compilation is called an &lsquo;aggregate&rsquo;, and this
License does not apply to the other self-contained works thus compiled
with the Document, on account of their being thus compiled, if they
are not themselves derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one quarter
of the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that surround only the Document within the aggregate.
Otherwise they must appear on covers around the whole aggregate.
</p>
</li><li>
TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License provided that you also include the
original English version of this License.  In case of a disagreement
between the translation and the original English version of this
License, the original English version will prevail.
</p>
</li><li>
TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document except
as expressly provided for under this License.  Any other attempt to
copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License.  However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such
parties remain in full compliance.
</p>
</li><li>
FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &lsquo;or any later version&rsquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.
</p></li></ol>


<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<h3 class="subheading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.1
  or any later version published by the Free Software Foundation;
  with the Invariant Sections being <var>list their titles</var>, with the
  Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts being <var>list</var>.
  A copy of the license is included in the section entitled &lsquo;GNU
  Free Documentation License&rsquo;.
</pre></td></tr></table>

<p>If you have no Invariant Sections, write &lsquo;with no Invariant Sections&rsquo;
instead of saying which ones are invariant.  If you have no
Front-Cover Texts, write &lsquo;no Front-Cover Texts&rsquo; instead of
&lsquo;Front-Cover Texts being <var>list</var>&rsquo;; likewise for Back-Cover Texts.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>


<hr size="6">
<a name="LilyPond-index"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#GNU-Free-Documentation-License" title="Beginning of this chapter or previous chapter"> &lt;&lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#GNU-Free-Documentation-License" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[&nbsp; &gt; ]</td></tr></table>
<a name="LilyPond-index"></a>
<h1 class="appendix">B. LilyPond index</h1>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#LilyPond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#LilyPond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_symbol-1">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005cheader-in-LaTeX-documents">\header in LaTeX documents</a></td><td valign="top"><a href="#LaTeX">4.2.1 LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ABC">ABC</a></td><td valign="top"><a href="#Invoking-abc2ly">5.3 Invoking <code>abc2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-About-the-documentation"><code>About the documentation</code></a></td><td valign="top"><a href="#Top">GNU LilyPond &mdash; Application Usage</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-bugs">bugs</a></td><td valign="top"><a href="#Reporting-bugs">3.5 Reporting bugs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-call-trace">call trace</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coda-Technology">Coda Technology</a></td><td valign="top"><a href="#Invoking-etf2ly">5.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-coloring_002c-syntax">coloring, syntax</a></td><td valign="top"><a href="#Text-editor-support">2.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command-line-options-for-lilypond">command line options for <code>lilypond</code></a></td><td valign="top"><a href="#Invoking-lilypond">3.2.1 Invoking <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert_002dly">convert-ly</a></td><td valign="top"><a href="#Updating-files-with-convert_002dly">3.4 Updating files with <code>convert-ly</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-docbook">docbook</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DocBook_002c-music-in">DocBook, music in</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-documents_002c-adding-music-to">documents, adding music to</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dvips">dvips</a></td><td valign="top"><a href="#LaTeX-2">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-editors">editors</a></td><td valign="top"><a href="#Text-editor-support">2.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-emacs">emacs</a></td><td valign="top"><a href="#Text-editor-support">2.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enigma">enigma</a></td><td valign="top"><a href="#Invoking-etf2ly">5.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error">error</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error-messages">error messages</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-errors_002c-message-format">errors, message format</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ETF">ETF</a></td><td valign="top"><a href="#Invoking-etf2ly">5.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-External-programs_002c-generating-LilyPond-files">External programs, generating LilyPond files</a></td><td valign="top"><a href="#Generating-LilyPond-files">5.5 Generating LilyPond files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Extracting-fragments-of-music"><code>Extracting fragments of music</code></a></td><td valign="top"><a href="#Many-quotes-from-a-large-score">Many quotes from a large score</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-fatal-error">fatal error</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FDL_002c-GNU-Free-Documentation-License">FDL, GNU Free Documentation License</a></td><td valign="top"><a href="#GNU-Free-Documentation-License">A. GNU Free Documentation License</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-searching">file searching</a></td><td valign="top"><a href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-size_002c-output">file size, output</a></td><td valign="top"><a href="#Point-and-click">2.3 Point and click</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Finale">Finale</a></td><td valign="top"><a href="#Invoking-etf2ly">5.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-First-steps"><code>First steps</code></a></td><td valign="top"><a href="#Normal-usage">3.1 Normal usage</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-html">html</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HTML_002c-music-in">HTML, music in</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-dvips">invoking dvips</a></td><td valign="top"><a href="#LaTeX-2">LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Invoking-lilypond">Invoking <code>lilypond</code></a></td><td valign="top"><a href="#Invoking-lilypond">3.2.1 Invoking <code>lilypond</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG">LANG</a></td><td valign="top"><a href="#Environment-variables">3.2.3 Environment variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-latex">latex</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LaTeX_002c-music-in">LaTeX, music in</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LILYPOND_005fDATADIR">LILYPOND_DATADIR</a></td><td valign="top"><a href="#Environment-variables">3.2.3 Environment variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-MIDI">MIDI</a></td><td valign="top"><a href="#Invoking-midi2ly">5.1 Invoking <code>midi2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-modes_002c-editor">modes, editor</a></td><td valign="top"><a href="#Text-editor-support">2.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-musicology">musicology</a></td><td valign="top"><a href="#An-example-of-a-musicological-document">4.1 An example of a musicological document</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MusicXML">MusicXML</a></td><td valign="top"><a href="#Invoking-musicxml2ly">5.2 Invoking <code>musicxml2ly</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenOffice_002eorg">OpenOffice.org</a></td><td valign="top"><a href="#Inserting-LilyPond-output-into-OpenOffice_002eorg">Inserting LilyPond output into OpenOffice.org</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-command-line">options, command line</a></td><td valign="top"><a href="#Invoking-lilypond">3.2.1 Invoking <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-outline-fonts">outline fonts</a></td><td valign="top"><a href="#LaTeX-2">LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output-format_002c-setting">output format, setting</a></td><td valign="top"><a href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-point-and-click">point and click</a></td><td valign="top"><a href="#Point-and-click">2.3 Point and click</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-point-and-click_002c-command-line">point and click, command line</a></td><td valign="top"><a href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PostScript-output">PostScript output</a></td><td valign="top"><a href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preview-image">preview image</a></td><td valign="top"><a href="#HTML">4.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Programming-error">Programming error</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-reporting-bugs">reporting bugs</a></td><td valign="top"><a href="#Reporting-bugs">3.5 Reporting bugs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme-dump">Scheme dump</a></td><td valign="top"><a href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme-error">Scheme error</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-search-path">search path</a></td><td valign="top"><a href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Staff"><code>Staff</code></a></td><td valign="top"><a href="#Invoking-midi2ly">5.1 Invoking <code>midi2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SVG-_0028Scalable-Vector-Graphics_0029">SVG (Scalable Vector Graphics)</a></td><td valign="top"><a href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-switches">switches</a></td><td valign="top"><a href="#Invoking-lilypond">3.2.1 Invoking <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax-coloring">syntax coloring</a></td><td valign="top"><a href="#Text-editor-support">2.2 Text editor support</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-texi">texi</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo">texinfo</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo-1">texinfo</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Texinfo_002c-music-in">Texinfo, music in</a></td><td valign="top"><a href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thumbnail">thumbnail</a></td><td valign="top"><a href="#HTML">4.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titling-and-lilypond_002dbook">titling and lilypond-book</a></td><td valign="top"><a href="#LaTeX">4.2.1 LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titling-in-HTML">titling in HTML</a></td><td valign="top"><a href="#HTML">4.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-trace_002c-Scheme">trace, Scheme</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type1-fonts">type1 fonts</a></td><td valign="top"><a href="#LaTeX-2">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Updating-a-LilyPond-file">Updating a LilyPond file</a></td><td valign="top"><a href="#Updating-files-with-convert_002dly">3.4 Updating files with <code>convert-ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-URL">URL</a></td><td valign="top"><a href="#Top">GNU LilyPond &mdash; Application Usage</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-vim">vim</a></td><td valign="top"><a href="#Text-editor-support">2.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Voice"><code>Voice</code></a></td><td valign="top"><a href="#Invoking-midi2ly">5.1 Invoking <code>midi2ly</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="LilyPond-index_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-warning">warning</a></td><td valign="top"><a href="#Error-messages">3.3 Error messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-web-site">web site</a></td><td valign="top"><a href="#Top">GNU LilyPond &mdash; Application Usage</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#LilyPond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#LilyPond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#LilyPond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Foot"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<h1>Footnotes</h1>
<p class="footnote"><small>[<a name="FOOT1" href="#DOCF1">1</a>]</small> On UNIX, this file is found either in
&lsquo;<tt>/etc/xpdfrc</tt>&rsquo; or as &lsquo;<tt>.xpdfrc</tt>&rsquo; in your home directory.
</p><p class="footnote"><small>[<a name="FOOT2" href="#DOCF2">2</a>]</small> The status of
GUILE is not reset after processing a <code>.ly</code> file, so be careful
not to change any system defaults from within Scheme.
</p><p class="footnote"><small>[<a name="FOOT3" href="#DOCF3">3</a>]</small> This
tutorial is processed with Texinfo, so the example gives slightly
different results in layout.
</p><p class="footnote"><small>[<a name="FOOT4" href="#DOCF4">4</a>]</small> Note
that PDFLaTeX and LaTeX may not be both usable to compile any
LaTeX document, that is why we explain the two ways.
</p><hr size="1">
<a name="SEC_Contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Install-1" href="#Install">1. Install</a>
  <ul class="toc">
    <li><a name="toc-Precompiled-binaries-1" href="#Precompiled-binaries">1.1 Precompiled binaries</a>
    <ul class="toc">
      <li><a name="toc-Downloading" href="#Precompiled-binaries">Downloading</a></li>
    </ul></li>
    <li><a name="toc-Compiling-from-source-1" href="#Compiling-from-source">1.2 Compiling from source</a>
    <ul class="toc">
      <li><a name="toc-Downloading-source-code-1" href="#Downloading-source-code">1.2.1 Downloading source code</a></li>
      <li><a name="toc-Requirements-1" href="#Requirements">1.2.2 Requirements</a>
      <ul class="toc">
        <li><a name="toc-Compilation" href="#Requirements">Compilation</a></li>
        <li><a name="toc-Running-requirements" href="#Requirements">Running requirements</a></li>
        <li><a name="toc-Requirements-for-building-documentation" href="#Requirements">Requirements for building documentation</a></li>
      </ul></li>
      <li><a name="toc-Building-LilyPond-1" href="#Building-LilyPond">1.2.3 Building LilyPond</a>
      <ul class="toc">
        <li><a name="toc-Compiling" href="#Building-LilyPond">Compiling</a></li>
        <li><a name="toc-Compiling-for-multiple-platforms" href="#Building-LilyPond">Compiling for multiple platforms</a></li>
        <li><a name="toc-Compiling-outside-the-source-tree" href="#Building-LilyPond">Compiling outside the source tree</a></li>
        <li><a name="toc-Useful-make-variables" href="#Building-LilyPond">Useful <code>make</code> variables</a></li>
      </ul></li>
      <li><a name="toc-Building-documentation-1" href="#Building-documentation">1.2.4 Building documentation</a>
      <ul class="toc">
        <li><a name="toc-Commands-for-building-documentation-1" href="#Commands-for-building-documentation">Commands for building documentation</a></li>
        <li><a name="toc-Building-documentation-without-compiling-LilyPond-1" href="#Building-documentation-without-compiling-LilyPond">Building documentation without compiling LilyPond</a></li>
      </ul></li>
      <li><a name="toc-Testing-LilyPond-1" href="#Testing-LilyPond">1.2.5 Testing LilyPond</a></li>
      <li><a name="toc-Problems-1" href="#Problems">1.2.6 Problems</a>
      <ul class="toc">
        <li><a name="toc-Bison-1_002e875" href="#Problems">Bison 1.875</a></li>
        <li><a name="toc-Solaris" href="#Problems">Solaris</a></li>
        <li><a name="toc-FreeBSD" href="#Problems">FreeBSD</a></li>
        <li><a name="toc-International-fonts" href="#Problems">International fonts</a></li>
      </ul>
</li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Setup-1" href="#Setup">2. Setup</a>
  <ul class="toc">
    <li><a name="toc-Setup-for-specific-Operating-Systems-1" href="#Setup-for-specific-Operating-Systems">2.1 Setup for specific Operating Systems</a>
    <ul class="toc">
      <li><a name="toc-Setup-for-MacOS-X-1" href="#Setup-for-MacOS-X">2.1.1 Setup for MacOS X</a></li>
    </ul></li>
    <li><a name="toc-Text-editor-support-1" href="#Text-editor-support">2.2 Text editor support</a>
    <ul class="toc">
      <li><a name="toc-Emacs-mode-1" href="#Emacs-mode">2.2.1 Emacs mode</a></li>
      <li><a name="toc-Vim-mode-1" href="#Vim-mode">2.2.2 Vim mode</a></li>
      <li><a name="toc-jEdit-1" href="#jEdit">2.2.3 jEdit</a></li>
      <li><a name="toc-TexShop-1" href="#TexShop">2.2.4 TexShop</a></li>
      <li><a name="toc-TextMate-1" href="#TextMate">2.2.5 TextMate</a></li>
      <li><a name="toc-LilyKDE-1" href="#LilyKDE">2.2.6 LilyKDE</a></li>
    </ul></li>
    <li><a name="toc-Point-and-click-1" href="#Point-and-click">2.3 Point and click</a></li>
  </ul></li>
  <li><a name="toc-Running-LilyPond-1" href="#Running-LilyPond">3. Running LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Normal-usage-1" href="#Normal-usage">3.1 Normal usage</a></li>
    <li><a name="toc-Command_002dline-usage-1" href="#Command_002dline-usage">3.2 Command-line usage</a>
    <ul class="toc">
      <li><a name="toc-Invoking-lilypond-1" href="#Invoking-lilypond">3.2.1 Invoking <code>lilypond</code></a></li>
      <li><a name="toc-Command-line-options-for-lilypond-1" href="#Command-line-options-for-lilypond">3.2.2 Command line options for <code>lilypond</code></a></li>
      <li><a name="toc-Environment-variables-1" href="#Environment-variables">3.2.3 Environment variables</a></li>
    </ul></li>
    <li><a name="toc-Error-messages-1" href="#Error-messages">3.3 Error messages</a></li>
    <li><a name="toc-Updating-files-with-convert_002dly-1" href="#Updating-files-with-convert_002dly">3.4 Updating files with <code>convert-ly</code></a>
    <ul class="toc">
      <li><a name="toc-Invoking-convert_002dly-1" href="#Invoking-convert_002dly">3.4.1 Invoking <code>convert-ly</code></a></li>
      <li><a name="toc-Command-line-options-for-convert_002dly-1" href="#Command-line-options-for-convert_002dly">3.4.2 Command line options for <code>convert-ly</code></a></li>
      <li><a name="toc-Problems-with-convert_002dly-1" href="#Problems-with-convert_002dly">3.4.3 Problems with <code>convert-ly</code></a></li>
    </ul></li>
    <li><a name="toc-Reporting-bugs-1" href="#Reporting-bugs">3.5 Reporting bugs</a></li>
  </ul></li>
  <li><a name="toc-lilypond_002dbook_003a-Integrating-text-and-music" href="#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a>
  <ul class="toc">
    <li><a name="toc-An-example-of-a-musicological-document-1" href="#An-example-of-a-musicological-document">4.1 An example of a musicological document</a></li>
    <li><a name="toc-Integrating-music-and-text-1" href="#Integrating-music-and-text">4.2 Integrating music and text</a>
    <ul class="toc">
      <li><a name="toc-LaTeX-1" href="#LaTeX">4.2.1 LaTeX</a></li>
      <li><a name="toc-Texinfo-1" href="#Texinfo">4.2.2 Texinfo</a></li>
      <li><a name="toc-HTML-1" href="#HTML">4.2.3 HTML</a></li>
      <li><a name="toc-DocBook-1" href="#DocBook">4.2.4 DocBook</a></li>
    </ul></li>
    <li><a name="toc-Music-fragment-options-1" href="#Music-fragment-options">4.3 Music fragment options</a></li>
    <li><a name="toc-Invoking-lilypond_002dbook-1" href="#Invoking-lilypond_002dbook">4.4 Invoking <code>lilypond-book</code></a></li>
    <li><a name="toc-Filename-extensions-1" href="#Filename-extensions">4.5 Filename extensions</a></li>
    <li><a name="toc-Alternative-methods-of-mixing-text-and-music" href="#Alternate-methods-of-mixing-text-and-music">4.6 Alternative methods of mixing text and music</a>
    <ul class="toc">
      <li><a name="toc-Many-quotes-from-a-large-score-1" href="#Many-quotes-from-a-large-score">Many quotes from a large score</a></li>
      <li><a name="toc-Inserting-LilyPond-output-into-OpenOffice_002eorg-1" href="#Inserting-LilyPond-output-into-OpenOffice_002eorg">Inserting LilyPond output into OpenOffice.org</a></li>
      <li><a name="toc-Inserting-LilyPond-output-into-other-programs-1" href="#Inserting-LilyPond-output-into-other-programs">Inserting LilyPond output into other programs</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Converting-from-other-formats-1" href="#Converting-from-other-formats">5. Converting from other formats</a>
  <ul class="toc">
    <li><a name="toc-Invoking-midi2ly-1" href="#Invoking-midi2ly">5.1 Invoking <code>midi2ly</code></a></li>
    <li><a name="toc-Invoking-musicxml2ly-1" href="#Invoking-musicxml2ly">5.2 Invoking <code>musicxml2ly</code></a></li>
    <li><a name="toc-Invoking-abc2ly-1" href="#Invoking-abc2ly">5.3 Invoking <code>abc2ly</code></a></li>
    <li><a name="toc-Invoking-etf2ly-1" href="#Invoking-etf2ly">5.4 Invoking <code>etf2ly</code></a></li>
    <li><a name="toc-Generating-LilyPond-files-1" href="#Generating-LilyPond-files">5.5 Generating LilyPond files</a></li>
  </ul></li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="#GNU-Free-Documentation-License">A. GNU Free Documentation License</a></li>
  <li><a name="toc-LilyPond-index-1" href="#LilyPond-index">B. LilyPond index</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#LilyPond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>Graham Percival</em> on <em>January 13, 2010</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
 Other languages: <a href="lilypond-program-big-page.fr.html">français</a>, <a href="lilypond-program-big-page.es.html">español</a>, <a href="lilypond-program-big-page.de.html">deutsch</a>.
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="#Top" title="Start of the manual">Application Usage</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Install-1" href="lilypond-program-big-page.html#Install">1. Install</a>
  <ul class="toc">
    <li><a name="toc-Precompiled-binaries-1" href="lilypond-program-big-page.html#Precompiled-binaries">1.1 Precompiled binaries</a>    </li>
    <li><a name="toc-Compiling-from-source-1" href="lilypond-program-big-page.html#Compiling-from-source">1.2 Compiling from source</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Setup-1" href="lilypond-program-big-page.html#Setup">2. Setup</a>
  <ul class="toc">
    <li><a name="toc-Setup-for-specific-Operating-Systems-1" href="lilypond-program-big-page.html#Setup-for-specific-Operating-Systems">2.1 Setup for specific Operating Systems</a>    </li>
    <li><a name="toc-Text-editor-support-1" href="lilypond-program-big-page.html#Text-editor-support">2.2 Text editor support</a>    </li>
    <li><a name="toc-Point-and-click-1" href="lilypond-program-big-page.html#Point-and-click">2.3 Point and click</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Running-LilyPond-1" href="lilypond-program-big-page.html#Running-LilyPond">3. Running LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Normal-usage-1" href="lilypond-program-big-page.html#Normal-usage">3.1 Normal usage</a>    </li>
    <li><a name="toc-Command_002dline-usage-1" href="lilypond-program-big-page.html#Command_002dline-usage">3.2 Command-line usage</a>    </li>
    <li><a name="toc-Error-messages-1" href="lilypond-program-big-page.html#Error-messages">3.3 Error messages</a>    </li>
    <li><a name="toc-Updating-files-with-convert_002dly-1" href="lilypond-program-big-page.html#Updating-files-with-convert_002dly">3.4 Updating files with <code>convert-ly</code></a>    </li>
    <li><a name="toc-Reporting-bugs-1" href="lilypond-program-big-page.html#Reporting-bugs">3.5 Reporting bugs</a>    </li>
  </ul>
  </li>
  <li><a name="toc-lilypond_002dbook_003a-Integrating-text-and-music" href="lilypond-program-big-page.html#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a>
  <ul class="toc">
    <li><a name="toc-An-example-of-a-musicological-document-1" href="lilypond-program-big-page.html#An-example-of-a-musicological-document">4.1 An example of a musicological document</a>    </li>
    <li><a name="toc-Integrating-music-and-text-1" href="lilypond-program-big-page.html#Integrating-music-and-text">4.2 Integrating music and text</a>    </li>
    <li><a name="toc-Music-fragment-options-1" href="lilypond-program-big-page.html#Music-fragment-options">4.3 Music fragment options</a>    </li>
    <li><a name="toc-Invoking-lilypond_002dbook-1" href="lilypond-program-big-page.html#Invoking-lilypond_002dbook">4.4 Invoking <code>lilypond-book</code></a>    </li>
    <li><a name="toc-Filename-extensions-1" href="lilypond-program-big-page.html#Filename-extensions">4.5 Filename extensions</a>    </li>
    <li><a name="toc-Alternative-methods-of-mixing-text-and-music" href="lilypond-program-big-page.html#Alternate-methods-of-mixing-text-and-music">4.6 Alternative methods of mixing text and music</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Converting-from-other-formats-1" href="lilypond-program-big-page.html#Converting-from-other-formats">5. Converting from other formats</a>
  <ul class="toc">
    <li><a name="toc-Invoking-midi2ly-1" href="lilypond-program-big-page.html#Invoking-midi2ly">5.1 Invoking <code>midi2ly</code></a>    </li>
    <li><a name="toc-Invoking-musicxml2ly-1" href="lilypond-program-big-page.html#Invoking-musicxml2ly">5.2 Invoking <code>musicxml2ly</code></a>    </li>
    <li><a name="toc-Invoking-abc2ly-1" href="lilypond-program-big-page.html#Invoking-abc2ly">5.3 Invoking <code>abc2ly</code></a>    </li>
    <li><a name="toc-Invoking-etf2ly-1" href="lilypond-program-big-page.html#Invoking-etf2ly">5.4 Invoking <code>etf2ly</code></a>    </li>
    <li><a name="toc-Generating-LilyPond-files-1" href="lilypond-program-big-page.html#Generating-LilyPond-files">5.5 Generating LilyPond files</a>    </li>
  </ul>
  </li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="lilypond-program-big-page.html#GNU-Free-Documentation-License">A. GNU Free Documentation License</a>  </li>
  <li><a name="toc-LilyPond-index-1" href="lilypond-program-big-page.html#LilyPond-index">B. LilyPond index</a>  </li>
</ul>
</div>
</div>

</body>
</html>
