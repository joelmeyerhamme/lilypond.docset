<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2009 by the authors

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond program usage: 4.2.1 LaTeX</title>

<meta name="description" content="GNU LilyPond program usage: 4.2.1 LaTeX">
<meta name="keywords" content="GNU LilyPond program usage: 4.2.1 LaTeX">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.ja.html#Top" rel="start" title="GNU LilyPond &mdash; Application Usage">
<link href="LilyPond-index.ja.html#LilyPond-index" rel="index" title="B. LilyPond index">
<link href="index_toc.ja.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.ja.html#SEC_About" rel="help" title="About This Document">
<link href="Integrating-music-and-text.ja.html#Integrating-music-and-text" rel="up" title="4.2 Integrating music and text">
<link href="LilyPond-index.ja.html#LilyPond-index" rel="next" title="B. LilyPond index">
<link href="Integrating-music-and-text.ja.html#Integrating-music-and-text" rel="previous" title="4.2 Integrating music and text">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="LaTeX"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="LilyPond_002dbook.ja.html#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ja.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.ja.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-index.ja.html#LilyPond-index" title="Index" rel="index">Index</a>][<a href="index_abt.ja.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Converting-from-other-formats.ja.html#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Integrating-music-and-text.ja.html#Integrating-music-and-text" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Integrating music and text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Integrating-music-and-text.ja.html#Integrating-music-and-text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Texinfo.ja.html#Texinfo" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<a name="LaTeX"></a>
<h3 class="subsection">4.2.1 LaTeX</h3>

<p>LaTeX is the de-facto standard for publishing layouts in the exact
sciences.  It is built on top of the TeX typesetting engine,
providing the best typography available anywhere.
</p>
<p>See
<a href="http://www.ctan.org/tex-archive/info/lshort/english/"><em>The Not So Short Introduction to LaTeX</em></a> for an overview on how
to use LaTeX.
</p>
<p>Music is entered using
</p>
<blockquote><pre class="example">\begin[options,go,here]{lilypond}
  YOUR LILYPOND CODE
\end{lilypond}
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">\lilypondfile[options,go,here]{<var>filename</var>}
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">\lilypond{ YOUR LILYPOND CODE }
</pre></blockquote>

<p>Additionally, <code>\lilypondversion</code> displays the current version
of lilypond.
Running <code>lilypond-book</code> yields a file that can be further
processed with LaTeX. 
</p>
<p>We show some examples here.  The <code>lilypond</code> environment
</p>
<blockquote><pre class="example">\begin[quote,fragment,staffsize=26]{lilypond}
  c' d' e' f' g'2 g'2
\end{lilypond}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="../b4/lily-8adedf93.ly">
  <img align="middle"
       border="0"
       src="../b4/lily-8adedf93.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The short version
</p>
<blockquote><pre class="example">\lilypond[quote,fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="../8b/lily-2a983f53.ly">
  <img align="middle"
       border="0"
       src="../8b/lily-2a983f53.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Currently, you cannot include <code>{</code> or <code>}</code> within
<code>\lilypond{}</code>, so this command is only useful with the
<code>fragment</code> option.
</p>
<p>The default line width of the music will be adjusted by examining the
commands in the document preamble, the part of the document before
<code>\begin{document}</code>.  The <code>lilypond-book</code> command sends
these to LaTeX to find out how wide the text is.  The line width for
the music fragments is then adjusted to the text width.  Note that this
heuristic algorithm can fail easily; in such cases it is necessary to
use the <code>line-width</code> music fragment option.
</p>
<a name="index-titling-and-lilypond_002dbook"></a>
<a name="index-_005cheader-in-LaTeX-documents"></a>

<p>Each snippet will call the following macros if they have been defined by
the user:
</p>
<ul>
<li> <code>\preLilyPondExample</code> called before the music,

</li><li> <code>\postLilyPondExample</code> called after the music,

</li><li> <code>\betweenLilyPondSystem[1]</code> is called between systems if
<code>lilypond-book</code> has split the snippet into several PostScript
files.  It must be defined as taking one parameter and will be
passed the number of files already included in this snippet.
The default is to simply insert a <code>\linebreak</code>.
</li></ul>


<a name="Selected-Snippets"></a>
<h4 class="subsubheading">Selected Snippets</h4>

<p>Sometimes it is useful to display music elements (such as ties and slurs)
as if they continued after the end of the fragment.  This can be done by
breaking the staff and suppressing inclusion of the rest of the LilyPond
output.
</p>
<p>In LaTeX, define <code>\betweenLilyPondSystem</code> in such a way that
inclusion of other systems is terminated once the required number of
systems are included.  Since <code>\betweenLilypondSystem</code> is first
called <em>after</em> the first system, including only the first system
is trivial.
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{\endinput}

\begin[fragment]{lilypond}
  c'1\( e'( c'~ \break c' d) e f\)
\end{lilypond}
</pre></blockquote>

<p>If a greater number of systems is requested, a TeX conditional must
be used before the <code>\endinput</code>.  In this example, replace &lsquo;2&rsquo; by
the number of systems you want in the output,
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{
    \ifnum##1&lt;2\else\endinput\fi
}
</pre></blockquote>

<p>Remember that the definition of <code>\betweenLilyPondSystem</code> is
effective until TeX quits the current group (such as the LaTeX
environment) or is overridden by another definition (which is, in
most cases, for the rest of the document).  To reset your
definition, write
</p>
<blockquote><pre class="example">\let\betweenLilyPondSystem\undefined
</pre></blockquote>

<p>in your LaTeX source.
</p>
<p>This may be simplified by defining a TeX macro
</p>
<blockquote><pre class="example">\def\onlyFirstNSystems#1{
    \def\betweenLilyPondSystem##1{\ifnum##1&lt;#1\else\endinput\fi}
}
</pre></blockquote>

<p>and then saying only how many systems you want before each fragment,
</p>
<blockquote><pre class="example">\onlyFirstNSystems{3}
\begin{lilypond}...\end{lilypond}
\onlyFirstNSystems{1}
\begin{lilypond}...\end{lilypond}
</pre></blockquote>


<a name="See-also"></a>
<h4 class="subsubheading">See also</h4>
<p>There are specific <code>lilypond-book</code> command line options and
other details to know when processing LaTeX documents, see
<a href="Invoking-lilypond_002dbook.ja.html#Invoking-lilypond_002dbook">Invoking <code>lilypond-book</code></a>.
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="LilyPond_002dbook.ja.html#LilyPond_002dbook" title="Beginning of this chapter or previous chapter"> &lt;&lt; LilyPond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ja.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.ja.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-index.ja.html#LilyPond-index" title="Index" rel="index">Index</a>][<a href="index_abt.ja.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Converting-from-other-formats.ja.html#Converting-from-other-formats" title="Next chapter">&nbsp;Converting from other formats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Integrating-music-and-text.ja.html#Integrating-music-and-text" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Integrating music and text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Integrating-music-and-text.ja.html#Integrating-music-and-text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Texinfo.ja.html#Texinfo" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
このページは LilyPond-2.12.3 (安定版) を対象としています。
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
 他の言語: <a href="LaTeX.es.html">español</a>, <a href="LaTeX.de.html">deutsch</a>
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.ja.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.ja.html#Top" title="Start of the manual">Application Usage</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Install-1" href="Install.ja.html#Install">1. Install</a>
  <ul class="toc">
    <li><a name="toc-Precompiled-binaries-1" href="Precompiled-binaries.ja.html#Precompiled-binaries">1.1 Precompiled binaries</a>    </li>
    <li><a name="toc-Compiling-from-source-1" href="Compiling-from-source.ja.html#Compiling-from-source">1.2 Compiling from source</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Setup-1" href="Setup.ja.html#Setup">2. Setup</a>
  <ul class="toc">
    <li><a name="toc-Setup-for-specific-Operating-Systems-1" href="Setup-for-specific-Operating-Systems.ja.html#Setup-for-specific-Operating-Systems">2.1 Setup for specific Operating Systems</a>    </li>
    <li><a name="toc-Text-editor-support-1" href="Text-editor-support.ja.html#Text-editor-support">2.2 Text editor support</a>    </li>
    <li><a name="toc-Point-and-click-1" href="Point-and-click.ja.html#Point-and-click">2.3 Point and click</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Running-LilyPond-1" href="Running-LilyPond.ja.html#Running-LilyPond">3. Running LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Normal-usage-1" href="Normal-usage.ja.html#Normal-usage">3.1 Normal usage</a>    </li>
    <li><a name="toc-Command_002dline-usage-1" href="Command_002dline-usage.ja.html#Command_002dline-usage">3.2 Command-line usage</a>    </li>
    <li><a name="toc-Error-messages-1" href="Error-messages.ja.html#Error-messages">3.3 Error messages</a>    </li>
    <li><a name="toc-Updating-files-with-convert_002dly-1" href="Updating-files-with-convert_002dly.ja.html#Updating-files-with-convert_002dly">3.4 Updating files with <code>convert-ly</code></a>    </li>
    <li><a name="toc-Reporting-bugs-1" href="Reporting-bugs.ja.html#Reporting-bugs">3.5 Reporting bugs</a>    </li>
  </ul>
  </li>
  <li class="toc_current"><a name="toc-lilypond_002dbook_003a-Integrating-text-and-music" href="LilyPond_002dbook.ja.html#LilyPond_002dbook">4. <code>lilypond-book</code>: Integrating text and music</a>
  <ul class="toc">
    <li><a name="toc-An-example-of-a-musicological-document-1" href="An-example-of-a-musicological-document.ja.html#An-example-of-a-musicological-document">4.1 An example of a musicological document</a>    </li>
    <li class="toc_current"><a name="toc-Integrating-music-and-text-1" href="Integrating-music-and-text.ja.html#Integrating-music-and-text">4.2 Integrating music and text</a>
    <ul class="toc">
      <li class="toc_current"><a name="toc-LaTeX-1" href="LaTeX.ja.html#LaTeX">4.2.1 LaTeX</a>      </li>
      <li><a name="toc-Texinfo-1" href="Texinfo.ja.html#Texinfo">4.2.2 Texinfo</a>      </li>
      <li><a name="toc-HTML-1" href="HTML.ja.html#HTML">4.2.3 HTML</a>      </li>
      <li><a name="toc-DocBook-1" href="DocBook.ja.html#DocBook">4.2.4 DocBook</a>      </li>
    </ul>
    </li>
    <li><a name="toc-Music-fragment-options-1" href="Music-fragment-options.ja.html#Music-fragment-options">4.3 Music fragment options</a>    </li>
    <li><a name="toc-Invoking-lilypond_002dbook-1" href="Invoking-lilypond_002dbook.ja.html#Invoking-lilypond_002dbook">4.4 Invoking <code>lilypond-book</code></a>    </li>
    <li><a name="toc-Filename-extensions-1" href="Filename-extensions.ja.html#Filename-extensions">4.5 Filename extensions</a>    </li>
    <li><a name="toc-Alternative-methods-of-mixing-text-and-music" href="Alternate-methods-of-mixing-text-and-music.ja.html#Alternate-methods-of-mixing-text-and-music">4.6 Alternative methods of mixing text and music</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Converting-from-other-formats-1" href="Converting-from-other-formats.ja.html#Converting-from-other-formats">5. Converting from other formats</a>
  <ul class="toc">
    <li><a name="toc-Invoking-midi2ly-1" href="Invoking-midi2ly.ja.html#Invoking-midi2ly">5.1 Invoking <code>midi2ly</code></a>    </li>
    <li><a name="toc-Invoking-musicxml2ly-1" href="Invoking-musicxml2ly.ja.html#Invoking-musicxml2ly">5.2 Invoking <code>musicxml2ly</code></a>    </li>
    <li><a name="toc-Invoking-abc2ly-1" href="Invoking-abc2ly.ja.html#Invoking-abc2ly">5.3 Invoking <code>abc2ly</code></a>    </li>
    <li><a name="toc-Invoking-etf2ly-1" href="Invoking-etf2ly.ja.html#Invoking-etf2ly">5.4 Invoking <code>etf2ly</code></a>    </li>
    <li><a name="toc-Generating-LilyPond-files-1" href="Generating-LilyPond-files.ja.html#Generating-LilyPond-files">5.5 Generating LilyPond files</a>    </li>
  </ul>
  </li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="GNU-Free-Documentation-License.ja.html#GNU-Free-Documentation-License">A. GNU Free Documentation License</a>  </li>
  <li><a name="toc-LilyPond-index-1" href="LilyPond-index.ja.html#LilyPond-index">B. LilyPond index</a>  </li>
</ul>
</div>
</div>

</body>
</html>
