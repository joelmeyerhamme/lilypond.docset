<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2009 by the authors

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond Notation Reference: 5.1.2 Creating contexts</title>

<meta name="description" content="GNU LilyPond Notation Reference: 5.1.2 Creating contexts">
<meta name="keywords" content="GNU LilyPond Notation Reference: 5.1.2 Creating contexts">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.ja.html#index" rel="start" title="GNU LilyPond &mdash; Notation Reference">
<link href="LilyPond-command-index.ja.html#LilyPond-command-index" rel="index" title="F. LilyPond command index">
<link href="index_toc.ja.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.ja.html#SEC_About" rel="help" title="About This Document">
<link href="Interpretation-contexts.ja.html#Interpretation-contexts" rel="up" title="5.1 Interpretation contexts">
<link href="LilyPond-index.ja.html#LilyPond-index" rel="next" title="G. LilyPond index">
<link href="Contexts-explained.ja.html#Contexts-explained" rel="previous" title="5.1.1 Contexts explained">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Creating-contexts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.ja.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ja.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.ja.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.ja.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.ja.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.ja.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Contexts-explained.ja.html#Bottom_002dlevel-contexts-_002d-voices" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Bottom-level contexts - voices&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Interpretation-contexts.ja.html#Interpretation-contexts" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Interpretation contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Modifying-context-plug_002dins.ja.html#Modifying-context-plug_002dins" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Modifying context plug-ins &gt; </a>]</td></tr></table>
<a name="Creating-contexts"></a>
<h3 class="subsection">5.1.2 Creating contexts</h3>


<p>For scores with only one voice and one staff, contexts are
created automatically.  For more complex scores, it is necessary to
create them by hand.  There are three commands that do this.
</p>
<ul>
<li>
The easiest command is <code>\new</code>, and it also the quickest to type.
It is prepended to a music expression, for example

<a name="index-_005cnew"></a>
<a name="index-_005cnew-1"></a>
<a name="index-new-contexts"></a>
<a name="index-Context_002c-creating"></a>

<blockquote><pre class="example">\new <var>type</var> <var>music expression</var>
</pre></blockquote>

<p>where <var>type</var> is a context name (like <code>Staff</code> or
<code>Voice</code>).  This command creates a new context, and starts
interpreting the <var>music expression</var> with that.
</p>
<p>A practical application of <code>\new</code> is a score with many
staves.  Each part that should be on its own staff, is preceded with
<code>\new Staff</code>.
</p>
<blockquote><pre class="verbatim">&lt;&lt;
  \new Staff { c4 c }
  \new Staff { d4 d }
&gt;&gt;
</pre><p>
 <a href="../b0/lily-b5520797.ly">
  <img align="middle"
       border="0"
       src="../b0/lily-b5520797.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The <code>\new</code> command may also give a name to the context,
</p>
<blockquote><pre class="example">\new <var>type</var> = <var>id</var> <var>music</var>
</pre></blockquote>
<p>However, this user specified name is only used if there is no other
context already earlier with the same name.
</p>

<a name="index-_005ccontext"></a>
<a name="index-_005ccontext-1"></a>

</li><li>
Like <code>\new</code>, the <code>\context</code> command also directs a music
expression to a context object, but gives the context an explicit name.  The
syntax is

<blockquote><pre class="example">\context <var>type</var> = <var>id</var> <var>music</var>
</pre></blockquote>

<p>This form will search for an existing context of type <var>type</var>
called <var>id</var>.  If that context does not exist yet, a new
context with the specified name is created.  This is useful if
the context is referred to later on.  For example, when
setting lyrics the melody is in a named context
</p>
<blockquote><pre class="example">\context Voice = &quot;<b>tenor</b>&quot; <var>music</var>
</pre></blockquote>

<p>so the texts can be properly aligned to its notes,
</p>
<blockquote><pre class="example">\new Lyrics \lyricsto &quot;<b>tenor</b>&quot; <var>lyrics</var>
</pre></blockquote>


<p>Another possible use of named contexts is funneling two different
music expressions into one context.  In the following example,
articulations and notes are entered separately,
</p>
<blockquote><pre class="example">music = { c4 c4 }
arts = { s4-. s4-&gt; }
</pre></blockquote>

<p>They are combined by sending both to the same <code>Voice</code> context,
</p>
<blockquote><pre class="example">&lt;&lt;
  \new Staff \context Voice = &quot;A&quot; \music
  \context Voice = &quot;A&quot; \arts
&gt;&gt;
</pre></blockquote>
<blockquote><p>
 <a href="../1c/lily-13a4bd65.ly">
  <img align="middle"
       border="0"
       src="../1c/lily-13a4bd65.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>With this mechanism, it is possible to define an Urtext (original
edition), with the option to put several distinct articulations on the
same notes.
</p>
<a name="index-creating-contexts"></a>

</li><li>
The third command for creating contexts is
<blockquote><pre class="example">\context <var>type</var> <var>music</var>
</pre></blockquote>


<p>This is similar to <code>\context</code> with <code>= <var>id</var></code>, but matches
any context of type <var>type</var>, regardless of its given name.
</p>
<p>This variant is used with music expressions that can be interpreted at
several levels.  For example, the <code>\applyOutput</code> command (see
<a href="Running-a-function-on-all-layout-objects.ja.html#Running-a-function-on-all-layout-objects">Running a function on all layout objects</a>).  Without an explicit
<code>\context</code>, it is usually applied to <code>Voice</code>
</p>
<blockquote><pre class="example">\applyOutput #'<var>context</var> #<var>function</var>   % apply to Voice
</pre></blockquote>

<p>To have it interpreted at the <code>Score</code> or <code>Staff</code> level use
these forms
</p>
<blockquote><pre class="example">\applyOutput #'Score #<var>function</var>
\applyOutput #'Staff #<var>function</var>
</pre></blockquote>

</li></ul>


<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.ja.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ja.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.ja.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.ja.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.ja.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.ja.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Contexts-explained.ja.html#Bottom_002dlevel-contexts-_002d-voices" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Bottom-level contexts - voices&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Interpretation-contexts.ja.html#Interpretation-contexts" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Interpretation contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Modifying-context-plug_002dins.ja.html#Modifying-context-plug_002dins" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Modifying context plug-ins &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
このページは LilyPond-2.12.3 (安定版) を対象としています。
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
 他の言語: <a href="Creating-contexts.es.html">español</a>
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.ja.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.ja.html#index" title="Start of the manual">Notation Reference</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Musical-notation-1" href="Musical-notation.ja.html#Musical-notation">1. Musical notation</a>
  <ul class="toc">
    <li><a name="toc-Pitches-1" href="Pitches.ja.html#Pitches">1.1 Pitches</a>    </li>
    <li><a name="toc-Rhythms-1" href="Rhythms.ja.html#Rhythms">1.2 Rhythms</a>    </li>
    <li><a name="toc-Expressive-marks-1" href="Expressive-marks.ja.html#Expressive-marks">1.3 Expressive marks</a>    </li>
    <li><a name="toc-Repeats-1" href="Repeats.ja.html#Repeats">1.4 Repeats</a>    </li>
    <li><a name="toc-Simultaneous-notes-1" href="Simultaneous-notes.ja.html#Simultaneous-notes">1.5 Simultaneous notes</a>    </li>
    <li><a name="toc-Staff-notation-1" href="Staff-notation.ja.html#Staff-notation">1.6 Staff notation</a>    </li>
    <li><a name="toc-Editorial-annotations-1" href="Editorial-annotations.ja.html#Editorial-annotations">1.7 Editorial annotations</a>    </li>
    <li><a name="toc-Text-1" href="Text.ja.html#Text">1.8 Text</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Specialist-notation-1" href="Specialist-notation.ja.html#Specialist-notation">2. Specialist notation</a>
  <ul class="toc">
    <li><a name="toc-Vocal-music-1" href="Vocal-music.ja.html#Vocal-music">2.1 Vocal music</a>    </li>
    <li><a name="toc-Keyboard-and-other-multi_002dstaff-instruments-1" href="Keyboard-and-other-multi_002dstaff-instruments.ja.html#Keyboard-and-other-multi_002dstaff-instruments">2.2 Keyboard and other multi-staff instruments</a>    </li>
    <li><a name="toc-Unfretted-string-instruments-1" href="Unfretted-string-instruments.ja.html#Unfretted-string-instruments">2.3 Unfretted string instruments</a>    </li>
    <li><a name="toc-Fretted-string-instruments-1" href="Fretted-string-instruments.ja.html#Fretted-string-instruments">2.4 Fretted string instruments</a>    </li>
    <li><a name="toc-Percussion-1" href="Percussion.ja.html#Percussion">2.5 Percussion</a>    </li>
    <li><a name="toc-Wind-instruments-1" href="Wind-instruments.ja.html#Wind-instruments">2.6 Wind instruments</a>    </li>
    <li><a name="toc-Chord-notation-1" href="Chord-notation.ja.html#Chord-notation">2.7 Chord notation</a>    </li>
    <li><a name="toc-Ancient-notation-1" href="Ancient-notation.ja.html#Ancient-notation">2.8 Ancient notation</a>    </li>
    <li><a name="toc-World-music-1" href="World-music.ja.html#World-music">2.9 World music</a>    </li>
  </ul>
  </li>
  <li><a name="toc-General-input-and-output-1" href="General-input-and-output.ja.html#General-input-and-output">3. General input and output</a>
  <ul class="toc">
    <li><a name="toc-Input-structure-1" href="Input-structure.ja.html#Input-structure">3.1 Input structure</a>    </li>
    <li><a name="toc-Titles-and-headers-1" href="Titles-and-headers.ja.html#Titles-and-headers">3.2 Titles and headers</a>    </li>
    <li><a name="toc-Working-with-input-files-1" href="Working-with-input-files.ja.html#Working-with-input-files">3.3 Working with input files</a>    </li>
    <li><a name="toc-Controlling-output-1" href="Controlling-output.ja.html#Controlling-output">3.4 Controlling output</a>    </li>
    <li><a name="toc-MIDI-output-1" href="MIDI-output.ja.html#MIDI-output">3.5 MIDI output</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Spacing-issues-1" href="Spacing-issues.ja.html#Spacing-issues">4. Spacing issues</a>
  <ul class="toc">
    <li><a name="toc-Paper-and-pages-1" href="Paper-and-pages.ja.html#Paper-and-pages">4.1 Paper and pages</a>    </li>
    <li><a name="toc-Music-layout-1" href="Music-layout.ja.html#Music-layout">4.2 Music layout</a>    </li>
    <li><a name="toc-Breaks-1" href="Breaks.ja.html#Breaks">4.3 Breaks</a>    </li>
    <li><a name="toc-Vertical-spacing-1" href="Vertical-spacing.ja.html#Vertical-spacing">4.4 Vertical spacing</a>    </li>
    <li><a name="toc-Horizontal-spacing-1" href="Horizontal-spacing.ja.html#Horizontal-spacing">4.5 Horizontal spacing</a>    </li>
    <li><a name="toc-Fitting-music-onto-fewer-pages-1" href="Fitting-music-onto-fewer-pages.ja.html#Fitting-music-onto-fewer-pages">4.6 Fitting music onto fewer pages</a>    </li>
  </ul>
  </li>
  <li class="toc_current"><a name="toc-Changing-defaults-1" href="Changing-defaults.ja.html#Changing-defaults">5. Changing defaults</a>
  <ul class="toc">
    <li class="toc_current"><a name="toc-Interpretation-contexts-1" href="Interpretation-contexts.ja.html#Interpretation-contexts">5.1 Interpretation contexts</a>
    <ul class="toc">
      <li><a name="toc-Contexts-explained-1" href="Contexts-explained.ja.html#Contexts-explained">5.1.1 Contexts explained</a>      </li>
      <li class="toc_current"><a name="toc-Creating-contexts-1" href="Creating-contexts.ja.html#Creating-contexts">5.1.2 Creating contexts</a>      </li>
      <li><a name="toc-Modifying-context-plug_002dins-1" href="Modifying-context-plug_002dins.ja.html#Modifying-context-plug_002dins">5.1.3 Modifying context plug-ins</a>      </li>
      <li><a name="toc-Changing-context-default-settings-1" href="Changing-context-default-settings.ja.html#Changing-context-default-settings">5.1.4 Changing context default settings</a>      </li>
      <li><a name="toc-Defining-new-contexts-1" href="Defining-new-contexts.ja.html#Defining-new-contexts">5.1.5 Defining new contexts</a>      </li>
      <li><a name="toc-Aligning-contexts-1" href="Aligning-contexts.ja.html#Aligning-contexts">5.1.6 Aligning contexts</a>      </li>
    </ul>
    </li>
    <li><a name="toc-Explaining-the-Internals-Reference-1" href="Explaining-the-Internals-Reference.ja.html#Explaining-the-Internals-Reference">5.2 Explaining the Internals Reference</a>    </li>
    <li><a name="toc-Modifying-properties-1" href="Modifying-properties.ja.html#Modifying-properties">5.3 Modifying properties</a>    </li>
    <li><a name="toc-Useful-concepts-and-properties-1" href="Useful-concepts-and-properties.ja.html#Useful-concepts-and-properties">5.4 Useful concepts and properties</a>    </li>
    <li><a name="toc-Advanced-tweaks-1" href="Advanced-tweaks.ja.html#Advanced-tweaks">5.5 Advanced tweaks</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Interfaces-for-programmers-1" href="Interfaces-for-programmers.ja.html#Interfaces-for-programmers">6. Interfaces for programmers</a>
  <ul class="toc">
    <li><a name="toc-Music-functions-1" href="Music-functions.ja.html#Music-functions">6.1 Music functions</a>    </li>
    <li><a name="toc-Programmer-interfaces-1" href="Programmer-interfaces.ja.html#Programmer-interfaces">6.2 Programmer interfaces</a>    </li>
    <li><a name="toc-Building-complicated-functions-1" href="Building-complicated-functions.ja.html#Building-complicated-functions">6.3 Building complicated functions</a>    </li>
    <li><a name="toc-Markup-programmer-interface-1" href="Markup-programmer-interface.ja.html#Markup-programmer-interface">6.4 Markup programmer interface</a>    </li>
    <li><a name="toc-Contexts-for-programmers-1" href="Contexts-for-programmers.ja.html#Contexts-for-programmers">6.5 Contexts for programmers</a>    </li>
    <li><a name="toc-Scheme-procedures-as-properties-1" href="Scheme-procedures-as-properties.ja.html#Scheme-procedures-as-properties">6.6 Scheme procedures as properties</a>    </li>
    <li><a name="toc-Using-Scheme-code-instead-of-_005ctweak-1" href="Using-Scheme-code-instead-of-_005ctweak.ja.html#Using-Scheme-code-instead-of-_005ctweak">6.7 Using Scheme code instead of <code>\tweak</code></a>    </li>
    <li><a name="toc-Difficult-tweaks-1" href="Difficult-tweaks.ja.html#Difficult-tweaks">6.8 Difficult tweaks</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Literature-list-1" href="Literature-list.ja.html#Literature-list">A. Literature list</a>  </li>
  <li><a name="toc-Notation-manual-tables-1" href="Notation-manual-tables.ja.html#Notation-manual-tables">B. Notation manual tables</a>
  <ul class="toc">
    <li><a name="toc-Chord-name-chart-1" href="Chord-name-chart.ja.html#Chord-name-chart">B.1 Chord name chart</a>    </li>
    <li><a name="toc-Common-chord-modifiers-1" href="Common-chord-modifiers.ja.html#Common-chord-modifiers">B.2 Common chord modifiers</a>    </li>
    <li><a name="toc-Predefined-fretboard-diagrams-1" href="Predefined-fretboard-diagrams.ja.html#Predefined-fretboard-diagrams">B.3 Predefined fretboard diagrams</a>    </li>
    <li><a name="toc-MIDI-instruments-1" href="MIDI-instruments.ja.html#MIDI-instruments">B.4 MIDI instruments</a>    </li>
    <li><a name="toc-List-of-colors-1" href="List-of-colors.ja.html#List-of-colors">B.5 List of colors</a>    </li>
    <li><a name="toc-The-Feta-font-1" href="The-Feta-font.ja.html#The-Feta-font">B.6 The Feta font</a>    </li>
    <li><a name="toc-Note-head-styles-1" href="Note-head-styles.ja.html#Note-head-styles">B.7 Note head styles</a>    </li>
    <li><a name="toc-Text-markup-commands-1" href="Text-markup-commands.ja.html#Text-markup-commands">B.8 Text markup commands</a>    </li>
    <li><a name="toc-Text-markup-list-commands-1" href="Text-markup-list-commands.ja.html#Text-markup-list-commands">B.9 Text markup list commands</a>    </li>
    <li><a name="toc-List-of-articulations-1" href="List-of-articulations.ja.html#List-of-articulations">B.10 List of articulations</a>    </li>
    <li><a name="toc-Percussion-notes-1" href="Percussion-notes.ja.html#Percussion-notes">B.11 Percussion notes</a>    </li>
    <li><a name="toc-All-context-properties-1" href="All-context-properties.ja.html#All-context-properties">B.12 All context properties</a>    </li>
    <li><a name="toc-Layout-properties-1" href="Layout-properties.ja.html#Layout-properties">B.13 Layout properties</a>    </li>
    <li><a name="toc-Identifiers-1" href="Identifiers.ja.html#Identifiers">B.14 Identifiers</a>    </li>
    <li><a name="toc-Scheme-functions-1" href="Scheme-functions.ja.html#Scheme-functions">B.15 Scheme functions</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Cheat-sheet-1" href="Cheat-sheet.ja.html#Cheat-sheet">C. Cheat sheet</a>  </li>
  <li><a name="toc-LilyPond-grammar-1" href="LilyPond-grammar.ja.html#LilyPond-grammar">D. LilyPond grammar</a>  </li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="GNU-Free-Documentation-License.ja.html#GNU-Free-Documentation-License">E. GNU Free Documentation License</a>  </li>
  <li><a name="toc-LilyPond-command-index-1" href="LilyPond-command-index.ja.html#LilyPond-command-index">F. LilyPond command index</a>  </li>
  <li><a name="toc-LilyPond-index-1" href="LilyPond-index.ja.html#LilyPond-index">G. LilyPond index</a>  </li>
</ul>
</div>
</div>

</body>
</html>
