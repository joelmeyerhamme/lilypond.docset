<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2009 by the authors

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond Notation Reference: 1.2.5 Bars</title>

<meta name="description" content="GNU LilyPond Notation Reference: 1.2.5 Bars">
<meta name="keywords" content="GNU LilyPond Notation Reference: 1.2.5 Bars">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#index" rel="start" title="GNU LilyPond &mdash; Notation Reference">
<link href="LilyPond-command-index.html#LilyPond-command-index" rel="index" title="F. LilyPond command index">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="Rhythms.html#Rhythms" rel="up" title="1.2 Rhythms">
<link href="LilyPond-index.html#LilyPond-index" rel="next" title="G. LilyPond index">
<link href="Beams.html#Beams" rel="previous" title="1.2.4 Beams">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Bars"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Musical-notation.html#Musical-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Specialist-notation.html#Specialist-notation" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Beams.html#Feathered-beams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Feathered beams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Rhythms.html#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Bar-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Bar lines &gt; </a>]</td></tr></table>
<a name="Bars"></a>
<h3 class="subsection">1.2.5 Bars</h3>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Bar-lines" accesskey="1">Bar lines</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Bar-numbers" accesskey="2">Bar numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Bar-and-bar-number-checks" accesskey="3">Bar and bar number checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Rehearsal-marks" accesskey="4">Rehearsal marks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Bar-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Musical-notation.html#Musical-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Specialist-notation.html#Specialist-notation" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Bars" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Bars&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Bars" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Bars&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Bar-numbers" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Bar numbers &gt; </a>]</td></tr></table>
<a name="Bar-lines"></a>
<h4 class="unnumberedsubsubsec">Bar lines</h4>

<a name="index-bar-lines"></a>
<a name="index-measure-lines"></a>
<a name="index-repeat-bars"></a>

<a name="index-_005cbar"></a>
<a name="index-_005cbar-1"></a>
<a name="index-bar"></a>
<a name="index-bar-1"></a>

<p>Bar lines delimit measures, and are also used to indicate
repeats.  Normally, simple bar lines are automatically inserted
into the printed output at places based on the current time
signature.
</p>
<p>The simple bar lines inserted automatically can be changed to
other types with the <code>\bar</code> command.  For example, a closing
double bar line is usually placed at the end of a piece:
</p>
<blockquote><pre class="verbatim">e4 d c2 \bar &quot;|.&quot;
</pre><p>
 <a href="../ea/lily-53d61ae2.ly">
  <img align="middle"
       border="0"
       src="../ea/lily-53d61ae2.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>It is not invalid if the final note in a measure does not
end on the automatically entered bar line: the note is assumed
to carry over into the next measure.  But if a long sequence
of such carry-over measures appears the music can appear compressed
or even flowing off the page.  This is because automatic line
breaks happen only at the end of complete measures, i.e., where
all notes end before the end of a measure.
</p>
<table class="cartouche" border="1"><tr><td>
<p><b>Note:</b> An incorrect duration can cause line breaks to be
inhibited, leading to a line of highly compressed music or
music which flows off the page.
</p></td></tr></table>

<a name="index-line-breaks"></a>
<a name="index-bar-lines_002c-invisible"></a>
<a name="index-measure-lines_002c-invisible"></a>

<p>Line breaks are also permitted at manually inserted bar lines
even within incomplete measures.  To allow a line break without
printing a bar line, use
</p>
<blockquote><pre class="example">\bar &quot;&quot;
</pre></blockquote>

<p>This will insert an invisible bar line and allow (but not
force) a line break to occur at this point.  The bar number
counter is not increased.  To force a line break see
<a href="Line-breaking.html#Line-breaking">Line breaking</a>.
</p>
<a name="index-manual-bar-lines"></a>
<a name="index-manual-measure-lines"></a>
<a name="index-bar-lines_002c-manual"></a>
<a name="index-measure-lines_002c-manual"></a>

<p>This and other special bar lines may be inserted manually at any
point.  When they coincide with the end of a measure they replace the
simple bar line which would have been inserted there automatically.
When they do not coincide with the end of a measure the specified bar
line is inserted at that point in the printed output.  Such insertions
do not affect the calculation and placement of subsequent automatic
bar lines.
</p>
<p>The simple bar line and five types of double bar line are available
for manual insertion:
</p>
<blockquote><pre class="verbatim">f1 \bar &quot;|&quot; g \bar &quot;||&quot; a \bar &quot;.|&quot; b \bar &quot;.|.&quot; c \bar &quot;|.|&quot; d \bar &quot;|.&quot; e
</pre><p>
 <a href="../4d/lily-4683fbab.ly">
  <img align="middle"
       border="0"
       src="../4d/lily-4683fbab.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>together with dotted and dashed bar lines:
</p>
<blockquote><pre class="verbatim">f1 \bar &quot;:&quot; g \bar &quot;dashed&quot; a
</pre><p>
 <a href="../fc/lily-5eb082c3.ly">
  <img align="middle"
       border="0"
       src="../fc/lily-5eb082c3.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>and five types of repeat bar line:
</p>
<blockquote><pre class="verbatim">f1 \bar &quot;|:&quot; g \bar &quot;:|:&quot; a \bar &quot;:|.|:&quot; b \bar &quot;:|.:&quot; c \bar &quot;:|&quot; d
</pre><p>
 <a href="../19/lily-6762f235.ly">
  <img align="middle"
       border="0"
       src="../19/lily-6762f235.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="index-repeats"></a>

<p>Although the bar line types signifying repeats may be inserted
manually they do not in themselves cause LilyPond to recognize
a repeated section.  Such repeated sections are better entered
using the various repeat commands (see <a href="Repeats.html#Repeats">Repeats</a>), which
automatically print the appropriate bar lines.
</p>
<p>In addition, you can specify <code>&quot;||:&quot;</code>, which is equivalent to
<code>&quot;|:&quot;</code> except at line breaks, where it gives a double bar
line at the end of the line and a start repeat at the beginning of
the next line.
</p>
<blockquote><pre class="verbatim">\override Score.RehearsalMark #'padding = #3
c c c c
\bar &quot;||:&quot;
c c c c \break
\bar &quot;||:&quot;
c c c c
</pre><p>
 <a href="../e3/lily-c57e5e88.ly">
  <img align="middle"
       border="0"
       src="../e3/lily-c57e5e88.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>In scores with many staves, a <code>\bar</code> command in one staff is
automatically applied to all staves.  The resulting bar lines are
connected between different staves of a <code>StaffGroup</code>,
<code>PianoStaff</code>, or <code>GrandStaff</code>.
</p>
<blockquote><pre class="verbatim">&lt;&lt;
  \new StaffGroup &lt;&lt;
    \new Staff {
      e'4 d'
      \bar &quot;||&quot;
      f' e'
    }
    \new Staff { \clef bass c4 g e g }
  &gt;&gt;
  \new Staff { \clef bass c2 c2 }
&gt;&gt;
</pre><p>
 <a href="../dd/lily-a618c4d8.ly">
  <img align="middle"
       border="0"
       src="../dd/lily-a618c4d8.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<a name="Selected-Snippets-47"></a>
<h4 class="subsubheading">Selected Snippets</h4>

<a name="index-whichBar"></a>
<a name="index-whichBar-1"></a>
<a name="index-defaultBarType"></a>
<a name="index-defaultBarType-1"></a>
<a name="index-_005cbar-2"></a>
<a name="index-_005cbar-3"></a>
<a name="index-bar-2"></a>
<a name="index-bar-3"></a>
<a name="index-bartype"></a>
<a name="index-bartype-1"></a>

<p>The command <code>\bar </code><var>bartype</var> is a shortcut for
<code>\set Timing.whichBar = </code><var>bartype</var>.  A bar line is
created whenever the <code>whichBar</code> property is
set.
</p>
<p>The default bar type used for automatically inserted bar lines is
<code>&quot;|&quot;</code>.  This may be changed at any time
with <code>\set Timing.defaultBarType = </code><var>bartype</var>.
</p>

<a name="See-also-81"></a>
<h4 class="subsubheading">See also</h4>
<p>Notation Reference:
<a href="Line-breaking.html#Line-breaking">Line breaking</a>,
<a href="Repeats.html#Repeats">Repeats</a>,
<a href="Displaying-staves.html#Grouping-staves">Grouping staves</a>.
</p>
<p>Snippets:
<a href="../../../input/lsr/lilypond-snippets/Rhythms.html#Rhythms">Rhythms</a>.
</p>
<p>Internals Reference: <a name="index-BarLine"></a>
<a href="../lilypond-internals/BarLine.html#BarLine">BarLine</a> (created at
<a name="index-Staff-3"></a>
<a href="../lilypond-internals/Staff.html#Staff">Staff</a> level), <a name="index-SpanBar"></a>
<a href="../lilypond-internals/SpanBar.html#SpanBar">SpanBar</a> (across
staves), <a name="index-Timing_005ftranslator-3"></a>
<a href="../lilypond-internals/Timing_005ftranslator.html#Timing_005ftranslator">Timing_translator</a> (for Timing
properties).
</p>

<hr size="6">
<a name="Bar-numbers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Musical-notation.html#Musical-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Specialist-notation.html#Specialist-notation" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Bar-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Bar lines&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Bars" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Bars&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Bar-and-bar-number-checks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Bar and bar number checks &gt; </a>]</td></tr></table>
<a name="Bar-numbers"></a>
<h4 class="unnumberedsubsubsec">Bar numbers</h4>

<a name="index-bar-numbers"></a>
<a name="index-measure-numbers"></a>
<a name="index-numbers_002c-bar"></a>
<a name="index-numbers_002c-measure"></a>

<a name="index-currentBarNumber"></a>
<a name="index-currentBarNumber-1"></a>

<p>Bar numbers are typeset by default at the start of every line except
the first line.  The number itself is stored in the
<code>currentBarNumber</code> property, which is normally updated
automatically for every measure.  It may also be set manually:
</p>
<blockquote><pre class="verbatim">c1 c c c
\break
\set Score.currentBarNumber = #50
c1 c c c
</pre><p>
 <a href="../7b/lily-f4b46164.ly">
  <img align="middle"
       border="0"
       src="../7b/lily-f4b46164.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<a name="Selected-Snippets-3"></a>
<h4 class="subsubheading">Selected Snippets</h4>

<a name="index-bar-numbers_002c-regular-spacing"></a>

<a name="index-barNumberVisibility"></a>
<a name="index-barNumberVisibility-1"></a>


<p>Bar numbers can be typeset at regular intervals instead of just at
the beginning of every line.  To do this the default behavior
must be overridden to permit bar numbers to be printed at places
other than the start of a line.  This is controlled by the
<code>break-visibility</code> property of <code>BarNumber</code>.  This takes
three values which may be set to <code>#t</code> or <code>#f</code> to specify
whether the corresponding bar number is visible or not.  The order
of the three values is <code>end of line visible</code>, <code>middle of
line visible</code>, <code>beginning of line visible</code>.  In the following
example bar numbers are printed at all possible places:
</p>
<blockquote><pre class="verbatim">\override Score.BarNumber #'break-visibility = #'#(#t #t #t)
\set Score.currentBarNumber = #11
\bar &quot;&quot;  % Permit first bar number to be printed
c1 c c c
\break
c c c c
</pre><p>
 <a href="../bb/lily-23af41d2.ly">
  <img align="middle"
       border="0"
       src="../bb/lily-23af41d2.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<p>and here the bar numbers are printed every two measures
except at the end of the line:
</p>
<blockquote><pre class="verbatim">\override Score.BarNumber #'break-visibility = #'#(#f #t #t)
\set Score.currentBarNumber = #11
\bar &quot;&quot;  % Permit first bar number to be printed
% Print a bar number every second measure
\set Score.barNumberVisibility = #(every-nth-bar-number-visible 2)
c1 c c c c
\break
c c c c c
</pre><p>
 <a href="../ba/lily-c28c2811.ly">
  <img align="middle"
       border="0"
       src="../ba/lily-c28c2811.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="index-measure-number_002c-format"></a>
<a name="index-bar-number_002c-format"></a>

<p>The size of the bar number may be changed.  This is illustrated
in the following example, which also shows how to enclose bar
numbers in boxes and circles, and shows an alternative way
of specifying <code>#(#f #t #t)</code> for <code>break-visibility</code>.
</p>
<blockquote><pre class="verbatim">% Prevent bar numbers at the end of a line and permit them elsewhere
\override Score.BarNumber #'break-visibility
  = #end-of-line-invisible

% Increase the size of the bar number by 2
\override Score.BarNumber #'font-size = #2
\repeat unfold 3 { c1 } \bar &quot;|&quot;

% Draw a box round the following bar number(s)
\override Score.BarNumber  #'stencil
  = #(make-stencil-boxer 0.1 0.25 ly:text-interface::print)
\repeat unfold 3 { c1 } \bar &quot;|&quot;

% Draw a circle round the following bar number(s)
\override Score.BarNumber  #'stencil
  = #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
\repeat unfold 4 { c1 } \bar &quot;|.&quot;
</pre><p>
 <a href="../f9/lily-c072a74d.ly">
  <img align="middle"
       border="0"
       src="../f9/lily-c072a74d.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="index-bar-number-alignment"></a>

<p>Bar numbers by default are left-aligned to their parent object.
This is usually the left edge of a line or, if numbers are printed
within a line, the left bar line of the measure.  The numbers may also
be positioned directly on the bar line or right-aligned to the
bar line:
</p>
<blockquote><pre class="verbatim">\set Score.currentBarNumber = #111
\override Score.BarNumber #'break-visibility = #'#(#t #t #t)
% Increase the size of the bar number by 2
\override Score.BarNumber #'font-size = #2
% Print a bar number every second measure
\set Score.barNumberVisibility = #(every-nth-bar-number-visible 2)
c1 c1
% Center-align bar numbers
\override Score.BarNumber #'self-alignment-X = #0
c1 c1
% Right-align bar numbers
\override Score.BarNumber #'self-alignment-X = #-1
c1 c1
</pre><p>
 <a href="../be/lily-5cd92686.ly">
  <img align="middle"
       border="0"
       src="../be/lily-5cd92686.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Bar numbers can be removed entirely by removing the
<code>Bar_number_engraver</code> from the <code>Score</code> context.
</p>
<blockquote><pre class="verbatim">\layout {
  \context {
    \Score
    \remove &quot;Bar_number_engraver&quot;
  }
}
\relative c''{
  c4 c c c \break
  c4 c c c
}
</pre><p>
 <a href="../8f/lily-4d939e4e.ly">
  <img align="middle"
       border="0"
       src="../8f/lily-4d939e4e.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<a name="See-also-198"></a>
<h4 class="subsubheading">See also</h4>
<p>Snippets:
<a href="../../../input/lsr/lilypond-snippets/Rhythms.html#Rhythms">Rhythms</a>.
</p>
<p>Internals Reference: <a name="index-BarNumber"></a>
<a href="../lilypond-internals/BarNumber.html#BarNumber">BarNumber</a>.
</p>

<a name="index-bar-number-collision"></a>
<a name="index-collision_002c-bar-number"></a>

<a name="Known-issues-and-warnings-39"></a>
<h4 class="subsubheading">Known issues and warnings</h4>

<p>Bar numbers may collide with the top of the
<a name="index-StaffGroup"></a>
<a href="../lilypond-internals/StaffGroup.html#StaffGroup">StaffGroup</a> bracket, if there is one.  To solve
this, the <code>padding</code> property of <a name="index-BarNumber-1"></a>
<a href="../lilypond-internals/BarNumber.html#BarNumber">BarNumber</a> can
be used to position the number correctly.
</p>


<hr size="6">
<a name="Bar-and-bar-number-checks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Musical-notation.html#Musical-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Specialist-notation.html#Specialist-notation" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Bar-numbers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Bar numbers&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Bars" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Bars&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Rehearsal-marks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Rehearsal marks &gt; </a>]</td></tr></table>
<a name="Bar-and-bar-number-checks"></a>
<h4 class="unnumberedsubsubsec">Bar and bar number checks</h4>

<a name="index-bar-check"></a>
<a name="index-bar-number-check"></a>
<a name="index-measure-check"></a>
<a name="index-measure-number-check"></a>

<a name="index-barCheckSynchronize"></a>
<a name="index-barCheckSynchronize-1"></a>
<a name="index-_007c"></a>
<a name="index-_007c-1"></a>

<p>Bar checks help detect errors in the entered durations.  A bar check
may be entered using the bar symbol, <code>|</code>, at any place where a
bar line is expected to fall.  If bar check lines are encountered at
other places, a list of warnings is printed in the log file, showing
the line numbers and lines in which the bar checks failed.  In the
next example, the second bar check will signal an error.
</p>
<blockquote><pre class="example">\time 3/4 c2 e4 | g2 |
</pre></blockquote>

<p>Bar checks can also be used in lyrics, for example
</p>
<blockquote><pre class="example">\lyricmode {
  \time 2/4
  Twin -- kle | Twin -- kle |
}
</pre></blockquote>

<p>An incorrect duration can result in a completely garbled score,
especially if the score is polyphonic, so a good place to start
correcting input is by scanning for failed bar checks and
incorrect durations.
</p>
<p>If successive bar checks are off by the same musical interval,
only the first warning message is displayed.  This allows the
warning to focus on the source of the timing error.
</p>

<a name="index-_007c-2"></a>
<a name="index-_007c-3"></a>
<a name="index-pipeSymbol"></a>
<a name="index-pipeSymbol-1"></a>

<p>It is also possible to redefine the action taken when a bar check
or pipe symbol, <code>|</code>, is encountered in the input, so that
it does something other than a bar check.  This is done by
assigning a music expression to <code>pipeSymbol</code>.
In the following example <code>|</code> is set to insert a double bar
line wherever it appears in the input, rather than checking
for end of bar.
</p>
<blockquote><pre class="verbatim">pipeSymbol = \bar &quot;||&quot;
{
  c'2 c'2 |
  c'2 c'2
  c'2 | c'2
  c'2 c'2
}
</pre><p>
 <a href="../f9/lily-b06ef9d8.ly">
  <img align="middle"
       border="0"
       src="../f9/lily-b06ef9d8.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="index-_005cbarNumberCheck"></a>
<a name="index-_005cbarNumberCheck-1"></a>
<a name="index-barNumberCheck"></a>
<a name="index-barNumberCheck-1"></a>

<p>When copying large pieces of music, it can be helpful to check
that the LilyPond bar number corresponds to the original that you
are entering from.  This can be checked with
<code>\barNumberCheck</code>, for example,
</p>
<pre class="verbatim">\barNumberCheck #123
</pre>
<p>will print a warning if the <code>currentBarNumber</code> is not 123
when it is processed.
</p>

<a name="See-also-66"></a>
<h4 class="subsubheading">See also</h4>
<p>Snippets:
<a href="../../../input/lsr/lilypond-snippets/Rhythms.html#Rhythms">Rhythms</a>.
</p>

<hr size="6">
<a name="Rehearsal-marks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Musical-notation.html#Musical-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Specialist-notation.html#Specialist-notation" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Bar-and-bar-number-checks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Bar and bar number checks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Bars" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Bars&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Special-rhythmic-concerns.html#Special-rhythmic-concerns" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Special rhythmic concerns &gt; </a>]</td></tr></table>
<a name="Rehearsal-marks"></a>
<h4 class="unnumberedsubsubsec">Rehearsal marks</h4>

<a name="index-rehearsal-marks"></a>
<a name="index-mark_002c-rehearsal"></a>

<a name="index-_005cmark"></a>
<a name="index-_005cmark-1"></a>
<a name="index-mark"></a>
<a name="index-mark-1"></a>

<p>To print a rehearsal mark, use the <code>\mark</code> command
</p>
<blockquote><pre class="verbatim">c1 \mark \default
c1 \mark \default
c1 \mark #8
c1 \mark \default
c1 \mark \default
</pre><p>
 <a href="../8c/lily-99a01870.ly">
  <img align="middle"
       border="0"
       src="../8c/lily-99a01870.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The letter&nbsp;&lsquo;I&rsquo; is skipped in accordance with engraving
traditions.  If you wish to include the letter &lsquo;I&rsquo;, then use
</p>
<blockquote><pre class="example">\set Score.markFormatter = #format-mark-alphabet
</pre></blockquote>

<p>The mark is incremented automatically if you use <code>\mark
\default</code>, but you can also use an integer argument to set the
mark manually.  The value to use is stored in the property
<code>rehearsalMark</code>.
</p>
<a name="index-rehearsal-mark-format"></a>
<a name="index-rehearsal-mark-style"></a>
<a name="index-style_002c-rehearsal-mark"></a>
<a name="index-format_002c-rehearsal-mark"></a>
<a name="index-mark_002c-rehearsal_002c-style"></a>
<a name="index-mark_002c-rehearsal_002c-format"></a>
<a name="index-rehearsal-mark_002c-manual"></a>
<a name="index-mark_002c-rehearsal_002c-manual"></a>
<a name="index-custom-rehearsal-mark"></a>

<p>The style is defined by the property <code>markFormatter</code>.  It is
a function taking the current mark (an integer) and the current
context as argument.  It should return a markup object.  In the
following example, <code>markFormatter</code> is set to a pre-defined
procedure.  After a few measures, it is set to a procedure that
produces a boxed number.
</p>
<blockquote><pre class="verbatim">\set Score.markFormatter = #format-mark-numbers
c1 \mark \default
c1 \mark \default
\set Score.markFormatter = #format-mark-box-numbers
c1 \mark \default
\set Score.markFormatter = #format-mark-circle-numbers
c1 \mark \default
\set Score.markFormatter = #format-mark-circle-letters
c1
</pre><p>
 <a href="../65/lily-8f4211b3.ly">
  <img align="middle"
       border="0"
       src="../65/lily-8f4211b3.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The file &lsquo;<tt>scm/translation-functions.scm</tt>&rsquo; contains the
definitions of <code>format-mark-numbers</code> (the default format),
<code>format-mark-box-numbers</code>, <code>format-mark-letters</code> and
<code>format-mark-box-letters</code>.  These can be used as inspiration
for other formatting functions.
</p>
<p>You may use <code>format-mark-barnumbers</code>,
<code>format-mark-box-barnumbers</code>, and
<code>format-mark-circle-barnumbers</code> to get bar numbers instead of
incremented numbers or letters.
</p>
<p>Other styles of rehearsal mark can be specified manually
</p>
<blockquote><pre class="example">\mark &quot;A1&quot;
</pre></blockquote>

<p><code>Score.markFormatter</code> does not affect marks specified in this
manner.  However, it is possible to apply a <code>\markup</code> to the
string.
</p>
<blockquote><pre class="example">\mark \markup{ \box A1 }
</pre></blockquote>

<a name="index-segno"></a>
<a name="index-coda"></a>
<a name="index-D_002eS-al-Fine"></a>
<a name="index-fermata"></a>
<a name="index-music-glyphs"></a>
<a name="index-glyphs_002c-music"></a>

<a name="index-_005cmusicglyph"></a>
<a name="index-_005cmusicglyph-1"></a>
<a name="index-musicglyph"></a>
<a name="index-musicglyph-1"></a>

<p>Music glyphs (such as the segno sign) may be printed inside a
<code>\mark</code>
</p>
<blockquote><pre class="verbatim">c1 \mark \markup { \musicglyph #&quot;scripts.segno&quot; }
c1 \mark \markup { \musicglyph #&quot;scripts.coda&quot; }
c1 \mark \markup { \musicglyph #&quot;scripts.ufermata&quot; }
c1
</pre><p>
 <a href="../f1/lily-016b7fed.ly">
  <img align="middle"
       border="0"
       src="../f1/lily-016b7fed.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>See <a href="The-Feta-font.html#The-Feta-font">The Feta font</a>, for a list of symbols which may be
printed with <code>\musicglyph</code>.
</p>
<p>For common tweaks to the positioning of rehearsal marks, see
<a href="Formatting-text.html#Formatting-text">Formatting text</a>.
</p>

<a name="See-also-183"></a>
<h4 class="subsubheading">See also</h4>
<p>Notation Reference:
<a href="The-Feta-font.html#The-Feta-font">The Feta font</a>,
<a href="Formatting-text.html#Formatting-text">Formatting text</a>.
</p>
<p>Installed Files:
&lsquo;<tt>scm/translation-functions.scm</tt>&rsquo; contains
the definition of <code>format-mark-numbers</code> and
<code>format-mark-letters</code>.  They can be used as inspiration for
other formatting functions.
</p>
<p>Snippets:
<a href="../../../input/lsr/lilypond-snippets/Rhythms.html#Rhythms">Rhythms</a>.
</p>
<p>Internals Reference: <a name="index-RehearsalMark"></a>
<a href="../lilypond-internals/RehearsalMark.html#RehearsalMark">RehearsalMark</a>.
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Musical-notation.html#Musical-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Musical notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Specialist-notation.html#Specialist-notation" title="Next chapter">&nbsp;Specialist notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Bar-and-bar-number-checks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Bar and bar number checks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Bars" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Bars&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Special-rhythmic-concerns.html#Special-rhythmic-concerns" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Special rhythmic concerns &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
 Other languages: <a href="Bars.fr.html">français</a>, <a href="Bars.es.html">español</a>, <a href="Bars.de.html">deutsch</a>.
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html#index" title="Start of the manual">Notation Reference</a></h4>
<div class="contents">
<ul class="toc">
  <li class="toc_current"><a name="toc-Musical-notation-1" href="Musical-notation.html#Musical-notation">1. Musical notation</a>
  <ul class="toc">
    <li><a name="toc-Pitches-1" href="Pitches.html#Pitches">1.1 Pitches</a>    </li>
    <li class="toc_current"><a name="toc-Rhythms-1" href="Rhythms.html#Rhythms">1.2 Rhythms</a>
    <ul class="toc">
      <li><a name="toc-Writing-rhythms-1" href="Writing-rhythms.html#Writing-rhythms">1.2.1 Writing rhythms</a>      </li>
      <li><a name="toc-Writing-rests-1" href="Writing-rests.html#Writing-rests">1.2.2 Writing rests</a>      </li>
      <li><a name="toc-Displaying-rhythms-1" href="Displaying-rhythms.html#Displaying-rhythms">1.2.3 Displaying rhythms</a>      </li>
      <li><a name="toc-Beams-1" href="Beams.html#Beams">1.2.4 Beams</a>      </li>
      <li class="toc_current"><a name="toc-Bars-1" href="Bars.html#Bars">1.2.5 Bars</a>
      <ul class="toc">
        <li><a name="toc-Bar-lines-1" href="Bars.html#Bar-lines">Bar lines</a>        </li>
        <li><a name="toc-Bar-numbers-1" href="Bars.html#Bar-numbers">Bar numbers</a>        </li>
        <li><a name="toc-Bar-and-bar-number-checks-1" href="Bars.html#Bar-and-bar-number-checks">Bar and bar number checks</a>        </li>
        <li><a name="toc-Rehearsal-marks-1" href="Bars.html#Rehearsal-marks">Rehearsal marks</a>        </li>
      </ul>
      </li>
      <li><a name="toc-Special-rhythmic-concerns-1" href="Special-rhythmic-concerns.html#Special-rhythmic-concerns">1.2.6 Special rhythmic concerns</a>      </li>
    </ul>
    </li>
    <li><a name="toc-Expressive-marks-1" href="Expressive-marks.html#Expressive-marks">1.3 Expressive marks</a>    </li>
    <li><a name="toc-Repeats-1" href="Repeats.html#Repeats">1.4 Repeats</a>    </li>
    <li><a name="toc-Simultaneous-notes-1" href="Simultaneous-notes.html#Simultaneous-notes">1.5 Simultaneous notes</a>    </li>
    <li><a name="toc-Staff-notation-1" href="Staff-notation.html#Staff-notation">1.6 Staff notation</a>    </li>
    <li><a name="toc-Editorial-annotations-1" href="Editorial-annotations.html#Editorial-annotations">1.7 Editorial annotations</a>    </li>
    <li><a name="toc-Text-1" href="Text.html#Text">1.8 Text</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Specialist-notation-1" href="Specialist-notation.html#Specialist-notation">2. Specialist notation</a>
  <ul class="toc">
    <li><a name="toc-Vocal-music-1" href="Vocal-music.html#Vocal-music">2.1 Vocal music</a>    </li>
    <li><a name="toc-Keyboard-and-other-multi_002dstaff-instruments-1" href="Keyboard-and-other-multi_002dstaff-instruments.html#Keyboard-and-other-multi_002dstaff-instruments">2.2 Keyboard and other multi-staff instruments</a>    </li>
    <li><a name="toc-Unfretted-string-instruments-1" href="Unfretted-string-instruments.html#Unfretted-string-instruments">2.3 Unfretted string instruments</a>    </li>
    <li><a name="toc-Fretted-string-instruments-1" href="Fretted-string-instruments.html#Fretted-string-instruments">2.4 Fretted string instruments</a>    </li>
    <li><a name="toc-Percussion-1" href="Percussion.html#Percussion">2.5 Percussion</a>    </li>
    <li><a name="toc-Wind-instruments-1" href="Wind-instruments.html#Wind-instruments">2.6 Wind instruments</a>    </li>
    <li><a name="toc-Chord-notation-1" href="Chord-notation.html#Chord-notation">2.7 Chord notation</a>    </li>
    <li><a name="toc-Ancient-notation-1" href="Ancient-notation.html#Ancient-notation">2.8 Ancient notation</a>    </li>
    <li><a name="toc-World-music-1" href="World-music.html#World-music">2.9 World music</a>    </li>
  </ul>
  </li>
  <li><a name="toc-General-input-and-output-1" href="General-input-and-output.html#General-input-and-output">3. General input and output</a>
  <ul class="toc">
    <li><a name="toc-Input-structure-1" href="Input-structure.html#Input-structure">3.1 Input structure</a>    </li>
    <li><a name="toc-Titles-and-headers-1" href="Titles-and-headers.html#Titles-and-headers">3.2 Titles and headers</a>    </li>
    <li><a name="toc-Working-with-input-files-1" href="Working-with-input-files.html#Working-with-input-files">3.3 Working with input files</a>    </li>
    <li><a name="toc-Controlling-output-1" href="Controlling-output.html#Controlling-output">3.4 Controlling output</a>    </li>
    <li><a name="toc-MIDI-output-1" href="MIDI-output.html#MIDI-output">3.5 MIDI output</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Spacing-issues-1" href="Spacing-issues.html#Spacing-issues">4. Spacing issues</a>
  <ul class="toc">
    <li><a name="toc-Paper-and-pages-1" href="Paper-and-pages.html#Paper-and-pages">4.1 Paper and pages</a>    </li>
    <li><a name="toc-Music-layout-1" href="Music-layout.html#Music-layout">4.2 Music layout</a>    </li>
    <li><a name="toc-Breaks-1" href="Breaks.html#Breaks">4.3 Breaks</a>    </li>
    <li><a name="toc-Vertical-spacing-1" href="Vertical-spacing.html#Vertical-spacing">4.4 Vertical spacing</a>    </li>
    <li><a name="toc-Horizontal-spacing-1" href="Horizontal-spacing.html#Horizontal-spacing">4.5 Horizontal spacing</a>    </li>
    <li><a name="toc-Fitting-music-onto-fewer-pages-1" href="Fitting-music-onto-fewer-pages.html#Fitting-music-onto-fewer-pages">4.6 Fitting music onto fewer pages</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Changing-defaults-1" href="Changing-defaults.html#Changing-defaults">5. Changing defaults</a>
  <ul class="toc">
    <li><a name="toc-Interpretation-contexts-1" href="Interpretation-contexts.html#Interpretation-contexts">5.1 Interpretation contexts</a>    </li>
    <li><a name="toc-Explaining-the-Internals-Reference-1" href="Explaining-the-Internals-Reference.html#Explaining-the-Internals-Reference">5.2 Explaining the Internals Reference</a>    </li>
    <li><a name="toc-Modifying-properties-1" href="Modifying-properties.html#Modifying-properties">5.3 Modifying properties</a>    </li>
    <li><a name="toc-Useful-concepts-and-properties-1" href="Useful-concepts-and-properties.html#Useful-concepts-and-properties">5.4 Useful concepts and properties</a>    </li>
    <li><a name="toc-Advanced-tweaks-1" href="Advanced-tweaks.html#Advanced-tweaks">5.5 Advanced tweaks</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Interfaces-for-programmers-1" href="Interfaces-for-programmers.html#Interfaces-for-programmers">6. Interfaces for programmers</a>
  <ul class="toc">
    <li><a name="toc-Music-functions-1" href="Music-functions.html#Music-functions">6.1 Music functions</a>    </li>
    <li><a name="toc-Programmer-interfaces-1" href="Programmer-interfaces.html#Programmer-interfaces">6.2 Programmer interfaces</a>    </li>
    <li><a name="toc-Building-complicated-functions-1" href="Building-complicated-functions.html#Building-complicated-functions">6.3 Building complicated functions</a>    </li>
    <li><a name="toc-Markup-programmer-interface-1" href="Markup-programmer-interface.html#Markup-programmer-interface">6.4 Markup programmer interface</a>    </li>
    <li><a name="toc-Contexts-for-programmers-1" href="Contexts-for-programmers.html#Contexts-for-programmers">6.5 Contexts for programmers</a>    </li>
    <li><a name="toc-Scheme-procedures-as-properties-1" href="Scheme-procedures-as-properties.html#Scheme-procedures-as-properties">6.6 Scheme procedures as properties</a>    </li>
    <li><a name="toc-Using-Scheme-code-instead-of-_005ctweak-1" href="Using-Scheme-code-instead-of-_005ctweak.html#Using-Scheme-code-instead-of-_005ctweak">6.7 Using Scheme code instead of <code>\tweak</code></a>    </li>
    <li><a name="toc-Difficult-tweaks-1" href="Difficult-tweaks.html#Difficult-tweaks">6.8 Difficult tweaks</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Literature-list-1" href="Literature-list.html#Literature-list">A. Literature list</a>  </li>
  <li><a name="toc-Notation-manual-tables-1" href="Notation-manual-tables.html#Notation-manual-tables">B. Notation manual tables</a>
  <ul class="toc">
    <li><a name="toc-Chord-name-chart-1" href="Chord-name-chart.html#Chord-name-chart">B.1 Chord name chart</a>    </li>
    <li><a name="toc-Common-chord-modifiers-1" href="Common-chord-modifiers.html#Common-chord-modifiers">B.2 Common chord modifiers</a>    </li>
    <li><a name="toc-Predefined-fretboard-diagrams-1" href="Predefined-fretboard-diagrams.html#Predefined-fretboard-diagrams">B.3 Predefined fretboard diagrams</a>    </li>
    <li><a name="toc-MIDI-instruments-1" href="MIDI-instruments.html#MIDI-instruments">B.4 MIDI instruments</a>    </li>
    <li><a name="toc-List-of-colors-1" href="List-of-colors.html#List-of-colors">B.5 List of colors</a>    </li>
    <li><a name="toc-The-Feta-font-1" href="The-Feta-font.html#The-Feta-font">B.6 The Feta font</a>    </li>
    <li><a name="toc-Note-head-styles-1" href="Note-head-styles.html#Note-head-styles">B.7 Note head styles</a>    </li>
    <li><a name="toc-Text-markup-commands-1" href="Text-markup-commands.html#Text-markup-commands">B.8 Text markup commands</a>    </li>
    <li><a name="toc-Text-markup-list-commands-1" href="Text-markup-list-commands.html#Text-markup-list-commands">B.9 Text markup list commands</a>    </li>
    <li><a name="toc-List-of-articulations-1" href="List-of-articulations.html#List-of-articulations">B.10 List of articulations</a>    </li>
    <li><a name="toc-Percussion-notes-1" href="Percussion-notes.html#Percussion-notes">B.11 Percussion notes</a>    </li>
    <li><a name="toc-All-context-properties-1" href="All-context-properties.html#All-context-properties">B.12 All context properties</a>    </li>
    <li><a name="toc-Layout-properties-1" href="Layout-properties.html#Layout-properties">B.13 Layout properties</a>    </li>
    <li><a name="toc-Identifiers-1" href="Identifiers.html#Identifiers">B.14 Identifiers</a>    </li>
    <li><a name="toc-Scheme-functions-1" href="Scheme-functions.html#Scheme-functions">B.15 Scheme functions</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Cheat-sheet-1" href="Cheat-sheet.html#Cheat-sheet">C. Cheat sheet</a>  </li>
  <li><a name="toc-LilyPond-grammar-1" href="LilyPond-grammar.html#LilyPond-grammar">D. LilyPond grammar</a>  </li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="GNU-Free-Documentation-License.html#GNU-Free-Documentation-License">E. GNU Free Documentation License</a>  </li>
  <li><a name="toc-LilyPond-command-index-1" href="LilyPond-command-index.html#LilyPond-command-index">F. LilyPond command index</a>  </li>
  <li><a name="toc-LilyPond-index-1" href="LilyPond-index.html#LilyPond-index">G. LilyPond index</a>  </li>
</ul>
</div>
</div>

</body>
</html>
