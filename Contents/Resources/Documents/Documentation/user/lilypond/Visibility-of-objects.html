<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 1999-2009 by the authors

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond Notation Reference: 5.4.6 Visibility of objects</title>

<meta name="description" content="GNU LilyPond Notation Reference: 5.4.6 Visibility of objects">
<meta name="keywords" content="GNU LilyPond Notation Reference: 5.4.6 Visibility of objects">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#index" rel="start" title="GNU LilyPond &mdash; Notation Reference">
<link href="LilyPond-command-index.html#LilyPond-command-index" rel="index" title="F. LilyPond command index">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="Useful-concepts-and-properties.html#Useful-concepts-and-properties" rel="up" title="5.4 Useful concepts and properties">
<link href="LilyPond-index.html#LilyPond-index" rel="next" title="G. LilyPond index">
<link href="Spanners.html#Spanners" rel="previous" title="5.4.5 Spanners">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Visibility-of-objects"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Spanners.html#Spanners" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="Useful-concepts-and-properties.html#Useful-concepts-and-properties" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Useful concepts and properties&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Removing-the-stencil" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Removing the stencil &gt; </a>]</td></tr></table>
<a name="Visibility-of-objects"></a>
<h3 class="subsection">5.4.6 Visibility of objects</h3>

<a name="index-objects_002c-visibility-of"></a>
<a name="index-grobs_002c-visibility-of"></a>
<a name="index-visibility-of-objects"></a>

<p>There are four main ways in which the visibility of layout objects
can be controlled: their stencil can be removed, they can be made
transparent, they can be colored white, or their
<code>break-visibility</code> property can be overridden.  The first
three apply to all layout objects; the last to just a few &ndash; the
<em>breakable</em> objects.  The Learning Manual introduces these
four techniques, see <a name="index-Visibility-and-color-of-objects-1"></a>
<a href="../lilypond-learning/Visibility-and-color-of-objects.html#Visibility-and-color-of-objects">Visibility and color of objects</a>.
</p>
<p>There are also a few other techniques which are specific to
certain layout objects.  These are covered under Special
considerations.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Removing-the-stencil" accesskey="1">Removing the stencil</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Making-objects-transparent" accesskey="2">Making objects transparent</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Painting-objects-white" accesskey="3">Painting objects white</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Using-break_002dvisibility" accesskey="4">Using break-visibility</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Special-considerations" accesskey="5">Special considerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Removing-the-stencil"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Visibility-of-objects" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Visibility of objects&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Visibility-of-objects" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Making-objects-transparent" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Making objects transparent &gt; </a>]</td></tr></table>
<a name="Removing-the-stencil"></a>
<h4 class="unnumberedsubsubsec">Removing the stencil</h4>

<a name="index-stencil_002c-removing"></a>

<p>Every layout object has a stencil property.  By default this is set
to the specific function which draws that object.  If this property
is overridden to <code>#f</code> no function will be called and the object
will not be drawn.  The default action can be recovered with
<code>\revert</code>.
</p>
<blockquote><pre class="verbatim">a1 a
\override Score.BarLine #'stencil = ##f
a a
\revert Score.BarLine #'stencil
a a a
</pre><p>
 <a href="../d7/lily-56cfdf0b.ly">
  <img align="middle"
       border="0"
       src="../d7/lily-56cfdf0b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Making-objects-transparent"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Removing-the-stencil" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Removing the stencil&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Visibility-of-objects" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Painting-objects-white" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Painting objects white &gt; </a>]</td></tr></table>
<a name="Making-objects-transparent"></a>
<h4 class="unnumberedsubsubsec">Making objects transparent</h4>

<a name="index-transparent_002c-making-objects"></a>

<p>Every layout object has a transparent property which by default is
set to <code>#f</code>.  If set to <code>#t</code> the object still occupies
space but is made invisible.
</p>
<blockquote><pre class="verbatim">a4 a
\once \override NoteHead #'transparent = ##t
a a
</pre><p>
 <a href="../b0/lily-19388fa2.ly">
  <img align="middle"
       border="0"
       src="../b0/lily-19388fa2.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Painting-objects-white"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Making-objects-transparent" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Making objects transparent&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Visibility-of-objects" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-break_002dvisibility" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using break-visibility &gt; </a>]</td></tr></table>
<a name="Painting-objects-white"></a>
<h4 class="unnumberedsubsubsec">Painting objects white</h4>

<a name="index-objects_002c-coloring"></a>
<a name="index-coloring-objects-1"></a>
<a name="index-layers"></a>
<a name="index-printing-order"></a>
<a name="index-overwriting-objects"></a>
<a name="index-objects_002c-overwriting"></a>
<a name="index-grobs_002c-overwriting"></a>

<p>Every layout object has a color property which by default is set
to <code>black</code>.  If this is overridden to <code>white</code> the object
will be indistinguishable from the white background.  However,
if the object crosses other objects the color of the crossing
points will be determined by the order in which they are drawn,
and this may leave a ghostly image of the white object, as shown
here:
</p>
<blockquote><pre class="verbatim">\override Staff.Clef #'color = #white
a1
</pre><p>
 <a href="../78/lily-b2c7304d.ly">
  <img align="middle"
       border="0"
       src="../78/lily-b2c7304d.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>This may be avoided by changing the order of printing the objects.
All layout objects have a <code>layer</code> property which should be set
to an integer.  Objects with the lowest value of <code>layer</code> are
drawn first, then objects with progressively higher values are drawn,
so objects with higher values overwrite objects with lower values.
By default most objects are assigned a <code>layer</code> value of
<code>1</code>, although a few objects, including <code>StaffSymbol</code> and
<code>BarLine</code>, are assigned a value of <code>0</code>.  The order of
printing objects with the same value of <code>layer</code> is indeterminate.
</p>
<p>In the example above the white clef, with a default <code>layer</code>
value of <code>1</code>, is drawn after the staff lines (default
<code>layer</code> value <code>0</code>), so overwriting them.  To change this,
the <code>Clef</code> object must be given in a lower value of
<code>layer</code>, say <code>-1</code>, so that it is drawn earlier:
</p>
<blockquote><pre class="verbatim">\override Staff.Clef #'color = #white
\override Staff.Clef #'layer = #-1
a1
</pre><p>
 <a href="../6f/lily-21660184.ly">
  <img align="middle"
       border="0"
       src="../6f/lily-21660184.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Using-break_002dvisibility"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Painting-objects-white" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Painting objects white&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Visibility-of-objects" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Special-considerations" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Special considerations &gt; </a>]</td></tr></table>
<a name="Using-break_002dvisibility"></a>
<h4 class="unnumberedsubsubsec">Using break-visibility</h4>


<a name="index-break_002dvisibility"></a>

<p>Most layout objects are printed only once, but some like
bar lines, clefs, time signatures and key signatures, may need
to be printed twice when a line break occurs &ndash; once at the end
of the line and again at the start of the next line.  Such
objects are called <em>breakable</em>, and have a property, the
<code>break-visibility</code> property to control their visibility
at the three positions in which they may appear &ndash; at the
start of a line, within a line if they are changed, and at the
end of a line if a change takes place there.
</p>
<p>For example, the time signature
by default will be printed at the start of the first line, but
nowhere else unless it changes, when it will be printed at the
point at which the change occurs.  If this change occurs at the
end of a line the new time signature will be printed at the start
of the next line and a cautionary time signature will be printed
at the end of the previous line as well.
</p>
<p>This behaviour is controlled by the <code>break-visibility</code>
property, which is explained in
<a name="index-Visibility-and-color-of-objects-2"></a>
<a href="../lilypond-learning/Visibility-and-color-of-objects.html#Visibility-and-color-of-objects">Visibility and color of objects</a>.  This property takes
a vector of three booleans which, in order, determine whether the
object is printed at the end of, within the body of, or at the
beginning of a line.  Or to be more precise, before a line break,
where there is no line break, or after a line break.
</p>
<p>Alternatively, these eight combinations may be specified
by pre-defined functions, defined in &lsquo;<tt>scm/output-lib.scm</tt>&rsquo;,
where the last three columns indicate whether the layout objects
will be visible in the positions shown at the head of the columns:
</p>
<table>
<thead><tr><th><p> Function                   </p></th><th><p> Vector                  </p></th><th><p> Before </p></th><th><p> At no    </p></th><th><p> After
</p></th></tr></thead>
<thead><tr><th><p> form                       </p></th><th><p> form                    </p></th><th><p> break  </p></th><th><p> break    </p></th><th><p> break
</p></th></tr></thead>
<tr><td><p> <code>all-visible</code>             </p></td><td><p> <code>'#(#t #t #t)</code>     </p></td><td><p> yes    </p></td><td><p> yes      </p></td><td><p> yes
</p></td></tr>
<tr><td><p> <code>begin-of-line-visible</code>   </p></td><td><p> <code>'#(#f #f #t)</code>     </p></td><td><p> no     </p></td><td><p> no       </p></td><td><p> yes
</p></td></tr>
<tr><td><p> <code>center-visible</code>          </p></td><td><p> <code>'#(#f #t #f)</code>     </p></td><td><p> no     </p></td><td><p> yes      </p></td><td><p> no
</p></td></tr>
<tr><td><p> <code>end-of-line-visible</code>     </p></td><td><p> <code>'#(#t #f #f)</code>     </p></td><td><p> yes    </p></td><td><p> no       </p></td><td><p> no
</p></td></tr>
<tr><td><p> <code>begin-of-line-invisible</code> </p></td><td><p> <code>'#(#t #t #f)</code>     </p></td><td><p> yes    </p></td><td><p> yes      </p></td><td><p> no
</p></td></tr>
<tr><td><p> <code>center-invisible</code>        </p></td><td><p> <code>'#(#t #f #t)</code>     </p></td><td><p> yes    </p></td><td><p> no       </p></td><td><p> yes
</p></td></tr>
<tr><td><p> <code>end-of-line-invisible</code>   </p></td><td><p> <code>'#(#f #t #t)</code>     </p></td><td><p> no     </p></td><td><p> yes      </p></td><td><p> yes
</p></td></tr>
<tr><td><p> <code>all-invisible</code>           </p></td><td><p> <code>'#(#f #f #f)</code>     </p></td><td><p> no     </p></td><td><p> no       </p></td><td><p> no
</p></td></tr>
</table>

<p>The default settings of <code>break-visibility</code> depend on the
layout object.  The following table shows all the layout objects
of interest which are affected by <code>break-visibility</code> and the
default setting of this property:
</p>
<table>
<thead><tr><th width="30%"><p> Layout object   </p></th><th width="30%"><p> Usual context  </p></th><th width="40%"><p> Default setting
</p></th></tr></thead>
<tr><td width="30%"><p> <code>BarLine</code>             </p></td><td width="30%"><p> <code>Score</code>          </p></td><td width="40%"><p> calculated
</p></td></tr>
<tr><td width="30%"><p> <code>BarNumber</code>           </p></td><td width="30%"><p> <code>Score</code>          </p></td><td width="40%"><p> <code>begin-of-line-visible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>BreathingSign</code>       </p></td><td width="30%"><p> <code>Voice</code>          </p></td><td width="40%"><p> <code>begin-of-line-invisible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>Clef</code>                </p></td><td width="30%"><p> <code>Staff</code>          </p></td><td width="40%"><p> <code>begin-of-line-visible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>Custos</code>              </p></td><td width="30%"><p> <code>Staff</code>          </p></td><td width="40%"><p> <code>end-of-line-visible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>DoublePercentRepeat</code> </p></td><td width="30%"><p> <code>Voice</code>          </p></td><td width="40%"><p> <code>begin-of-line-invisible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>KeySignature</code>        </p></td><td width="30%"><p> <code>Staff</code>          </p></td><td width="40%"><p> <code>begin-of-line-visible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>OctavateEight</code>       </p></td><td width="30%"><p> <code>Staff</code>          </p></td><td width="40%"><p> <code>begin-of-line-visible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>RehearsalMark</code>       </p></td><td width="30%"><p> <code>Score</code>          </p></td><td width="40%"><p> <code>end-of-line-invisible</code>
</p></td></tr>
<tr><td width="30%"><p> <code>TimeSignature</code>       </p></td><td width="30%"><p> <code>Staff</code>          </p></td><td width="40%"><p> <code>all-visible</code>
</p></td></tr>
</table>

<p>The example below shows the use of the vector form to control the
visibility of barlines:
</p>
<blockquote><pre class="verbatim">f4 g a b
f4 g a b
% Remove bar line at the end of the current line
\once \override Score.BarLine #'break-visibility = #'#(#f #t #t)
\break
f4 g a b
f4 g a b
</pre><p>
 <a href="../57/lily-65400d37.ly">
  <img align="middle"
       border="0"
       src="../57/lily-65400d37.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Although all three components of the vector used to override
<code>break-visibility</code> must be present, not all of them are
effective with every layout object, and some combinations may
even give errors.  The following limitations apply:
</p>
<ul>
<li> Bar lines cannot be printed at start of line.
</li><li> A bar number cannot be printed at the start of the first
line unless it is set to be different from 1.
</li><li> Clef &ndash; see below
</li><li> Double percent repeats are either all printed or all
suppressed.  Use begin-of line-invisible to print and
all-invisible to suppress.
</li><li> Key signature &ndash; see below
</li><li> OctavateEight &ndash; see below
</li></ul>

<hr size="6">
<a name="Special-considerations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-break_002dvisibility" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using break-visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Visibility-of-objects" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Line-styles.html#Line-styles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Line styles &gt; </a>]</td></tr></table>
<a name="Special-considerations"></a>
<h4 class="unnumberedsubsubsec">Special considerations</h4>

<p><strong><em>Visibility following explicit changes</em></strong>
</p>
<a name="index-key-signature_002c-visibility-following-explicit-change"></a>
<a name="index-explicitKeySignatureVisibility"></a>
<a name="index-clef_002c-visibility-following-explicit-change"></a>
<a name="index-explicitClefVisibility"></a>

<p>The <code>break-visibility</code> property controls the visibility of
key signatures and changes of clef only at the start of lines,
i.e. after a break.  It has no effect on the visibility of the
key signature or clef following an explicit key change or an
explicit clef change within or at the end of a line.  In the
following example the key signature following the explicit change
to B-flat major is still visible, even though <code>all-invisible</code>
is set.
</p>
<blockquote><pre class="verbatim">\key g \major
f4 g a b
% Try to remove all key signatures
\override Staff.KeySignature #'break-visibility = #all-invisible
\key bes \major
f4 g a b
\break
f4 g a b
f4 g a b
</pre><p>
 <a href="../b9/lily-3b16af4c.ly">
  <img align="middle"
       border="0"
       src="../b9/lily-3b16af4c.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The visibility of such explicit key signature and clef changes is
controlled by the <code>explicitKeySignatureVisibility</code> and
<code>explicitClefVisibility</code> properties.  These are the equivalent
of the <code>break-visibility</code> property and both take a vector of
three booleans or the predefined functions listed above, exactly like
<code>break-visibility</code>.  Both are properties of the Staff context,
not the layout objects themselves, and so they are set using the
<code>\set</code> command.  Both are set by default to <code>all-visible</code>.
These properties control only the visibility of key signatures and
clefs resulting from explicit changes and do not affect key
signatures and clefs at the beginning of lines;
<code>break-visibility</code> must still be overridden in the appropriate
object to remove these.
</p>
<blockquote><pre class="verbatim">\key g \major
f4 g a b
\set Staff.explicitKeySignatureVisibility = #all-invisible
\override Staff.KeySignature #'break-visibility = #all-invisible
\key bes \major
f4 g a b \break
f4 g a b
f4 g a b
</pre><p>
 <a href="../2c/lily-f7e93f06.ly">
  <img align="middle"
       border="0"
       src="../2c/lily-f7e93f06.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p><strong><em>Visibility of cautionary accidentals</em></strong>
</p>
<p>To remove the cautionary accidentals printed at an explicit key
change, set the Staff context property <code>printKeyCancellation</code>
to <code>#f</code>:
</p>
<blockquote><pre class="verbatim">\key g \major
f4 g a b
\set Staff.explicitKeySignatureVisibility = #all-invisible
\set Staff.printKeyCancellation = ##f
\override Staff.KeySignature #'break-visibility = #all-invisible
\key bes \major
f4 g a b \break
f4 g a b
f4 g a b
</pre><p>
 <a href="../c2/lily-827a9821.ly">
  <img align="middle"
       border="0"
       src="../c2/lily-827a9821.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>With these overrides only the accidentals before the notes remain
to indicate the change of key.
</p>

<p><strong><em>Automatic bars</em></strong>
</p>
<a name="index-automaticBars"></a>
<a name="index-bar-lines_002c-suppressing"></a>

<p>As a special case, the printing of bar lines can also be turned off
by setting the <code>automaticBars</code> property in the Score context.
If set to <code>#f</code>, bar lines will not be printed automatically;
they must be explicitly created with a <code>\bar</code> command.  Unlike
the <code>\cadenzaOn</code> predefined command, measures are still counted.
Bar generation will resume according to that count if this property
is later set to <code>#t</code>.  When set to <code>#f</code>, line breaks can
occur only at explicit <code>\bar</code> commands.
</p>

<p><strong><em>Octavated clefs</em></strong>
</p>
<a name="index-octavated-clefs_002c-visibility-of"></a>
<a name="index-visibility-of-octavated-clefs"></a>
<a name="index-clefs_002c-visibility-of-octavation"></a>

<p>The small octavation symbol on octavated clefs is produced by the
<code>OctavateEight</code> layout object.  Its visibility is controlled
independently from that of the <code>Clef</code> object, so it is
necessary to apply any required <code>break-visibility</code> overrides
to both the <code>Clef</code> and the <code>OctavateEight</code> layout objects
to fully suppress such clef symbols at the start of each line.
</p>
<p>For explicit clef changes, the <code>explicitClefVisibility</code>
property controls both the clef symbol and any octavation symbol
associated with it.
</p>

<a name="See-also-38"></a>
<h4 class="subsubheading">See also</h4>
<p>Learning Manual:
<a name="index-Visibility-and-color-of-objects-3"></a>
<a href="../lilypond-learning/Visibility-and-color-of-objects.html#Visibility-and-color-of-objects">Visibility and color of objects</a>
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Changing-defaults.html#Changing-defaults" title="Beginning of this chapter or previous chapter"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#index" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="LilyPond-command-index.html#LilyPond-command-index" title="Index" rel="index">Index</a>][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Interfaces-for-programmers.html#Interfaces-for-programmers" title="Next chapter">&nbsp;Interfaces for programmers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-break_002dvisibility" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using break-visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Visibility-of-objects" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Line-styles.html#Line-styles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Line styles &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
 Other languages: <a href="Visibility-of-objects.es.html">espa√±ol</a>.
 <br>
 
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html#index" title="Start of the manual">Notation Reference</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Musical-notation-1" href="Musical-notation.html#Musical-notation">1. Musical notation</a>
  <ul class="toc">
    <li><a name="toc-Pitches-1" href="Pitches.html#Pitches">1.1 Pitches</a>    </li>
    <li><a name="toc-Rhythms-1" href="Rhythms.html#Rhythms">1.2 Rhythms</a>    </li>
    <li><a name="toc-Expressive-marks-1" href="Expressive-marks.html#Expressive-marks">1.3 Expressive marks</a>    </li>
    <li><a name="toc-Repeats-1" href="Repeats.html#Repeats">1.4 Repeats</a>    </li>
    <li><a name="toc-Simultaneous-notes-1" href="Simultaneous-notes.html#Simultaneous-notes">1.5 Simultaneous notes</a>    </li>
    <li><a name="toc-Staff-notation-1" href="Staff-notation.html#Staff-notation">1.6 Staff notation</a>    </li>
    <li><a name="toc-Editorial-annotations-1" href="Editorial-annotations.html#Editorial-annotations">1.7 Editorial annotations</a>    </li>
    <li><a name="toc-Text-1" href="Text.html#Text">1.8 Text</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Specialist-notation-1" href="Specialist-notation.html#Specialist-notation">2. Specialist notation</a>
  <ul class="toc">
    <li><a name="toc-Vocal-music-1" href="Vocal-music.html#Vocal-music">2.1 Vocal music</a>    </li>
    <li><a name="toc-Keyboard-and-other-multi_002dstaff-instruments-1" href="Keyboard-and-other-multi_002dstaff-instruments.html#Keyboard-and-other-multi_002dstaff-instruments">2.2 Keyboard and other multi-staff instruments</a>    </li>
    <li><a name="toc-Unfretted-string-instruments-1" href="Unfretted-string-instruments.html#Unfretted-string-instruments">2.3 Unfretted string instruments</a>    </li>
    <li><a name="toc-Fretted-string-instruments-1" href="Fretted-string-instruments.html#Fretted-string-instruments">2.4 Fretted string instruments</a>    </li>
    <li><a name="toc-Percussion-1" href="Percussion.html#Percussion">2.5 Percussion</a>    </li>
    <li><a name="toc-Wind-instruments-1" href="Wind-instruments.html#Wind-instruments">2.6 Wind instruments</a>    </li>
    <li><a name="toc-Chord-notation-1" href="Chord-notation.html#Chord-notation">2.7 Chord notation</a>    </li>
    <li><a name="toc-Ancient-notation-1" href="Ancient-notation.html#Ancient-notation">2.8 Ancient notation</a>    </li>
    <li><a name="toc-World-music-1" href="World-music.html#World-music">2.9 World music</a>    </li>
  </ul>
  </li>
  <li><a name="toc-General-input-and-output-1" href="General-input-and-output.html#General-input-and-output">3. General input and output</a>
  <ul class="toc">
    <li><a name="toc-Input-structure-1" href="Input-structure.html#Input-structure">3.1 Input structure</a>    </li>
    <li><a name="toc-Titles-and-headers-1" href="Titles-and-headers.html#Titles-and-headers">3.2 Titles and headers</a>    </li>
    <li><a name="toc-Working-with-input-files-1" href="Working-with-input-files.html#Working-with-input-files">3.3 Working with input files</a>    </li>
    <li><a name="toc-Controlling-output-1" href="Controlling-output.html#Controlling-output">3.4 Controlling output</a>    </li>
    <li><a name="toc-MIDI-output-1" href="MIDI-output.html#MIDI-output">3.5 MIDI output</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Spacing-issues-1" href="Spacing-issues.html#Spacing-issues">4. Spacing issues</a>
  <ul class="toc">
    <li><a name="toc-Paper-and-pages-1" href="Paper-and-pages.html#Paper-and-pages">4.1 Paper and pages</a>    </li>
    <li><a name="toc-Music-layout-1" href="Music-layout.html#Music-layout">4.2 Music layout</a>    </li>
    <li><a name="toc-Breaks-1" href="Breaks.html#Breaks">4.3 Breaks</a>    </li>
    <li><a name="toc-Vertical-spacing-1" href="Vertical-spacing.html#Vertical-spacing">4.4 Vertical spacing</a>    </li>
    <li><a name="toc-Horizontal-spacing-1" href="Horizontal-spacing.html#Horizontal-spacing">4.5 Horizontal spacing</a>    </li>
    <li><a name="toc-Fitting-music-onto-fewer-pages-1" href="Fitting-music-onto-fewer-pages.html#Fitting-music-onto-fewer-pages">4.6 Fitting music onto fewer pages</a>    </li>
  </ul>
  </li>
  <li class="toc_current"><a name="toc-Changing-defaults-1" href="Changing-defaults.html#Changing-defaults">5. Changing defaults</a>
  <ul class="toc">
    <li><a name="toc-Interpretation-contexts-1" href="Interpretation-contexts.html#Interpretation-contexts">5.1 Interpretation contexts</a>    </li>
    <li><a name="toc-Explaining-the-Internals-Reference-1" href="Explaining-the-Internals-Reference.html#Explaining-the-Internals-Reference">5.2 Explaining the Internals Reference</a>    </li>
    <li><a name="toc-Modifying-properties-1" href="Modifying-properties.html#Modifying-properties">5.3 Modifying properties</a>    </li>
    <li class="toc_current"><a name="toc-Useful-concepts-and-properties-1" href="Useful-concepts-and-properties.html#Useful-concepts-and-properties">5.4 Useful concepts and properties</a>
    <ul class="toc">
      <li><a name="toc-Input-modes-1" href="Input-modes.html#Input-modes">5.4.1 Input modes</a>      </li>
      <li><a name="toc-Direction-and-placement-1" href="Direction-and-placement.html#Direction-and-placement">5.4.2 Direction and placement</a>      </li>
      <li><a name="toc-Distances-and-measurements-1" href="Distances-and-measurements.html#Distances-and-measurements">5.4.3 Distances and measurements</a>      </li>
      <li><a name="toc-Staff-symbol-properties-1" href="Staff-symbol-properties.html#Staff-symbol-properties">5.4.4 Staff symbol properties</a>      </li>
      <li><a name="toc-Spanners-1" href="Spanners.html#Spanners">5.4.5 Spanners</a>      </li>
      <li class="toc_current"><a name="toc-Visibility-of-objects-1" href="Visibility-of-objects.html#Visibility-of-objects">5.4.6 Visibility of objects</a>
      <ul class="toc">
        <li><a name="toc-Removing-the-stencil-1" href="Visibility-of-objects.html#Removing-the-stencil">Removing the stencil</a>        </li>
        <li><a name="toc-Making-objects-transparent-1" href="Visibility-of-objects.html#Making-objects-transparent">Making objects transparent</a>        </li>
        <li><a name="toc-Painting-objects-white-1" href="Visibility-of-objects.html#Painting-objects-white">Painting objects white</a>        </li>
        <li><a name="toc-Using-break_002dvisibility-1" href="Visibility-of-objects.html#Using-break_002dvisibility">Using break-visibility</a>        </li>
        <li><a name="toc-Special-considerations-1" href="Visibility-of-objects.html#Special-considerations">Special considerations</a>        </li>
      </ul>
      </li>
      <li><a name="toc-Line-styles-1" href="Line-styles.html#Line-styles">5.4.7 Line styles</a>      </li>
      <li><a name="toc-Rotating-objects-1" href="Rotating-objects.html#Rotating-objects">5.4.8 Rotating objects</a>      </li>
    </ul>
    </li>
    <li><a name="toc-Advanced-tweaks-1" href="Advanced-tweaks.html#Advanced-tweaks">5.5 Advanced tweaks</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Interfaces-for-programmers-1" href="Interfaces-for-programmers.html#Interfaces-for-programmers">6. Interfaces for programmers</a>
  <ul class="toc">
    <li><a name="toc-Music-functions-1" href="Music-functions.html#Music-functions">6.1 Music functions</a>    </li>
    <li><a name="toc-Programmer-interfaces-1" href="Programmer-interfaces.html#Programmer-interfaces">6.2 Programmer interfaces</a>    </li>
    <li><a name="toc-Building-complicated-functions-1" href="Building-complicated-functions.html#Building-complicated-functions">6.3 Building complicated functions</a>    </li>
    <li><a name="toc-Markup-programmer-interface-1" href="Markup-programmer-interface.html#Markup-programmer-interface">6.4 Markup programmer interface</a>    </li>
    <li><a name="toc-Contexts-for-programmers-1" href="Contexts-for-programmers.html#Contexts-for-programmers">6.5 Contexts for programmers</a>    </li>
    <li><a name="toc-Scheme-procedures-as-properties-1" href="Scheme-procedures-as-properties.html#Scheme-procedures-as-properties">6.6 Scheme procedures as properties</a>    </li>
    <li><a name="toc-Using-Scheme-code-instead-of-_005ctweak-1" href="Using-Scheme-code-instead-of-_005ctweak.html#Using-Scheme-code-instead-of-_005ctweak">6.7 Using Scheme code instead of <code>\tweak</code></a>    </li>
    <li><a name="toc-Difficult-tweaks-1" href="Difficult-tweaks.html#Difficult-tweaks">6.8 Difficult tweaks</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Literature-list-1" href="Literature-list.html#Literature-list">A. Literature list</a>  </li>
  <li><a name="toc-Notation-manual-tables-1" href="Notation-manual-tables.html#Notation-manual-tables">B. Notation manual tables</a>
  <ul class="toc">
    <li><a name="toc-Chord-name-chart-1" href="Chord-name-chart.html#Chord-name-chart">B.1 Chord name chart</a>    </li>
    <li><a name="toc-Common-chord-modifiers-1" href="Common-chord-modifiers.html#Common-chord-modifiers">B.2 Common chord modifiers</a>    </li>
    <li><a name="toc-Predefined-fretboard-diagrams-1" href="Predefined-fretboard-diagrams.html#Predefined-fretboard-diagrams">B.3 Predefined fretboard diagrams</a>    </li>
    <li><a name="toc-MIDI-instruments-1" href="MIDI-instruments.html#MIDI-instruments">B.4 MIDI instruments</a>    </li>
    <li><a name="toc-List-of-colors-1" href="List-of-colors.html#List-of-colors">B.5 List of colors</a>    </li>
    <li><a name="toc-The-Feta-font-1" href="The-Feta-font.html#The-Feta-font">B.6 The Feta font</a>    </li>
    <li><a name="toc-Note-head-styles-1" href="Note-head-styles.html#Note-head-styles">B.7 Note head styles</a>    </li>
    <li><a name="toc-Text-markup-commands-1" href="Text-markup-commands.html#Text-markup-commands">B.8 Text markup commands</a>    </li>
    <li><a name="toc-Text-markup-list-commands-1" href="Text-markup-list-commands.html#Text-markup-list-commands">B.9 Text markup list commands</a>    </li>
    <li><a name="toc-List-of-articulations-1" href="List-of-articulations.html#List-of-articulations">B.10 List of articulations</a>    </li>
    <li><a name="toc-Percussion-notes-1" href="Percussion-notes.html#Percussion-notes">B.11 Percussion notes</a>    </li>
    <li><a name="toc-All-context-properties-1" href="All-context-properties.html#All-context-properties">B.12 All context properties</a>    </li>
    <li><a name="toc-Layout-properties-1" href="Layout-properties.html#Layout-properties">B.13 Layout properties</a>    </li>
    <li><a name="toc-Identifiers-1" href="Identifiers.html#Identifiers">B.14 Identifiers</a>    </li>
    <li><a name="toc-Scheme-functions-1" href="Scheme-functions.html#Scheme-functions">B.15 Scheme functions</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Cheat-sheet-1" href="Cheat-sheet.html#Cheat-sheet">C. Cheat sheet</a>  </li>
  <li><a name="toc-LilyPond-grammar-1" href="LilyPond-grammar.html#LilyPond-grammar">D. LilyPond grammar</a>  </li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="GNU-Free-Documentation-License.html#GNU-Free-Documentation-License">E. GNU Free Documentation License</a>  </li>
  <li><a name="toc-LilyPond-command-index-1" href="LilyPond-command-index.html#LilyPond-command-index">F. LilyPond command index</a>  </li>
  <li><a name="toc-LilyPond-index-1" href="LilyPond-index.html#LilyPond-index">G. LilyPond index</a>  </li>
</ul>
</div>
</div>

</body>
</html>
