<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond snippets: Tweaks and overrides</title>

<meta name="description" content="LilyPond snippets: Tweaks and overrides">
<meta name="keywords" content="LilyPond snippets: Tweaks and overrides">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="GNU LilyPond &mdash; Snippets List">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="index.html#Top" rel="up" title="GNU LilyPond &mdash; Snippets List">
<link href="Templates.html#Single-staff-template-with-only-notes" rel="next" title="Vocal ensemble template">
<link href="Contexts-and-engravers.html#Contexts-and-engravers" rel="previous" title="Contexts and engravers">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="../../../Documentation/user/lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="../../../Documentation/user/lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="../../../Documentation/user/lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="../../../Documentation/user/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Contexts-and-engravers.html#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Contexts-and-engravers.html#Engravers-one_002dby_002done" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="index.html#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Tweaks-and-overrides"></a>
<h1 class="unnumbered">Tweaks and overrides</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../../Documentation/user/lilypond/Changing-defaults.html#Changing-defaults">Changing defaults</a>.
</p>
<p>See also Learning Manual, section
<a href="../../../Documentation/user/lilypond-learning/Tweaking-output.html#Tweaking-output">Tweaking output</a>.
</p>

<a name="analysis-brackets-above-the-staff.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Analysis brackets above the staff</h2>


<p>Simple horizontal analysis brackets are added below the staff by
default. The following example shows a way to place them above the
staff instead.
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    \consists &quot;Horizontal_bracket_engraver&quot;
  }
}
\relative c'' {
  \once \override HorizontalBracket #'direction = #UP
  c2\startGroup
  d2\stopGroup
}

</pre><p>
 <a href="../5b/lily-a239b125.ly">
  <img align="middle"
       border="0"
       src="../5b/lily-a239b125.png"
       alt="[image of music]">
 </a>
</p>




<a name="avoiding-collisions-with-chord-fingerings.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Avoiding collisions with chord fingerings</h2>


<p>Fingerings and string numbers applied to individual notes will
automatically avoid beams and stems, but this is not true by default
for fingerings and string numbers applied to the individual notes of
chords.  The following example shows how this default behavior can be
overridden.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(up)
  \set stringNumberOrientations = #'(up)
  \set strokeFingerOrientations = #'(up)
  
  % Default behavior
  r8
  &lt;f c'-5&gt;8
  &lt;f c'\5&gt;8
  &lt;f c'-\rightHandFinger #2 &gt;8
  
  % Corrected to avoid collisions
  r8
  \override Fingering #'add-stem-support = ##t
  &lt;f c'-5&gt;8
  \override StringNumber #'add-stem-support = ##t
  &lt;f c'\5&gt;8
  \override StrokeFinger #'add-stem-support = ##t
  &lt;f c'-\rightHandFinger #2 &gt;8
}

</pre><p>
 <a href="../01/lily-9528ce63.ly">
  <img align="middle"
       border="0"
       src="../01/lily-9528ce63.png"
       alt="[image of music]">
 </a>
</p>




<a name="caesura-railtracks-with-fermata.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Caesura (&quot;railtracks&quot;) with fermata</h2>


<p>A caesura is sometimes denoted by a double &quot;railtracks&quot; breath mark
with a fermata sign positioned above. This snippet should present an
optically pleasing combination of railtracks and fermata.
</p>

<pre class="verbatim">\relative c'' {
  c2.
  % construct the symbol
  \override BreathingSign #'text = \markup {
    \line {
      \musicglyph #&quot;scripts.caesura.curved&quot;
      \translate #'(-1.75 . 1.6)
      \musicglyph #&quot;scripts.ufermata&quot;
    }
  }
  \breathe c4
  % set the breathe mark back to normal
  \revert BreathingSign #'text
  c2. \breathe c4
  \bar &quot;|.&quot;
}
</pre><p>
 <a href="../7d/lily-6711c400.ly">
  <img align="middle"
       border="0"
       src="../7d/lily-6711c400.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-a-single-notes-size-in-a-chord.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing a single note&rsquo;s size in a chord</h2>


<p>Individual note heads in a chord can be modified with the
<code>\tweak</code> command inside a chord, by altering the <code>font-size</code>
property.
</p>

<p>Inside the chord (within the brackets <code>&lt; &gt;</code>), before the note to
be altered, place the <code>\tweak</code> command, followed by
<code>#'font-size</code> and define the proper size like <code>#-2</code> (a tiny
notehead).
</p>



<pre class="verbatim">\relative {
  &lt;\tweak #'font-size #+2 c e g c \tweak #'font-size #-2 e&gt;1^\markup { A tiny e }_\markup { A big c }
}

</pre><p>
 <a href="../38/lily-725be418.ly">
  <img align="middle"
       border="0"
       src="../38/lily-725be418.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-form-of-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing properties for individual grobs &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing form of multi-measure rests</h2>


<p>If there are ten or fewer measures of rests, a series of longa and
breve rests (called in German &quot;Kirchenpausen&quot; - church rests) is
printed within the staff; otherwise a simple line is shown. This
default number of ten may be changed by overriding the
<code>expand-limit</code> property.
</p>

<pre class="verbatim">\relative c'' {
  \compressFullBarRests
  R1*2 | R1*5 | R1*9
  \override MultiMeasureRest #'expand-limit = #3
  R1*2 | R1*5 | R1*9
}
</pre><p>
 <a href="../9e/lily-7400df93.ly">
  <img align="middle"
       border="0"
       src="../9e/lily-7400df93.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-properties-for-individual-grobs.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Changing-properties-for-individual-grobs"></a>
<h2 class="unnumberedsec">Changing properties for individual grobs</h2>


<p>The <code>\applyOutput</code> command allows the tuning of any layout
object, in any context. It requires a Scheme function with three
arguments.
</p>

<pre class="verbatim">#(define (mc-squared grob grob-origin context)
  (let ((sp (ly:grob-property grob 'staff-position)))
    (if (grob::has-interface grob 'note-head-interface)
      (begin
        (ly:grob-set-property! grob 'stencil
          (grob-interpret-markup grob
            (make-lower-markup 0.5
              (case sp
                ((-5) &quot;m&quot;)
                ((-3) &quot;c &quot;)
                ((-2) (make-smaller-markup (make-bold-markup &quot;2&quot;)))
                (else &quot;bla&quot;)))))))))

\relative c' {
  &lt;d f g b&gt;2
  \applyOutput #'Voice #mc-squared
  &lt;d f g b&gt;2
}
</pre><p>
 <a href="../2c/lily-65e92cd9.ly">
  <img align="middle"
       border="0"
       src="../2c/lily-65e92cd9.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-default-text-font-family.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing properties for individual grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing the default text font family</h2>


<p>The default font families for text can be overridden with
<code>make-pango-font-tree</code>. 
</p>

<pre class="verbatim">\paper {
  % change for other default global staff size. 
  myStaffSize = #20
  %{
     run
         lilypond -dshow-available-fonts blabla
     to show all fonts available in the process log.  
  %}

  #(define fonts
    (make-pango-font-tree &quot;Times New Roman&quot;
                          &quot;Nimbus Sans&quot;
                          &quot;Luxi Mono&quot;
;;                        &quot;Helvetica&quot;
;;                        &quot;Courier&quot;
     (/ myStaffSize 20)))
}

\relative c'' {
  c4^\markup {
    roman: foo \bold bla \italic bar \italic \bold baz 
  }
  c'4_\markup {
    \override #'(font-family . sans)
    {
      sans: foo \bold bla \italic bar \italic \bold baz
    }
  }
  c'2^\markup {
    \override #'(font-family . typewriter)
    {
      mono: foo \bold bla \italic bar \italic \bold baz
    }
  }
}  


</pre><p>
 <a href="../78/lily-e47679b4.ly">
  <img align="middle"
       border="0"
       src="../78/lily-e47679b4.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-staff-size.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing the staff size</h2>


<p>Though the simplest way to resize staves is to use
<code>#(set-global-staff-size xx)</code>, an individual staff&rsquo;s size can be
changed by scaling the properties <code>'staff-space</code> and
<code>fontSize</code>. 
</p>

<pre class="verbatim">&lt;&lt;
  \new Staff {
    \relative c'' {
      \dynamicDown
      c8\ff c c c c c c c
    }
  }
  \new Staff \with {
    fontSize = #-3
    \override StaffSymbol #'staff-space = #(magstep -3)
  } {
    \clef bass
    c8 c c c c\f c c c
  }
&gt;&gt;

</pre><p>
 <a href="../44/lily-448b205b.ly">
  <img align="middle"
       border="0"
       src="../44/lily-448b205b.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-vertical-ordering-of-scripts.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Controlling the vertical ordering of scripts</h2>


<p>The vertical ordering of scripts is controlled with the
<code>'script-priority</code> property. The lower this number, the closer it
will be put to the note. In this example, the <code>TextScript</code> (the
sharp symbol) first has the lowest priority, so it is put lowest in the
first example. In the second, the prall trill (the <code>Script</code>) has
the lowest, so it is on the inside. When two objects have the same
priority, the order in which they are entered determines which one
comes first. 
</p>

<pre class="verbatim">\relative c''' {
  \once \override TextScript #'script-priority = #-100
  a2^\prall^\markup { \sharp }
  
  \once \override Script #'script-priority = #-100
  a2^\prall^\markup { \sharp }
}

</pre><p>
 <a href="../9d/lily-6e396260.ly">
  <img align="middle"
       border="0"
       src="../9d/lily-6e396260.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-tuplet-bracket-visibility.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Controlling tuplet bracket visibility</h2>


<p>The default behavior of tuplet-bracket visibility is to print a bracket
unless there is a beam of the same length as the tuplet. To control the
visibility of tuplet brackets, set the property
<code>'bracket-visibility</code> to either <code>#t</code> (always print a
bracket), <code>#f</code> (never print a bracket) or <code>#'if-no-beam</code>
(only print a bracket if there is no beam). 
</p>

<pre class="verbatim">music = \relative c'' {
  \times 2/3 { c16[ d e } f8]
  \times 2/3 { c8 d e }
  \times 2/3 { c4 d e }
}

\new Voice {
  \relative c' {
    &lt;&lt; \music s4^&quot;default&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = #'if-no-beam
    &lt;&lt; \music s4^&quot;'if-no-beam&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##t
    &lt;&lt; \music s4^&quot;#t&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##f
    &lt;&lt; \music s4^&quot;#f&quot; &gt;&gt;
  }
} 


</pre><p>
 <a href="../16/lily-02d803da.ly">
  <img align="middle"
       border="0"
       src="../16/lily-02d803da.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-a-delayed-turn.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating a delayed turn</h2>


<p>Creating a delayed turn, where the lower note of the turn uses the
accidental, requires several overrides.  The
<code>outside-staff-priority</code> property must be set to <code>#f</code>, as
otherwise this would take precedence over the <code>avoid-slur
property</code>.  The value of <code>halign</code> is used to position the turn
horizontally.
</p>

<pre class="verbatim">\relative c'' {
  \once \override TextScript #'avoid-slur = #'inside
  \once \override TextScript #'outside-staff-priority = ##f
  c2(^\markup \tiny \override #'(baseline-skip . 1) {
    \halign #-4
    \center-column {
      \sharp
      \musicglyph #&quot;scripts.turn&quot;
    }
  }
  d4.) c8
}
</pre><p>
 <a href="../6b/lily-e30cfc0b.ly">
  <img align="middle"
       border="0"
       src="../6b/lily-e30cfc0b.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-simultaneous-rehearsal-marks.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating simultaneous rehearsal marks</h2>


<p>Unlike text scripts, rehearsal marks cannot be stacked at a particular
point in a score: only one <code>RehearsalMark</code> object is created. 
Using an invisible measure and bar line, an extra rehearsal mark can be
added, giving the appearance of two marks in the same column. This
method may also prove useful for placing rehearsal marks at both the
end of one system and the start of the following system. 
</p>

<pre class="verbatim">{
  \key a \major
  \set Score.markFormatter = #format-mark-box-letters
  \once \override Score.RehearsalMark #'outside-staff-priority = #5000
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \once \override Score.RehearsalMark #'break-align-symbols = #'(key-signature)
  \mark \markup { \bold { Senza denti } }
  
  % the hidden measure and bar line
  \once \override Score.TimeSignature #'stencil = ##f
  \time 1/16
  s16 \bar &quot;&quot;
  
  \time 4/4
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \mark \markup { \box \bold Intro }
  d'1
  \mark \default
  d'1
}
</pre><p>
 <a href="../d8/lily-ad064fd4.ly">
  <img align="middle"
       border="0"
       src="../d8/lily-ad064fd4.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-text-spanners.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating text spanners</h2>


<p>The <code>\startTextSpan</code> and <code>\stopTextSpan</code> commands allow the
creation of text spanners as easily as pedal indications or
octavations. Override some properties of the <code>TextSpanner</code> object
to modify its output.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }

\relative c'' {
  \override TextSpanner #'(bound-details left text) = #&quot;bla&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;blu&quot;
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'line
  \once \override TextSpanner
    #'(bound-details left stencil-align-dir-y) = #CENTER
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'dashed-line
  \override TextSpanner #'(bound-details left text) =
    \markup { \draw-line #'(0 . 1) }
  \override TextSpanner #'(bound-details right text) =
    \markup { \draw-line #'(0 . -2) }
  \once \override TextSpanner #'(bound-details right padding) = #-2

  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \set Staff.middleCPosition = #-13
  \override TextSpanner #'dash-period = #10
  \override TextSpanner #'dash-fraction = #0.5
  \override TextSpanner #'thickness = #10
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
}
</pre><p>
 <a href="../c3/lily-4156fc65.ly">
  <img align="middle"
       border="0"
       src="../c3/lily-4156fc65.png"
       alt="[image of music]">
 </a>
</p>




<a name="custodes.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Custodes</h2>


<p>Custodes may be engraved in various styles.
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

\new Staff \with { \consists &quot;Custos_engraver&quot; } \relative c' {
  \override Staff.Custos #'neutral-position = #4
  
  \override Staff.Custos #'style = #'hufnagel
  c1^&quot;hufnagel&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'medicaea
  c1^&quot;medicaea&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'vaticana
  c1^&quot;vaticana&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'mensural
  c1^&quot;mensural&quot; \break
  &lt;d a' f'&gt;1
}

</pre><p>
 <a href="../6b/lily-36a7783a.ly">
  <img align="middle"
       border="0"
       src="../6b/lily-36a7783a.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-fretboard-fret-diagrams.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Customizing fretboard fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For FretBoard fret diagrams, overrides
are applied to the <code>FretBoards.FretBoard</code> object. Like
<code>Voice</code>, <code>FretBoards</code> is a bottom level context, therefore
can be omitted in property overrides.
</p>

<pre class="verbatim">\include &quot;predefined-guitar-fretboards.ly&quot;
\storePredefinedDiagram \chordmode { c' }
                        #guitar-tuning
                        #&quot;x;1-1-(;3-2;3-3;3-4;1-1-);&quot;
&lt;&lt;
  \new ChordNames {
    \chordmode { c1 | c | c | d }
  }
  \new FretBoards {
    % Set global properties of fret diagram
    \override FretBoards.FretBoard #'size = #'1.2
    \override FretBoard
      #'(fret-diagram-details finger-code) = #'in-dot
    \override FretBoard
      #'(fret-diagram-details dot-color) = #'white
    \chordmode {
      c
      \once \override FretBoard #'size = #'1.0
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'straight
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      c'
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'none
      \once \override FretBoard
        #'(fret-diagram-details number-type) = #'arabic
      \once \override FretBoard
        #'(fret-diagram-details orientation) = #'landscape
      \once \override FretBoard
        #'(fret-diagram-details mute-string) = #&quot;M&quot;
      \once \override FretBoard
        #'(fret-diagram-details label-dir) = #LEFT
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      c'
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      \once \override FretBoard
        #'(fret-diagram-details dot-radius) = #0.35
      \once \override FretBoard
        #'(fret-diagram-details dot-position) = #0.5
      \once \override FretBoard
        #'(fret-diagram-details fret-count) = #3
      d
    }
  }
  \new Voice {
    c'1 | c' | c' | d'
  }
&gt;&gt;
</pre><p>
 <a href="../ce/lily-ccf0575b.ly">
  <img align="middle"
       border="0"
       src="../ce/lily-ccf0575b.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-markup-fret-diagrams.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Customizing markup fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For markup fret diagrams, overrides can
be applied to the <code>Voice.TextScript</code> object or directly to the
markup.
</p>

<pre class="verbatim">&lt;&lt;
  \chords { c1 | c | c | d }
  
  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #'1.2
    \override TextScript
      #'(fret-diagram-details finger-code) = #'in-dot
    \override TextScript
      #'(fret-diagram-details dot-color) = #'white

    %% C major for guitar, no barre, using defaults
       % terse style
    c'1^\markup { \fret-diagram-terse #&quot;x;3-3;2-2;o;1-1;o;&quot; }

    %% C major for guitar, barred on third fret
       % verbose style
       % size 1.0
       % roman fret label, finger labels below string, straight barre
    c'1^\markup {
      % standard size
      \override #'(size . 1.0) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . in-dot)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, barred on third fret
       % verbose style
       % landscape orientation, arabic numbers, M for mute string
       % no barre, fret label down or left, small mute label font
    c'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (number-type . arabic)
                   (label-dir . -1)
                   (mute-string . &quot;M&quot;)
                   (orientation . landscape)
                   (barre-type . none)
                   (xo-font-magnification . 0.4)
                   (xo-padding . 0.3))) {
        \fret-diagram-verbose #'((mute 6)
                                 (place-fret 5 3 1)
                                 (place-fret 4 5 2)
                                 (place-fret 3 5 3)
                                 (place-fret 2 5 4)
                                 (place-fret 1 3 1)
                                 (barre 5 1 3))
      }
    }

    %% simple D chord
       % terse style
       % larger dots, centered dots, fewer frets
       % label below string
    d'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="../4d/lily-5948aa0e.ly">
  <img align="middle"
       border="0"
       src="../4d/lily-5948aa0e.png"
       alt="[image of music]">
 </a>
</p>




<a name="display-bracket-with-only-one-staff-in-a-system.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Display bracket with only one staff in a system</h2>


<p>If there is only one staff in one of the staff types <code>ChoirStaff</code>
or <code>StaffGroup</code>, the bracket and the starting bar line will not be
displayed as standard behavior.  This can be changed by overriding the
relevant properties.
</p>
<p>Note that in contexts such as <code>PianoStaff</code> and <code>GrandStaff</code>
where the systems begin with a brace instead of a bracket, another
property has to be set, as shown on the second system in the example. 
</p>

<pre class="verbatim">\markup \left-column {
  \score {
    \new StaffGroup &lt;&lt;
      % Must be lower than the actual number of staff lines
      \override StaffGroup.SystemStartBracket #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
  \null
  \score {
    \new PianoStaff &lt;&lt;
      \override PianoStaff.SystemStartBrace #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
}
</pre><p>
 <a href="../a2/lily-746c1287.ly">
  <img align="middle"
       border="0"
       src="../a2/lily-746c1287.png"
       alt="[image of music]">
 </a>
</p>




<a name="dotted-harmonics.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Dotted harmonics</h2>


<p>Artificial harmonics using <code>\harmonic</code> do not show dots.  To
override this behavior, set the context property <code>harmonicDots</code>.
</p>

<pre class="verbatim">\relative c''' {
  \time 3/4
  \key f \major
  \set harmonicDots = ##t
  &lt;bes f'\harmonic&gt;2. ~
  &lt;bes f'\harmonic&gt;4. &lt;a e'\harmonic&gt;8( &lt;gis dis'\harmonic&gt; &lt;g d'\harmonic&gt;)
  &lt;fis cis'\harmonic&gt;2.
  &lt;bes f'\harmonic&gt;2.
}
</pre><p>
 <a href="../8c/lily-6e35e407.ly">
  <img align="middle"
       border="0"
       src="../8c/lily-6e35e407.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-boxes-around-grobs.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Drawing boxes around grobs</h2>


<p>The <code>print-function</code> can be overridden to draw a box around an
arbitrary grob.  
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'stencil =
    #(make-stencil-boxer 0.1 0.3 ly:text-interface::print)
  c'4^&quot;foo&quot;

  \override Stem #'stencil =
    #(make-stencil-boxer 0.05 0.25 ly:stem::print)
  \override Score.RehearsalMark  #'stencil =
    #(make-stencil-boxer 0.15 0.3 ly:text-interface::print)
  b8
  
  \revert Stem #'stencil
  c4. c4
  \mark &quot;F&quot;
  c1
}



</pre><p>
 <a href="../87/lily-f85ac8b5.ly">
  <img align="middle"
       border="0"
       src="../87/lily-f85ac8b5.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-circles-around-various-objects.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Drawing circles around various objects</h2>


<p>The <code>\circle</code> markup command draws circles around various
objects, for example fingering indications.  For other objects,
specific tweaks may be required: this example demonstrates two
strategies for rehearsal marks and measure numbers.
</p>

<pre class="verbatim">\relative c' {
  c1
  \set Score.markFormatter =
    #(lambda (mark context)
             (make-circle-markup (format-mark-numbers mark context)))
  \mark \default
  c2 d^\markup {
    \override #'(thickness . 3) {
      \circle \finger 2
    }
  }
  \override Score.BarNumber #'break-visibility = #all-visible
  \override Score.BarNumber #'stencil =
    #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
}
</pre><p>
 <a href="../ab/lily-91aea158.ly">
  <img align="middle"
       border="0"
       src="../ab/lily-91aea158.png"
       alt="[image of music]">
 </a>
</p>




<a name="fine-tuning-pedal-brackets.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Fine-tuning pedal brackets</h2>


<p>The appearance of pedal brackets may be altered in different ways.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }
\relative c'' {
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'shorten-pair = #'(-7 . -2)
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'edge-height = #'(0 . 3)
  c2\sostenutoOn c
  c2\sostenutoOff c
}
</pre><p>
 <a href="../f2/lily-8185dea4.ly">
  <img align="middle"
       border="0"
       src="../f2/lily-8185dea4.png"
       alt="[image of music]">
 </a>
</p>




<a name="forcing-horizontal-shift-of-notes.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Forcing horizontal shift of notes</h2>


<p>When the typesetting engine cannot cope, the following syntax can be
used to override typesetting decisions. The units of measure used here
are staff spaces.
</p>

<pre class="verbatim">\relative c' &lt;&lt;
  {
    &lt;d g&gt;2 &lt;d g&gt;
  }
  \\
  {
    &lt;b f'&gt;2
    \once \override NoteColumn #'force-hshift = #1.7
    &lt;b f'&gt;2
  }
&gt;&gt;

</pre><p>
 <a href="../5f/lily-606ba202.ly">
  <img align="middle"
       border="0"
       src="../5f/lily-606ba202.png"
       alt="[image of music]">
 </a>
</p>




<a name="fret-diagrams-explained-and-developed.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Fret diagrams explained and developed</h2>


<p>This snippet shows many possibilities for obtaining and tweaking fret
diagrams.
</p>

<pre class="verbatim">&lt;&lt;
  \chords {
    a2 a
    \repeat unfold 3 {
      c c c d d
    }
  }
  
  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #1.2
    \override TextScript 
      #'fret-diagram-details #'finger-code = #'below-string
    \override TextScript #'fret-diagram-details #'dot-color = #'black
    
    %% A chord for ukelele
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (string-count . 4)
                   (dot-color . white)
                   (finger-code . in-dot))) {
        \fret-diagram #&quot;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }
    
    %% A chord for ukelele, with formatting defined in definition string
    %  1.2 * size, 4 strings, 4 frets, fingerings below string
    %  dot radius .35 of fret spacing, dot position 0.55 of fret spacing
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (dot-color . white)
                   (open-string . &quot;o&quot;))) {
        \fret-diagram #&quot;s:1.2;w:4;h:3;f:2;d:0.35;p:0.55;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }
    
      %% These chords will be in normal orientation

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (string-thickness-factor . 0.3)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup  {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in landscape orientation
    \override TextScript 
       #'fret-diagram-details #'orientation = #'landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in opposing-landscape orientation
    \override TextScript #'fret-diagram-details 
                           #'orientation = #'opposing-landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="../b3/lily-c665e3f9.ly">
  <img align="middle"
       border="0"
       src="../b3/lily-c665e3f9.png"
       alt="[image of music]">
 </a>
</p>




<a name="horizontally-aligning-custom-dynamics-e.g.-sempre-pp,-piu-f,-subito-p.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</h2>


<p>Some dynamic expressions involve additional text, like &quot;sempre pp&quot;.
Since lilypond aligns all dynamics centered on the note, the \pp would
be displayed way after the note it applies to.
</p>
<p>To correctly align the &quot;sempre \pp&quot; horizontally, so that it is
aligned as if it were only the \pp, there are several approaches:
</p>
<p>* Simply use <code>\once\override DynamicText #'X-offset = #-9.2</code>
before the note with the dynamics to manually shift it to the correct
position. Drawback: This has to be done manually each time you use that
dynamic markup... * Add some padding (<code>#:hspace 7.1</code>) into the
definition of your custom dynamic mark, so that after lilypond
center-aligns it, it is already correctly aligned. Drawback: The
padding really takes up that space and does not allow any other markup
or dynamics to be shown in that position.
</p>
<p>* Shift the dynamic script <code>\once\override ... #'X-offset = ..</code>.
Drawback: <code>\once\override</code> is needed for every invocation!
</p>
<p>* Set the dimensions of the additional text to 0 (using
<code>#:with-dimensions '(0 . 0) '(0 . 0)</code>). Drawback: To lilypond
&quot;sempre&quot; has no extent, so it might put other stuff there and create
collisions (which are not detected by the collision dection!). Also,
there seems to be some spacing, so it&rsquo;s not exactly the same alignment
as without the additional text
</p>
<p>* Add an explicit shifting directly inside the scheme function for the
dynamic-script.
</p>
<p>* Set an explicit alignment inside the dynamic-script. By default, this
won&rsquo;t have any effect, only if one sets X-offset! Drawback: One needs
to set <code>DynamicText #'X-offset</code>, which will apply to all dynamic
texts! Also, it is aligned at the right edge of the additional text,
not at the center of pp.
</p>




<pre class="verbatim">\header { title = &quot;Horizontally aligning custom dynamics&quot; }

\paper { ragged-right = ##f }

% Solution 1: Using a simple markup with a particular halign value
% Drawback: It's a markup, not a dynamic command, so \dynamicDown
%           etc. will have no effect
semppMarkup = \markup { \halign #1.4 \italic &quot;sempre&quot; \dynamic &quot;pp&quot; }

% Solution 2: Using a dynamic script &amp; shifting with
%             \once \override ... #'X-offset = ..
% Drawback: \once \override needed for every invocation
semppK =
#(make-dynamic-script
  (markup #:line
	  (#:normal-text
	   #:italic &quot;sempre&quot;
	   #:dynamic &quot;pp&quot;)))

% Solution 3: Padding the dynamic script so the center-alignment
%             puts it at the correct position
% Drawback: the padding really reserves the space, nothing else can be there
semppT =
#(make-dynamic-script
  (markup #:line
	  (#:normal-text
	   #:italic &quot;sempre&quot;
	   #:dynamic &quot;pp&quot;
	   #:hspace 7.1)))

% Solution 4: Dynamic, setting the dimensions of the additional text to 0
% Drawback: To lilypond &quot;sempre&quot; has no extent, so it might put
%           other stuff there =&gt; collisions
% Drawback: Also, there seems to be some spacing, so it's not exactly the
%           same alignment as without the additional text
semppM =
#(make-dynamic-script
  (markup #:line (#:with-dimensions '(0 . 0) '(0 . 0)
   #:right-align #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

% Solution 5: Dynamic with explicit shifting inside the scheme function
semppG =
#(make-dynamic-script
  (markup
    #:hspace 0 #:translate '(-18.85 . 0)
    #:line( #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

% Solution 6: Dynamic with explicit alignment. This has only effect, if one sets X-offset!
% Drawback: One needs to set DynamicText #'X-offset!
% Drawback: Aligned at the right edge of the additional text, not at the center of pp
semppMII =
#(make-dynamic-script (markup #:line(#:right-align 
  #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

\context StaffGroup &lt;&lt;
  \context Staff = &quot;s&quot; &lt;&lt;
    \set Staff.instrumentName = &quot;Normal&quot;
    \relative c'' {
      \key es \major
      c4\pp c\p c c | c\ff c c\pp c
    }
  &gt;&gt;
  \context Staff = &quot;sMarkup&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Normal markup }
    \relative c'' {
      \key es \major
      c4-\semppMarkup c\p c c | c\ff c c-\semppMarkup c
    }
  &gt;&gt;
  \context Staff = &quot;sK&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Explicit shifting }
    \relative c'' {
      \key es \major
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c\p c c
      c4\ff c
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c
    }
  &gt;&gt;
  \context Staff = &quot;sT&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Right padding }
    \relative c'' {
      \key es \major
      c4\semppT c\p c c | c\ff c c\semppT c
    }
  &gt;&gt;
  \context Staff = &quot;sM&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Setting dimension &quot;to zero&quot; }
    \relative c'' {
      \key es \major
      c4\semppM c\p c c | c\ff c c\semppM c
    }
  &gt;&gt;
  \context Staff = &quot;sG&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Shifting inside dynamics }
    \relative c'' {
      \key es \major
      c4\semppG c\p c c | c\ff c c\semppG c
    }
  &gt;&gt;
  \context Staff = &quot;sMII&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Alignment inside dynamics }
    \relative c'' {
      \key es \major
      % Setting to ##f (false) gives the same result
      \override DynamicText #'X-offset = #0
      c4\semppMII c\p c c | c\ff c c\semppMII c
    }
  &gt;&gt;
&gt;&gt;
</pre><p>
 <a href="../0e/lily-d7d3650a.ly">
  <img align="middle"
       border="0"
       src="../0e/lily-d7d3650a.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-change-fret-diagram-position.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">How to change fret diagram position</h2>


<p>If you want to move the position of a fret diagram, for example, to
avoid collision, or to place it between two notes, you have various
possibilities:
</p>
<p>1) modify #&rsquo;padding or #&rsquo;extra-offset values (as shown in the first
snippet)
</p>
<p>2) you can add an invisible voice and attach the fret diagrams to the
invisible notes in that voice (as shown in the second example).
</p>
<p> If you need to move the fret according with a rythmic position inside
the bar (in the example, the third beat of the measure) the second
example is better, because the fret is aligned with the third beat
itself.  
</p>

<pre class="verbatim">harmonies = \chordmode
{
  a8:13
% THE FOLLOWING IS THE COMMAND TO MOVE THE CHORD NAME
  \once \override ChordNames.ChordName #'extra-offset = #'(10 . 0)
  b8:13 s2.
% THIS LINE IS THE SECOND METHOD
    s4 s4  b4:13
}

\score
{
  &lt;&lt;
    \context ChordNames \harmonies
    \context Staff
    {a8^\markup { \fret-diagram  #&quot;6-x;5-0;4-2;3-0;2-0;1-2;&quot;  }
% THE FOLLOWING IS THE COMMAND TO MOVE THE FRET DIAGRAM
     \once \override TextScript #'extra-offset = #'(10 . 0)
     b4.~^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  } b4. a8\break
% HERE IS THE SECOND METHOD
     &lt;&lt;
       { a8 b4.~ b4. a8} 
       { s4 s4 s4^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  }
       }
     &gt;&gt;
   }
  &gt;&gt;
}



</pre><p>
 <a href="../a8/lily-d78a72ee.ly">
  <img align="middle"
       border="0"
       src="../a8/lily-d78a72ee.png"
       alt="[image of music]">
 </a>
</p>




<a name="inserting-a-caesura.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Inserting a caesura</h2>


<p>Caesura marks can be created by overriding the <code>'text</code> property of
the <code>BreathingSign</code> object. A curved caesura mark is also
available. 
</p>

<pre class="verbatim">\relative c'' {
  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.straight&quot;
  }
  c8 e4. \breathe g8. e16 c4

  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.curved&quot;
  }
  g8 e'4. \breathe g8. e16 c4
}
</pre><p>
 <a href="../7a/lily-629a981c.ly">
  <img align="middle"
       border="0"
       src="../7a/lily-629a981c.png"
       alt="[image of music]">
 </a>
</p>




<a name="line-arrows.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Line arrows</h2>


<p>Arrows can be applied to text-spanners and line-spanners (such as the
Glissando).
</p>

<pre class="verbatim">\relative c'' {
  \override TextSpanner #'bound-padding = #1.0
  \override TextSpanner #'style = #'line
  \override TextSpanner #'(bound-details right arrow) = ##t
  \override TextSpanner #'(bound-details left text) = #&quot;fof&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;gag&quot;
  \override TextSpanner #'(bound-details right padding) = #0.6

  \override TextSpanner #'(bound-details right stencil-align-dir-y) = #CENTER
  \override TextSpanner #'(bound-details left stencil-align-dir-y) = #CENTER
  
  \override Glissando #'(bound-details right arrow) = ##t
  \override Glissando #'arrow-length = #0.5
  \override Glissando #'arrow-width = #0.25
  
  a8\startTextSpan gis a4 b\glissando b,
  g'4 c\stopTextSpan c2
}
</pre><p>
 <a href="../51/lily-e4bcfa65.ly">
  <img align="middle"
       border="0"
       src="../51/lily-e4bcfa65.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-an-object-invisible-with-the-transparent-property.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Making an object invisible with the &rsquo;transparent property</h2>


<p>Setting the <code>transparent</code> property will cause an object to be
printed in &quot;invisible ink&quot;: the object is not printed, but all its
other behavior is retained.  The object still takes up space, it takes
part in collisions, and slurs, ties and beams can be attached to it.
</p>

<p>This snippet demonstrates how to connect different voices using ties.
Normally, ties only connect two notes in the same voice.  By
introducing a tie in a different voice, and blanking the first up-stem
in that voice, the tie appears to cross voices. 
</p>

<pre class="verbatim">\relative c'' {
  \time 2/4
  &lt;&lt;
    {
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      b8 ~ b\noBeam
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      g8 ~ g\noBeam
    }
    \\
    {
      b8 g g e
    }
  &gt;&gt;
}
</pre><p>
 <a href="../0e/lily-a51bcbab.ly">
  <img align="middle"
       border="0"
       src="../0e/lily-a51bcbab.png"
       alt="[image of music]">
 </a>
</p>




<a name="manually-controlling-beam-positions.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Manually controlling beam positions</h2>


<p>Beam positions may be controlled manually, by overriding the
<code>positions</code> setting of the <code>Beam</code> grob.
</p>




<pre class="verbatim">\relative c' {
  \time 2/4
  % from upper staff-line (position 2) to center (position 0)
  \override Beam #'positions = #'(2 . 0)
  c8 c
  % from center to one above center (position 1)
  \override Beam #'positions = #'(0 . 1)
  c8 c
}


</pre><p>
 <a href="../31/lily-e99dc492.ly">
  <img align="middle"
       border="0"
       src="../31/lily-e99dc492.png"
       alt="[image of music]">
 </a>
</p>




<a name="mensurstriche-layout-bar-lines-between-the-staves.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Mensurstriche layout (bar lines between the staves)</h2>


<p>The mensurstriche-layout where the bar lines do not show on the staves
but between staves can be achieved with a <code>StaffGroup</code> instead of
a <code>ChoirStaff</code>.  The bar line on staves is blanked out by setting
the <code>transparent</code> property.
</p>

<pre class="verbatim">global = {
  \override Staff.BarLine #'transparent = ##t
  s1 s
  % the final bar line is not interrupted
  \revert Staff.BarLine #'transparent
  \bar &quot;|.&quot;
}
\new StaffGroup \relative c'' {
  &lt;&lt;
    \new Staff { &lt;&lt; \global { c1 c } &gt;&gt; }
    \new Staff { &lt;&lt; \global { c c } &gt;&gt; }
  &gt;&gt;
}

</pre><p>
 <a href="../2b/lily-269072f3.ly">
  <img align="middle"
       border="0"
       src="../2b/lily-269072f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="nesting-staves.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Nesting staves</h2>


<p>The property <code>systemStartDelimiterHierarchy</code> can be used to make
more complex nested staff groups. The command <code>\set
StaffGroup.systemStartDelimiterHierarchy</code> takes an alphabetical list of
the number of staves produced. Before each staff a system start
delimiter can be given. It has to be enclosed in brackets and takes as
much staves as the brackets enclose. Elements in the list can be
omitted, but the first bracket takes always the complete number of
staves. The possibilities are <code>SystemStartBar</code>,
<code>SystemStartBracket</code>, <code>SystemStartBrace</code>, and
<code>SystemStartSquare</code>.
</p>

<pre class="verbatim">\new StaffGroup
\relative c'' &lt;&lt;
  \set StaffGroup.systemStartDelimiterHierarchy
    = #'(SystemStartSquare (SystemStartBrace (SystemStartBracket a
                             (SystemStartSquare b)  ) c ) d)
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
&gt;&gt;

</pre><p>
 <a href="../bb/lily-f30de31d.ly">
  <img align="middle"
       border="0"
       src="../bb/lily-f30de31d.png"
       alt="[image of music]">
 </a>
</p>




<a name="percent-repeat-count-visibility.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Percent repeat count visibility</h2>


<p>Percent repeat counters can be shown at regular intervals by setting
the context property <code>repeatCountVisibility</code>.
</p>

<pre class="verbatim">\relative c'' {
  \set countPercentRepeats = ##t
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 5)
  \repeat percent 10 { c1 } \break
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 2)
  \repeat percent 6 { c1 d1 }
}
</pre><p>
 <a href="../bf/lily-f3b62c0d.ly">
  <img align="middle"
       border="0"
       src="../bf/lily-f3b62c0d.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Positioning multi-measure rests</h2>


<p>Unlike ordinary rests, there is no predefined command to change the
staff position of a multi-measure rest symbol of either form by
attaching it to a note.  However, in polyphonic music multi-measure
rests in odd-numbered and even-numbered voices are vertically
separated. The positioning of multi-measure rests can be controlled as
follows: 
</p>

<pre class="verbatim">\relative c'' {
  % Multi-measure rests by default are set under the fourth line
  R1
  % They can be moved with an override
  \override MultiMeasureRest #'staff-position = #-2
  R1
  % A value of 0 is the default position;
  % the following trick moves the rest to the center line
  \override MultiMeasureRest #'staff-position = #-0.01
  R1
  % Multi-measure rests in odd-numbered voices are under the top line
  &lt;&lt; { R1 } \\ { a1 } &gt;&gt;
  % Multi-measure rests in even-numbered voices are under the bottom line
  &lt;&lt; { c1 } \\ { R1 } &gt;&gt;
  % They remain separated even in empty measures
  &lt;&lt; { R1 } \\ { R1 } &gt;&gt;
  % This brings them together even though there are two voices
  \compressFullBarRests
  &lt;&lt;
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
    \\
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
  &gt;&gt;
}
</pre><p>
 <a href="../de/lily-d17161b9.ly">
  <img align="middle"
       border="0"
       src="../de/lily-d17161b9.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-text-markups-inside-slurs.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Positioning text markups inside slurs</h2>


<p>Text markups need to have the <code>outside-staff-priority</code> property
set to false in order to be printed inside slurs. 
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'avoid-slur = #'inside
  \override TextScript #'outside-staff-priority = ##f
  c2(^\markup { \halign #-10 \natural } d4.) c8
}


</pre><p>
 <a href="../d1/lily-d24567fb.ly">
  <img align="middle"
       border="0"
       src="../d1/lily-d24567fb.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-a-repeat-sign-at-the-beginning-of-a-piece.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing a repeat sign at the beginning of a piece</h2>


<p>A <code>|:</code> bar line can be printed at the beginning of a piece, by
overriding the relevant property:
</p>

<pre class="verbatim">\relative c'' {
  \once \override Score.BreakAlignment #'break-align-orders =
        #(make-vector 3 '(instrument-name
                          left-edge
                          ambitus
                          span-bar
                          breathing-sign
                          clef
                          key-signature
                          time-signature
                          staff-bar
                          custos
                          span-bar))
  \bar &quot;|:&quot;
  c1
  d1
  d4 e f g
}

</pre><p>
 <a href="../a7/lily-e2d43206.ly">
  <img align="middle"
       border="0"
       src="../a7/lily-e2d43206.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-bar-numbers-inside-boxes-or-circles.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing bar numbers inside boxes or circles</h2>


<p>Bar numbers can also be printed inside boxes or circles.
</p>

<pre class="verbatim">\relative c' {
  % Prevent bar numbers at the end of a line and permit them elsewhere
  \override Score.BarNumber  #'break-visibility = #end-of-line-invisible
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 4)

  % Increase the size of the bar number by 2
  \override Score.BarNumber #'font-size = #2

  % Draw a box round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-boxer 0.1 0.25 ly:text-interface::print)
  \repeat unfold 5 { c1 }

  % Draw a circle round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
  \repeat unfold 4 { c1 } \bar &quot;|.&quot;
}

</pre><p>
 <a href="../44/lily-1856a60a.ly">
  <img align="middle"
       border="0"
       src="../44/lily-1856a60a.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-metronome-and-rehearsal-marks-below-the-staff.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Proportional strict notespacing &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing metronome and rehearsal marks below the staff</h2>


<p>By default, metronome and rehearsal marks are printed above the staff. 
To place them below the staff simply set the <code>direction</code> property
of <code>MetronomeMark</code> or <code>RehearsalMark</code> appropriately.
</p>

<pre class="verbatim">\layout { ragged-right = ##f }

{
  % Metronome marks below the staff 
  \override Score.MetronomeMark #'direction = #DOWN
  \tempo 8. = 120
  c''1

  % Rehearsal marks below the staff
  \override Score.RehearsalMark #'direction = #DOWN
  \mark \default
  c''1
}

</pre><p>
 <a href="../c6/lily-d7c7a792.ly">
  <img align="middle"
       border="0"
       src="../c6/lily-d7c7a792.png"
       alt="[image of music]">
 </a>
</p>




<a name="proportional-strict-notespacing.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Proportional-strict-notespacing"></a>
<h2 class="unnumberedsec">Proportional strict notespacing</h2>


<p>If <code>strict-note-spacing</code> is set spacing of notes is not influenced
by bars or clefs within a system. Rather, they are placed just before
the note that occurs at the same time. This may cause collisions. 
</p>

<pre class="verbatim">\relative c'' &lt;&lt;
  \override Score.SpacingSpanner #'strict-note-spacing = ##t 
  \set Score.proportionalNotationDuration = #(ly:make-moment 1 16)
  \new Staff {
    c8[ c \clef alto c c \grace { d16 } c8 c] c4
    c2 \grace { c16[ c16] } c2
  }
  \new Staff {
    c2 \times 2/3 { c8 \clef bass cis,, c } c4
    c1
  }
&gt;&gt;

</pre><p>
 <a href="../f4/lily-a0aa97d3.ly">
  <img align="middle"
       border="0"
       src="../f4/lily-a0aa97d3.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-the-first-empty-line.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Proportional strict notespacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Removing the first empty line</h2>


<p>The first empty staff can also be removed from the score by setting the
<code>VerticalAxisGroup</code> property <code>remove-first</code>. This can be done
globally inside the <code>\layout</code> block, or locally inside the
specific staff that should be removed.  In the latter case, you have to
specify the context (<code>Staff</code> applies only to the current staff) in
front of the property.
</p>
<p>The lower staff of the second staff group is not removed, because the
setting applies only to the specific staff inside of which it is
written. 
</p>

<pre class="verbatim">\layout {
  \context { 
    \RemoveEmptyStaffContext 
    % To use the setting globally, uncomment the following line:
    % \override VerticalAxisGroup #'remove-first = ##t
  }
}
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    % To use the setting globally, comment this line,
    % uncomment the line in the \layout block above
    \override Staff.VerticalAxisGroup #'remove-first = ##t
    R1 \break
    R
  }
&gt;&gt;
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    R1 \break
    R
  }
&gt;&gt;

</pre><p>
 <a href="../98/lily-a844f544.ly">
  <img align="middle"
       border="0"
       src="../98/lily-a844f544.png"
       alt="[image of music]">
 </a>
</p>




<a name="rest-styles.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Rest styles</h2>


<p>Rests may be used in various styles.
</p>




<pre class="verbatim">\layout {
  indent = 0.0
  \context {
    \Staff
    \remove &quot;Time_signature_engraver&quot;
  }
}

\new Staff \relative c {
  \cadenzaOn
  \override Staff.Rest #'style = #'mensural
  r\maxima^\markup \typewriter { mensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'neomensural
  r\maxima^\markup \typewriter { neomensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'classical
  r\maxima^\markup \typewriter { classical }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest  #'style = #'default
  r\maxima^\markup \typewriter { default }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
}

</pre><p>
 <a href="../34/lily-f8f4eed5.ly">
  <img align="middle"
       border="0"
       src="../34/lily-f8f4eed5.png"
       alt="[image of music]">
 </a>
</p>




<a name="rhythmic-slashes.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Rhythmic slashes</h2>


<p>In &quot;simple&quot; lead-sheets, sometimes no actual notes are written,
instead only &quot;rhythmic patterns&quot; and chords above the measures are
notated giving the structure of a song. Such a feature is for example
useful while creating/transcribing the structure of a song and also
when sharing lead sheets with guitarists or jazz musicians. The
standard support for this using <code>\repeat percent</code> is unsuitable
here since the first beat has to be an ordinary note or rest. This
example shows two solutions to this problem, by redefining ordinary
rests to be printed as slashes. (If the duration of each beat is not a
quarter note, replace the <code>r4</code> in the definitions with a rest of
the appropriate duration). 
</p>

<pre class="verbatim">% Macro to print single slash
rs = {
  \once \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
  \once \override Rest #'thickness = #0.48
  \once \override Rest #'slope = #1.7
  r4
}

% Function to print a specified number of slashes
comp = #(define-music-function (parser location count) ( integer?)
  #{
    \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
    \override Rest #'thickness = #0.48
    \override Rest #'slope = #1.7
    \repeat unfold $count { r4 }
    \revert Rest #'stencil
  #}
)

\score {
  \relative c' {
    c4 d e f |
    \rs \rs \rs \rs |
    \comp #4 |
  }
}

</pre><p>
 <a href="../fd/lily-3fba4373.ly">
  <img align="middle"
       border="0"
       src="../fd/lily-3fba4373.png"
       alt="[image of music]">
 </a>
</p>




<a name="separating-key-cancellations-from-key-signature-changes.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Separating key cancellations from key signature changes</h2>


<p>By default, the accidentals used for key cancellations are placed
adjacent to those for key signature changes.  This behavior can be
changed by overriding the <code>'break-align-orders</code> property of the
<code>BreakAlignment</code> grob.
</p>

<p>The value of <code>'break-align-orders</code> is a vector of length 3, with
quoted lists of breakable items as elements.  This example only
modifies the second list, moving <code>key-cancellation</code> before
<code>staff-bar</code>; by modifying the second list, break alignment
behavior only changes in the middle of a system, not at the beginning
or the end. 
</p>

<pre class="verbatim">\new Staff {
  \override Score.BreakAlignment #'break-align-orders =
    #'#((left-edge ambitus breathing-sign clef staff-bar
                   key-cancellation key-signature time-signature custos)
      
        (left-edge ambitus breathing-sign clef key-cancellation
                   staff-bar key-signature time-signature custos)
      
        (left-edge ambitus breathing-sign clef key-cancellation
                   key-signature staff-bar time-signature custos))

  \key des \major
  c'1
  \bar &quot;||&quot;
  \key bes \major
  c'1
}
</pre><p>
 <a href="../52/lily-a1e4742f.ly">
  <img align="middle"
       border="0"
       src="../52/lily-a1e4742f.png"
       alt="[image of music]">
 </a>
</p>




<a name="setting-hairpin-behavior-at-bar-lines.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Setting hairpin behavior at bar lines</h2>


<p>If the note which ends a hairpin falls on a downbeat, the hairpin stops
at the bar line immediately preceding.  This behavior can be controlled
by overriding the <code>'to-barline</code> property.
</p>

<pre class="verbatim">\relative c'' {
  e4\&lt; e2.
  e1\!
  \override Hairpin #'to-barline = ##f
  e4\&lt; e2.
  e1\!
}
</pre><p>
 <a href="../61/lily-7bf24bdc.ly">
  <img align="middle"
       border="0"
       src="../61/lily-7bf24bdc.png"
       alt="[image of music]">
 </a>
</p>




<a name="specifying-context-with-beatgrouping.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Specifying context with beatGrouping</h2>


<p>By specifying the context, the effect of <code>beatGrouping</code> can be
limited to the context specified, and the values which may have been
set in higher-level contexts can be overridden.  The <code>\set</code>
commands must be placed after all <code>\time</code> commands:
</p>

<pre class="verbatim">\score {
  \new Staff &lt;&lt;
    \time 7/8
    \new Voice {
      \relative c'' {
        \set Staff.beatGrouping = #'(2 3 2)
        a8 a a a a a a
      }
    }
    \new Voice {
      \relative c' {
        \voiceTwo
        \set beatGrouping = #'(1 3 3)
        f8 f f f f f f
      }
    }
  &gt;&gt;
}
</pre><p>
 <a href="../c9/lily-2c4fa1bc.ly">
  <img align="middle"
       border="0"
       src="../c9/lily-2c4fa1bc.png"
       alt="[image of music]">
 </a>
</p>




<a name="suppressing-warnings-for-clashing-note-columns.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Suppressing warnings for clashing note columns</h2>


<p>If notes from two voices with stems in the same direction are placed at
the same position, and both voices have no shift or the same shift
specified, the error message &quot;warning: ignoring too many clashing note
columns&quot; will appear when compiling the LilyPond file.  This message
can be suppressed by setting the <code>'ignore-collision</code> property of
the <code>NoteColumn</code> object to <code>#t</code>.
</p>

<pre class="verbatim">ignore = \override NoteColumn #'ignore-collision = ##t

\relative c' {
  &lt;&lt;
    \ignore
    { \stemDown f2 g }
    \\
    { c2 c, }
  &gt;&gt;
}
</pre><p>
 <a href="../3f/lily-98301536.ly">
  <img align="middle"
       border="0"
       src="../3f/lily-98301536.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-in-parentheses.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Time signature in parentheses</h2>


<p>The time signature can be enclosed within parentheses.
</p>

<pre class="verbatim">\relative c'' {
  \override Staff.TimeSignature #'stencil = #(lambda (grob)
    (bracketify-stencil (ly:time-signature::print grob) Y 0.1 0.2 0.1))
  \time 2/4
  a4 b8 c
}

</pre><p>
 <a href="../b7/lily-d877efef.ly">
  <img align="middle"
       border="0"
       src="../b7/lily-d877efef.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-printing-only-the-numerator-as-a-number-instead-of-the-fraction.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Time signature printing only the numerator as a number (instead of the fraction)</h2>


<p>Sometimes, a time signature should not print the whole fraction (e.g.
7/4), but only the numerator (7 in this case). This can be easily done
by using \override Staff.TimeSignature #&rsquo;style = #&rsquo;single-digit to
change the style permanently. By using \revert Staff.TimeSignature
#&rsquo;style, this setting can be reversed. To apply the single-digit style
to only one time signature, use the \override command and prefix it
with a \once. 
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4 
  c4 c c
  % Change the style permanently
  \override Staff.TimeSignature #'style = #'single-digit
  \time 2/4 
  c c
  \time 3/4 
  c c c
  % Revert to default style:
  \revert Staff.TimeSignature #'style
  \time 2/4
  c c
  % single-digit style only for the next time signature
  \once \override Staff.TimeSignature #'style = #'single-digit
  \time 5/4
  c c c c c
  \time 2/4
  c c
}
</pre><p>
 <a href="../4f/lily-5a3e51b0.ly">
  <img align="middle"
       border="0"
       src="../4f/lily-5a3e51b0.png"
       alt="[image of music]">
 </a>
</p>




<a name="transcription-of-ancient-music-with-incipit.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Transcription of Ancient music with incipit</h2>


<p>As a workaround to get real incipits which are independent from the
main score these are included as a markup into the field normally used
for the instrument name. As for now lyrics can only be added as a
direct markup. It doesn&rsquo;t unfortunately conform with the spacing of the
main lyrics.
</p>

<pre class="verbatim">global = {
  \set Score.skipBars = ##t
  \key g \major
  \time 4/4
  
  %make the staff lines invisible on staves
  \override Staff.BarLine #'transparent = ##t
  \skip 1*8 % the actual music

  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f

  % finis bar
  \bar &quot;|.&quot;
}

  
discantusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    r2 g2. e4 fis g | % two bars
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorNotes = {
  \transpose c' c' {
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    r2 d'2. d'4 b e' | % two bars
    \once \override NoteHead #'transparent = ##t e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  &quot;...&quot; |
  -us. 
}

bassusNotes = {
  \transpose c' c' {
    \clef &quot;bass&quot;
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  Ju -- bi- |
  &quot;...&quot; |
  -us. 
}

incipitDiscantus = \markup{
	\score{
		{
		\set Staff.instrumentName=&quot;Discantus &quot;
		\override NoteHead   #'style = #'neomensural
		\override Rest #'style = #'neomensural
		\override Staff.TimeSignature #'style = #'neomensural
		\cadenzaOn 
		\clef &quot;neomensural-c1&quot;
		\key f \major
		\time 2/2
	  	c''1._&quot;IV-&quot; s2  %two bars
	  	\skip 1*8 % eight bars
    	}
	\layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
	}
	}
}

incipitAltus = \markup{
	\score{
		{ 
		\set Staff.instrumentName=&quot;Altus &quot;
		\override NoteHead   #'style = #'neomensural
		\override Rest #'style = #'neomensural
		\override Staff.TimeSignature #'style = #'neomensural
		\cadenzaOn 
		\clef &quot;neomensural-c3&quot;
		\key f \major
		\time 2/2
	  	r1        % one bar
        f'1._&quot;IV-&quot; s2   % two bars
        \skip 1*7 % seven bars
		}
	\layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
	}
	}
}

incipitTenor = \markup{
    \score{ {
    \set Staff.instrumentName = &quot;Tenor  &quot;
    \override NoteHead   #'style = #'neomensural
	\override Rest #'style = #'neomensural
	\override Staff.TimeSignature #'style = #'neomensural
	\cadenzaOn 
	\clef &quot;neomensural-c4&quot;
	\key f \major
	\time 2/2
    r\longa   % four bars
    r\breve   % two bars
    r1        % one bar
    c'1._&quot;IV-&quot; s2   % two bars
    \skip 1   % one bar
    }
    \layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
}
}
}

incipitBassus = \markup{
    \score{ {
    \set Staff.instrumentName = &quot;Bassus  &quot;
    \override NoteHead   #'style = #'neomensural
	\override Rest #'style = #'neomensural
	\override Staff.TimeSignature #'style = #'neomensural
	\cadenzaOn 
	\clef &quot;bass&quot;
	\key f \major
	\time 2/2
    % incipit
    r\maxima  % eight bars
    f1._&quot;IV-&quot; s2    % two bars
    }
    \layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
            }
     }
}

%StaffGroup is used instead of ChoirStaff to get bar lines between systems
\score {
  &lt;&lt;
  \new StaffGroup = choirStaff &lt;&lt;
    \new Voice =
      &quot;discantusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitDiscantus   
      \discantusNotes &gt;&gt;
    \new Lyrics =
      &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }
      
    \new Voice =
      &quot;altusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitAltus 
      \altusNotes &gt;&gt;
    \new Lyrics =
      &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }
     
    \new Voice =
      &quot;tenorNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitTenor 
      \tenorNotes &gt;&gt;
    \new Lyrics =
      &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }
     
    \new Voice =
      &quot;bassusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitBassus
      \bassusNotes &gt;&gt;
      &gt;&gt;
    \new Lyrics =
      &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics } 
    %Keep the bass lyrics outside of the staff group to avoid bar lines
    %between the lyrics.
  &gt;&gt;
  
  \layout {
    \context {
      \Score

      % no bars in staves
      \override BarLine #'transparent = ##t
    }
    % the next three instructions keep the lyrics between the barlines
	\context { \Lyrics 
	   \consists &quot;Bar_engraver&quot; 
	   \override BarLine #'transparent = ##t } 
	\context { \StaffGroup \consists &quot;Separating_line_group_engraver&quot; }
    \context {
      \Voice

      % no slurs
      \override Slur #'transparent = ##t

      % Comment in the below &quot;\remove&quot; command to allow line
      % breaking also at those barlines where a note overlaps
      % into the next bar.  The command is commented out in this
      % short example score, but especially for large scores, you
      % will typically yield better line breaking and thus improve
      % overall spacing if you comment in the following command.
      %\remove &quot;Forbid_line_break_engraver&quot;
    }
    	indent=5\cm
  }
}

</pre><p>
 <a href="../80/lily-486a5061.ly">
  <img align="middle"
       border="0"
       src="../80/lily-486a5061.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-clef-properties.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Tweaking clef properties</h2>


<p>The command <code>\clef &quot;treble_8&quot;</code> is equivalent to setting
<code>clefGlyph</code>, <code>clefPosition</code> (which controls the vertical
position of the clef), <code>middleCPosition</code> and
<code>clefOctavation</code>. A clef is printed when any of the properties
except <code>middleCPosition</code> are changed.
</p>

<p>Note that changing the glyph, the position of the clef, or the
octavation does not in itself change the position of subsequent notes
on the staff: the position of middle C must also be specified to do
this. The positional parameters are relative to the staff center line,
positive numbers displacing upwards, counting one for each line and
space. The <code>clefOctavation</code> value would normally be set to 7, -7,
15 or -15, but other values are valid.
</p>

<p>When a clef change takes place at a line break the new clef symbol is
printed at both the end of the previous line and the beginning of the
new line by default. If the warning clef at the end of the previous
line is not required it can be suppressed by setting the <code>Staff</code>
property <code>explicitClefVisibility</code> to the value
<code>end-of-line-invisible</code>. The default behavior can be recovered
with  <code>\unset Staff.explicitClefVisibility</code>.
</p>
<p>The following examples show the possibilities when setting these
properties manually. On the first line, the manual changes preserve the
standard relative positioning of clefs and notes, whereas on the second
line, they do not. 
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

{
  % The default treble clef
  c'1
  % The standard bass clef
  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  \set Staff.middleCPosition = #6
  c'1
  % The baritone clef
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  \set Staff.clefPosition = #4
  \set Staff.middleCPosition = #4
  c'1
  % The standard choral tenor clef
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  \set Staff.clefPosition = #-2
  \set Staff.clefOctavation = #-7
  \set Staff.middleCPosition = #1
  c'1
  % A non-standard clef
  \set Staff.clefPosition = #0
  \set Staff.clefOctavation = #0
  \set Staff.middleCPosition = #-4
  c'1 \break

  % The following clef changes do not preserve
  % the normal relationship between notes and clefs:

  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  c'1
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  c'1
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  c'1
  \set Staff.clefOctavation = #7
  c'1
  \set Staff.clefOctavation = #0
  \set Staff.clefPosition = #0
  c'1
  
  % Return to the normal clef:

  \set Staff.middleCPosition = #0
  c'1
}

</pre><p>
 <a href="../0b/lily-b3c92d4b.ly">
  <img align="middle"
       border="0"
       src="../0b/lily-b3c92d4b.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-grace-layout-within-music.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Tweaking grace layout within music</h2>


<p>The layout of grace expressions can be changed throughout the music
using the functions <code>add-grace-property</code> and
<code>remove-grace-property</code>. The following example undefines the
<code>Stem</code> direction for this grace, so that stems do not always point
up, and changes the default note heads to crosses. 
</p>

<pre class="verbatim">\relative c'' {
  \new Staff {
    #(remove-grace-property 'Voice 'Stem 'direction)
    #(add-grace-property 'Voice 'NoteHead 'style 'cross)
    \new Voice {
       \acciaccatura { f16 } g4
       \grace { d16[ e] } f4
       \appoggiatura { f,32[ g a] } e2
    }
  }
}
</pre><p>
 <a href="../7f/lily-6e6a2a49.ly">
  <img align="middle"
       border="0"
       src="../7f/lily-6e6a2a49.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-beatlength-and-beatgrouping.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Using beatLength and beatGrouping</h2>


<p>The property <code>measureLength</code> determines where bar lines should be
inserted and, with <code>beatLength</code> and <code>beatGrouping</code>, how
automatic beams should be generated for beam durations and time
signatures for which no beam-ending rules are defined.  This example
shows several ways of controlling beaming by setting these properties. 
The explanations are shown as comments in the code.
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  % The default in 3/4 time is to beam in three groups
  % each of a quarter note length
  a16 a a a a a a a a a a a

  \time 12/16
  % No auto-beaming is defined for 12/16
  a16 a a a a a a a a a a a

  \time 3/4
  % Change time signature symbol, but retain underlying 3/4 beaming
  \set Score.timeSignatureFraction = #'(12 . 16)
  a16 a a a a a a a a a a a

  % The 3/4 time default grouping of (1 1 1) and beatLength of 1/8
  % are not consistent with a measureLength of 3/4, so the beams
  % are grouped at beatLength intervals
  \set Score.beatLength = #(ly:make-moment 1 8)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 3 2 3) 1/16th notes
  % 3+3+2+3=11, and 11*1/16&lt;&gt;3/4, so beatGrouping does not apply,
  % and beams are grouped at beatLength (1/16) intervals
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 3 2 3)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 4 2 3) 1/16th notes
  % 3+4+2+3=12, and 12*1/16=3/4, so beatGrouping applies
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 4 2 3)
  a16 a a a a a a a a a a a
}
</pre><p>
 <a href="../31/lily-ef8d5a53.ly">
  <img align="middle"
       border="0"
       src="../31/lily-ef8d5a53.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-postscript-to-generate-special-note-head-shapes.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-the-_005ctweak-command-to-tweak-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using the \tweak command to tweak individual grobs &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Using PostScript to generate special note head shapes</h2>


<p>When a note head with a special shape cannot easily be generated with
graphic markup, PostScript code can be used to generate the shape. 
This example shows how a parallelogram-shaped note head is generated. 
</p>

<pre class="verbatim">parallelogram =
  #(ly:make-stencil (list 'embedded-ps
    &quot;gsave
      currentpoint translate
      newpath
      0 0.25 moveto
      1.3125 0.75 lineto
      1.3125 -0.25 lineto
      0 -0.75 lineto
      closepath
      fill
      grestore&quot; )
    (cons 0 1.3125)
    (cons 0 0))

myNoteHeads = \override NoteHead #'stencil = \parallelogram
normalNoteHeads = \revert NoteHead #'stencil

\relative c'' {
  \myNoteHeads
  g4 d'
  \normalNoteHeads
  &lt;f, \tweak #'stencil \parallelogram b e&gt;4 d
}


</pre><p>
 <a href="../f7/lily-b8594b66.ly">
  <img align="middle"
       border="0"
       src="../f7/lily-b8594b66.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-the--tweak-command-to-tweak-individual-grobs.ly"></a>
<hr size="6">
<a name="Using-the-_005ctweak-command-to-tweak-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vertically aligned dynamics and textscripts &gt; </a>]</td></tr></table>
<a name="Using-the-_005ctweak-command-to-tweak-individual-grobs"></a>
<h2 class="unnumberedsec">Using the \tweak command to tweak individual grobs</h2>


<p>With the <code>\tweak</code> command, every grob can be tuned directly. 
Here are some examples of available tweaks.
</p>

<pre class="verbatim">\relative c' {
  \time 2/4
  \set fingeringOrientations = #'(right)
  &lt;
    \tweak #'font-size #3 c
    \tweak #'color #red d-\tweak #'font-size #8 -4
    \tweak #'style #'cross g
    \tweak #'duration-log #2 a
  &gt;2
}

</pre><p>
 <a href="../d3/lily-e97ec062.ly">
  <img align="middle"
       border="0"
       src="../d3/lily-e97ec062.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligned-dynamics-and-textscripts.ly"></a>
<hr size="6">
<a name="Vertically-aligned-dynamics-and-textscripts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-the-_005ctweak-command-to-tweak-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using the \tweak command to tweak individual grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Vertically-aligned-dynamics-and-textscripts"></a>
<h2 class="unnumberedsec">Vertically aligned dynamics and textscripts</h2>


<p>By setting the <code>'Y-extent</code> property to a suitable value, all
<code>DynamicLineSpanner</code> objects (hairpins and dynamic texts) can be
aligned to a common reference point, regardless of their actual extent.
This way, every element will be vertically aligned, thus producing a
more pleasing output.
</p>
<p>The same idea is used to align the text scripts along their baseline.
</p>

<pre class="verbatim">music = \relative c'' {
  c2\p^\markup { gorgeous } c\f^\markup { fantastic }
  c4\p c\f\&gt; c c\!\p
}

{
  \music \break
  \override DynamicLineSpanner #'staff-padding = #2.0
  \override DynamicLineSpanner #'Y-extent = #'(-1.5 . 1.5)
  \override TextScript #'Y-extent = #'(-1.5 . 1.5)
  \music
}

</pre><p>
 <a href="../9e/lily-750175bd.ly">
  <img align="middle"
       border="0"
       src="../9e/lily-750175bd.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligning-ossias-and-lyrics.ly"></a>
<hr size="6">
<a name="Vertically-aligned-dynamics-and-textscripts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vertically aligned dynamics and textscripts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Paper and layout &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vertically aligning ossias and lyrics</h2>


<p>This snippet demonstrates the use of the context properties
<code>alignBelowContext</code> and <code>alignAboveContext</code> to control the
positioning of lyrics and ossias.
</p>

<pre class="verbatim">\paper {
  ragged-right = ##t
}

\relative c' &lt;&lt;
  \new Staff = &quot;1&quot; { c4 c s2 }
  \new Staff = &quot;2&quot; { c4 c s2 }
  \new Staff = &quot;3&quot; { c4 c s2 }
  { \skip 2
    &lt;&lt;
      \lyrics {
        \set alignBelowContext = #&quot;1&quot;
        lyrics4 below
      }
      \new Staff \with {
        alignAboveContext = #&quot;3&quot;
        fontSize = #-2
        \override StaffSymbol #'staff-space = #(magstep -2)
        \remove &quot;Time_signature_engraver&quot;
      } {
        \times 4/6 {
          \override TextScript #'padding = #3
          c8[^&quot;ossia above&quot; d e d e f]
        }
      }
    &gt;&gt;
  }
&gt;&gt;

</pre><p>
 <a href="../4d/lily-192a19d8.ly">
  <img align="middle"
       border="0"
       src="../4d/lily-192a19d8.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vertically aligned dynamics and textscripts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Paper-and-layout.html#Paper-and-layout" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Paper and layout &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html#Top" title="Start of the manual">Snippets List</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Pitches-1" href="Pitches.html#Pitches">Pitches</a>  </li>
  <li><a name="toc-Rhythms-1" href="Rhythms.html#Rhythms">Rhythms</a>  </li>
  <li><a name="toc-Expressive-marks-1" href="Expressive-marks.html#Expressive-marks">Expressive marks</a>  </li>
  <li><a name="toc-Repeats-1" href="Repeats.html#Repeats">Repeats</a>  </li>
  <li><a name="toc-Simultaneous-notes-1" href="Simultaneous-notes.html#Simultaneous-notes">Simultaneous notes</a>  </li>
  <li><a name="toc-Staff-notation-1" href="Staff-notation.html#Staff-notation">Staff notation</a>  </li>
  <li><a name="toc-Editorial-annotations-1" href="Editorial-annotations.html#Editorial-annotations">Editorial annotations</a>  </li>
  <li><a name="toc-Text-1" href="Text.html#Text">Text</a>  </li>
  <li><a name="toc-Vocal-music-1" href="Vocal-music.html#Vocal-music">Vocal music</a>  </li>
  <li><a name="toc-Chords-1" href="Chords.html#Chords">Chords</a>  </li>
  <li><a name="toc-Keyboards-1" href="Keyboards.html#Keyboards">Keyboards</a>  </li>
  <li><a name="toc-Percussion-1" href="Percussion.html#Percussion">Percussion</a>  </li>
  <li><a name="toc-Fretted-strings-1" href="Fretted-strings.html#Fretted-strings">Fretted strings</a>  </li>
  <li><a name="toc-Unfretted-strings-1" href="Unfretted-strings.html#Unfretted-strings">Unfretted strings</a>  </li>
  <li><a name="toc-Winds-1" href="Winds.html#Winds">Winds</a>  </li>
  <li><a name="toc-Ancient-notation-1" href="Ancient-notation.html#Ancient-notation">Ancient notation</a>  </li>
  <li><a name="toc-World-music-1" href="World-music.html#World-music">World music</a>  </li>
  <li><a name="toc-Contexts-and-engravers-1" href="Contexts-and-engravers.html#Contexts-and-engravers">Contexts and engravers</a>  </li>
  <li class="toc_current"><a name="toc-Tweaks-and-overrides-1" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Tweaks and overrides</a>
  <ul class="toc">
    <li class="toc_current"><a name="toc-Analysis-brackets-above-the-staff-1" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Analysis brackets above the staff</a>    </li>
    <li class="toc_current"><a name="toc-Avoiding-collisions-with-chord-fingerings-2" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Avoiding collisions with chord fingerings</a>    </li>
    <li class="toc_current"><a name="toc-Caesura-_0028_0022railtracks_0022_0029-with-fermata-1" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Caesura (&quot;railtracks&quot;) with fermata</a>    </li>
    <li class="toc_current"><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-2" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Changing a single note&rsquo;s size in a chord</a>    </li>
    <li class="toc_current"><a name="toc-Changing-form-of-multi_002dmeasure-rests-2" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Changing form of multi-measure rests</a>    </li>
    <li><a name="toc-Changing-properties-for-individual-grobs-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Changing properties for individual grobs</a>    </li>
    <li><a name="toc-Changing-the-default-text-font-family-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Changing the default text font family</a>    </li>
    <li><a name="toc-Changing-the-staff-size-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Changing the staff size</a>    </li>
    <li><a name="toc-Controlling-the-vertical-ordering-of-scripts-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Controlling the vertical ordering of scripts</a>    </li>
    <li><a name="toc-Controlling-tuplet-bracket-visibility-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Controlling tuplet bracket visibility</a>    </li>
    <li><a name="toc-Creating-a-delayed-turn-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Creating a delayed turn</a>    </li>
    <li><a name="toc-Creating-simultaneous-rehearsal-marks-3" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Creating simultaneous rehearsal marks</a>    </li>
    <li><a name="toc-Creating-text-spanners-3" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Creating text spanners</a>    </li>
    <li><a name="toc-Custodes-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Custodes</a>    </li>
    <li><a name="toc-Customizing-fretboard-fret-diagrams-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Customizing fretboard fret diagrams</a>    </li>
    <li><a name="toc-Customizing-markup-fret-diagrams-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Customizing markup fret diagrams</a>    </li>
    <li><a name="toc-Display-bracket-with-only-one-staff-in-a-system-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Display bracket with only one staff in a system</a>    </li>
    <li><a name="toc-Dotted-harmonics-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Dotted harmonics</a>    </li>
    <li><a name="toc-Drawing-boxes-around-grobs-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Drawing boxes around grobs</a>    </li>
    <li><a name="toc-Drawing-circles-around-various-objects-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Drawing circles around various objects</a>    </li>
    <li><a name="toc-Fine_002dtuning-pedal-brackets-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Fine-tuning pedal brackets</a>    </li>
    <li><a name="toc-Forcing-horizontal-shift-of-notes-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Forcing horizontal shift of notes</a>    </li>
    <li><a name="toc-Fret-diagrams-explained-and-developed-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Fret diagrams explained and developed</a>    </li>
    <li><a name="toc-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022_002c-_0022piu-f_0022_002c-_0022subito-p_0022_0029" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</a>    </li>
    <li><a name="toc-How-to-change-fret-diagram-position-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">How to change fret diagram position</a>    </li>
    <li><a name="toc-Inserting-a-caesura-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Inserting a caesura</a>    </li>
    <li><a name="toc-Line-arrows-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Line arrows</a>    </li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-3" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li><a name="toc-Manually-controlling-beam-positions-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Manually controlling beam positions</a>    </li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-3" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li><a name="toc-Nesting-staves-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Nesting staves</a>    </li>
    <li><a name="toc-Percent-repeat-count-visibility-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Percent repeat count visibility</a>    </li>
    <li><a name="toc-Positioning-multi_002dmeasure-rests-2" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Positioning multi-measure rests</a>    </li>
    <li><a name="toc-Positioning-text-markups-inside-slurs-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Positioning text markups inside slurs</a>    </li>
    <li><a name="toc-Printing-a-repeat-sign-at-the-beginning-of-a-piece-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Printing a repeat sign at the beginning of a piece</a>    </li>
    <li><a name="toc-Printing-bar-numbers-inside-boxes-or-circles-1" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Printing bar numbers inside boxes or circles</a>    </li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-3" href="Tweaks-and-overrides.html#Changing-properties-for-individual-grobs">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li><a name="toc-Proportional-strict-notespacing-1" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Proportional strict notespacing</a>    </li>
    <li><a name="toc-Removing-the-first-empty-line-2" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Removing the first empty line</a>    </li>
    <li><a name="toc-Rest-styles-3" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Rest styles</a>    </li>
    <li><a name="toc-Rhythmic-slashes-2" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Rhythmic slashes</a>    </li>
    <li><a name="toc-Separating-key-cancellations-from-key-signature-changes-2" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Separating key cancellations from key signature changes</a>    </li>
    <li><a name="toc-Setting-hairpin-behavior-at-bar-lines-2" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Setting hairpin behavior at bar lines</a>    </li>
    <li><a name="toc-Specifying-context-with-beatGrouping-1" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Specifying context with beatGrouping</a>    </li>
    <li><a name="toc-Suppressing-warnings-for-clashing-note-columns-1" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Suppressing warnings for clashing note columns</a>    </li>
    <li><a name="toc-Time-signature-in-parentheses-2" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Time signature in parentheses</a>    </li>
    <li><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029-2" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Time signature printing only the numerator as a number (instead of the fraction)</a>    </li>
    <li><a name="toc-Transcription-of-Ancient-music-with-incipit-1" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Transcription of Ancient music with incipit</a>    </li>
    <li><a name="toc-Tweaking-clef-properties-3" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Tweaking clef properties</a>    </li>
    <li><a name="toc-Tweaking-grace-layout-within-music-1" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Tweaking grace layout within music</a>    </li>
    <li><a name="toc-Using-beatLength-and-beatGrouping-2" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Using beatLength and beatGrouping</a>    </li>
    <li><a name="toc-Using-PostScript-to-generate-special-note-head-shapes-1" href="Tweaks-and-overrides.html#Proportional-strict-notespacing">Using PostScript to generate special note head shapes</a>    </li>
    <li><a name="toc-Using-the-_005ctweak-command-to-tweak-individual-grobs-1" href="Tweaks-and-overrides.html#Using-the-_005ctweak-command-to-tweak-individual-grobs">Using the \tweak command to tweak individual grobs</a>    </li>
    <li><a name="toc-Vertically-aligned-dynamics-and-textscripts-1" href="Tweaks-and-overrides.html#Vertically-aligned-dynamics-and-textscripts">Vertically aligned dynamics and textscripts</a>    </li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-2" href="Tweaks-and-overrides.html#Vertically-aligned-dynamics-and-textscripts">Vertically aligning ossias and lyrics</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Paper-and-layout-1" href="Paper-and-layout.html#Paper-and-layout">Paper and layout</a>  </li>
  <li><a name="toc-Titles-1" href="Titles.html#Titles">Titles</a>  </li>
  <li><a name="toc-Spacing-1" href="Spacing.html#Spacing">Spacing</a>  </li>
  <li><a name="toc-MIDI-1" href="MIDI.html#MIDI">MIDI</a>  </li>
  <li><a name="toc-Templates-1" href="Templates.html#Templates">Templates</a>  </li>
</ul>
</div>
</div>

</body>
</html>
