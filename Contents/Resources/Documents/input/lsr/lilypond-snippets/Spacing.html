<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond snippets: Spacing</title>

<meta name="description" content="LilyPond snippets: Spacing">
<meta name="keywords" content="LilyPond snippets: Spacing">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="GNU LilyPond &mdash; Snippets List">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="index.html#Top" rel="up" title="GNU LilyPond &mdash; Snippets List">
<link href="Templates.html#Single-staff-template-with-only-notes" rel="next" title="Vocal ensemble template">
<link href="Titles.html#Titles" rel="previous" title="Titles">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="../../../Documentation/user/lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="../../../Documentation/user/lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="../../../Documentation/user/lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="../../../Documentation/user/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Titles.html#Titles" title="Beginning of this chapter or previous chapter"> &lt;&lt; Titles&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Titles.html#Titles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="index.html#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Spacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Spacing"></a>
<h1 class="unnumbered">Spacing</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../../Documentation/user/lilypond/Spacing-issues.html#Spacing-issues">Spacing issues</a>.
</p>

<a name="adjusting-lyrics-vertical-spacing.ly"></a>
<hr size="6">
<a name="Spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Spacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adjusting lyrics vertical spacing</h2>


<p>This snippet shows how to bring the lyrics line closer to the staff.
</p>

<pre class="verbatim">% Default layout:
&lt;&lt;
  \new Staff \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \lyricsto melody { aa aa aa aa aa aa aa aa aa }

% Reducing the minimum space below the staff and above the lyrics:
  \new Staff \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1 . 4)
  }
  \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1.2 . 1)
  }
  \lyricsto melody { aa aa aa aa aa aa aa aa aa }
&gt;&gt;

</pre><p>
 <a href="../56/lily-5a2565ed.ly">
  <img align="middle"
       border="0"
       src="../56/lily-5a2565ed.png"
       alt="[image of music]">
 </a>
</p>




<a name="allowing-fingerings-to-be-printed-inside-the-staff.ly"></a>
<hr size="6">
<a name="Spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Page label &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Allowing fingerings to be printed inside the staff</h2>


<p>By default, vertically oriented fingerings are positioned outside the
staff.  However, this behavior can be canceled.
</p>

<pre class="verbatim">\relative c' {
  &lt;c-1 e-2 g-3 b-5&gt;2
  \once \override Fingering #'staff-padding = #'()
  &lt;c-1 e-2 g-3 b-5&gt;2
}

</pre><p>
 <a href="../f2/lily-ed399441.ly">
  <img align="middle"
       border="0"
       src="../f2/lily-ed399441.png"
       alt="[image of music]">
 </a>
</p>




<a name="page-label.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Page-label"></a>
<h2 class="unnumberedsec">Page label</h2>


<p>Page labels may be placed inside music or at top-level, and referred to
in markups.
</p>

<pre class="verbatim">#(set-default-paper-size &quot;a6&quot;)

#(define-markup-command (toc-line layout props label text)
  (symbol? markup?)
  (interpret-markup layout props
   (markup #:fill-line (text #:page-ref label &quot;8&quot; &quot;?&quot;))))

\book {
  \markup \huge \fill-line { \null Title Page \null }

  \pageBreak

  \label #'toc
  \markup \column {
    \large \fill-line { \null Table of contents \null }
    \toc-line #'toc &quot;Table of contents&quot;
    \toc-line #'firstScore &quot;First Score&quot;
    \toc-line #'markA &quot;Mark A&quot;
    \toc-line #'markB &quot;Mark B&quot;
    \toc-line #'markC &quot;Mark C&quot;
    \toc-line #'unknown &quot;Unknown label&quot;
  }

  \pageBreak

  \label #'firstScore
  \score {
    \new Staff \relative c' {
      c2 c
      \mark \markup {
        A (page \concat { \page-ref #'markA &quot;0&quot; &quot;?&quot; ) }
      } \label #'markA
      c2 c
      \pageBreak
      \mark &quot;B&quot; \label #'markB
      d2 d
      d2 d
      \once \override Score.RehearsalMark #'break-visibility =
        #begin-of-line-invisible
      \mark &quot;C&quot; \label #'markC
    }
    \header { piece = &quot;First score&quot; }
  }
}
</pre><p>
 <a href="../14/lily-46a6503d.ly">
  <img align="middle"
       border="0"
       src="../14/lily-46a6503d.png"
       alt="[image of music]">
 </a>
</p>




<a name="proportional-strict-notespacing.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Page label&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Proportional strict notespacing</h2>


<p>If <code>strict-note-spacing</code> is set spacing of notes is not influenced
by bars or clefs within a system. Rather, they are placed just before
the note that occurs at the same time. This may cause collisions. 
</p>

<pre class="verbatim">\relative c'' &lt;&lt;
  \override Score.SpacingSpanner #'strict-note-spacing = ##t 
  \set Score.proportionalNotationDuration = #(ly:make-moment 1 16)
  \new Staff {
    c8[ c \clef alto c c \grace { d16 } c8 c] c4
    c2 \grace { c16[ c16] } c2
  }
  \new Staff {
    c2 \times 2/3 { c8 \clef bass cis,, c } c4
    c1
  }
&gt;&gt;

</pre><p>
 <a href="../f4/lily-a0aa97d3.ly">
  <img align="middle"
       border="0"
       src="../f4/lily-a0aa97d3.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligned-dynamics-and-textscripts.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vertically aligned dynamics and textscripts</h2>


<p>By setting the <code>'Y-extent</code> property to a suitable value, all
<code>DynamicLineSpanner</code> objects (hairpins and dynamic texts) can be
aligned to a common reference point, regardless of their actual extent.
This way, every element will be vertically aligned, thus producing a
more pleasing output.
</p>
<p>The same idea is used to align the text scripts along their baseline.
</p>

<pre class="verbatim">music = \relative c'' {
  c2\p^\markup { gorgeous } c\f^\markup { fantastic }
  c4\p c\f\&gt; c c\!\p
}

{
  \music \break
  \override DynamicLineSpanner #'staff-padding = #2.0
  \override DynamicLineSpanner #'Y-extent = #'(-1.5 . 1.5)
  \override TextScript #'Y-extent = #'(-1.5 . 1.5)
  \music
}

</pre><p>
 <a href="../9e/lily-750175bd.ly">
  <img align="middle"
       border="0"
       src="../9e/lily-750175bd.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligning-ossias-and-lyrics.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="MIDI.html#MIDI" title="Next section in reading order" accesskey="n" rel="next">&nbsp;MIDI &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vertically aligning ossias and lyrics</h2>


<p>This snippet demonstrates the use of the context properties
<code>alignBelowContext</code> and <code>alignAboveContext</code> to control the
positioning of lyrics and ossias.
</p>

<pre class="verbatim">\paper {
  ragged-right = ##t
}

\relative c' &lt;&lt;
  \new Staff = &quot;1&quot; { c4 c s2 }
  \new Staff = &quot;2&quot; { c4 c s2 }
  \new Staff = &quot;3&quot; { c4 c s2 }
  { \skip 2
    &lt;&lt;
      \lyrics {
        \set alignBelowContext = #&quot;1&quot;
        lyrics4 below
      }
      \new Staff \with {
        alignAboveContext = #&quot;3&quot;
        fontSize = #-2
        \override StaffSymbol #'staff-space = #(magstep -2)
        \remove &quot;Time_signature_engraver&quot;
      } {
        \times 4/6 {
          \override TextScript #'padding = #3
          c8[^&quot;ossia above&quot; d e d e f]
        }
      }
    &gt;&gt;
  }
&gt;&gt;

</pre><p>
 <a href="../4d/lily-192a19d8.ly">
  <img align="middle"
       border="0"
       src="../4d/lily-192a19d8.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="MIDI.html#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="MIDI.html#MIDI" title="Next section in reading order" accesskey="n" rel="next">&nbsp;MIDI &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html#Top" title="Start of the manual">Snippets List</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Pitches-1" href="Pitches.html#Pitches">Pitches</a>  </li>
  <li><a name="toc-Rhythms-1" href="Rhythms.html#Rhythms">Rhythms</a>  </li>
  <li><a name="toc-Expressive-marks-1" href="Expressive-marks.html#Expressive-marks">Expressive marks</a>  </li>
  <li><a name="toc-Repeats-1" href="Repeats.html#Repeats">Repeats</a>  </li>
  <li><a name="toc-Simultaneous-notes-1" href="Simultaneous-notes.html#Simultaneous-notes">Simultaneous notes</a>  </li>
  <li><a name="toc-Staff-notation-1" href="Staff-notation.html#Staff-notation">Staff notation</a>  </li>
  <li><a name="toc-Editorial-annotations-1" href="Editorial-annotations.html#Editorial-annotations">Editorial annotations</a>  </li>
  <li><a name="toc-Text-1" href="Text.html#Text">Text</a>  </li>
  <li><a name="toc-Vocal-music-1" href="Vocal-music.html#Vocal-music">Vocal music</a>  </li>
  <li><a name="toc-Chords-1" href="Chords.html#Chords">Chords</a>  </li>
  <li><a name="toc-Keyboards-1" href="Keyboards.html#Keyboards">Keyboards</a>  </li>
  <li><a name="toc-Percussion-1" href="Percussion.html#Percussion">Percussion</a>  </li>
  <li><a name="toc-Fretted-strings-1" href="Fretted-strings.html#Fretted-strings">Fretted strings</a>  </li>
  <li><a name="toc-Unfretted-strings-1" href="Unfretted-strings.html#Unfretted-strings">Unfretted strings</a>  </li>
  <li><a name="toc-Winds-1" href="Winds.html#Winds">Winds</a>  </li>
  <li><a name="toc-Ancient-notation-1" href="Ancient-notation.html#Ancient-notation">Ancient notation</a>  </li>
  <li><a name="toc-World-music-1" href="World-music.html#World-music">World music</a>  </li>
  <li><a name="toc-Contexts-and-engravers-1" href="Contexts-and-engravers.html#Contexts-and-engravers">Contexts and engravers</a>  </li>
  <li><a name="toc-Tweaks-and-overrides-1" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Tweaks and overrides</a>  </li>
  <li><a name="toc-Paper-and-layout-1" href="Paper-and-layout.html#Paper-and-layout">Paper and layout</a>  </li>
  <li><a name="toc-Titles-1" href="Titles.html#Titles">Titles</a>  </li>
  <li class="toc_current"><a name="toc-Spacing-1" href="Spacing.html#Spacing">Spacing</a>
  <ul class="toc">
    <li class="toc_current"><a name="toc-Adjusting-lyrics-vertical-spacing-2" href="Spacing.html#Spacing">Adjusting lyrics vertical spacing</a>    </li>
    <li class="toc_current"><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-1" href="Spacing.html#Spacing">Allowing fingerings to be printed inside the staff</a>    </li>
    <li><a name="toc-Page-label-1" href="Spacing.html#Page-label">Page label</a>    </li>
    <li><a name="toc-Proportional-strict-notespacing-2" href="Spacing.html#Page-label">Proportional strict notespacing</a>    </li>
    <li><a name="toc-Vertically-aligned-dynamics-and-textscripts-2" href="Spacing.html#Page-label">Vertically aligned dynamics and textscripts</a>    </li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-1" href="Spacing.html#Page-label">Vertically aligning ossias and lyrics</a>    </li>
  </ul>
  </li>
  <li><a name="toc-MIDI-1" href="MIDI.html#MIDI">MIDI</a>  </li>
  <li><a name="toc-Templates-1" href="Templates.html#Templates">Templates</a>  </li>
</ul>
</div>
</div>

</body>
</html>
