<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond snippets: Rhythms</title>

<meta name="description" content="LilyPond snippets: Rhythms">
<meta name="keywords" content="LilyPond snippets: Rhythms">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="GNU LilyPond &mdash; Snippets List">
<link href="index_toc.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.html#SEC_About" rel="help" title="About This Document">
<link href="index.html#Top" rel="up" title="GNU LilyPond &mdash; Snippets List">
<link href="Templates.html#Single-staff-template-with-only-notes" rel="next" title="Vocal ensemble template">
<link href="Pitches.html#Pitches" rel="previous" title="Pitches">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="../../../Documentation/user/lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="../../../Documentation/user/lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="../../../Documentation/user/lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="../../../Documentation/user/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Rhythms"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="Pitches.html#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="Pitches.html#Tweaking-clef-properties" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaking clef properties&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="index.html#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-beams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding beams &gt; </a>]</td></tr></table>
<a name="Rhythms"></a>
<h1 class="unnumbered">Rhythms</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../../Documentation/user/lilypond/Rhythms.html#Rhythms">Rhythms</a>.
</p>

<a name="adding-beams,-slurs,-ties-etc.-when-using-tuplet-and-non-tuplet-rhythms.ly"></a>
<hr size="6">
<a name="Adding-beams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Rhythms" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-drum-parts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding drum parts &gt; </a>]</td></tr></table>
<a name="Adding-beams"></a>
<h2 class="unnumberedsec">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</h2>


<p>LilyPond syntax can involve many unusual placements for parentheses,
brackets etc., which might sometimes have to be interleaved. For
example, when entering a manual beam, the left square bracket has to be
placed after the starting note and its duration, not before. Similarly,
the right square bracket should directly follow the note which is to be
at the end of the requested beaming, even if this note happens to be
inside a tuplet section. This snippet demonstrates how to combine
manual beaming, manual slurs, ties and phrasing slurs with tuplet
sections (enclosed within curly braces). 
</p>

<pre class="verbatim">{
  r16[ g16 \times 2/3 { r16 e'8] }
  g16( a \times 2/3 { b d e') }
  g8[( a \times 2/3 { b d') e'] ~ }
  \time 2/4
  \times 4/5 { e'32\( a b d' e' } a'4.\)
}

</pre><p>
 <a href="../85/lily-7e3b3e54.ly">
  <img align="middle"
       border="0"
       src="../85/lily-7e3b3e54.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-drum-parts.ly"></a>
<hr size="6">
<a name="Adding-drum-parts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-beams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding beams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Aligning-bar-numbers" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Aligning bar numbers &gt; </a>]</td></tr></table>
<a name="Adding-drum-parts"></a>
<h2 class="unnumberedsec">Adding drum parts</h2>


<p>Using the powerful pre-configured tools such as the <code>\drummode</code>
function and the <code>DrumStaff</code> context, inputting drum parts is
quite easy: drums are placed at their own staff positions (with a
special clef symbol) and have note heads according to the drum.
Attaching an extra symbol to the drum or restricting the number of
lines is possible. 
</p>

<pre class="verbatim">drh = \drummode { cymc4.^&quot;crash&quot; hhc16^&quot;h.h.&quot; hh hhc8 hho hhc8 hh16 hh hhc4 r4 r2 }
drl = \drummode { bd4 sn8 bd bd4 &lt;&lt; bd ss &gt;&gt;  bd8 tommh tommh bd toml toml bd tomfh16 tomfh }
timb = \drummode { timh4 ssh timl8 ssh r timh r4 ssh8 timl r4 cb8 cb }

\score {
  &lt;&lt;
    \new DrumStaff \with {
      drumStyleTable = #timbales-style
      \override StaffSymbol #'line-count = #2
      \override BarLine #'bar-size = #2
    } &lt;&lt;
      \set Staff.instrumentName = #&quot;timbales&quot;
      \timb
    &gt;&gt;
    \new DrumStaff &lt;&lt;
      \set Staff.instrumentName = #&quot;drums&quot;
      \new DrumVoice { \stemUp \drh }
      \new DrumVoice { \stemDown \drl }
    &gt;&gt;
  &gt;&gt;
  \layout { }
  \midi {
    \context {
      \Score
      tempoWholesPerMinute = #(ly:make-moment 120 4)
    }
  }
}

</pre><p>
 <a href="../04/lily-2d7e2c62.ly">
  <img align="middle"
       border="0"
       src="../04/lily-2d7e2c62.png"
       alt="[image of music]">
 </a>
</p>




<a name="aligning-bar-numbers.ly"></a>
<hr size="6">
<a name="Aligning-bar-numbers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-drum-parts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding drum parts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Automatic-beam-subdivisions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Automatic beam subdivisions &gt; </a>]</td></tr></table>
<a name="Aligning-bar-numbers"></a>
<h2 class="unnumberedsec">Aligning bar numbers</h2>


<p>Bar numbers by default are right-aligned to their parent object. This
is usually the left edge of a line or, if numbers are printed within a
line, the left hand side of a bar line.  The numbers may also be
positioned directly over the bar line or left-aligned to the bar line.
</p>

<pre class="verbatim">\relative c' {
  \set Score.currentBarNumber = #111
  \override Score.BarNumber #'break-visibility = #'#(#t #t #t)
  % Increase the size of the bar number by 2
  \override Score.BarNumber #'font-size = #2
  % Print a bar number every second measure
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 2)
  c1 | c1
  % Center-align bar numbers
  \override Score.BarNumber #'self-alignment-X = #CENTER
  c1 | c1
  % Left-align bar numbers
  \override Score.BarNumber #'self-alignment-X = #LEFT
  c1 | c1
}

</pre><p>
 <a href="../06/lily-7e7b85de.ly">
  <img align="middle"
       border="0"
       src="../06/lily-7e7b85de.png"
       alt="[image of music]">
 </a>
</p>




<a name="automatic-beam-subdivisions.ly"></a>
<hr size="6">
<a name="Automatic-beam-subdivisions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Aligning-bar-numbers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Aligning bar numbers&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Avoiding-collisions-with-chord-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Avoiding collisions with chord fingerings &gt; </a>]</td></tr></table>
<a name="Automatic-beam-subdivisions"></a>
<h2 class="unnumberedsec">Automatic beam subdivisions</h2>


<p>Beams can be subdivided automatically.  By setting the property
<code>subdivideBeams</code>, beams are subdivided at beat positions (as
specified in <code>beatLength</code>). 
</p>

<pre class="verbatim">\new Staff {
  \relative c'' {
    &lt;&lt;
      {
        \voiceOne
        \set subdivideBeams = ##t
        b32[ a g f c' b a g
        b32^&quot;subdivide beams&quot; a g f c' b a g]
      }
      \new Voice {
        \voiceTwo
        b32_&quot;default&quot;[ a g f c' b a g
        b32 a g f c' b a g]
      }
    &gt;&gt;
    \oneVoice
    \set beatLength = #(ly:make-moment 1 8)
    b32^&quot;beatLength 1 8&quot;[ a g f c' b a g]
    \set beatLength = #(ly:make-moment 1 16)
    b32^&quot;beatLength 1 16&quot;[ a g f c' b a g]
  }
}

</pre><p>
 <a href="../3e/lily-62e6c9d1.ly">
  <img align="middle"
       border="0"
       src="../3e/lily-62e6c9d1.png"
       alt="[image of music]">
 </a>
</p>




<a name="avoiding-collisions-with-chord-fingerings.ly"></a>
<hr size="6">
<a name="Avoiding-collisions-with-chord-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Automatic-beam-subdivisions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Automatic beam subdivisions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Beam-endings-in-Score-context" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Beam endings in Score context &gt; </a>]</td></tr></table>
<a name="Avoiding-collisions-with-chord-fingerings"></a>
<h2 class="unnumberedsec">Avoiding collisions with chord fingerings</h2>


<p>Fingerings and string numbers applied to individual notes will
automatically avoid beams and stems, but this is not true by default
for fingerings and string numbers applied to the individual notes of
chords.  The following example shows how this default behavior can be
overridden.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(up)
  \set stringNumberOrientations = #'(up)
  \set strokeFingerOrientations = #'(up)
  
  % Default behavior
  r8
  &lt;f c'-5&gt;8
  &lt;f c'\5&gt;8
  &lt;f c'-\rightHandFinger #2 &gt;8
  
  % Corrected to avoid collisions
  r8
  \override Fingering #'add-stem-support = ##t
  &lt;f c'-5&gt;8
  \override StringNumber #'add-stem-support = ##t
  &lt;f c'\5&gt;8
  \override StrokeFinger #'add-stem-support = ##t
  &lt;f c'-\rightHandFinger #2 &gt;8
}

</pre><p>
 <a href="../01/lily-9528ce63.ly">
  <img align="middle"
       border="0"
       src="../01/lily-9528ce63.png"
       alt="[image of music]">
 </a>
</p>




<a name="beam-endings-in-score-context.ly"></a>
<hr size="6">
<a name="Beam-endings-in-Score-context"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Avoiding-collisions-with-chord-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Avoiding collisions with chord fingerings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Beam-grouping-in-7_002f8-time" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Beam grouping in 7/8 time &gt; </a>]</td></tr></table>
<a name="Beam-endings-in-Score-context"></a>
<h2 class="unnumberedsec">Beam endings in Score context</h2>


<p>Beam-ending rules specified in the <code>Score</code> context apply to all
staves, but can be modified at both <code>Staff</code> and <code>Voice</code>
levels: 
</p>

<pre class="verbatim">\relative c'' {
  \time 5/4
  % Set default beaming for all staves
  #(score-override-auto-beam-setting '(end * * 5 4) 3 8)
  #(score-override-auto-beam-setting '(end * * 5 4) 7 8)
  &lt;&lt;
    \new Staff {
      c8 c c c c c c c c c
    }
    \new Staff {
      % Modify beaming for just this staff
      #(override-auto-beam-setting '(end * * 5 4) 6 8 'Staff)
      #(revert-auto-beam-setting '(end * * 5 4) 7 8 'Staff)
      c8 c c c c c c c c c
    }
    \new Staff {
      % Inherit beaming from Score context
      &lt;&lt;
        {
          \voiceOne
          c8 c c c c c c c c c
        }
        % Modify beaming for this voice only
        \new Voice {
          \voiceTwo
          #(override-auto-beam-setting '(end * * 5 4) 6 8)
          #(revert-auto-beam-setting '(end * * 5 4) 7 8)
          a8 a a a a a a a a a
        }
      &gt;&gt;
    }
  &gt;&gt;
}

</pre><p>
 <a href="../2c/lily-34bd9633.ly">
  <img align="middle"
       border="0"
       src="../2c/lily-34bd9633.png"
       alt="[image of music]">
 </a>
</p>




<a name="beam-grouping-in-7-8-time.ly"></a>
<hr size="6">
<a name="Beam-grouping-in-7_002f8-time"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Beam-endings-in-Score-context" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Beam endings in Score context&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Beams-across-line-breaks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Beams across line breaks &gt; </a>]</td></tr></table>
<a name="Beam-grouping-in-7_002f8-time"></a>
<h2 class="unnumberedsec">Beam grouping in 7/8 time</h2>


<p>There are no default automatic beam groupings specified for 7/8 time,
so if automatic beams are required the grouping must be specified.  For
example, to group all beams 2-3-2 in 7/8 time, specify beam endings at
2/8 and 5/8: 
</p>

<pre class="verbatim">\relative c'' {
  \time 7/8
  % rhythm 2-3-2
  a8 a a a a a a
  #(override-auto-beam-setting '(end * * 7 8) 2 8)
  #(override-auto-beam-setting '(end * * 7 8) 5 8)
  a8 a a a a a a
}

</pre><p>
 <a href="../05/lily-1827b02a.ly">
  <img align="middle"
       border="0"
       src="../05/lily-1827b02a.png"
       alt="[image of music]">
 </a>
</p>




<a name="beams-across-line-breaks.ly"></a>
<hr size="6">
<a name="Beams-across-line-breaks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Beam-grouping-in-7_002f8-time" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Beam grouping in 7/8 time&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-beam-knee-gap" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing beam knee gap &gt; </a>]</td></tr></table>
<a name="Beams-across-line-breaks"></a>
<h2 class="unnumberedsec">Beams across line breaks</h2>


<p>Line breaks are normally forbidden when beams cross bar lines. This
behavior can be changed as shown: 
</p>

<pre class="verbatim">\relative c'' {
  \override Beam #'breakable = ##t
  c8 c[ c] c[ c] c[ c] c[ \break  
  c8] c[ c] c[ c] c[ c] c
}


</pre><p>
 <a href="../3e/lily-10e999dd.ly">
  <img align="middle"
       border="0"
       src="../3e/lily-10e999dd.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-beam-knee-gap.ly"></a>
<hr size="6">
<a name="Changing-beam-knee-gap"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Beams-across-line-breaks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Beams across line breaks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-form-of-multi_002dmeasure-rests" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing form of multi-measure rests &gt; </a>]</td></tr></table>
<a name="Changing-beam-knee-gap"></a>
<h2 class="unnumberedsec">Changing beam knee gap</h2>


<p>Kneed beams are inserted automatically when a large gap is detected
between the note heads.  This behavior can be tuned through the
<code>auto-knee-gap</code> property.  A kneed beam is drawn if the gap is
larger than the value of <code>auto-knee-gap</code> plus the width of the
beam object  (which depends on the duration of the notes and the slope
of the beam). By default <code>auto-knee-gap</code> is set to 5.5 staff
spaces. 
</p>

<pre class="verbatim">{
  f8 f''8 f8 f''8
  \override Beam #'auto-knee-gap = #6
  f8 f''8 f8 f''8
}

</pre><p>
 <a href="../86/lily-2bf622cb.ly">
  <img align="middle"
       border="0"
       src="../86/lily-2bf622cb.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-form-of-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Changing-form-of-multi_002dmeasure-rests"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-beam-knee-gap" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing beam knee gap&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-time-signature-without-affecting-the-beaming" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the time signature without affecting the beaming &gt; </a>]</td></tr></table>
<a name="Changing-form-of-multi_002dmeasure-rests"></a>
<h2 class="unnumberedsec">Changing form of multi-measure rests</h2>


<p>If there are ten or fewer measures of rests, a series of longa and
breve rests (called in German &quot;Kirchenpausen&quot; - church rests) is
printed within the staff; otherwise a simple line is shown. This
default number of ten may be changed by overriding the
<code>expand-limit</code> property.
</p>

<pre class="verbatim">\relative c'' {
  \compressFullBarRests
  R1*2 | R1*5 | R1*9
  \override MultiMeasureRest #'expand-limit = #3
  R1*2 | R1*5 | R1*9
}
</pre><p>
 <a href="../9e/lily-7400df93.ly">
  <img align="middle"
       border="0"
       src="../9e/lily-7400df93.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-time-signature-without-affecting-the-beaming.ly"></a>
<hr size="6">
<a name="Changing-the-time-signature-without-affecting-the-beaming"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-form-of-multi_002dmeasure-rests" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing form of multi-measure rests&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-tuplet-number" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the tuplet number &gt; </a>]</td></tr></table>
<a name="Changing-the-time-signature-without-affecting-the-beaming"></a>
<h2 class="unnumberedsec">Changing the time signature without affecting the beaming</h2>


<p>The <code>\time</code> command sets the properties
<code>timeSignatureFraction</code>, <code>beatLength</code>, <code>beatGrouping</code>
and <code>measureLength</code> in the <code>Timing</code> context, which is
normally aliased to <code>Score</code>. Changing the value of
<code>timeSignatureFraction</code> causes the new time signature symbol to be
printed without changing any of the other properties: 
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  a16 a a a a a a a a a a a

  % Change time signature symbol but keep 3/4 beaming
  % due to unchanged underlying time signature
  \set Score.timeSignatureFraction = #'(12 . 16)
  a16 a a a a a a a a a a a

  \time 12/16
  % Lose 3/4 beaming now \time has been changed
  a16 a a a a a a a a a a a
}

</pre><p>
 <a href="../f7/lily-f45cf9a6.ly">
  <img align="middle"
       border="0"
       src="../f7/lily-f45cf9a6.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-tuplet-number.ly"></a>
<hr size="6">
<a name="Changing-the-tuplet-number"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-time-signature-without-affecting-the-beaming" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the time signature without affecting the beaming&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing time signatures inside a polymetric section using \scaleDurations &gt; </a>]</td></tr></table>
<a name="Changing-the-tuplet-number"></a>
<h2 class="unnumberedsec">Changing the tuplet number</h2>


<p>By default, only the numerator of the tuplet number is printed over the
tuplet bracket, i.e., the denominator of the argument to the
<code>\times</code> command. Alternatively, num:den of the tuplet number may
be printed, or the tuplet number may be suppressed altogether.
</p>

<pre class="verbatim">\relative c'' {
  \times 2/3 { c8 c c }
  \times 2/3 { c8 c c }
  \override TupletNumber #'text = #tuplet-number::calc-fraction-text
  \times 2/3 { c8 c c }
  \override TupletNumber #'stencil = ##f
  \times 2/3 { c8 c c }
}

</pre><p>
 <a href="../05/lily-bb903f88.ly">
  <img align="middle"
       border="0"
       src="../05/lily-bb903f88.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-time-signatures-inside-a-polymetric-section-using--scaledurations.ly"></a>
<hr size="6">
<a name="Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-tuplet-number" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the tuplet number&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Chant-or-psalms-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Chant or psalms notation &gt; </a>]</td></tr></table>
<a name="Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations"></a>
<h2 class="unnumberedsec">Changing time signatures inside a polymetric section using \scaleDurations</h2>


<p>The <code>measureLength</code> property, together with
<code>measurePosition</code>, determines when a bar line is needed.  However,
when using <code>\scaleDurations</code>, the scaling of durations makes it
difficult to change time signatures.  In this case,
<code>measureLength</code> should be set manually, using the
<code>ly:make-moment</code> callback.  The second argument must be the same
as the second argument of <code>\scaleDurations</code>.
</p>

<pre class="verbatim">\layout {
  \context {
    \Score
    \remove &quot;Timing_translator&quot;
    \remove &quot;Default_bar_line_engraver&quot;
  }
  \context {
    \Staff
    \consists &quot;Timing_translator&quot;
    \consists &quot;Default_bar_line_engraver&quot;
  }
}

&lt;&lt;
  \new Staff {
    \scaleDurations #'(8 . 5) {
      \time 6/8
      \set Timing.measureLength = #(ly:make-moment 6 5)
      b8 b b b b b
      \time 2/4
      \set Timing.measureLength = #(ly:make-moment 4 5)
      b4 b
    }
  }
  \new Staff {
    \clef bass
    \time 2/4
    c2 d e f
  }
&gt;&gt;
</pre><p>
 <a href="../99/lily-190771d5.ly">
  <img align="middle"
       border="0"
       src="../99/lily-190771d5.png"
       alt="[image of music]">
 </a>
</p>




<a name="chant-or-psalms-notation.ly"></a>
<hr size="6">
<a name="Chant-or-psalms-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing time signatures inside a polymetric section using \scaleDurations&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Compound-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Compound time signatures &gt; </a>]</td></tr></table>
<a name="Chant-or-psalms-notation"></a>
<h2 class="unnumberedsec">Chant or psalms notation</h2>


<p>This form of notation is used for the chant of the Psalms, where verses
aren&rsquo;t always the same length.
</p>

<pre class="verbatim">stemOn = { \revert Staff.Stem #'transparent }
stemOff = { \override Staff.Stem #'transparent = ##t }

\score {
  \new Staff \with { \remove &quot;Time_signature_engraver&quot; }
  {
    \key g \minor
    \cadenzaOn
    \stemOff a'\breve bes'4 g'4
    \stemOn a'2 \bar &quot;||&quot;
    \stemOff a'\breve g'4 a'4
    \stemOn f'2 \bar &quot;||&quot;
    \stemOff a'\breve^\markup { \italic flexe }
    \stemOn g'2 \bar &quot;||&quot;
  }
}

</pre><p>
 <a href="../5b/lily-c5ec2b57.ly">
  <img align="middle"
       border="0"
       src="../5b/lily-c5ec2b57.png"
       alt="[image of music]">
 </a>
</p>




<a name="compound-time-signatures.ly"></a>
<hr size="6">
<a name="Compound-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Chant-or-psalms-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Chant or psalms notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Conducting-signs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Conducting signs &gt; </a>]</td></tr></table>
<a name="Compound-time-signatures"></a>
<h2 class="unnumberedsec">Compound time signatures</h2>


<p>Odd 20th century time signatures (such as &quot;5/8&quot;) can often be played
as compound time signatures (e.g. &quot;3/8 + 2/8&quot;), which combine two or
more inequal metrics. LilyPond can make such music quite easy to read
and play, by explicitly printing the compound time signatures and
adapting the automatic beaming behavior. (Graphic measure grouping
indications can also be added; see the appropriate snippet in this
database.) 
</p>

<pre class="verbatim">#(define ((compound-time one two num) grob)
  (grob-interpret-markup grob
    (markup #:override '(baseline-skip . 0) #:number
      (#:line (
          (#:column (one num))
          #:vcenter &quot;+&quot;
          (#:column (two num)))))))

\relative c' {
  \override Staff.TimeSignature #'stencil = #(compound-time &quot;2&quot; &quot;3&quot; &quot;8&quot;)
  \time 5/8
  #(override-auto-beam-setting '(end 1 8 5 8) 1 4)
  c8 d e fis gis
  c8 fis, gis e d
  c8 d e4 gis8
}
</pre><p>
 <a href="../e0/lily-b5abc2e5.ly">
  <img align="middle"
       border="0"
       src="../e0/lily-b5abc2e5.png"
       alt="[image of music]">
 </a>
</p>




<a name="conducting-signs,-measure-grouping-signs.ly"></a>
<hr size="6">
<a name="Conducting-signs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Compound-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Compound time signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Controlling-tuplet-bracket-visibility" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Controlling tuplet bracket visibility &gt; </a>]</td></tr></table>
<a name="Conducting-signs"></a>
<h2 class="unnumberedsec">Conducting signs, measure grouping signs</h2>


<p>Options to group beats within a bar are available through the Scheme
function <code>set-time-signature</code>, which takes three arguments: the
number of beats, the beat length, and the internal grouping of beats in
the measure.  If the <code>Measure_grouping_engraver</code> is included, the
function will also create <code>MeasureGrouping</code> signs.  Such signs
ease reading rhythmically complex modern music.  In the example, the
9/8 measure is subdivided in 2, 2, 2 and 3.  This is passed to
<code>set-time-signature</code> as the third argument: <code>'(2 2 2 3)</code>:
</p>

<pre class="verbatim">\score {
  \relative c'' {
    #(set-time-signature 9 8 '(2 2 2 3))
    #(revert-auto-beam-setting '(end * * 9 8) 3 8)
    #(override-auto-beam-setting '(end 1 8 9 8) 1 4)
    #(override-auto-beam-setting '(end 1 8 9 8) 2 4)
    #(override-auto-beam-setting '(end 1 8 9 8) 3 4)
    g8 g d d g g a( bes g) |
    #(set-time-signature 5 8 '(3 2))
    a4. g4
  }
  \layout {
    \context {
      \Staff
      \consists &quot;Measure_grouping_engraver&quot;
    }
  }
}

</pre><p>
 <a href="../bb/lily-d4011fee.ly">
  <img align="middle"
       border="0"
       src="../bb/lily-d4011fee.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-tuplet-bracket-visibility.ly"></a>
<hr size="6">
<a name="Controlling-tuplet-bracket-visibility"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Conducting-signs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Conducting signs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engraving-ties-manually" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Engraving ties manually &gt; </a>]</td></tr></table>
<a name="Controlling-tuplet-bracket-visibility"></a>
<h2 class="unnumberedsec">Controlling tuplet bracket visibility</h2>


<p>The default behavior of tuplet-bracket visibility is to print a bracket
unless there is a beam of the same length as the tuplet. To control the
visibility of tuplet brackets, set the property
<code>'bracket-visibility</code> to either <code>#t</code> (always print a
bracket), <code>#f</code> (never print a bracket) or <code>#'if-no-beam</code>
(only print a bracket if there is no beam). 
</p>

<pre class="verbatim">music = \relative c'' {
  \times 2/3 { c16[ d e } f8]
  \times 2/3 { c8 d e }
  \times 2/3 { c4 d e }
}

\new Voice {
  \relative c' {
    &lt;&lt; \music s4^&quot;default&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = #'if-no-beam
    &lt;&lt; \music s4^&quot;'if-no-beam&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##t
    &lt;&lt; \music s4^&quot;#t&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##f
    &lt;&lt; \music s4^&quot;#f&quot; &gt;&gt;
  }
} 


</pre><p>
 <a href="../16/lily-02d803da.ly">
  <img align="middle"
       border="0"
       src="../16/lily-02d803da.png"
       alt="[image of music]">
 </a>
</p>




<a name="engraving-ties-manually.ly"></a>
<hr size="6">
<a name="Engraving-ties-manually"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Controlling-tuplet-bracket-visibility" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Controlling tuplet bracket visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engraving-tremolos-with-floating-beams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Engraving tremolos with floating beams &gt; </a>]</td></tr></table>
<a name="Engraving-ties-manually"></a>
<h2 class="unnumberedsec">Engraving ties manually</h2>


<p>Ties may be engraved manually by changing the <code>tie-configuration</code>
property of the <code>TieColumn</code> object. The first number indicates the
distance from the center of the staff in staff-spaces, and the second
number indicates the direction (1 = up, -1 = down).
</p>

<pre class="verbatim">\relative c' {
  &lt;c e g&gt;2 ~ &lt;c e g&gt;
  \override TieColumn #'tie-configuration =
    #'((0.0 . 1) (-2.0 . 1) (-4.0 . 1))
  &lt;c e g&gt; ~ &lt;c e g&gt;
}

</pre><p>
 <a href="../70/lily-ae4291f4.ly">
  <img align="middle"
       border="0"
       src="../70/lily-ae4291f4.png"
       alt="[image of music]">
 </a>
</p>




<a name="engraving-tremolos-with-floating-beams.ly"></a>
<hr size="6">
<a name="Engraving-tremolos-with-floating-beams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engraving-ties-manually" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Engraving ties manually&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Entering-several-tuplets-using-only-one-_005ctimes-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Entering several tuplets using only one \times command &gt; </a>]</td></tr></table>
<a name="Engraving-tremolos-with-floating-beams"></a>
<h2 class="unnumberedsec">Engraving tremolos with floating beams</h2>


<p>If a tremolo&rsquo;s total duration is less than a quarter-note, or exactly a
half-note, or between a half-note and a whole-note, it is normally
typeset with all beams touching the stems.  Certain engraving styles
typeset some of these beams as centered floating beams that do not
touch the stems.  The number of floating beams in this type of tremolo
is controlled with the <code>'gap-count </code> property of the <code>Beam</code>
object, and the size of the gaps between beams and stems is set with
the <code>'gap</code> property.
</p>



<pre class="verbatim">\relative c'' {
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #1
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #2
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #3
  \repeat tremolo 8 { a32 f }

  \override Beam #'gap-count = #3
  \override Beam #'gap = #1.33
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #1
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #0.67
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #0.33
  \repeat tremolo 8 { a32 f }
}




</pre><p>
 <a href="../97/lily-ec24eea4.ly">
  <img align="middle"
       border="0"
       src="../97/lily-ec24eea4.png"
       alt="[image of music]">
 </a>
</p>




<a name="entering-several-tuplets-using-only-one--times-command.ly"></a>
<hr size="6">
<a name="Entering-several-tuplets-using-only-one-_005ctimes-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engraving-tremolos-with-floating-beams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Engraving tremolos with floating beams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Flat-flags-and-beam-nibs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Flat flags and beam nibs &gt; </a>]</td></tr></table>
<a name="Entering-several-tuplets-using-only-one-_005ctimes-command"></a>
<h2 class="unnumberedsec">Entering several tuplets using only one \times command</h2>


<p>The property <code>tupletSpannerDuration</code> sets how long each of the
tuplets contained within the brackets after <code>\times</code> should last.
Many consecutive tuplets can then be placed within a single
<code>\times</code> expression, thus saving typing.
</p>
<p>In the example, two triplets are shown, while <code>\times</code> was
entered only once.
</p>

<p>For more information about <code>make-moment</code>, see &quot;Time
administration&quot;. 
</p>

<pre class="verbatim">\relative c' {
  \time 2/4
  \set tupletSpannerDuration = #(ly:make-moment 1 4)
  \times 2/3 { c8 c c c c c }
}

</pre><p>
 <a href="../64/lily-9360b294.ly">
  <img align="middle"
       border="0"
       src="../64/lily-9360b294.png"
       alt="[image of music]">
 </a>
</p>




<a name="flat-flags-and-beam-nibs.ly"></a>
<hr size="6">
<a name="Flat-flags-and-beam-nibs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Entering-several-tuplets-using-only-one-_005ctimes-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Entering several tuplets using only one \times command&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Forcing rehearsal marks to start from a given letter or number &gt; </a>]</td></tr></table>
<a name="Flat-flags-and-beam-nibs"></a>
<h2 class="unnumberedsec">Flat flags and beam nibs</h2>


<p> Flat flags on lone notes and beam nibs at the ends of beamed figures
are both possible with a combination of <code>stemLeftBeamCount</code>, 
<code>stemRightBeamCount</code> and paired <code>[]</code> beam indicators.
</p>



<p>For right-pointing flat flags on lone notes, use paired <code>[]</code> beam
indicators and set <code>stemLeftBeamCount</code> to zero (see Example 1).
</p>



<p>For left-pointing flat flags, set <code>stemRightBeamCount</code> instead
(Example 2).
</p>



<p>For right-pointing nibs at the end of a run of beamed notes, set
<code>stemRightBeamCount</code> to a positive value. And for left-pointing
nibs at the start of a run of beamed notes, set
<code>stemLeftBeamCount</code> instead (Example 3).
</p>



<p>Sometimes it may make sense for a lone note surrounded by rests to
carry both a left- and right-pointing flat flag. Do this with paired
<code>[]</code> beam indicators alone (Example 4).  
</p>



<p>(Note that <code>\set stemLeftBeamCount</code> is always equivalent to 
<code>\once \set</code>.  In other words, the beam count settings are not 
&quot;sticky&quot;, so the pair of flat flags attached to the lone 
<code>c'16[]</code> in the last example have nothing to do with the 
<code>\set</code> two notes prior.)
</p>




<pre class="verbatim">\score {
  &lt;&lt;
    % Example 1
    \new RhythmicStaff {
      \set stemLeftBeamCount = #0
      c16[]
      r8.
    }
    
    % Example 2
    \new RhythmicStaff {
      r8.
      \set stemRightBeamCount = #0
      c16[]
    }
    
    % Example 3
    \new RhythmicStaff {
      c16 c
      \set stemRightBeamCount = #2
      c16 r r
      \set stemLeftBeamCount = #2
      c16 c c
    }
    
    % Example 4
    \new RhythmicStaff {
      c16 c
      \set stemRightBeamCount = #2
      c16 r
      c16[]
      r16
      \set stemLeftBeamCount = #2
      c16 c
    }
  &gt;&gt;
}

</pre><p>
 <a href="../54/lily-b33192ac.ly">
  <img align="middle"
       border="0"
       src="../54/lily-b33192ac.png"
       alt="[image of music]">
 </a>
</p>




<a name="forcing-rehearsal-marks-to-start-from-a-given-letter-or-number.ly"></a>
<hr size="6">
<a name="Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Flat-flags-and-beam-nibs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Flat flags and beam nibs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Grouping-beats" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Grouping beats &gt; </a>]</td></tr></table>
<a name="Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number"></a>
<h2 class="unnumberedsec">Forcing rehearsal marks to start from a given letter or number</h2>


<p>This snippet demonstrates how to obtain automatic ordered rehearsal
marks, but from the letter or number desired.
</p>

<pre class="verbatim">\relative c''{
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark #14
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  \break
  \set Score.markFormatter = #format-mark-numbers
  c1 \mark #1
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark #14
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
}

</pre><p>
 <a href="../bf/lily-f71c552a.ly">
  <img align="middle"
       border="0"
       src="../bf/lily-f71c552a.png"
       alt="[image of music]">
 </a>
</p>




<a name="grouping-beats.ly"></a>
<hr size="6">
<a name="Grouping-beats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Forcing rehearsal marks to start from a given letter or number&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Guitar-strum-rhythms" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Guitar strum rhythms &gt; </a>]</td></tr></table>
<a name="Grouping-beats"></a>
<h2 class="unnumberedsec">Grouping beats</h2>


<p>Beaming patterns may be altered with the <code>beatGrouping</code> property: 
</p>

<pre class="verbatim">\relative c'' {
  \time 5/16
  #(override-auto-beam-setting '(end * * 5 16) 5 16)
  \set beatGrouping = #'(2 3)
  c8^&quot;(2+3)&quot; c16 c8
  \set beatGrouping = #'(3 2)
  c8^&quot;(3+2)&quot; c16 c8
}


</pre><p>
 <a href="../0e/lily-1cad3e5b.ly">
  <img align="middle"
       border="0"
       src="../0e/lily-1cad3e5b.png"
       alt="[image of music]">
 </a>
</p>




<a name="guitar-strum-rhythms.ly"></a>
<hr size="6">
<a name="Guitar-strum-rhythms"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Grouping-beats" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Grouping beats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Heavily-customized-polymetric-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Heavily customized polymetric time signatures &gt; </a>]</td></tr></table>
<a name="Guitar-strum-rhythms"></a>
<h2 class="unnumberedsec">Guitar strum rhythms</h2>


<p>For guitar music, it is possible to show strum rhythms, along with
melody notes, chord names and fret diagrams.
</p>

<pre class="verbatim">\include &quot;predefined-guitar-fretboards.ly&quot;
&lt;&lt;
  \new ChordNames {
    \chordmode {
      c1 f g c
    }
  }
  \new FretBoards {
    \chordmode {
      c1 f g c
    }
  }
  \new Voice \with {
    \consists &quot;Pitch_squash_engraver&quot;
  } {
    \relative c'' {
      \improvisationOn
      c4 c8 c c4 c8 c
      f4 f8 f f4 f8 f
      g4 g8 g g4 g8 g
      c4 c8 c c4 c8 c
    }
  }
  \new Voice = &quot;melody&quot; {
    \relative c'' {
      c2 e4 e4
      f2. r4
      g2. a4
      e4 c2.
    }
  }
  \new Lyrics {
    \lyricsto &quot;melody&quot; {
      This is my song.
      I like to sing.
    }
  }
&gt;&gt;
</pre><p>
 <a href="../99/lily-6f894292.ly">
  <img align="middle"
       border="0"
       src="../99/lily-6f894292.png"
       alt="[image of music]">
 </a>
</p>




<a name="heavily-customized-polymetric-time-signatures.ly"></a>
<hr size="6">
<a name="Heavily-customized-polymetric-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Guitar-strum-rhythms" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Guitar strum rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Making-an-object-invisible-with-the-_0027transparent-property" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Making an object invisible with the 'transparent property &gt; </a>]</td></tr></table>
<a name="Heavily-customized-polymetric-time-signatures"></a>
<h2 class="unnumberedsec">Heavily customized polymetric time signatures</h2>


<p>Though the polymetric time signature shown was not the most essential
item here, it has been included to show the beat of this piece (which
is the template of a real Balkan song!).
</p>

<pre class="verbatim">#(define plus (markup #:vcenter &quot;+&quot;))
#(define ((custom-time-signature one two three four five six
           seven eight nine ten eleven num) grob)
            (grob-interpret-markup grob
              (markup #:override '(baseline-skip . 0) #:number
                (#:line (
                    (#:column (one num)) plus
                    (#:column (two num)) plus
                    (#:column (three num)) plus
                    (#:column (four num)) plus
                    (#:column (five num)) plus
                    (#:column (six num)) plus
                    (#:column (seven num)) plus
                    (#:column (eight num)) plus
                    (#:column (nine num)) plus
                    (#:column (ten num)) plus
                    (#:column (eleven num)))))))

melody = \relative c'' {
  \set Staff.instrumentName = #&quot;Bb Sop.&quot;
  \key g \major
  #(set-time-signature 25 8 '(3 2 2 3 2 2 2 2 3 2 2))
  \override Staff.TimeSignature #'stencil =
    #(custom-time-signature &quot;3&quot; &quot;2&quot; &quot;2&quot; &quot;3&quot; &quot;2&quot; &quot;2&quot;
      &quot;2&quot; &quot;2&quot; &quot;3&quot; &quot;2&quot; &quot;2&quot; &quot;8&quot;)
  c8 c c d4 c8 c b c b a4 g fis8 e d c b' c d e4-^ fis8 g \break
  c,4. d4 c4 d4. c4 d c2 d4. e4-^ d4
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4 \break
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4 \break
}

drum = \new DrumStaff \drummode {
  \bar &quot;|:&quot; bd4.^\markup { &quot;Drums&quot; } sn4 bd \bar &quot;:&quot; sn4.
  bd4 sn \bar &quot;:&quot; bd sn bd4. sn4 bd \bar &quot;:|&quot;
}

{
  \melody
  \drum
}
</pre><p>
 <a href="../03/lily-2d0e8e02.ly">
  <img align="middle"
       border="0"
       src="../03/lily-2d0e8e02.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-an-object-invisible-with-the-transparent-property.ly"></a>
<hr size="6">
<a name="Making-an-object-invisible-with-the-_0027transparent-property"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Heavily-customized-polymetric-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Heavily customized polymetric time signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Manually-controlling-beam-positions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Manually controlling beam positions &gt; </a>]</td></tr></table>
<a name="Making-an-object-invisible-with-the-_0027transparent-property"></a>
<h2 class="unnumberedsec">Making an object invisible with the &rsquo;transparent property</h2>


<p>Setting the <code>transparent</code> property will cause an object to be
printed in &quot;invisible ink&quot;: the object is not printed, but all its
other behavior is retained.  The object still takes up space, it takes
part in collisions, and slurs, ties and beams can be attached to it.
</p>

<p>This snippet demonstrates how to connect different voices using ties.
Normally, ties only connect two notes in the same voice.  By
introducing a tie in a different voice, and blanking the first up-stem
in that voice, the tie appears to cross voices. 
</p>

<pre class="verbatim">\relative c'' {
  \time 2/4
  &lt;&lt;
    {
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      b8 ~ b\noBeam
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      g8 ~ g\noBeam
    }
    \\
    {
      b8 g g e
    }
  &gt;&gt;
}
</pre><p>
 <a href="../0e/lily-a51bcbab.ly">
  <img align="middle"
       border="0"
       src="../0e/lily-a51bcbab.png"
       alt="[image of music]">
 </a>
</p>




<a name="manually-controlling-beam-positions.ly"></a>
<hr size="6">
<a name="Manually-controlling-beam-positions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Making-an-object-invisible-with-the-_0027transparent-property" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Making an object invisible with the 'transparent property&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Merging-multi_002dmeasure-rests-in-a-polyphonic-part" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Merging multi-measure rests in a polyphonic part &gt; </a>]</td></tr></table>
<a name="Manually-controlling-beam-positions"></a>
<h2 class="unnumberedsec">Manually controlling beam positions</h2>


<p>Beam positions may be controlled manually, by overriding the
<code>positions</code> setting of the <code>Beam</code> grob.
</p>




<pre class="verbatim">\relative c' {
  \time 2/4
  % from upper staff-line (position 2) to center (position 0)
  \override Beam #'positions = #'(2 . 0)
  c8 c
  % from center to one above center (position 1)
  \override Beam #'positions = #'(0 . 1)
  c8 c
}


</pre><p>
 <a href="../31/lily-e99dc492.ly">
  <img align="middle"
       border="0"
       src="../31/lily-e99dc492.png"
       alt="[image of music]">
 </a>
</p>




<a name="merging-multi-measure-rests-in-a-polyphonic-part.ly"></a>
<hr size="6">
<a name="Merging-multi_002dmeasure-rests-in-a-polyphonic-part"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Manually-controlling-beam-positions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Manually controlling beam positions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Modifying-tuplet-bracket-length" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Modifying tuplet bracket length &gt; </a>]</td></tr></table>
<a name="Merging-multi_002dmeasure-rests-in-a-polyphonic-part"></a>
<h2 class="unnumberedsec">Merging multi-measure rests in a polyphonic part</h2>


<p>When using multi-measure rests in a polyphonic staff, the rests will be
placed differently depending on the voice they belong to. However they
can be printed on the same staff line, using the following setting.
</p>

<pre class="verbatim">normalPos = \revert MultiMeasureRest #'staff-position

{
  &lt;&lt;
    {
      c''1
      R1
      c''1
      \normalPos
      R1
    }
    \\
    {
      c'1
      R1
      c'1
      \normalPos
      R1
    }
  &gt;&gt;
}

</pre><p>
 <a href="../b5/lily-5044d465.ly">
  <img align="middle"
       border="0"
       src="../b5/lily-5044d465.png"
       alt="[image of music]">
 </a>
</p>




<a name="modifying-tuplet-bracket-length.ly"></a>
<hr size="6">
<a name="Modifying-tuplet-bracket-length"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Merging-multi_002dmeasure-rests-in-a-polyphonic-part" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Merging multi-measure rests in a polyphonic part&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Multi_002dmeasure-rest-markup" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Multi-measure rest markup &gt; </a>]</td></tr></table>
<a name="Modifying-tuplet-bracket-length"></a>
<h2 class="unnumberedsec">Modifying tuplet bracket length</h2>


<p>Tuplet brackets can be made to run to prefatory matter or the next
note. Default tuplet brackets end at the right edge of the final note
of the tuplet; full-length tuplet brackets extend farther to the right,
either to cover all the non-rhythmic notation up to the following note,
or to cover only the whitespace before the next item of notation, be
that a clef, time signature, key signature, or another note.  The
example shows how to switch tuplets to full length mode and how to
modify what material they cover.
</p>

<pre class="verbatim">\new RhythmicStaff {
  % Set tuplets to be extendable...
  \set tupletFullLength = ##t
  % ...to cover all items up to the next note
  \set tupletFullLengthNote = ##t
  \time 2/4
  \times 2/3 { c4 c c }
  % ...or to cover just whitespace
  \set tupletFullLengthNote = ##f
  \time 4/4
  \times 4/5 { c4 c1 }
  \time 3/4
  c2.
}

</pre><p>
 <a href="../45/lily-0038cbc8.ly">
  <img align="middle"
       border="0"
       src="../45/lily-0038cbc8.png"
       alt="[image of music]">
 </a>
</p>




<a name="multi-measure-rest-markup.ly"></a>
<hr size="6">
<a name="Multi_002dmeasure-rest-markup"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Modifying-tuplet-bracket-length" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Modifying tuplet bracket length&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Permitting-line-breaks-within-beamed-tuplets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Permitting line breaks within beamed tuplets &gt; </a>]</td></tr></table>
<a name="Multi_002dmeasure-rest-markup"></a>
<h2 class="unnumberedsec">Multi-measure rest markup</h2>


<p>Markups attached to a multi-measure rest will be centered above or
below it.  Long markups attached to multi-measure rests do not cause
the measure to expand.  To expand a multi-measure rest to fit the
markup, use a spacer rest with an attached markup before the
multi-measure rest.
</p>
<p>Note that the spacer rest causes a bar line to be inserted.  Text
attached to a spacer rest in this way is left-aligned to the position
where the note would be placed in the measure, but if the measure
length is determined by the length of the text, the text will appear to
be centered. 
</p>

<pre class="verbatim">\relative c' {
  \compressFullBarRests
  \textLengthOn
  s1*0^\markup { [MAJOR GENERAL] }
  R1*19
  s1*0_\markup { \italic { Cue: ... it is yours } }
  s1*0^\markup { A }
  R1*30^\markup { [MABEL] }
  \textLengthOff
  c4^\markup { CHORUS } d f c
}
</pre><p>
 <a href="../56/lily-bcc7dac4.ly">
  <img align="middle"
       border="0"
       src="../56/lily-bcc7dac4.png"
       alt="[image of music]">
 </a>
</p>




<a name="permitting-line-breaks-within-beamed-tuplets.ly"></a>
<hr size="6">
<a name="Permitting-line-breaks-within-beamed-tuplets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Multi_002dmeasure-rest-markup" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Multi-measure rest markup&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-grace-notes-with-floating-space" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Positioning grace notes with floating space &gt; </a>]</td></tr></table>
<a name="Permitting-line-breaks-within-beamed-tuplets"></a>
<h2 class="unnumberedsec">Permitting line breaks within beamed tuplets</h2>


<p>This artificial example shows how both manual and automatic line breaks
may be permitted to within a beamed tuplet. Note that such off-beat
tuplets have to be beamed manually.
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    % Permit line breaks within tuplets
    \remove &quot;Forbid_line_break_engraver&quot;
    % Allow beams to be broken at line breaks
    \override Beam #'breakable = ##t
  }
}
\relative c'' {
  a8
  \repeat unfold 5 { \times 2/3 { c[ b a] } }
  % Insert a manual line break within a tuplet
  \times 2/3 { c[ b \bar &quot;&quot; \break a] }
  \repeat unfold 5 { \times 2/3 { c[ b a] } }
  c8
}

</pre><p>
 <a href="../ea/lily-e92fc01a.ly">
  <img align="middle"
       border="0"
       src="../ea/lily-e92fc01a.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-grace-notes-with-floating-space.ly"></a>
<hr size="6">
<a name="Positioning-grace-notes-with-floating-space"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Permitting-line-breaks-within-beamed-tuplets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Permitting line breaks within beamed tuplets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-multi_002dmeasure-rests" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Positioning multi-measure rests &gt; </a>]</td></tr></table>
<a name="Positioning-grace-notes-with-floating-space"></a>
<h2 class="unnumberedsec">Positioning grace notes with floating space</h2>


<p>Setting the property <code>'strict-grace-spacing</code> makes the musical
columns for grace notes &rsquo;floating&rsquo;, i.e., decoupled from the non-grace
notes: first the normal notes are spaced, then the (musical columns of
the) graces are put left of the musical columns for the main notes.
</p>

<pre class="verbatim">\relative c'' {
  &lt;&lt;
    \override Score.SpacingSpanner #'strict-grace-spacing = ##t
    \new Staff \new Voice {
      \afterGrace c4 { c16[ c8 c16] }
      c8[ \grace { b16[ d] } c8]
      c4 r
    }
    \new Staff {
      c16 c c c c c c c c4 r
    }
  &gt;&gt;
}

</pre><p>
 <a href="../5e/lily-3d430c9e.ly">
  <img align="middle"
       border="0"
       src="../5e/lily-3d430c9e.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Positioning-multi_002dmeasure-rests"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-grace-notes-with-floating-space" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Positioning grace notes with floating space&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-bar-numbers-at-regular-intervals" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing bar numbers at regular intervals &gt; </a>]</td></tr></table>
<a name="Positioning-multi_002dmeasure-rests"></a>
<h2 class="unnumberedsec">Positioning multi-measure rests</h2>


<p>Unlike ordinary rests, there is no predefined command to change the
staff position of a multi-measure rest symbol of either form by
attaching it to a note.  However, in polyphonic music multi-measure
rests in odd-numbered and even-numbered voices are vertically
separated. The positioning of multi-measure rests can be controlled as
follows: 
</p>

<pre class="verbatim">\relative c'' {
  % Multi-measure rests by default are set under the fourth line
  R1
  % They can be moved with an override
  \override MultiMeasureRest #'staff-position = #-2
  R1
  % A value of 0 is the default position;
  % the following trick moves the rest to the center line
  \override MultiMeasureRest #'staff-position = #-0.01
  R1
  % Multi-measure rests in odd-numbered voices are under the top line
  &lt;&lt; { R1 } \\ { a1 } &gt;&gt;
  % Multi-measure rests in even-numbered voices are under the bottom line
  &lt;&lt; { c1 } \\ { R1 } &gt;&gt;
  % They remain separated even in empty measures
  &lt;&lt; { R1 } \\ { R1 } &gt;&gt;
  % This brings them together even though there are two voices
  \compressFullBarRests
  &lt;&lt;
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
    \\
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
  &gt;&gt;
}
</pre><p>
 <a href="../de/lily-d17161b9.ly">
  <img align="middle"
       border="0"
       src="../de/lily-d17161b9.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-bar-numbers-at-regular-intervals.ly"></a>
<hr size="6">
<a name="Printing-bar-numbers-at-regular-intervals"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-multi_002dmeasure-rests" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Positioning multi-measure rests&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-bar-numbers-inside-boxes-or-circles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing bar numbers inside boxes or circles &gt; </a>]</td></tr></table>
<a name="Printing-bar-numbers-at-regular-intervals"></a>
<h2 class="unnumberedsec">Printing bar numbers at regular intervals</h2>


<p>Bar numbers can be printed at regular intervals by setting the property
<code>barNumberVisibility</code>. Here the bar numbers are printed every two
measures except at the end of the line.
</p>

<pre class="verbatim">\relative c' {
  \override Score.BarNumber #'break-visibility = #'#(#f #t #t)
  \set Score.currentBarNumber = #11
  % Permit first bar number to be printed
  \bar &quot;&quot;
  % Print a bar number every second measure
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 2)
  c1 | c | c | c | c
  \break
  c1 | c | c | c | c
}

</pre><p>
 <a href="../78/lily-a31c528e.ly">
  <img align="middle"
       border="0"
       src="../78/lily-a31c528e.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-bar-numbers-inside-boxes-or-circles.ly"></a>
<hr size="6">
<a name="Printing-bar-numbers-inside-boxes-or-circles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-bar-numbers-at-regular-intervals" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing bar numbers at regular intervals&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-metronome-and-rehearsal-marks-below-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing metronome and rehearsal marks below the staff &gt; </a>]</td></tr></table>
<a name="Printing-bar-numbers-inside-boxes-or-circles"></a>
<h2 class="unnumberedsec">Printing bar numbers inside boxes or circles</h2>


<p>Bar numbers can also be printed inside boxes or circles.
</p>

<pre class="verbatim">\relative c' {
  % Prevent bar numbers at the end of a line and permit them elsewhere
  \override Score.BarNumber  #'break-visibility = #end-of-line-invisible
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 4)

  % Increase the size of the bar number by 2
  \override Score.BarNumber #'font-size = #2

  % Draw a box round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-boxer 0.1 0.25 ly:text-interface::print)
  \repeat unfold 5 { c1 }

  % Draw a circle round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
  \repeat unfold 4 { c1 } \bar &quot;|.&quot;
}

</pre><p>
 <a href="../44/lily-1856a60a.ly">
  <img align="middle"
       border="0"
       src="../44/lily-1856a60a.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-metronome-and-rehearsal-marks-below-the-staff.ly"></a>
<hr size="6">
<a name="Printing-metronome-and-rehearsal-marks-below-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-bar-numbers-inside-boxes-or-circles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing bar numbers inside boxes or circles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-music-with-different-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing music with different time signatures &gt; </a>]</td></tr></table>
<a name="Printing-metronome-and-rehearsal-marks-below-the-staff"></a>
<h2 class="unnumberedsec">Printing metronome and rehearsal marks below the staff</h2>


<p>By default, metronome and rehearsal marks are printed above the staff. 
To place them below the staff simply set the <code>direction</code> property
of <code>MetronomeMark</code> or <code>RehearsalMark</code> appropriately.
</p>

<pre class="verbatim">\layout { ragged-right = ##f }

{
  % Metronome marks below the staff 
  \override Score.MetronomeMark #'direction = #DOWN
  \tempo 8. = 120
  c''1

  % Rehearsal marks below the staff
  \override Score.RehearsalMark #'direction = #DOWN
  \mark \default
  c''1
}

</pre><p>
 <a href="../c6/lily-d7c7a792.ly">
  <img align="middle"
       border="0"
       src="../c6/lily-d7c7a792.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-music-with-different-time-signatures.ly"></a>
<hr size="6">
<a name="Printing-music-with-different-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-metronome-and-rehearsal-marks-below-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing metronome and rehearsal marks below the staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-the-bar-number-for-the-first-measure" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing the bar number for the first measure &gt; </a>]</td></tr></table>
<a name="Printing-music-with-different-time-signatures"></a>
<h2 class="unnumberedsec">Printing music with different time signatures</h2>


<p>In the following snippet, two parts have a completely different time
signature, yet remain synchronized. The bar lines can no longer be
printed at the <code>Score</code> level; to allow independent bar lines in
each part, the <code>Default_barline_engraver</code> and
<code>Timing_translator</code> are moved from the <code>Score</code> context to the
<code>Staff</code> context. 
</p>

<pre class="verbatim">\paper {
  indent = #0
  ragged-right = ##t
}

global = { \time 3/4 { s2.*3 } \bar &quot;&quot; \break { s2.*3 } }

\layout {
  \context {
    \Score
    \remove &quot;Timing_translator&quot;
    \remove &quot;Time_signature_engraver&quot;
    \remove &quot;Default_bar_line_engraver&quot;
    \override SpacingSpanner #'uniform-stretching = ##t
    \override SpacingSpanner #'strict-note-spacing = ##t
    proportionalNotationDuration = #(ly:make-moment 1 64)
  }
  \context {
    \Staff
    \consists &quot;Timing_translator&quot;
    \consists &quot;Default_bar_line_engraver&quot;
    \consists &quot;Time_signature_engraver&quot;
  }
  \context {
    \Voice
    \remove &quot;Forbid_line_break_engraver&quot;
    tupletFullLength = ##t
  }
}

Bassklarinette = \new Staff &lt;&lt;
  \global {
    \bar &quot;|&quot;
    \clef treble
    \time 3/8
    d''4.
    
    \bar &quot;|&quot;
    \time 3/4
    r8 des''2( c''8)
    
    \bar &quot;|&quot;
    \time 7/8
    r4. ees''2 ~
    
    \bar &quot;|&quot;
    \time 2/4
    \tupletUp
    \times 2/3 { ees''4 r4 d''4 ~ }
    
    \bar &quot;|&quot;
    \time 3/8
    \tupletUp
    \times 3/4 { d''4 r4 }
    
    \bar &quot;|&quot;
    \time 2/4
    e''2
    
    \bar &quot;|&quot;
    \time 3/8
    es''4.
    
    \bar &quot;|&quot;
    \time 3/4
    r8 d''2 r8
    \bar &quot;|&quot;
  }
&gt;&gt;

Perkussion = \new StaffGroup &lt;&lt;
  \new Staff &lt;&lt;
    \global {
      \bar &quot;|&quot;
      \clef percussion
      \time 3/4
      r4 c'2 ~
      
      \bar &quot;|&quot;
      c'2.
      
      \bar &quot;|&quot;
      R2.
      
      \bar &quot;|&quot;
      r2 g'4 ~
      
      \bar &quot;|&quot;
      g'2. ~
      
      \bar &quot;|&quot;
      g'2.
    }
  &gt;&gt;
  \new Staff &lt;&lt;
    \global {
      \bar &quot;|&quot;
      \clef percussion
      \time 3/4
      R2.
      
      \bar &quot;|&quot;
      g'2. ~
      
      \bar &quot;|&quot;
      g'2.
      
      \bar &quot;|&quot;
      r4 g'2 ~
      
      \bar &quot;|&quot;
      g'2 r4
      
      \bar &quot;|&quot;
      g'2.
    }
  &gt;&gt;
&gt;&gt;

\score {
  &lt;&lt;
    \Bassklarinette
    \Perkussion
  &gt;&gt;
}

</pre><p>
 <a href="../c8/lily-62d01554.ly">
  <img align="middle"
       border="0"
       src="../c8/lily-62d01554.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-the-bar-number-for-the-first-measure.ly"></a>
<hr size="6">
<a name="Printing-the-bar-number-for-the-first-measure"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-music-with-different-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing music with different time signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Redefining-grace-note-global-defaults" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Redefining grace note global defaults &gt; </a>]</td></tr></table>
<a name="Printing-the-bar-number-for-the-first-measure"></a>
<h2 class="unnumberedsec">Printing the bar number for the first measure</h2>


<p>By default, the first bar number in a score is suppressed if it is less
than or equal to &lsquo;1&rsquo;.  By setting <code>barNumberVisibility</code> to
<code>all-bar-numbers-visible</code>, any bar number can be printed for the
first measure and all subsequent measures.  Note that an empty bar line
must be inserted before the first note for this to work.
</p>

<pre class="verbatim">\relative c' {
  \set Score.barNumberVisibility = #all-bar-numbers-visible
  \bar &quot;&quot;
  c1 d e f \break
  g1 e d c
}
</pre><p>
 <a href="../f1/lily-f639f21b.ly">
  <img align="middle"
       border="0"
       src="../f1/lily-f639f21b.png"
       alt="[image of music]">
 </a>
</p>




<a name="redefining-grace-note-global-defaults.ly"></a>
<hr size="6">
<a name="Redefining-grace-note-global-defaults"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-the-bar-number-for-the-first-measure" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing the bar number for the first measure&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Removing-bar-numbers-from-a-score" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Removing bar numbers from a score &gt; </a>]</td></tr></table>
<a name="Redefining-grace-note-global-defaults"></a>
<h2 class="unnumberedsec">Redefining grace note global defaults</h2>


<p>The global defaults for grace notes are stored in the identifiers
<code>startGraceMusic</code>, <code>stopGraceMusic</code>,
<code>startAcciaccaturaMusic</code>, <code>stopAcciaccaturaMusic</code>,
<code>startAppoggiaturaMusic</code> and <code>stopAppoggiaturaMusic</code>, which
are defined in the file <code>ly/grace-init.ly</code>.  By redefining them
other effects may be obtained.
</p>

<pre class="verbatim">startAcciaccaturaMusic = {
  s1*0(
  \override Stem #'stroke-style = #&quot;grace&quot;
  \slurDashed
}

stopAcciaccaturaMusic = {
  \revert Stem #'stroke-style
  \slurSolid
  s1*0)
}

\relative c'' {
  \acciaccatura d8 c1
}

</pre><p>
 <a href="../2e/lily-046df848.ly">
  <img align="middle"
       border="0"
       src="../2e/lily-046df848.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-bar-numbers-from-a-score.ly"></a>
<hr size="6">
<a name="Removing-bar-numbers-from-a-score"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Redefining-grace-note-global-defaults" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Redefining grace note global defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Rest-styles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Rest styles &gt; </a>]</td></tr></table>
<a name="Removing-bar-numbers-from-a-score"></a>
<h2 class="unnumberedsec">Removing bar numbers from a score</h2>


<p>Bar numbers can be removed entirely by removing the
<code>Bar_number_engraver</code> from the <code>Score</code> context.
</p>

<pre class="verbatim">\layout {
  \context {
    \Score
    \remove &quot;Bar_number_engraver&quot;
  }
}

\relative c'' {
  c4 c c c \break
  c4 c c c
}

</pre><p>
 <a href="../97/lily-3a4951f3.ly">
  <img align="middle"
       border="0"
       src="../97/lily-3a4951f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="rest-styles.ly"></a>
<hr size="6">
<a name="Rest-styles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Removing-bar-numbers-from-a-score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Removing bar numbers from a score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Reverting-default-beam-endings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Reverting default beam endings &gt; </a>]</td></tr></table>
<a name="Rest-styles"></a>
<h2 class="unnumberedsec">Rest styles</h2>


<p>Rests may be used in various styles.
</p>




<pre class="verbatim">\layout {
  indent = 0.0
  \context {
    \Staff
    \remove &quot;Time_signature_engraver&quot;
  }
}

\new Staff \relative c {
  \cadenzaOn
  \override Staff.Rest #'style = #'mensural
  r\maxima^\markup \typewriter { mensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'neomensural
  r\maxima^\markup \typewriter { neomensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'classical
  r\maxima^\markup \typewriter { classical }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest  #'style = #'default
  r\maxima^\markup \typewriter { default }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
}

</pre><p>
 <a href="../34/lily-f8f4eed5.ly">
  <img align="middle"
       border="0"
       src="../34/lily-f8f4eed5.png"
       alt="[image of music]">
 </a>
</p>




<a name="reverting-default-beam-endings.ly"></a>
<hr size="6">
<a name="Reverting-default-beam-endings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Rest-styles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Rest styles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Rhythmic-slashes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Rhythmic slashes &gt; </a>]</td></tr></table>
<a name="Reverting-default-beam-endings"></a>
<h2 class="unnumberedsec">Reverting default beam endings</h2>


<p>To typeset beams grouped <code>3-4-3-2</code> in 12/8 it is necessary first
to override the default beam endings  in 12/8, and then to set up the
new beaming endings: 
</p>

<pre class="verbatim">\relative c'' {
  \time 12/8

  % Default beaming
  a8 a a a a a a a a a a a

  % Revert default values in scm/auto-beam.scm for 12/8 time
  #(revert-auto-beam-setting '(end * * 12 8) 3 8)
  #(revert-auto-beam-setting '(end * * 12 8) 3 4)
  #(revert-auto-beam-setting '(end * * 12 8) 9 8)
  a8 a a a a a a a a a a a

  % Set new values for beam endings
  #(override-auto-beam-setting '(end * * 12 8) 3 8)
  #(override-auto-beam-setting '(end * * 12 8) 7 8)
  #(override-auto-beam-setting '(end * * 12 8) 10 8)
  a8 a a a a a a a a a a a
}

</pre><p>
 <a href="../64/lily-405096c8.ly">
  <img align="middle"
       border="0"
       src="../64/lily-405096c8.png"
       alt="[image of music]">
 </a>
</p>




<a name="rhythmic-slashes.ly"></a>
<hr size="6">
<a name="Rhythmic-slashes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Reverting-default-beam-endings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Reverting default beam endings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Skips-in-lyric-mode-_00282_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Skips in lyric mode (2) &gt; </a>]</td></tr></table>
<a name="Rhythmic-slashes"></a>
<h2 class="unnumberedsec">Rhythmic slashes</h2>


<p>In &quot;simple&quot; lead-sheets, sometimes no actual notes are written,
instead only &quot;rhythmic patterns&quot; and chords above the measures are
notated giving the structure of a song. Such a feature is for example
useful while creating/transcribing the structure of a song and also
when sharing lead sheets with guitarists or jazz musicians. The
standard support for this using <code>\repeat percent</code> is unsuitable
here since the first beat has to be an ordinary note or rest. This
example shows two solutions to this problem, by redefining ordinary
rests to be printed as slashes. (If the duration of each beat is not a
quarter note, replace the <code>r4</code> in the definitions with a rest of
the appropriate duration). 
</p>

<pre class="verbatim">% Macro to print single slash
rs = {
  \once \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
  \once \override Rest #'thickness = #0.48
  \once \override Rest #'slope = #1.7
  r4
}

% Function to print a specified number of slashes
comp = #(define-music-function (parser location count) ( integer?)
  #{
    \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
    \override Rest #'thickness = #0.48
    \override Rest #'slope = #1.7
    \repeat unfold $count { r4 }
    \revert Rest #'stencil
  #}
)

\score {
  \relative c' {
    c4 d e f |
    \rs \rs \rs \rs |
    \comp #4 |
  }
}

</pre><p>
 <a href="../fd/lily-3fba4373.ly">
  <img align="middle"
       border="0"
       src="../fd/lily-3fba4373.png"
       alt="[image of music]">
 </a>
</p>




<a name="skips-in-lyric-mode-2.ly"></a>
<hr size="6">
<a name="Skips-in-lyric-mode-_00282_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Rhythmic-slashes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Rhythmic slashes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Skips-in-lyric-mode" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Skips in lyric mode &gt; </a>]</td></tr></table>
<a name="Skips-in-lyric-mode-_00282_0029"></a>
<h2 class="unnumberedsec">Skips in lyric mode (2)</h2>


<p>Although <code>s</code> skips cannot be used in <code>\lyricmode</code> (it is
taken to be a literal &quot;s&quot;, not a space), double quotes (<code>&quot;&quot;</code>)
or underscores (<code>_</code>) are available.So for example: 
</p>

<pre class="verbatim">&lt;&lt;
  \relative c'' { a4 b c d }
  \new Lyrics \lyricmode { a4 &quot;&quot; _ gap }
&gt;&gt;

</pre><p>
 <a href="../48/lily-2e16ec9b.ly">
  <img align="middle"
       border="0"
       src="../48/lily-2e16ec9b.png"
       alt="[image of music]">
 </a>
</p>




<a name="skips-in-lyric-mode.ly"></a>
<hr size="6">
<a name="Skips-in-lyric-mode"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Skips-in-lyric-mode-_00282_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Skips in lyric mode (2)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Specifying-context-with-beatGrouping" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Specifying context with beatGrouping &gt; </a>]</td></tr></table>
<a name="Skips-in-lyric-mode"></a>
<h2 class="unnumberedsec">Skips in lyric mode</h2>


<p>The <code>s</code> syntax for skips is only available in note mode and chord
mode. In other situations, for example, when entering lyrics, using the
<code>\skip</code> command is recommended. 
</p>

<pre class="verbatim">&lt;&lt;
  \relative { a'1 a }
  \new Lyrics \lyricmode { \skip 1 bla1 }
&gt;&gt;

</pre><p>
 <a href="../20/lily-46571fbe.ly">
  <img align="middle"
       border="0"
       src="../20/lily-46571fbe.png"
       alt="[image of music]">
 </a>
</p>




<a name="specifying-context-with-beatgrouping.ly"></a>
<hr size="6">
<a name="Specifying-context-with-beatGrouping"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Skips-in-lyric-mode" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Skips in lyric mode&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Stemlets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Stemlets &gt; </a>]</td></tr></table>
<a name="Specifying-context-with-beatGrouping"></a>
<h2 class="unnumberedsec">Specifying context with beatGrouping</h2>


<p>By specifying the context, the effect of <code>beatGrouping</code> can be
limited to the context specified, and the values which may have been
set in higher-level contexts can be overridden.  The <code>\set</code>
commands must be placed after all <code>\time</code> commands:
</p>

<pre class="verbatim">\score {
  \new Staff &lt;&lt;
    \time 7/8
    \new Voice {
      \relative c'' {
        \set Staff.beatGrouping = #'(2 3 2)
        a8 a a a a a a
      }
    }
    \new Voice {
      \relative c' {
        \voiceTwo
        \set beatGrouping = #'(1 3 3)
        f8 f f f f f f
      }
    }
  &gt;&gt;
}
</pre><p>
 <a href="../c9/lily-2c4fa1bc.ly">
  <img align="middle"
       border="0"
       src="../c9/lily-2c4fa1bc.png"
       alt="[image of music]">
 </a>
</p>




<a name="stemlets.ly"></a>
<hr size="6">
<a name="Stemlets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Specifying-context-with-beatGrouping" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Specifying context with beatGrouping&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Sub_002ddividing-beams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Sub-dividing beams &gt; </a>]</td></tr></table>
<a name="Stemlets"></a>
<h2 class="unnumberedsec">Stemlets</h2>


<p>In some notational conventions beams are allowed to extend over rests. 
Depending on preference, these beams may drop &rsquo;stemlets&rsquo; to help the
eye appreciate the rhythm better, and in some modern music the rest
itself is omitted and only the stemlet remains.
</p>

<p>This snippet shows a progression from traditional notation, to beams
over the rest, to stemlets over the rest, to stemlets alone.  Stemlets
are generated by overriding the <code>'stemlet-length</code> property of
<code>Stem</code>, while rests are hidden by setting <code>'transparent =
##t</code>.
</p>

<p>Some <code>\markup</code> elements are included in the source to highlight
the different notations. 
</p>

<pre class="verbatim">\paper { ragged-right = ##f }

{
  c'16^\markup { traditional } d' r f'
  g'16[^\markup { beams over rests } f' r d']
  
  % N.B. use Score.Stem to set for the whole score.
  \override Staff.Stem #'stemlet-length = #0.75
  
  c'16[^\markup { stemlets over rests } d' r f']
  g'16[^\markup { stemlets and no rests } f' \once \override Rest #'transparent = ##t r d']
}


</pre><p>
 <a href="../5a/lily-a7dd73d7.ly">
  <img align="middle"
       border="0"
       src="../5a/lily-a7dd73d7.png"
       alt="[image of music]">
 </a>
</p>




<a name="sub-dividing-beams.ly"></a>
<hr size="6">
<a name="Sub_002ddividing-beams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Stemlets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Stemlets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Three_002dsided-box" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Three-sided box &gt; </a>]</td></tr></table>
<a name="Sub_002ddividing-beams"></a>
<h2 class="unnumberedsec">Sub-dividing beams</h2>


<p>The beams of consecutive 16th (or shorter) notes are, by default, not
sub-divided.  That is, the three (or more) beams stretch unbroken over
entire groups of notes.  This behavior can be modified to sub-divide
the beams into sub-groups by setting the property
<code>subdivideBeams</code>. When set, multiple beams will be sub-divided at
intervals defined by the current value of <code>beatLength</code> by reducing
the multiple beams to just one beam between the sub-groups. Note that
<code>beatLength</code> defaults to one over the denominator of the current
time signature if not set explicitly. It must be set to a fraction
giving the duration of the beam sub-group using the <code>make-moment</code>
function, as shown here:
</p>



<pre class="verbatim">\relative c'' {
  c32[ c c c c c c c]
  \set subdivideBeams = ##t
  c32[ c c c c c c c]

  % Set beam sub-group length to an eighth note
  \set beatLength = #(ly:make-moment 1 8)
  c32[ c c c c c c c]

  % Set beam sub-group length to a sixteenth note
  \set beatLength = #(ly:make-moment 1 16)
  c32[ c c c c c c c]
}

</pre><p>
 <a href="../b5/lily-28275a48.ly">
  <img align="middle"
       border="0"
       src="../b5/lily-28275a48.png"
       alt="[image of music]">
 </a>
</p>




<a name="three-sided-box.ly"></a>
<hr size="6">
<a name="Three_002dsided-box"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Sub_002ddividing-beams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Sub-dividing beams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Time signature printing only the numerator as a number (instead of the fraction) &gt; </a>]</td></tr></table>
<a name="Three_002dsided-box"></a>
<h2 class="unnumberedsec">Three-sided box</h2>


<p>This example shows how to add a markup command to get a three sided box
around some text (or other markup).
</p>

<pre class="verbatim">% New command to add a three sided box, with sides north, west and south
% Based on the box-stencil command defined in scm/stencil.scm
% Note that &quot;;&quot; is used to comment a line in Scheme
#(define-public (NWS-box-stencil stencil thickness padding)
  &quot;Add a box around STENCIL, producing a new stencil.&quot;
  (let* ((x-ext (interval-widen (ly:stencil-extent stencil 0) padding))
         (y-ext (interval-widen (ly:stencil-extent stencil 1) padding))
         (y-rule (make-filled-box-stencil (cons 0 thickness) y-ext))
         (x-rule (make-filled-box-stencil
                  (interval-widen x-ext thickness) (cons 0 thickness))))
;    (set! stencil (ly:stencil-combine-at-edge stencil X 1 y-rule padding))
    (set! stencil (ly:stencil-combine-at-edge stencil X -1 y-rule padding))
    (set! stencil (ly:stencil-combine-at-edge stencil Y 1 x-rule 0.0))
    (set! stencil (ly:stencil-combine-at-edge stencil Y -1 x-rule 0.0))
    stencil))

% The corresponding markup command, based on the \box command defined 
% in scm/define-markup-commands.scm
#(define-markup-command (NWS-box layout props arg) (markup?)
  &quot;Draw a box round @var{arg}.  Looks at @code{thickness},
@code{box-padding} and @code{font-size} properties to determine line
thickness and padding around the markup.&quot;  
  (let* ((th (chain-assoc-get 'thickness props  0.1))
         (size (chain-assoc-get 'font-size props 0))
         (pad (* (magstep size)
                 (chain-assoc-get 'box-padding props 0.2)))
         (m (interpret-markup layout props arg)))
    (NWS-box-stencil m th pad)))

% Test it:

\layout { ragged-right = ##f }
\relative c' {
  c2^\markup { \NWS-box ABCD }
  c2^\markup { \NWS-box \note #&quot;4&quot; #1.0 }
}

</pre><p>
 <a href="../6b/lily-68585188.ly">
  <img align="middle"
       border="0"
       src="../6b/lily-68585188.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-printing-only-the-numerator-as-a-number-instead-of-the-fraction.ly"></a>
<hr size="6">
<a name="Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Three_002dsided-box" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Three-sided box&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaking-grace-layout-within-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaking grace layout within music &gt; </a>]</td></tr></table>
<a name="Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029"></a>
<h2 class="unnumberedsec">Time signature printing only the numerator as a number (instead of the fraction)</h2>


<p>Sometimes, a time signature should not print the whole fraction (e.g.
7/4), but only the numerator (7 in this case). This can be easily done
by using \override Staff.TimeSignature #&rsquo;style = #&rsquo;single-digit to
change the style permanently. By using \revert Staff.TimeSignature
#&rsquo;style, this setting can be reversed. To apply the single-digit style
to only one time signature, use the \override command and prefix it
with a \once. 
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4 
  c4 c c
  % Change the style permanently
  \override Staff.TimeSignature #'style = #'single-digit
  \time 2/4 
  c c
  \time 3/4 
  c c c
  % Revert to default style:
  \revert Staff.TimeSignature #'style
  \time 2/4
  c c
  % single-digit style only for the next time signature
  \once \override Staff.TimeSignature #'style = #'single-digit
  \time 5/4
  c c c c c
  \time 2/4
  c c
}
</pre><p>
 <a href="../4f/lily-5a3e51b0.ly">
  <img align="middle"
       border="0"
       src="../4f/lily-5a3e51b0.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-grace-layout-within-music.ly"></a>
<hr size="6">
<a name="Tweaking-grace-layout-within-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Time signature printing only the numerator as a number (instead of the fraction)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-beatLength-and-beatGrouping" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using beatLength and beatGrouping &gt; </a>]</td></tr></table>
<a name="Tweaking-grace-layout-within-music"></a>
<h2 class="unnumberedsec">Tweaking grace layout within music</h2>


<p>The layout of grace expressions can be changed throughout the music
using the functions <code>add-grace-property</code> and
<code>remove-grace-property</code>. The following example undefines the
<code>Stem</code> direction for this grace, so that stems do not always point
up, and changes the default note heads to crosses. 
</p>

<pre class="verbatim">\relative c'' {
  \new Staff {
    #(remove-grace-property 'Voice 'Stem 'direction)
    #(add-grace-property 'Voice 'NoteHead 'style 'cross)
    \new Voice {
       \acciaccatura { f16 } g4
       \grace { d16[ e] } f4
       \appoggiatura { f,32[ g a] } e2
    }
  }
}
</pre><p>
 <a href="../7f/lily-6e6a2a49.ly">
  <img align="middle"
       border="0"
       src="../7f/lily-6e6a2a49.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-beatlength-and-beatgrouping.ly"></a>
<hr size="6">
<a name="Using-beatLength-and-beatGrouping"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaking-grace-layout-within-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaking grace layout within music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-grace-note-slashes-with-normal-heads" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using grace note slashes with normal heads &gt; </a>]</td></tr></table>
<a name="Using-beatLength-and-beatGrouping"></a>
<h2 class="unnumberedsec">Using beatLength and beatGrouping</h2>


<p>The property <code>measureLength</code> determines where bar lines should be
inserted and, with <code>beatLength</code> and <code>beatGrouping</code>, how
automatic beams should be generated for beam durations and time
signatures for which no beam-ending rules are defined.  This example
shows several ways of controlling beaming by setting these properties. 
The explanations are shown as comments in the code.
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  % The default in 3/4 time is to beam in three groups
  % each of a quarter note length
  a16 a a a a a a a a a a a

  \time 12/16
  % No auto-beaming is defined for 12/16
  a16 a a a a a a a a a a a

  \time 3/4
  % Change time signature symbol, but retain underlying 3/4 beaming
  \set Score.timeSignatureFraction = #'(12 . 16)
  a16 a a a a a a a a a a a

  % The 3/4 time default grouping of (1 1 1) and beatLength of 1/8
  % are not consistent with a measureLength of 3/4, so the beams
  % are grouped at beatLength intervals
  \set Score.beatLength = #(ly:make-moment 1 8)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 3 2 3) 1/16th notes
  % 3+3+2+3=11, and 11*1/16&lt;&gt;3/4, so beatGrouping does not apply,
  % and beams are grouped at beatLength (1/16) intervals
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 3 2 3)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 4 2 3) 1/16th notes
  % 3+4+2+3=12, and 12*1/16=3/4, so beatGrouping applies
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 4 2 3)
  a16 a a a a a a a a a a a
}
</pre><p>
 <a href="../31/lily-ef8d5a53.ly">
  <img align="middle"
       border="0"
       src="../31/lily-ef8d5a53.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-grace-note-slashes-with-normal-heads.ly"></a>
<hr size="6">
<a name="Using-grace-note-slashes-with-normal-heads"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-beatLength-and-beatGrouping" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using beatLength and beatGrouping&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-ties-with-arpeggios" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using ties with arpeggios &gt; </a>]</td></tr></table>
<a name="Using-grace-note-slashes-with-normal-heads"></a>
<h2 class="unnumberedsec">Using grace note slashes with normal heads</h2>


<p>The slash through the stem found in acciaccaturas can be applied in
other situations.
</p>

<pre class="verbatim">\relative c'' {
  \override Stem #'stroke-style = #&quot;grace&quot;
  c8( d2) e8( f4)
}

</pre><p>
 <a href="../5c/lily-444d842c.ly">
  <img align="middle"
       border="0"
       src="../5c/lily-444d842c.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-ties-with-arpeggios.ly"></a>
<hr size="6">
<a name="Using-ties-with-arpeggios"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-grace-note-slashes-with-normal-heads" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using grace note slashes with normal heads&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Expressive-marks.html#Expressive-marks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Expressive marks &gt; </a>]</td></tr></table>
<a name="Using-ties-with-arpeggios"></a>
<h2 class="unnumberedsec">Using ties with arpeggios</h2>


<p>Ties are sometimes used to write out arpeggios.  In this case, two tied
notes need not be consecutive.  This can be achieved by setting the
<code>tieWaitForNote</code> property to <code>#t</code>.  The same feature is also
useful, for example, to tie a tremolo to a chord, but in principle, it
can also be used for ordinary consecutive notes. 
</p>

<pre class="verbatim">\relative c' {
  \set tieWaitForNote = ##t
  \grace { c16[ ~ e ~ g] ~ } &lt;c, e g&gt;2
  \repeat tremolo 8 { c32 ~ c' ~ } &lt;c c,&gt;1
  e8 ~ c ~ a ~ f ~ &lt;e' c a f&gt;2
  \tieUp
  c8 ~ a
  \tieDown
  \tieDotted
  g8 ~ c g2
}

</pre><p>
 <a href="../d6/lily-d938f87d.ly">
  <img align="middle"
       border="0"
       src="../d6/lily-d938f87d.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.html#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="index_abt.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="Expressive-marks.html#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-grace-note-slashes-with-normal-heads" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using grace note slashes with normal heads&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="Expressive-marks.html#Expressive-marks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Expressive marks &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.html#Top" title="Start of the manual">Snippets List</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Pitches-1" href="Pitches.html#Pitches">Pitches</a>  </li>
  <li class="toc_current"><a name="toc-Rhythms-1" href="Rhythms.html#Rhythms">Rhythms</a>
  <ul class="toc">
    <li><a name="toc-Adding-beams_002c-slurs_002c-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms" href="Rhythms.html#Adding-beams">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</a>    </li>
    <li><a name="toc-Adding-drum-parts-1" href="Rhythms.html#Adding-drum-parts">Adding drum parts</a>    </li>
    <li><a name="toc-Aligning-bar-numbers-1" href="Rhythms.html#Aligning-bar-numbers">Aligning bar numbers</a>    </li>
    <li><a name="toc-Automatic-beam-subdivisions-1" href="Rhythms.html#Automatic-beam-subdivisions">Automatic beam subdivisions</a>    </li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-1" href="Rhythms.html#Avoiding-collisions-with-chord-fingerings">Avoiding collisions with chord fingerings</a>    </li>
    <li><a name="toc-Beam-endings-in-Score-context-1" href="Rhythms.html#Beam-endings-in-Score-context">Beam endings in Score context</a>    </li>
    <li><a name="toc-Beam-grouping-in-7_002f8-time-1" href="Rhythms.html#Beam-grouping-in-7_002f8-time">Beam grouping in 7/8 time</a>    </li>
    <li><a name="toc-Beams-across-line-breaks-1" href="Rhythms.html#Beams-across-line-breaks">Beams across line breaks</a>    </li>
    <li><a name="toc-Changing-beam-knee-gap-1" href="Rhythms.html#Changing-beam-knee-gap">Changing beam knee gap</a>    </li>
    <li><a name="toc-Changing-form-of-multi_002dmeasure-rests-1" href="Rhythms.html#Changing-form-of-multi_002dmeasure-rests">Changing form of multi-measure rests</a>    </li>
    <li><a name="toc-Changing-the-time-signature-without-affecting-the-beaming-1" href="Rhythms.html#Changing-the-time-signature-without-affecting-the-beaming">Changing the time signature without affecting the beaming</a>    </li>
    <li><a name="toc-Changing-the-tuplet-number-1" href="Rhythms.html#Changing-the-tuplet-number">Changing the tuplet number</a>    </li>
    <li><a name="toc-Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations-1" href="Rhythms.html#Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations">Changing time signatures inside a polymetric section using \scaleDurations</a>    </li>
    <li><a name="toc-Chant-or-psalms-notation-3" href="Rhythms.html#Chant-or-psalms-notation">Chant or psalms notation</a>    </li>
    <li><a name="toc-Compound-time-signatures-1" href="Rhythms.html#Compound-time-signatures">Compound time signatures</a>    </li>
    <li><a name="toc-Conducting-signs_002c-measure-grouping-signs" href="Rhythms.html#Conducting-signs">Conducting signs, measure grouping signs</a>    </li>
    <li><a name="toc-Controlling-tuplet-bracket-visibility-1" href="Rhythms.html#Controlling-tuplet-bracket-visibility">Controlling tuplet bracket visibility</a>    </li>
    <li><a name="toc-Engraving-ties-manually-1" href="Rhythms.html#Engraving-ties-manually">Engraving ties manually</a>    </li>
    <li><a name="toc-Engraving-tremolos-with-floating-beams-2" href="Rhythms.html#Engraving-tremolos-with-floating-beams">Engraving tremolos with floating beams</a>    </li>
    <li><a name="toc-Entering-several-tuplets-using-only-one-_005ctimes-command-1" href="Rhythms.html#Entering-several-tuplets-using-only-one-_005ctimes-command">Entering several tuplets using only one \times command</a>    </li>
    <li><a name="toc-Flat-flags-and-beam-nibs-1" href="Rhythms.html#Flat-flags-and-beam-nibs">Flat flags and beam nibs</a>    </li>
    <li><a name="toc-Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number-1" href="Rhythms.html#Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number">Forcing rehearsal marks to start from a given letter or number</a>    </li>
    <li><a name="toc-Grouping-beats-1" href="Rhythms.html#Grouping-beats">Grouping beats</a>    </li>
    <li><a name="toc-Guitar-strum-rhythms-1" href="Rhythms.html#Guitar-strum-rhythms">Guitar strum rhythms</a>    </li>
    <li><a name="toc-Heavily-customized-polymetric-time-signatures-1" href="Rhythms.html#Heavily-customized-polymetric-time-signatures">Heavily customized polymetric time signatures</a>    </li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-1" href="Rhythms.html#Making-an-object-invisible-with-the-_0027transparent-property">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li><a name="toc-Manually-controlling-beam-positions-1" href="Rhythms.html#Manually-controlling-beam-positions">Manually controlling beam positions</a>    </li>
    <li><a name="toc-Merging-multi_002dmeasure-rests-in-a-polyphonic-part-1" href="Rhythms.html#Merging-multi_002dmeasure-rests-in-a-polyphonic-part">Merging multi-measure rests in a polyphonic part</a>    </li>
    <li><a name="toc-Modifying-tuplet-bracket-length-1" href="Rhythms.html#Modifying-tuplet-bracket-length">Modifying tuplet bracket length</a>    </li>
    <li><a name="toc-Multi_002dmeasure-rest-markup-1" href="Rhythms.html#Multi_002dmeasure-rest-markup">Multi-measure rest markup</a>    </li>
    <li><a name="toc-Permitting-line-breaks-within-beamed-tuplets-1" href="Rhythms.html#Permitting-line-breaks-within-beamed-tuplets">Permitting line breaks within beamed tuplets</a>    </li>
    <li><a name="toc-Positioning-grace-notes-with-floating-space-1" href="Rhythms.html#Positioning-grace-notes-with-floating-space">Positioning grace notes with floating space</a>    </li>
    <li><a name="toc-Positioning-multi_002dmeasure-rests-1" href="Rhythms.html#Positioning-multi_002dmeasure-rests">Positioning multi-measure rests</a>    </li>
    <li><a name="toc-Printing-bar-numbers-at-regular-intervals-1" href="Rhythms.html#Printing-bar-numbers-at-regular-intervals">Printing bar numbers at regular intervals</a>    </li>
    <li><a name="toc-Printing-bar-numbers-inside-boxes-or-circles-2" href="Rhythms.html#Printing-bar-numbers-inside-boxes-or-circles">Printing bar numbers inside boxes or circles</a>    </li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-1" href="Rhythms.html#Printing-metronome-and-rehearsal-marks-below-the-staff">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li><a name="toc-Printing-music-with-different-time-signatures-2" href="Rhythms.html#Printing-music-with-different-time-signatures">Printing music with different time signatures</a>    </li>
    <li><a name="toc-Printing-the-bar-number-for-the-first-measure-1" href="Rhythms.html#Printing-the-bar-number-for-the-first-measure">Printing the bar number for the first measure</a>    </li>
    <li><a name="toc-Redefining-grace-note-global-defaults-1" href="Rhythms.html#Redefining-grace-note-global-defaults">Redefining grace note global defaults</a>    </li>
    <li><a name="toc-Removing-bar-numbers-from-a-score-2" href="Rhythms.html#Removing-bar-numbers-from-a-score">Removing bar numbers from a score</a>    </li>
    <li><a name="toc-Rest-styles-2" href="Rhythms.html#Rest-styles">Rest styles</a>    </li>
    <li><a name="toc-Reverting-default-beam-endings-1" href="Rhythms.html#Reverting-default-beam-endings">Reverting default beam endings</a>    </li>
    <li><a name="toc-Rhythmic-slashes-1" href="Rhythms.html#Rhythmic-slashes">Rhythmic slashes</a>    </li>
    <li><a name="toc-Skips-in-lyric-mode-_00282_0029-2" href="Rhythms.html#Skips-in-lyric-mode-_00282_0029">Skips in lyric mode (2)</a>    </li>
    <li><a name="toc-Skips-in-lyric-mode-2" href="Rhythms.html#Skips-in-lyric-mode">Skips in lyric mode</a>    </li>
    <li><a name="toc-Specifying-context-with-beatGrouping-2" href="Rhythms.html#Specifying-context-with-beatGrouping">Specifying context with beatGrouping</a>    </li>
    <li><a name="toc-Stemlets-1" href="Rhythms.html#Stemlets">Stemlets</a>    </li>
    <li><a name="toc-Sub_002ddividing-beams-1" href="Rhythms.html#Sub_002ddividing-beams">Sub-dividing beams</a>    </li>
    <li><a name="toc-Three_002dsided-box-2" href="Rhythms.html#Three_002dsided-box">Three-sided box</a>    </li>
    <li><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029-1" href="Rhythms.html#Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029">Time signature printing only the numerator as a number (instead of the fraction)</a>    </li>
    <li><a name="toc-Tweaking-grace-layout-within-music-2" href="Rhythms.html#Tweaking-grace-layout-within-music">Tweaking grace layout within music</a>    </li>
    <li><a name="toc-Using-beatLength-and-beatGrouping-1" href="Rhythms.html#Using-beatLength-and-beatGrouping">Using beatLength and beatGrouping</a>    </li>
    <li><a name="toc-Using-grace-note-slashes-with-normal-heads-1" href="Rhythms.html#Using-grace-note-slashes-with-normal-heads">Using grace note slashes with normal heads</a>    </li>
    <li><a name="toc-Using-ties-with-arpeggios-1" href="Rhythms.html#Using-ties-with-arpeggios">Using ties with arpeggios</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Expressive-marks-1" href="Expressive-marks.html#Expressive-marks">Expressive marks</a>  </li>
  <li><a name="toc-Repeats-1" href="Repeats.html#Repeats">Repeats</a>  </li>
  <li><a name="toc-Simultaneous-notes-1" href="Simultaneous-notes.html#Simultaneous-notes">Simultaneous notes</a>  </li>
  <li><a name="toc-Staff-notation-1" href="Staff-notation.html#Staff-notation">Staff notation</a>  </li>
  <li><a name="toc-Editorial-annotations-1" href="Editorial-annotations.html#Editorial-annotations">Editorial annotations</a>  </li>
  <li><a name="toc-Text-1" href="Text.html#Text">Text</a>  </li>
  <li><a name="toc-Vocal-music-1" href="Vocal-music.html#Vocal-music">Vocal music</a>  </li>
  <li><a name="toc-Chords-1" href="Chords.html#Chords">Chords</a>  </li>
  <li><a name="toc-Keyboards-1" href="Keyboards.html#Keyboards">Keyboards</a>  </li>
  <li><a name="toc-Percussion-1" href="Percussion.html#Percussion">Percussion</a>  </li>
  <li><a name="toc-Fretted-strings-1" href="Fretted-strings.html#Fretted-strings">Fretted strings</a>  </li>
  <li><a name="toc-Unfretted-strings-1" href="Unfretted-strings.html#Unfretted-strings">Unfretted strings</a>  </li>
  <li><a name="toc-Winds-1" href="Winds.html#Winds">Winds</a>  </li>
  <li><a name="toc-Ancient-notation-1" href="Ancient-notation.html#Ancient-notation">Ancient notation</a>  </li>
  <li><a name="toc-World-music-1" href="World-music.html#World-music">World music</a>  </li>
  <li><a name="toc-Contexts-and-engravers-1" href="Contexts-and-engravers.html#Contexts-and-engravers">Contexts and engravers</a>  </li>
  <li><a name="toc-Tweaks-and-overrides-1" href="Tweaks-and-overrides.html#Tweaks-and-overrides">Tweaks and overrides</a>  </li>
  <li><a name="toc-Paper-and-layout-1" href="Paper-and-layout.html#Paper-and-layout">Paper and layout</a>  </li>
  <li><a name="toc-Titles-1" href="Titles.html#Titles">Titles</a>  </li>
  <li><a name="toc-Spacing-1" href="Spacing.html#Spacing">Spacing</a>  </li>
  <li><a name="toc-MIDI-1" href="MIDI.html#MIDI">MIDI</a>  </li>
  <li><a name="toc-Templates-1" href="Templates.html#Templates">Templates</a>  </li>
</ul>
</div>
</div>

</body>
</html>
