<!-- header_tag -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 13, 2010 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond snippets</title>

<meta name="description" content="LilyPond snippets">
<meta name="keywords" content="LilyPond snippets">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#Top" rel="start" title="GNU LilyPond &mdash; Snippets List">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="#SEC_About" rel="help" title="About This Document">
<link rel="stylesheet" type="text/css" title="Patrick McCarty's design" href="../../Documentation/user/lilypond-mccarty.css">
<link rel="alternate stylesheet" type="text/css" href="../../Documentation/user/lilypond.css" title="Andrew Hawryluk's design">
<link rel="alternate stylesheet" type="text/css" href="../../Documentation/user/lilypond-blue.css" title="Kurt Kroon's blue design">
<!--[if lte IE 7]>
<link href="../../Documentation/user/lilypond-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">


<div id="main">
<a name="Top"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<a name="Top"></a>
<h1 class="settitle">GNU LilyPond &mdash; Snippets List</h1>

<p>This document is also available as a
<a href="../../Documentation/user/lilypond-snippets.pdf">PDF</a> and as
<a href="../../input/lsr/lilypond-snippets/index.html">HTML indexed multiple pages</a>.
</p>
<p>This document shows a selected set of LilyPond snippets from the
<a href="http://lsr.dsi.unimi.it">LilyPond Snippet Repository</a>
(LSR). It is in the public domain.
</p>
<p>Please note that it is not an exact subset of LSR: some snippets come
from &lsquo;<tt>input/new</tt>&rsquo; LilyPond sources directory, and snippets from LSR
are converted through <code>convert-ly</code>, as LSR is based on a stable
LilyPond version, and this document is for version 2.12.3.
</p>
<p>Snippets are grouped by tags; tags listed in the table of contents match
a section of LilyPond notation manual.  Snippets may have several tags,
and not all LSR tags may appear in this document.
</p>
<p>In the HTML version of this document, you can click on the file name
or figure for each example to see the corresponding input file.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">Musical notation
</pre></th></tr><tr><td align="left" valign="top"><a href="#Pitches" accesskey="1">Pitches</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Rhythms" accesskey="2">Rhythms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Expressive-marks" accesskey="3">Expressive marks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Repeats" accesskey="4">Repeats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Simultaneous-notes" accesskey="5">Simultaneous notes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Staff-notation" accesskey="6">Staff notation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Editorial-annotations" accesskey="7">Editorial annotations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Text" accesskey="8">Text</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Specialist notation
</pre></th></tr><tr><td align="left" valign="top"><a href="#Vocal-music" accesskey="9">Vocal music</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Chords">Chords</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Keyboards">Keyboards</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Percussion">Percussion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Fretted-strings">Fretted strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Unfretted-strings">Unfretted strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Winds">Winds</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Ancient-notation">Ancient notation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#World-music">World music</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Other collections
</pre></th></tr><tr><td align="left" valign="top"><a href="#Contexts-and-engravers">Contexts and engravers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Tweaks-and-overrides">Tweaks and overrides</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Paper-and-layout">Paper and layout</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Titles">Titles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Spacing">Spacing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#MIDI">MIDI</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Templates">Templates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>




<hr size="1">
<a name="Pitches"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Top" title="Beginning of this chapter or previous chapter"> &lt;&lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Top" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-ambitus-per-voice" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding ambitus per voice &gt; </a>]</td></tr></table>
<a name="Pitches"></a>
<h1 class="unnumbered">Pitches</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Pitches">Pitches</a>.
</p>

<a name="adding-ambitus-per-voice.ly"></a>
<hr size="6">
<a name="Adding-ambitus-per-voice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Pitches" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ambitus-with-multiple-voices" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ambitus with multiple voices &gt; </a>]</td></tr></table>
<a name="Adding-ambitus-per-voice"></a>
<h2 class="unnumberedsec">Adding ambitus per voice</h2>


<p>Ambitus can be added per voice. In this case, the ambitus must be moved
manually to prevent collisions. 
</p>

<pre class="verbatim">\new Staff &lt;&lt;
  \new Voice \with {
    \consists &quot;Ambitus_engraver&quot;
  } \relative c'' {
    \override Ambitus #'X-offset = #2.0
    \voiceOne
    c4 a d e
    f1
  }
  \new Voice \with {
    \consists &quot;Ambitus_engraver&quot;
  } \relative c' {
    \voiceTwo
    es4 f g as
    b1
  }
&gt;&gt;

</pre><p>
 <a href="22/lily-9f6c2419.ly">
  <img align="middle"
       border="0"
       src="22/lily-9f6c2419.png"
       alt="[image of music]">
 </a>
</p>




<a name="ambitus-with-multiple-voices.ly"></a>
<hr size="6">
<a name="Ambitus-with-multiple-voices"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-ambitus-per-voice" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding ambitus per voice&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ambitus" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ambitus &gt; </a>]</td></tr></table>
<a name="Ambitus-with-multiple-voices"></a>
<h2 class="unnumberedsec">Ambitus with multiple voices</h2>


<p>Adding the <code>Ambitus_engraver</code> to the <code>Staff</code> context creates
a single ambitus per staff, even in the case of staves with multiple
voices. 
</p>

<pre class="verbatim">\new Staff \with {
  \consists &quot;Ambitus_engraver&quot;
  }
&lt;&lt;
  \new Voice \relative c'' {
    \voiceOne
    c4 a d e
    f1
  }
  \new Voice \relative c' {
    \voiceTwo
    es4 f g as
    b1
  }
&gt;&gt;


</pre><p>
 <a href="11/lily-12cd208a.ly">
  <img align="middle"
       border="0"
       src="11/lily-12cd208a.png"
       alt="[image of music]">
 </a>
</p>




<a name="ambitus.ly"></a>
<hr size="6">
<a name="Ambitus"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ambitus-with-multiple-voices" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ambitus with multiple voices&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Applying-note-head-styles-depending-on-the-step-of-the-scale" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Applying note head styles depending on the step of the scale &gt; </a>]</td></tr></table>
<a name="Ambitus"></a>
<h2 class="unnumberedsec">Ambitus</h2>


<p>Ambitus indicate pitch ranges for voices.
</p>

<p>Accidentals only show up if they are not part of the key signature. 
<code>AmbitusNoteHead</code> grobs also have ledger lines. 
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    \consists &quot;Ambitus_engraver&quot;
  }
}

&lt;&lt;
  \new Staff {
    \relative c' {
      \time 2/4
      c4 f'
    }
  }
  \new Staff {
    \relative c' {
      \time  2/4
      \key d \major
      cis4 as'
    }
  }
&gt;&gt;

</pre><p>
 <a href="0f/lily-94e65d7e.ly">
  <img align="middle"
       border="0"
       src="0f/lily-94e65d7e.png"
       alt="[image of music]">
 </a>
</p>




<a name="applying-note-head-styles-depending-on-the-step-of-the-scale.ly"></a>
<hr size="6">
<a name="Applying-note-head-styles-depending-on-the-step-of-the-scale"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ambitus" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ambitus&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Coloring-notes-depending-on-their-pitch" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Coloring notes depending on their pitch &gt; </a>]</td></tr></table>
<a name="Applying-note-head-styles-depending-on-the-step-of-the-scale"></a>
<h2 class="unnumberedsec">Applying note head styles depending on the step of the scale</h2>


<p>The <code>shapeNoteStyles</code> property can be used to define various note
head styles for each step of the scale (as set by the key signature or
the &quot;tonic&quot; property). This property requires a set of symbols, which
can be purely arbitrary (geometrical expressions such as
<code>triangle</code>, <code>cross</code>, and <code>xcircle</code> are allowed) or based
on old American engraving tradition (some latin note names are also
allowed).
</p>
<p>That said, to imitate old American song books, there are several
predefined note head styles available through shortcut commands such as
<code>\aikenHeads</code> or <code>\sacredHarpHeads</code>.
</p>
<p>This example shows different ways to obtain shape note heads, and
demonstrates the ability to transpose a melody without losing the
correspondence between harmonic functions and note head styles. 
</p>

<pre class="verbatim">fragment = {
  \key c \major
  c2 d
  e2 f
  g2 a
  b2 c
}

\score {
  \new Staff {
    \transpose c d 
    \relative c' {
      \set shapeNoteStyles = #'#(do re mi fa
                                 #f la ti)
      \fragment
    }

    \break

    \relative c' {
      \set shapeNoteStyles = #'#(cross triangle fa #f
                                 mensural xcircle diamond)
      \fragment
    }
  }
  \layout { ragged-right = ##t }
}

</pre><p>
 <a href="a8/lily-06f2ab7d.ly">
  <img align="middle"
       border="0"
       src="a8/lily-06f2ab7d.png"
       alt="[image of music]">
 </a>
</p>




<a name="coloring-notes-depending-on-their-pitch.ly"></a>
<hr size="6">
<a name="Coloring-notes-depending-on-their-pitch"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Applying-note-head-styles-depending-on-the-step-of-the-scale" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Applying note head styles depending on the step of the scale&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-a-sequence-of-notes-on-various-pitches" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating a sequence of notes on various pitches &gt; </a>]</td></tr></table>
<a name="Coloring-notes-depending-on-their-pitch"></a>
<h2 class="unnumberedsec">Coloring notes depending on their pitch</h2>


<p>It is possible to color note heads depending on their pitch and/or
their names: the function used in this example even makes it possible
to distinguish enharmonics. 
</p>

<pre class="verbatim">%Association list of pitches to colors.
#(define color-mapping
  (list
    (cons (ly:make-pitch 0 0 0) (x11-color 'red))
    (cons (ly:make-pitch 0 0 1/2) (x11-color 'green))
    (cons (ly:make-pitch 0 1 -1/2) (x11-color 'green))
    (cons (ly:make-pitch 0 2 0) (x11-color 'red))
    (cons (ly:make-pitch 0 2 1/2) (x11-color 'green))
    (cons (ly:make-pitch 0 3 -1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 3 0) (x11-color 'green))
    (cons (ly:make-pitch 0 4 1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 5 0) (x11-color 'green))
    (cons (ly:make-pitch 0 5 -1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 6 1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 1 0) (x11-color 'blue))
    (cons (ly:make-pitch 0 3 1/2) (x11-color 'blue))
    (cons (ly:make-pitch 0 4 -1/2) (x11-color 'blue))
    (cons (ly:make-pitch 0 5 1/2) (x11-color 'blue))
    (cons (ly:make-pitch 0 6 -1/2) (x11-color 'blue))))

%Compare pitch and alteration (not octave).
#(define (pitch-equals? p1 p2)
  (and
    (= (ly:pitch-alteration p1) (ly:pitch-alteration p2))
    (= (ly:pitch-notename p1) (ly:pitch-notename p2))))

#(define (pitch-to-color pitch)
  (let ((color (assoc pitch color-mapping pitch-equals?)))
    (if color
      (cdr color))))

#(define (color-notehead grob)
  (pitch-to-color
    (ly:event-property (event-cause grob) 'pitch)))

\score {
  \new Staff \relative c' {
    \override NoteHead #'color = #color-notehead
    c8 b d dis ees f g aes
  }
}
</pre><p>
 <a href="2f/lily-71e98e19.ly">
  <img align="middle"
       border="0"
       src="2f/lily-71e98e19.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-a-sequence-of-notes-on-various-pitches.ly"></a>
<hr size="6">
<a name="Creating-a-sequence-of-notes-on-various-pitches"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Coloring-notes-depending-on-their-pitch" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Coloring notes depending on their pitch&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Dodecaphonic-style accidentals for each note including naturals &gt; </a>]</td></tr></table>
<a name="Creating-a-sequence-of-notes-on-various-pitches"></a>
<h2 class="unnumberedsec">Creating a sequence of notes on various pitches</h2>


<p>In music that contains many occurrences of the same sequence of notes
at different pitches, the following music function may prove useful. 
It takes a note, of which only the pitch is used.  The supporting
Scheme functions were borrowed from the &quot;Tips and tricks&quot; document in
the manual for version 2.10.   This example creates the rhythm used
throughout Mars, from Gustav Holst&rsquo;s The Planets. 
</p>

<pre class="verbatim">#(define (make-note-req p d)
   (make-music 'NoteEvent
	       'duration d
	       'pitch p))

#(define (make-note p d)
   (make-music 'EventChord
	       'elements (list (make-note-req p d))))

#(define (make-triplet elt)
   (make-music 'TimeScaledMusic
	       'denominator 3
	       'numerator 2
	       'element elt))

rhythm =
#(define-music-function (parser location note) (ly:music?)
   &quot;Make the rhythm in Mars (the Planets) at the given note's pitch&quot;
   (let ((p (ly:music-property
             (car (ly:music-property note 'elements))
             'pitch)))
     (make-sequential-music
      (list
       (make-triplet (make-sequential-music
                      (list
                       (make-note p (ly:make-duration 3 0 2 3))
                       (make-note p (ly:make-duration 3 0 2 3))
                       (make-note p (ly:make-duration 3 0 2 3)))))
       (make-note p (ly:make-duration 2 0))
       (make-note p (ly:make-duration 2 0))
       (make-note p (ly:make-duration 3 0))
       (make-note p (ly:make-duration 3 0))
       (make-note p (ly:make-duration 2 0))))))

\new Staff {
  \time 5/4
  \rhythm c'
  \rhythm c''
  \rhythm g
}
</pre><p>
 <a href="3e/lily-1f155039.ly">
  <img align="middle"
       border="0"
       src="3e/lily-1f155039.png"
       alt="[image of music]">
 </a>
</p>




<a name="dodecaphonic-style-accidentals-for-each-note-including-naturals.ly"></a>
<hr size="6">
<a name="Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-a-sequence-of-notes-on-various-pitches" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating a sequence of notes on various pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Generating-random-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Generating random notes &gt; </a>]</td></tr></table>
<a name="Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals"></a>
<h2 class="unnumberedsec">Dodecaphonic-style accidentals for each note including naturals</h2>


<p>In early 20th century works, starting with Schoenberg, Berg and Webern
(the &quot;Second&quot; Viennese school), every pitch in the twelve-tone scale
has to be regarded as equal, without any hierarchy such as the
classical (tonal) degrees. Therefore, these composers print one
accidental for each note, even at natural pitches, to emphasize their
new approach to music theory and language.
</p>
<p>This snippet shows how to achieve such notation rules. 
</p>

<pre class="verbatim">\score {
  \new Staff {
    #(set-accidental-style 'dodecaphonic)
    c'4 dis' cis' cis'
    c'4 dis' cis' cis'
    c'4 c' dis' des'
  }
  \layout {
    \context {
      \Staff
      \remove &quot;Key_engraver&quot;
    }
  }
}

</pre><p>
 <a href="68/lily-3c286cf8.ly">
  <img align="middle"
       border="0"
       src="68/lily-3c286cf8.png"
       alt="[image of music]">
 </a>
</p>




<a name="generating-random-notes.ly"></a>
<hr size="6">
<a name="Generating-random-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Dodecaphonic-style accidentals for each note including naturals&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Makam-example" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Makam example &gt; </a>]</td></tr></table>
<a name="Generating-random-notes"></a>
<h2 class="unnumberedsec">Generating random notes</h2>


<p>This Scheme-based snippet generates 24 random notes (or as many as
required), based on the current time (or any randomish number specified
instead, in order to obtain the same random notes each time): i.e., to
get different random note patterns, just change this number.
</p>

<pre class="verbatim">\score {
  {
    #(let ((random-state (seed-&gt;random-state (current-time))))
       (ly:export
        (make-sequential-music
         (map (lambda (x)
                (let ((idx (random 12 random-state)))
                  (make-event-chord
                   (list
                    (make-music 'NoteEvent
                                'duration (ly:make-duration 2 0 1 1)
                                'pitch (ly:make-pitch
                                        (quotient idx 7)
                                        (remainder idx 7)
                                        0))))))
              (make-list 24)))))
  }
}
</pre><p>
 <a href="9b/lily-b3b41669.ly">
  <img align="middle"
       border="0"
       src="9b/lily-b3b41669.png"
       alt="[image of music]">
 </a>
</p>




<a name="makam-example.ly"></a>
<hr size="6">
<a name="Makam-example"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Generating-random-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Generating random notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Non_002dtraditional-key-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Non-traditional key signatures &gt; </a>]</td></tr></table>
<a name="Makam-example"></a>
<h2 class="unnumberedsec">Makam example</h2>


<p>Makam is a type of melody from Turkey using 1/9th-tone microtonal
alterations. Consult the initialization file &lsquo;<samp>ly/makam.ly</samp>&rsquo; for
details of pitch names and alterations. 
</p>

<pre class="verbatim">% Initialize makam settings
\include &quot;makam.ly&quot;

\relative c' {
  \set Staff.keySignature = #`((3 . ,BAKIYE) (6 . ,(- KOMA)))
  c4 cc db fk
  gbm4 gfc gfb efk
  fk4 db cc c
}
</pre><p>
 <a href="e8/lily-d6dd9777.ly">
  <img align="middle"
       border="0"
       src="e8/lily-d6dd9777.png"
       alt="[image of music]">
 </a>
</p>




<a name="non-traditional-key-signatures.ly"></a>
<hr size="6">
<a name="Non_002dtraditional-key-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Makam-example" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Makam example&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ottava-text" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ottava text &gt; </a>]</td></tr></table>
<a name="Non_002dtraditional-key-signatures"></a>
<h2 class="unnumberedsec">Non-traditional key signatures</h2>


<p>The commonly used <code>\key</code> command sets the <code>keySignature</code>
property, in the <code>Staff</code> context.
</p>
<p>To create non-standard key signatures, set this property directly. The
format of this command is a list:
</p>
<p><code> \set Staff.keySignature = #`(((octave . step) . alter) ((octave
. step) . alter) ...) </code> where, for each element in the list,
<code>octave</code> specifies the octave (0 being the octave from middle C to
the B above), <code>step</code> specifies the note within the octave (0 means
C and 6 means B), and <code>alter</code> is <code>,SHARP ,FLAT ,DOUBLE-SHARP</code>
etc. (Note the leading comma.) The accidentals in the key signature
will appear in the reverse order to that in which they are specified.
</p>

<p>Alternatively, for each item in the list, using the more concise format
<code>(step . alter)</code> specifies that the same alteration should hold in
all octaves.
</p>

<p>For microtonal scales where a &quot;sharp&quot; is not 100 cents, <code>alter</code>
refers to the alteration as a proportion of a 200-cent whole tone.
</p>

<p>Here is an example of a possible key signature for generating a
whole-tone scale: 
</p>

<pre class="verbatim">\relative c' {
  \set Staff.keySignature = #`(((0 . 3) . ,SHARP)
                               ((0 . 5) . ,FLAT)
                               ((0 . 6) . ,FLAT))
  c4 d e fis
  aes4 bes c2
}
</pre><p>
 <a href="16/lily-01f358a1.ly">
  <img align="middle"
       border="0"
       src="16/lily-01f358a1.png"
       alt="[image of music]">
 </a>
</p>




<a name="ottava-text.ly"></a>
<hr size="6">
<a name="Ottava-text"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Non_002dtraditional-key-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Non-traditional key signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Preventing-extra-naturals-from-being-automatically-added" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Preventing extra naturals from being automatically added &gt; </a>]</td></tr></table>
<a name="Ottava-text"></a>
<h2 class="unnumberedsec">Ottava text</h2>


<p>Internally, <code>\ottava</code> sets the properties <code>ottavation</code> (for
example, to <code>&quot;8va&quot;</code> or <code>&quot;8vb&quot;</code>) and
<code>middleCPosition</code>.  To override the text of the bracket, set
<code>ottavation</code> after invoking <code>\ottava</code>.
</p>

<pre class="verbatim">{
  \ottava #1
  \set Staff.ottavation = #&quot;8&quot;
  c''1
  \ottava #0
  c'1
  \ottava #1
  \set Staff.ottavation = #&quot;Text&quot;
  c''1
}

</pre><p>
 <a href="26/lily-af63d2eb.ly">
  <img align="middle"
       border="0"
       src="26/lily-af63d2eb.png"
       alt="[image of music]">
 </a>
</p>




<a name="preventing-extra-naturals-from-being-automatically-added.ly"></a>
<hr size="6">
<a name="Preventing-extra-naturals-from-being-automatically-added"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ottava-text" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ottava text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Preventing-natural-signs-from-being-printed-when-the-key-signature-changes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Preventing natural signs from being printed when the key signature changes &gt; </a>]</td></tr></table>
<a name="Preventing-extra-naturals-from-being-automatically-added"></a>
<h2 class="unnumberedsec">Preventing extra naturals from being automatically added</h2>


<p>In accordance with standard typesetting rules, a natural sign is
printed before a sharp or flat if a previous accidental on the same
note needs to be canceled.  To change this behavior, set the
<code>extraNatural</code> property to &quot;false&quot; in the <code>Staff</code> context.
</p>



<pre class="verbatim">\relative c'' {
  aeses4 aes ais a
  \set Staff.extraNatural = ##f
  aeses4 aes ais a
}

</pre><p>
 <a href="25/lily-5155fa55.ly">
  <img align="middle"
       border="0"
       src="25/lily-5155fa55.png"
       alt="[image of music]">
 </a>
</p>




<a name="preventing-natural-signs-from-being-printed-when-the-key-signature-changes.ly"></a>
<hr size="6">
<a name="Preventing-natural-signs-from-being-printed-when-the-key-signature-changes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Preventing-extra-naturals-from-being-automatically-added" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Preventing extra naturals from being automatically added&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Quoting-another-voice-with-transposition" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Quoting another voice with transposition &gt; </a>]</td></tr></table>
<a name="Preventing-natural-signs-from-being-printed-when-the-key-signature-changes"></a>
<h2 class="unnumberedsec">Preventing natural signs from being printed when the key signature changes</h2>


<p>When the key signature changes, natural signs are automatically printed
to cancel any accidentals from previous key signatures.  This may be
prevented by setting to &quot;false&quot; the <code>printKeyCancellation</code>
property in the <code>Staff</code> context. 
</p>

<pre class="verbatim">\relative c' {
  \key d \major
  a4 b cis d
  \key g \minor
  a4 bes c d
  \set Staff.printKeyCancellation = ##f
  \key d \major
  a4 b cis d
  \key g \minor
  a4 bes c d
}

</pre><p>
 <a href="2d/lily-c65e6504.ly">
  <img align="middle"
       border="0"
       src="2d/lily-c65e6504.png"
       alt="[image of music]">
 </a>
</p>




<a name="quoting-another-voice-with-transposition.ly"></a>
<hr size="6">
<a name="Quoting-another-voice-with-transposition"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Preventing-natural-signs-from-being-printed-when-the-key-signature-changes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Preventing natural signs from being printed when the key signature changes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Separating-key-cancellations-from-key-signature-changes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Separating key cancellations from key signature changes &gt; </a>]</td></tr></table>
<a name="Quoting-another-voice-with-transposition"></a>
<h2 class="unnumberedsec">Quoting another voice with transposition</h2>


<p>Quotations take into account the transposition of both source and
target.  In this example, all instruments play sounding middle C; the
target is an instrument in F.  The target part may be transposed using
<code>\transpose</code>.  In this case, all the pitches (including the
quoted ones) are transposed.
</p>

<pre class="verbatim">\addQuote clarinet {
  \transposition bes
  \repeat unfold 8 { d'16 d' d'8 }
}

\addQuote sax {
  \transposition es'
  \repeat unfold 16 { a8 }
}

quoteTest = {
  % french horn
  \transposition f
  g'4
  &lt;&lt; \quoteDuring #&quot;clarinet&quot; { \skip 4 } s4^&quot;clar.&quot; &gt;&gt;
  &lt;&lt; \quoteDuring #&quot;sax&quot; { \skip 4 } s4^&quot;sax.&quot; &gt;&gt;
  g'4
}

{
  \set Staff.instrumentName =
    \markup {
      \center-column { Horn \line { in F } }
    }
  \quoteTest
  \transpose c' d' &lt;&lt; \quoteTest s4_&quot;up a tone&quot; &gt;&gt;
}
</pre><p>
 <a href="57/lily-f73ccb24.ly">
  <img align="middle"
       border="0"
       src="57/lily-f73ccb24.png"
       alt="[image of music]">
 </a>
</p>




<a name="separating-key-cancellations-from-key-signature-changes.ly"></a>
<hr size="6">
<a name="Separating-key-cancellations-from-key-signature-changes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Quoting-another-voice-with-transposition" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Quoting another voice with transposition&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Transposing pitches with minimum accidentals (&quot;Smart&quot; transpose) &gt; </a>]</td></tr></table>
<a name="Separating-key-cancellations-from-key-signature-changes"></a>
<h2 class="unnumberedsec">Separating key cancellations from key signature changes</h2>


<p>By default, the accidentals used for key cancellations are placed
adjacent to those for key signature changes.  This behavior can be
changed by overriding the <code>'break-align-orders</code> property of the
<code>BreakAlignment</code> grob.
</p>

<p>The value of <code>'break-align-orders</code> is a vector of length 3, with
quoted lists of breakable items as elements.  This example only
modifies the second list, moving <code>key-cancellation</code> before
<code>staff-bar</code>; by modifying the second list, break alignment
behavior only changes in the middle of a system, not at the beginning
or the end. 
</p>

<pre class="verbatim">\new Staff {
  \override Score.BreakAlignment #'break-align-orders =
    #'#((left-edge ambitus breathing-sign clef staff-bar
                   key-cancellation key-signature time-signature custos)
      
        (left-edge ambitus breathing-sign clef key-cancellation
                   staff-bar key-signature time-signature custos)
      
        (left-edge ambitus breathing-sign clef key-cancellation
                   key-signature staff-bar time-signature custos))

  \key des \major
  c'1
  \bar &quot;||&quot;
  \key bes \major
  c'1
}
</pre><p>
 <a href="52/lily-a1e4742f.ly">
  <img align="middle"
       border="0"
       src="52/lily-a1e4742f.png"
       alt="[image of music]">
 </a>
</p>




<a name="transposing-pitches-with-minimum-accidentals-smart-transpose.ly"></a>
<hr size="6">
<a name="Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Separating-key-cancellations-from-key-signature-changes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Separating key cancellations from key signature changes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaking-clef-properties" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaking clef properties &gt; </a>]</td></tr></table>
<a name="Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029"></a>
<h2 class="unnumberedsec">Transposing pitches with minimum accidentals (&quot;Smart&quot; transpose)</h2>


<p>This example uses some Scheme code to enforce enharmonic modifications
for notes in order to have the minimum number of accidentals.  In this
case, the following rules apply:
</p>
<p>Double accidentals should be removed
</p>

<p>B sharp -&gt; C
</p>

<p>E sharp -&gt; F
</p>

<p>C flat -&gt; B
</p>

<p>F flat -&gt; E
</p>

<p>In this manner, the most natural enharmonic notes are chosen. 
</p>

<pre class="verbatim">#(define (naturalize-pitch p)
  (let ((o (ly:pitch-octave p))
        (a (* 4 (ly:pitch-alteration p)))
        ;; alteration, a, in quarter tone steps,
        ;; for historical reasons
        (n (ly:pitch-notename p)))
    (cond
     ((and (&gt; a 1) (or (eq? n 6) (eq? n 2)))
      (set! a (- a 2))
      (set! n (+ n 1)))
     ((and (&lt; a -1) (or (eq? n 0) (eq? n 3)))
      (set! a (+ a 2))
      (set! n (- n 1))))
    (cond
     ((&gt; a 2) (set! a (- a 4)) (set! n (+ n 1)))
     ((&lt; a -2) (set! a (+ a 4)) (set! n (- n 1))))
    (if (&lt; n 0) (begin (set! o (- o 1)) (set! n (+ n 7))))
    (if (&gt; n 6) (begin (set! o (+ o 1)) (set! n (- n 7))))
    (ly:make-pitch o n (/ a 4))))

#(define (naturalize music)
  (let ((es (ly:music-property music 'elements))
        (e (ly:music-property music 'element))
        (p (ly:music-property music 'pitch)))
    (if (pair? es)
       (ly:music-set-property!
         music 'elements
         (map (lambda (x) (naturalize x)) es)))
    (if (ly:music? e)
       (ly:music-set-property!
         music 'element
         (naturalize e)))
    (if (ly:pitch? p)
       (begin
         (set! p (naturalize-pitch p))
         (ly:music-set-property! music 'pitch p)))
    music))

naturalizeMusic =
#(define-music-function (parser location m)
  (ly:music?)
  (naturalize m))

music = \relative c' { c4 d e g }

\score {
  \new Staff {
    \transpose c ais { \music }
    \naturalizeMusic \transpose c ais { \music }
    \transpose c deses { \music }
    \naturalizeMusic \transpose c deses { \music }
  }
  \layout { }
}
</pre><p>
 <a href="4f/lily-3de48283.ly">
  <img align="middle"
       border="0"
       src="4f/lily-3de48283.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-clef-properties.ly"></a>
<hr size="6">
<a name="Tweaking-clef-properties"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Rhythms" title="Next chapter">&nbsp;Rhythms &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Transposing pitches with minimum accidentals (&quot;Smart&quot; transpose)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Pitches" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Pitches&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Rhythms" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Rhythms &gt; </a>]</td></tr></table>
<a name="Tweaking-clef-properties"></a>
<h2 class="unnumberedsec">Tweaking clef properties</h2>


<p>The command <code>\clef &quot;treble_8&quot;</code> is equivalent to setting
<code>clefGlyph</code>, <code>clefPosition</code> (which controls the vertical
position of the clef), <code>middleCPosition</code> and
<code>clefOctavation</code>. A clef is printed when any of the properties
except <code>middleCPosition</code> are changed.
</p>

<p>Note that changing the glyph, the position of the clef, or the
octavation does not in itself change the position of subsequent notes
on the staff: the position of middle C must also be specified to do
this. The positional parameters are relative to the staff center line,
positive numbers displacing upwards, counting one for each line and
space. The <code>clefOctavation</code> value would normally be set to 7, -7,
15 or -15, but other values are valid.
</p>

<p>When a clef change takes place at a line break the new clef symbol is
printed at both the end of the previous line and the beginning of the
new line by default. If the warning clef at the end of the previous
line is not required it can be suppressed by setting the <code>Staff</code>
property <code>explicitClefVisibility</code> to the value
<code>end-of-line-invisible</code>. The default behavior can be recovered
with  <code>\unset Staff.explicitClefVisibility</code>.
</p>
<p>The following examples show the possibilities when setting these
properties manually. On the first line, the manual changes preserve the
standard relative positioning of clefs and notes, whereas on the second
line, they do not. 
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

{
  % The default treble clef
  c'1
  % The standard bass clef
  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  \set Staff.middleCPosition = #6
  c'1
  % The baritone clef
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  \set Staff.clefPosition = #4
  \set Staff.middleCPosition = #4
  c'1
  % The standard choral tenor clef
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  \set Staff.clefPosition = #-2
  \set Staff.clefOctavation = #-7
  \set Staff.middleCPosition = #1
  c'1
  % A non-standard clef
  \set Staff.clefPosition = #0
  \set Staff.clefOctavation = #0
  \set Staff.middleCPosition = #-4
  c'1 \break

  % The following clef changes do not preserve
  % the normal relationship between notes and clefs:

  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  c'1
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  c'1
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  c'1
  \set Staff.clefOctavation = #7
  c'1
  \set Staff.clefOctavation = #0
  \set Staff.clefPosition = #0
  c'1
  
  % Return to the normal clef:

  \set Staff.middleCPosition = #0
  c'1
}

</pre><p>
 <a href="0b/lily-b3c92d4b.ly">
  <img align="middle"
       border="0"
       src="0b/lily-b3c92d4b.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Rhythms"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Pitches" title="Beginning of this chapter or previous chapter"> &lt;&lt; Pitches&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaking-clef-properties" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaking clef properties&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-beams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding beams &gt; </a>]</td></tr></table>
<a name="Rhythms"></a>
<h1 class="unnumbered">Rhythms</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Rhythms">Rhythms</a>.
</p>

<a name="adding-beams,-slurs,-ties-etc.-when-using-tuplet-and-non-tuplet-rhythms.ly"></a>
<hr size="6">
<a name="Adding-beams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Rhythms" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-drum-parts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding drum parts &gt; </a>]</td></tr></table>
<a name="Adding-beams"></a>
<h2 class="unnumberedsec">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</h2>


<p>LilyPond syntax can involve many unusual placements for parentheses,
brackets etc., which might sometimes have to be interleaved. For
example, when entering a manual beam, the left square bracket has to be
placed after the starting note and its duration, not before. Similarly,
the right square bracket should directly follow the note which is to be
at the end of the requested beaming, even if this note happens to be
inside a tuplet section. This snippet demonstrates how to combine
manual beaming, manual slurs, ties and phrasing slurs with tuplet
sections (enclosed within curly braces). 
</p>

<pre class="verbatim">{
  r16[ g16 \times 2/3 { r16 e'8] }
  g16( a \times 2/3 { b d e') }
  g8[( a \times 2/3 { b d') e'] ~ }
  \time 2/4
  \times 4/5 { e'32\( a b d' e' } a'4.\)
}

</pre><p>
 <a href="85/lily-7e3b3e54.ly">
  <img align="middle"
       border="0"
       src="85/lily-7e3b3e54.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-drum-parts.ly"></a>
<hr size="6">
<a name="Adding-drum-parts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-beams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding beams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Aligning-bar-numbers" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Aligning bar numbers &gt; </a>]</td></tr></table>
<a name="Adding-drum-parts"></a>
<h2 class="unnumberedsec">Adding drum parts</h2>


<p>Using the powerful pre-configured tools such as the <code>\drummode</code>
function and the <code>DrumStaff</code> context, inputting drum parts is
quite easy: drums are placed at their own staff positions (with a
special clef symbol) and have note heads according to the drum.
Attaching an extra symbol to the drum or restricting the number of
lines is possible. 
</p>

<pre class="verbatim">drh = \drummode { cymc4.^&quot;crash&quot; hhc16^&quot;h.h.&quot; hh hhc8 hho hhc8 hh16 hh hhc4 r4 r2 }
drl = \drummode { bd4 sn8 bd bd4 &lt;&lt; bd ss &gt;&gt;  bd8 tommh tommh bd toml toml bd tomfh16 tomfh }
timb = \drummode { timh4 ssh timl8 ssh r timh r4 ssh8 timl r4 cb8 cb }

\score {
  &lt;&lt;
    \new DrumStaff \with {
      drumStyleTable = #timbales-style
      \override StaffSymbol #'line-count = #2
      \override BarLine #'bar-size = #2
    } &lt;&lt;
      \set Staff.instrumentName = #&quot;timbales&quot;
      \timb
    &gt;&gt;
    \new DrumStaff &lt;&lt;
      \set Staff.instrumentName = #&quot;drums&quot;
      \new DrumVoice { \stemUp \drh }
      \new DrumVoice { \stemDown \drl }
    &gt;&gt;
  &gt;&gt;
  \layout { }
  \midi {
    \context {
      \Score
      tempoWholesPerMinute = #(ly:make-moment 120 4)
    }
  }
}

</pre><p>
 <a href="04/lily-2d7e2c62.ly">
  <img align="middle"
       border="0"
       src="04/lily-2d7e2c62.png"
       alt="[image of music]">
 </a>
</p>




<a name="aligning-bar-numbers.ly"></a>
<hr size="6">
<a name="Aligning-bar-numbers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-drum-parts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding drum parts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Automatic-beam-subdivisions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Automatic beam subdivisions &gt; </a>]</td></tr></table>
<a name="Aligning-bar-numbers"></a>
<h2 class="unnumberedsec">Aligning bar numbers</h2>


<p>Bar numbers by default are right-aligned to their parent object. This
is usually the left edge of a line or, if numbers are printed within a
line, the left hand side of a bar line.  The numbers may also be
positioned directly over the bar line or left-aligned to the bar line.
</p>

<pre class="verbatim">\relative c' {
  \set Score.currentBarNumber = #111
  \override Score.BarNumber #'break-visibility = #'#(#t #t #t)
  % Increase the size of the bar number by 2
  \override Score.BarNumber #'font-size = #2
  % Print a bar number every second measure
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 2)
  c1 | c1
  % Center-align bar numbers
  \override Score.BarNumber #'self-alignment-X = #CENTER
  c1 | c1
  % Left-align bar numbers
  \override Score.BarNumber #'self-alignment-X = #LEFT
  c1 | c1
}

</pre><p>
 <a href="06/lily-7e7b85de.ly">
  <img align="middle"
       border="0"
       src="06/lily-7e7b85de.png"
       alt="[image of music]">
 </a>
</p>




<a name="automatic-beam-subdivisions.ly"></a>
<hr size="6">
<a name="Automatic-beam-subdivisions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Aligning-bar-numbers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Aligning bar numbers&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Avoiding-collisions-with-chord-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Avoiding collisions with chord fingerings &gt; </a>]</td></tr></table>
<a name="Automatic-beam-subdivisions"></a>
<h2 class="unnumberedsec">Automatic beam subdivisions</h2>


<p>Beams can be subdivided automatically.  By setting the property
<code>subdivideBeams</code>, beams are subdivided at beat positions (as
specified in <code>beatLength</code>). 
</p>

<pre class="verbatim">\new Staff {
  \relative c'' {
    &lt;&lt;
      {
        \voiceOne
        \set subdivideBeams = ##t
        b32[ a g f c' b a g
        b32^&quot;subdivide beams&quot; a g f c' b a g]
      }
      \new Voice {
        \voiceTwo
        b32_&quot;default&quot;[ a g f c' b a g
        b32 a g f c' b a g]
      }
    &gt;&gt;
    \oneVoice
    \set beatLength = #(ly:make-moment 1 8)
    b32^&quot;beatLength 1 8&quot;[ a g f c' b a g]
    \set beatLength = #(ly:make-moment 1 16)
    b32^&quot;beatLength 1 16&quot;[ a g f c' b a g]
  }
}

</pre><p>
 <a href="3e/lily-62e6c9d1.ly">
  <img align="middle"
       border="0"
       src="3e/lily-62e6c9d1.png"
       alt="[image of music]">
 </a>
</p>




<a name="avoiding-collisions-with-chord-fingerings.ly"></a>
<hr size="6">
<a name="Avoiding-collisions-with-chord-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Automatic-beam-subdivisions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Automatic beam subdivisions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Beam-endings-in-Score-context" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Beam endings in Score context &gt; </a>]</td></tr></table>
<a name="Avoiding-collisions-with-chord-fingerings"></a>
<h2 class="unnumberedsec">Avoiding collisions with chord fingerings</h2>


<p>Fingerings and string numbers applied to individual notes will
automatically avoid beams and stems, but this is not true by default
for fingerings and string numbers applied to the individual notes of
chords.  The following example shows how this default behavior can be
overridden.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(up)
  \set stringNumberOrientations = #'(up)
  \set strokeFingerOrientations = #'(up)
  
  % Default behavior
  r8
  &lt;f c'-5&gt;8
  &lt;f c'\5&gt;8
  &lt;f c'-\rightHandFinger #2 &gt;8
  
  % Corrected to avoid collisions
  r8
  \override Fingering #'add-stem-support = ##t
  &lt;f c'-5&gt;8
  \override StringNumber #'add-stem-support = ##t
  &lt;f c'\5&gt;8
  \override StrokeFinger #'add-stem-support = ##t
  &lt;f c'-\rightHandFinger #2 &gt;8
}

</pre><p>
 <a href="01/lily-9528ce63.ly">
  <img align="middle"
       border="0"
       src="01/lily-9528ce63.png"
       alt="[image of music]">
 </a>
</p>




<a name="beam-endings-in-score-context.ly"></a>
<hr size="6">
<a name="Beam-endings-in-Score-context"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Avoiding-collisions-with-chord-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Avoiding collisions with chord fingerings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Beam-grouping-in-7_002f8-time" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Beam grouping in 7/8 time &gt; </a>]</td></tr></table>
<a name="Beam-endings-in-Score-context"></a>
<h2 class="unnumberedsec">Beam endings in Score context</h2>


<p>Beam-ending rules specified in the <code>Score</code> context apply to all
staves, but can be modified at both <code>Staff</code> and <code>Voice</code>
levels: 
</p>

<pre class="verbatim">\relative c'' {
  \time 5/4
  % Set default beaming for all staves
  #(score-override-auto-beam-setting '(end * * 5 4) 3 8)
  #(score-override-auto-beam-setting '(end * * 5 4) 7 8)
  &lt;&lt;
    \new Staff {
      c8 c c c c c c c c c
    }
    \new Staff {
      % Modify beaming for just this staff
      #(override-auto-beam-setting '(end * * 5 4) 6 8 'Staff)
      #(revert-auto-beam-setting '(end * * 5 4) 7 8 'Staff)
      c8 c c c c c c c c c
    }
    \new Staff {
      % Inherit beaming from Score context
      &lt;&lt;
        {
          \voiceOne
          c8 c c c c c c c c c
        }
        % Modify beaming for this voice only
        \new Voice {
          \voiceTwo
          #(override-auto-beam-setting '(end * * 5 4) 6 8)
          #(revert-auto-beam-setting '(end * * 5 4) 7 8)
          a8 a a a a a a a a a
        }
      &gt;&gt;
    }
  &gt;&gt;
}

</pre><p>
 <a href="2c/lily-34bd9633.ly">
  <img align="middle"
       border="0"
       src="2c/lily-34bd9633.png"
       alt="[image of music]">
 </a>
</p>




<a name="beam-grouping-in-7-8-time.ly"></a>
<hr size="6">
<a name="Beam-grouping-in-7_002f8-time"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Beam-endings-in-Score-context" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Beam endings in Score context&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Beams-across-line-breaks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Beams across line breaks &gt; </a>]</td></tr></table>
<a name="Beam-grouping-in-7_002f8-time"></a>
<h2 class="unnumberedsec">Beam grouping in 7/8 time</h2>


<p>There are no default automatic beam groupings specified for 7/8 time,
so if automatic beams are required the grouping must be specified.  For
example, to group all beams 2-3-2 in 7/8 time, specify beam endings at
2/8 and 5/8: 
</p>

<pre class="verbatim">\relative c'' {
  \time 7/8
  % rhythm 2-3-2
  a8 a a a a a a
  #(override-auto-beam-setting '(end * * 7 8) 2 8)
  #(override-auto-beam-setting '(end * * 7 8) 5 8)
  a8 a a a a a a
}

</pre><p>
 <a href="05/lily-1827b02a.ly">
  <img align="middle"
       border="0"
       src="05/lily-1827b02a.png"
       alt="[image of music]">
 </a>
</p>




<a name="beams-across-line-breaks.ly"></a>
<hr size="6">
<a name="Beams-across-line-breaks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Beam-grouping-in-7_002f8-time" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Beam grouping in 7/8 time&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-beam-knee-gap" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing beam knee gap &gt; </a>]</td></tr></table>
<a name="Beams-across-line-breaks"></a>
<h2 class="unnumberedsec">Beams across line breaks</h2>


<p>Line breaks are normally forbidden when beams cross bar lines. This
behavior can be changed as shown: 
</p>

<pre class="verbatim">\relative c'' {
  \override Beam #'breakable = ##t
  c8 c[ c] c[ c] c[ c] c[ \break  
  c8] c[ c] c[ c] c[ c] c
}


</pre><p>
 <a href="3e/lily-10e999dd.ly">
  <img align="middle"
       border="0"
       src="3e/lily-10e999dd.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-beam-knee-gap.ly"></a>
<hr size="6">
<a name="Changing-beam-knee-gap"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Beams-across-line-breaks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Beams across line breaks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-form-of-multi_002dmeasure-rests" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing form of multi-measure rests &gt; </a>]</td></tr></table>
<a name="Changing-beam-knee-gap"></a>
<h2 class="unnumberedsec">Changing beam knee gap</h2>


<p>Kneed beams are inserted automatically when a large gap is detected
between the note heads.  This behavior can be tuned through the
<code>auto-knee-gap</code> property.  A kneed beam is drawn if the gap is
larger than the value of <code>auto-knee-gap</code> plus the width of the
beam object  (which depends on the duration of the notes and the slope
of the beam). By default <code>auto-knee-gap</code> is set to 5.5 staff
spaces. 
</p>

<pre class="verbatim">{
  f8 f''8 f8 f''8
  \override Beam #'auto-knee-gap = #6
  f8 f''8 f8 f''8
}

</pre><p>
 <a href="86/lily-2bf622cb.ly">
  <img align="middle"
       border="0"
       src="86/lily-2bf622cb.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-form-of-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Changing-form-of-multi_002dmeasure-rests"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-beam-knee-gap" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing beam knee gap&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-time-signature-without-affecting-the-beaming" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the time signature without affecting the beaming &gt; </a>]</td></tr></table>
<a name="Changing-form-of-multi_002dmeasure-rests"></a>
<h2 class="unnumberedsec">Changing form of multi-measure rests</h2>


<p>If there are ten or fewer measures of rests, a series of longa and
breve rests (called in German &quot;Kirchenpausen&quot; - church rests) is
printed within the staff; otherwise a simple line is shown. This
default number of ten may be changed by overriding the
<code>expand-limit</code> property.
</p>

<pre class="verbatim">\relative c'' {
  \compressFullBarRests
  R1*2 | R1*5 | R1*9
  \override MultiMeasureRest #'expand-limit = #3
  R1*2 | R1*5 | R1*9
}
</pre><p>
 <a href="9e/lily-7400df93.ly">
  <img align="middle"
       border="0"
       src="9e/lily-7400df93.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-time-signature-without-affecting-the-beaming.ly"></a>
<hr size="6">
<a name="Changing-the-time-signature-without-affecting-the-beaming"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-form-of-multi_002dmeasure-rests" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing form of multi-measure rests&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-tuplet-number" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the tuplet number &gt; </a>]</td></tr></table>
<a name="Changing-the-time-signature-without-affecting-the-beaming"></a>
<h2 class="unnumberedsec">Changing the time signature without affecting the beaming</h2>


<p>The <code>\time</code> command sets the properties
<code>timeSignatureFraction</code>, <code>beatLength</code>, <code>beatGrouping</code>
and <code>measureLength</code> in the <code>Timing</code> context, which is
normally aliased to <code>Score</code>. Changing the value of
<code>timeSignatureFraction</code> causes the new time signature symbol to be
printed without changing any of the other properties: 
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  a16 a a a a a a a a a a a

  % Change time signature symbol but keep 3/4 beaming
  % due to unchanged underlying time signature
  \set Score.timeSignatureFraction = #'(12 . 16)
  a16 a a a a a a a a a a a

  \time 12/16
  % Lose 3/4 beaming now \time has been changed
  a16 a a a a a a a a a a a
}

</pre><p>
 <a href="f7/lily-f45cf9a6.ly">
  <img align="middle"
       border="0"
       src="f7/lily-f45cf9a6.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-tuplet-number.ly"></a>
<hr size="6">
<a name="Changing-the-tuplet-number"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-time-signature-without-affecting-the-beaming" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the time signature without affecting the beaming&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing time signatures inside a polymetric section using \scaleDurations &gt; </a>]</td></tr></table>
<a name="Changing-the-tuplet-number"></a>
<h2 class="unnumberedsec">Changing the tuplet number</h2>


<p>By default, only the numerator of the tuplet number is printed over the
tuplet bracket, i.e., the denominator of the argument to the
<code>\times</code> command. Alternatively, num:den of the tuplet number may
be printed, or the tuplet number may be suppressed altogether.
</p>

<pre class="verbatim">\relative c'' {
  \times 2/3 { c8 c c }
  \times 2/3 { c8 c c }
  \override TupletNumber #'text = #tuplet-number::calc-fraction-text
  \times 2/3 { c8 c c }
  \override TupletNumber #'stencil = ##f
  \times 2/3 { c8 c c }
}

</pre><p>
 <a href="05/lily-bb903f88.ly">
  <img align="middle"
       border="0"
       src="05/lily-bb903f88.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-time-signatures-inside-a-polymetric-section-using--scaledurations.ly"></a>
<hr size="6">
<a name="Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-tuplet-number" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the tuplet number&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Chant-or-psalms-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Chant or psalms notation &gt; </a>]</td></tr></table>
<a name="Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations"></a>
<h2 class="unnumberedsec">Changing time signatures inside a polymetric section using \scaleDurations</h2>


<p>The <code>measureLength</code> property, together with
<code>measurePosition</code>, determines when a bar line is needed.  However,
when using <code>\scaleDurations</code>, the scaling of durations makes it
difficult to change time signatures.  In this case,
<code>measureLength</code> should be set manually, using the
<code>ly:make-moment</code> callback.  The second argument must be the same
as the second argument of <code>\scaleDurations</code>.
</p>

<pre class="verbatim">\layout {
  \context {
    \Score
    \remove &quot;Timing_translator&quot;
    \remove &quot;Default_bar_line_engraver&quot;
  }
  \context {
    \Staff
    \consists &quot;Timing_translator&quot;
    \consists &quot;Default_bar_line_engraver&quot;
  }
}

&lt;&lt;
  \new Staff {
    \scaleDurations #'(8 . 5) {
      \time 6/8
      \set Timing.measureLength = #(ly:make-moment 6 5)
      b8 b b b b b
      \time 2/4
      \set Timing.measureLength = #(ly:make-moment 4 5)
      b4 b
    }
  }
  \new Staff {
    \clef bass
    \time 2/4
    c2 d e f
  }
&gt;&gt;
</pre><p>
 <a href="99/lily-190771d5.ly">
  <img align="middle"
       border="0"
       src="99/lily-190771d5.png"
       alt="[image of music]">
 </a>
</p>




<a name="chant-or-psalms-notation.ly"></a>
<hr size="6">
<a name="Chant-or-psalms-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing time signatures inside a polymetric section using \scaleDurations&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Compound-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Compound time signatures &gt; </a>]</td></tr></table>
<a name="Chant-or-psalms-notation"></a>
<h2 class="unnumberedsec">Chant or psalms notation</h2>


<p>This form of notation is used for the chant of the Psalms, where verses
aren&rsquo;t always the same length.
</p>

<pre class="verbatim">stemOn = { \revert Staff.Stem #'transparent }
stemOff = { \override Staff.Stem #'transparent = ##t }

\score {
  \new Staff \with { \remove &quot;Time_signature_engraver&quot; }
  {
    \key g \minor
    \cadenzaOn
    \stemOff a'\breve bes'4 g'4
    \stemOn a'2 \bar &quot;||&quot;
    \stemOff a'\breve g'4 a'4
    \stemOn f'2 \bar &quot;||&quot;
    \stemOff a'\breve^\markup { \italic flexe }
    \stemOn g'2 \bar &quot;||&quot;
  }
}

</pre><p>
 <a href="5b/lily-c5ec2b57.ly">
  <img align="middle"
       border="0"
       src="5b/lily-c5ec2b57.png"
       alt="[image of music]">
 </a>
</p>




<a name="compound-time-signatures.ly"></a>
<hr size="6">
<a name="Compound-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Chant-or-psalms-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Chant or psalms notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Conducting-signs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Conducting signs &gt; </a>]</td></tr></table>
<a name="Compound-time-signatures"></a>
<h2 class="unnumberedsec">Compound time signatures</h2>


<p>Odd 20th century time signatures (such as &quot;5/8&quot;) can often be played
as compound time signatures (e.g. &quot;3/8 + 2/8&quot;), which combine two or
more inequal metrics. LilyPond can make such music quite easy to read
and play, by explicitly printing the compound time signatures and
adapting the automatic beaming behavior. (Graphic measure grouping
indications can also be added; see the appropriate snippet in this
database.) 
</p>

<pre class="verbatim">#(define ((compound-time one two num) grob)
  (grob-interpret-markup grob
    (markup #:override '(baseline-skip . 0) #:number
      (#:line (
          (#:column (one num))
          #:vcenter &quot;+&quot;
          (#:column (two num)))))))

\relative c' {
  \override Staff.TimeSignature #'stencil = #(compound-time &quot;2&quot; &quot;3&quot; &quot;8&quot;)
  \time 5/8
  #(override-auto-beam-setting '(end 1 8 5 8) 1 4)
  c8 d e fis gis
  c8 fis, gis e d
  c8 d e4 gis8
}
</pre><p>
 <a href="e0/lily-b5abc2e5.ly">
  <img align="middle"
       border="0"
       src="e0/lily-b5abc2e5.png"
       alt="[image of music]">
 </a>
</p>




<a name="conducting-signs,-measure-grouping-signs.ly"></a>
<hr size="6">
<a name="Conducting-signs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Compound-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Compound time signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Controlling-tuplet-bracket-visibility" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Controlling tuplet bracket visibility &gt; </a>]</td></tr></table>
<a name="Conducting-signs"></a>
<h2 class="unnumberedsec">Conducting signs, measure grouping signs</h2>


<p>Options to group beats within a bar are available through the Scheme
function <code>set-time-signature</code>, which takes three arguments: the
number of beats, the beat length, and the internal grouping of beats in
the measure.  If the <code>Measure_grouping_engraver</code> is included, the
function will also create <code>MeasureGrouping</code> signs.  Such signs
ease reading rhythmically complex modern music.  In the example, the
9/8 measure is subdivided in 2, 2, 2 and 3.  This is passed to
<code>set-time-signature</code> as the third argument: <code>'(2 2 2 3)</code>:
</p>

<pre class="verbatim">\score {
  \relative c'' {
    #(set-time-signature 9 8 '(2 2 2 3))
    #(revert-auto-beam-setting '(end * * 9 8) 3 8)
    #(override-auto-beam-setting '(end 1 8 9 8) 1 4)
    #(override-auto-beam-setting '(end 1 8 9 8) 2 4)
    #(override-auto-beam-setting '(end 1 8 9 8) 3 4)
    g8 g d d g g a( bes g) |
    #(set-time-signature 5 8 '(3 2))
    a4. g4
  }
  \layout {
    \context {
      \Staff
      \consists &quot;Measure_grouping_engraver&quot;
    }
  }
}

</pre><p>
 <a href="bb/lily-d4011fee.ly">
  <img align="middle"
       border="0"
       src="bb/lily-d4011fee.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-tuplet-bracket-visibility.ly"></a>
<hr size="6">
<a name="Controlling-tuplet-bracket-visibility"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Conducting-signs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Conducting signs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engraving-ties-manually" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Engraving ties manually &gt; </a>]</td></tr></table>
<a name="Controlling-tuplet-bracket-visibility"></a>
<h2 class="unnumberedsec">Controlling tuplet bracket visibility</h2>


<p>The default behavior of tuplet-bracket visibility is to print a bracket
unless there is a beam of the same length as the tuplet. To control the
visibility of tuplet brackets, set the property
<code>'bracket-visibility</code> to either <code>#t</code> (always print a
bracket), <code>#f</code> (never print a bracket) or <code>#'if-no-beam</code>
(only print a bracket if there is no beam). 
</p>

<pre class="verbatim">music = \relative c'' {
  \times 2/3 { c16[ d e } f8]
  \times 2/3 { c8 d e }
  \times 2/3 { c4 d e }
}

\new Voice {
  \relative c' {
    &lt;&lt; \music s4^&quot;default&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = #'if-no-beam
    &lt;&lt; \music s4^&quot;'if-no-beam&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##t
    &lt;&lt; \music s4^&quot;#t&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##f
    &lt;&lt; \music s4^&quot;#f&quot; &gt;&gt;
  }
} 


</pre><p>
 <a href="16/lily-02d803da.ly">
  <img align="middle"
       border="0"
       src="16/lily-02d803da.png"
       alt="[image of music]">
 </a>
</p>




<a name="engraving-ties-manually.ly"></a>
<hr size="6">
<a name="Engraving-ties-manually"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Controlling-tuplet-bracket-visibility" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Controlling tuplet bracket visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engraving-tremolos-with-floating-beams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Engraving tremolos with floating beams &gt; </a>]</td></tr></table>
<a name="Engraving-ties-manually"></a>
<h2 class="unnumberedsec">Engraving ties manually</h2>


<p>Ties may be engraved manually by changing the <code>tie-configuration</code>
property of the <code>TieColumn</code> object. The first number indicates the
distance from the center of the staff in staff-spaces, and the second
number indicates the direction (1 = up, -1 = down).
</p>

<pre class="verbatim">\relative c' {
  &lt;c e g&gt;2 ~ &lt;c e g&gt;
  \override TieColumn #'tie-configuration =
    #'((0.0 . 1) (-2.0 . 1) (-4.0 . 1))
  &lt;c e g&gt; ~ &lt;c e g&gt;
}

</pre><p>
 <a href="70/lily-ae4291f4.ly">
  <img align="middle"
       border="0"
       src="70/lily-ae4291f4.png"
       alt="[image of music]">
 </a>
</p>




<a name="engraving-tremolos-with-floating-beams.ly"></a>
<hr size="6">
<a name="Engraving-tremolos-with-floating-beams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engraving-ties-manually" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Engraving ties manually&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Entering-several-tuplets-using-only-one-_005ctimes-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Entering several tuplets using only one \times command &gt; </a>]</td></tr></table>
<a name="Engraving-tremolos-with-floating-beams"></a>
<h2 class="unnumberedsec">Engraving tremolos with floating beams</h2>


<p>If a tremolo&rsquo;s total duration is less than a quarter-note, or exactly a
half-note, or between a half-note and a whole-note, it is normally
typeset with all beams touching the stems.  Certain engraving styles
typeset some of these beams as centered floating beams that do not
touch the stems.  The number of floating beams in this type of tremolo
is controlled with the <code>'gap-count </code> property of the <code>Beam</code>
object, and the size of the gaps between beams and stems is set with
the <code>'gap</code> property.
</p>



<pre class="verbatim">\relative c'' {
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #1
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #2
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #3
  \repeat tremolo 8 { a32 f }

  \override Beam #'gap-count = #3
  \override Beam #'gap = #1.33
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #1
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #0.67
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #0.33
  \repeat tremolo 8 { a32 f }
}




</pre><p>
 <a href="97/lily-ec24eea4.ly">
  <img align="middle"
       border="0"
       src="97/lily-ec24eea4.png"
       alt="[image of music]">
 </a>
</p>




<a name="entering-several-tuplets-using-only-one--times-command.ly"></a>
<hr size="6">
<a name="Entering-several-tuplets-using-only-one-_005ctimes-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engraving-tremolos-with-floating-beams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Engraving tremolos with floating beams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Flat-flags-and-beam-nibs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Flat flags and beam nibs &gt; </a>]</td></tr></table>
<a name="Entering-several-tuplets-using-only-one-_005ctimes-command"></a>
<h2 class="unnumberedsec">Entering several tuplets using only one \times command</h2>


<p>The property <code>tupletSpannerDuration</code> sets how long each of the
tuplets contained within the brackets after <code>\times</code> should last.
Many consecutive tuplets can then be placed within a single
<code>\times</code> expression, thus saving typing.
</p>
<p>In the example, two triplets are shown, while <code>\times</code> was
entered only once.
</p>

<p>For more information about <code>make-moment</code>, see &quot;Time
administration&quot;. 
</p>

<pre class="verbatim">\relative c' {
  \time 2/4
  \set tupletSpannerDuration = #(ly:make-moment 1 4)
  \times 2/3 { c8 c c c c c }
}

</pre><p>
 <a href="64/lily-9360b294.ly">
  <img align="middle"
       border="0"
       src="64/lily-9360b294.png"
       alt="[image of music]">
 </a>
</p>




<a name="flat-flags-and-beam-nibs.ly"></a>
<hr size="6">
<a name="Flat-flags-and-beam-nibs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Entering-several-tuplets-using-only-one-_005ctimes-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Entering several tuplets using only one \times command&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Forcing rehearsal marks to start from a given letter or number &gt; </a>]</td></tr></table>
<a name="Flat-flags-and-beam-nibs"></a>
<h2 class="unnumberedsec">Flat flags and beam nibs</h2>


<p> Flat flags on lone notes and beam nibs at the ends of beamed figures
are both possible with a combination of <code>stemLeftBeamCount</code>, 
<code>stemRightBeamCount</code> and paired <code>[]</code> beam indicators.
</p>



<p>For right-pointing flat flags on lone notes, use paired <code>[]</code> beam
indicators and set <code>stemLeftBeamCount</code> to zero (see Example 1).
</p>



<p>For left-pointing flat flags, set <code>stemRightBeamCount</code> instead
(Example 2).
</p>



<p>For right-pointing nibs at the end of a run of beamed notes, set
<code>stemRightBeamCount</code> to a positive value. And for left-pointing
nibs at the start of a run of beamed notes, set
<code>stemLeftBeamCount</code> instead (Example 3).
</p>



<p>Sometimes it may make sense for a lone note surrounded by rests to
carry both a left- and right-pointing flat flag. Do this with paired
<code>[]</code> beam indicators alone (Example 4).  
</p>



<p>(Note that <code>\set stemLeftBeamCount</code> is always equivalent to 
<code>\once \set</code>.  In other words, the beam count settings are not 
&quot;sticky&quot;, so the pair of flat flags attached to the lone 
<code>c'16[]</code> in the last example have nothing to do with the 
<code>\set</code> two notes prior.)
</p>




<pre class="verbatim">\score {
  &lt;&lt;
    % Example 1
    \new RhythmicStaff {
      \set stemLeftBeamCount = #0
      c16[]
      r8.
    }
    
    % Example 2
    \new RhythmicStaff {
      r8.
      \set stemRightBeamCount = #0
      c16[]
    }
    
    % Example 3
    \new RhythmicStaff {
      c16 c
      \set stemRightBeamCount = #2
      c16 r r
      \set stemLeftBeamCount = #2
      c16 c c
    }
    
    % Example 4
    \new RhythmicStaff {
      c16 c
      \set stemRightBeamCount = #2
      c16 r
      c16[]
      r16
      \set stemLeftBeamCount = #2
      c16 c
    }
  &gt;&gt;
}

</pre><p>
 <a href="54/lily-b33192ac.ly">
  <img align="middle"
       border="0"
       src="54/lily-b33192ac.png"
       alt="[image of music]">
 </a>
</p>




<a name="forcing-rehearsal-marks-to-start-from-a-given-letter-or-number.ly"></a>
<hr size="6">
<a name="Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Flat-flags-and-beam-nibs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Flat flags and beam nibs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Grouping-beats" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Grouping beats &gt; </a>]</td></tr></table>
<a name="Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number"></a>
<h2 class="unnumberedsec">Forcing rehearsal marks to start from a given letter or number</h2>


<p>This snippet demonstrates how to obtain automatic ordered rehearsal
marks, but from the letter or number desired.
</p>

<pre class="verbatim">\relative c''{
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark #14
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  \break
  \set Score.markFormatter = #format-mark-numbers
  c1 \mark #1
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark #14
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
  c1 \mark \default
}

</pre><p>
 <a href="bf/lily-f71c552a.ly">
  <img align="middle"
       border="0"
       src="bf/lily-f71c552a.png"
       alt="[image of music]">
 </a>
</p>




<a name="grouping-beats.ly"></a>
<hr size="6">
<a name="Grouping-beats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Forcing rehearsal marks to start from a given letter or number&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Guitar-strum-rhythms" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Guitar strum rhythms &gt; </a>]</td></tr></table>
<a name="Grouping-beats"></a>
<h2 class="unnumberedsec">Grouping beats</h2>


<p>Beaming patterns may be altered with the <code>beatGrouping</code> property: 
</p>

<pre class="verbatim">\relative c'' {
  \time 5/16
  #(override-auto-beam-setting '(end * * 5 16) 5 16)
  \set beatGrouping = #'(2 3)
  c8^&quot;(2+3)&quot; c16 c8
  \set beatGrouping = #'(3 2)
  c8^&quot;(3+2)&quot; c16 c8
}


</pre><p>
 <a href="0e/lily-1cad3e5b.ly">
  <img align="middle"
       border="0"
       src="0e/lily-1cad3e5b.png"
       alt="[image of music]">
 </a>
</p>




<a name="guitar-strum-rhythms.ly"></a>
<hr size="6">
<a name="Guitar-strum-rhythms"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Grouping-beats" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Grouping beats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Heavily-customized-polymetric-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Heavily customized polymetric time signatures &gt; </a>]</td></tr></table>
<a name="Guitar-strum-rhythms"></a>
<h2 class="unnumberedsec">Guitar strum rhythms</h2>


<p>For guitar music, it is possible to show strum rhythms, along with
melody notes, chord names and fret diagrams.
</p>

<pre class="verbatim">\include &quot;predefined-guitar-fretboards.ly&quot;
&lt;&lt;
  \new ChordNames {
    \chordmode {
      c1 f g c
    }
  }
  \new FretBoards {
    \chordmode {
      c1 f g c
    }
  }
  \new Voice \with {
    \consists &quot;Pitch_squash_engraver&quot;
  } {
    \relative c'' {
      \improvisationOn
      c4 c8 c c4 c8 c
      f4 f8 f f4 f8 f
      g4 g8 g g4 g8 g
      c4 c8 c c4 c8 c
    }
  }
  \new Voice = &quot;melody&quot; {
    \relative c'' {
      c2 e4 e4
      f2. r4
      g2. a4
      e4 c2.
    }
  }
  \new Lyrics {
    \lyricsto &quot;melody&quot; {
      This is my song.
      I like to sing.
    }
  }
&gt;&gt;
</pre><p>
 <a href="99/lily-6f894292.ly">
  <img align="middle"
       border="0"
       src="99/lily-6f894292.png"
       alt="[image of music]">
 </a>
</p>




<a name="heavily-customized-polymetric-time-signatures.ly"></a>
<hr size="6">
<a name="Heavily-customized-polymetric-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Guitar-strum-rhythms" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Guitar strum rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Making-an-object-invisible-with-the-_0027transparent-property" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Making an object invisible with the 'transparent property &gt; </a>]</td></tr></table>
<a name="Heavily-customized-polymetric-time-signatures"></a>
<h2 class="unnumberedsec">Heavily customized polymetric time signatures</h2>


<p>Though the polymetric time signature shown was not the most essential
item here, it has been included to show the beat of this piece (which
is the template of a real Balkan song!).
</p>

<pre class="verbatim">#(define plus (markup #:vcenter &quot;+&quot;))
#(define ((custom-time-signature one two three four five six
           seven eight nine ten eleven num) grob)
            (grob-interpret-markup grob
              (markup #:override '(baseline-skip . 0) #:number
                (#:line (
                    (#:column (one num)) plus
                    (#:column (two num)) plus
                    (#:column (three num)) plus
                    (#:column (four num)) plus
                    (#:column (five num)) plus
                    (#:column (six num)) plus
                    (#:column (seven num)) plus
                    (#:column (eight num)) plus
                    (#:column (nine num)) plus
                    (#:column (ten num)) plus
                    (#:column (eleven num)))))))

melody = \relative c'' {
  \set Staff.instrumentName = #&quot;Bb Sop.&quot;
  \key g \major
  #(set-time-signature 25 8 '(3 2 2 3 2 2 2 2 3 2 2))
  \override Staff.TimeSignature #'stencil =
    #(custom-time-signature &quot;3&quot; &quot;2&quot; &quot;2&quot; &quot;3&quot; &quot;2&quot; &quot;2&quot;
      &quot;2&quot; &quot;2&quot; &quot;3&quot; &quot;2&quot; &quot;2&quot; &quot;8&quot;)
  c8 c c d4 c8 c b c b a4 g fis8 e d c b' c d e4-^ fis8 g \break
  c,4. d4 c4 d4. c4 d c2 d4. e4-^ d4
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4 \break
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4 \break
}

drum = \new DrumStaff \drummode {
  \bar &quot;|:&quot; bd4.^\markup { &quot;Drums&quot; } sn4 bd \bar &quot;:&quot; sn4.
  bd4 sn \bar &quot;:&quot; bd sn bd4. sn4 bd \bar &quot;:|&quot;
}

{
  \melody
  \drum
}
</pre><p>
 <a href="03/lily-2d0e8e02.ly">
  <img align="middle"
       border="0"
       src="03/lily-2d0e8e02.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-an-object-invisible-with-the-transparent-property.ly"></a>
<hr size="6">
<a name="Making-an-object-invisible-with-the-_0027transparent-property"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Heavily-customized-polymetric-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Heavily customized polymetric time signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Manually-controlling-beam-positions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Manually controlling beam positions &gt; </a>]</td></tr></table>
<a name="Making-an-object-invisible-with-the-_0027transparent-property"></a>
<h2 class="unnumberedsec">Making an object invisible with the &rsquo;transparent property</h2>


<p>Setting the <code>transparent</code> property will cause an object to be
printed in &quot;invisible ink&quot;: the object is not printed, but all its
other behavior is retained.  The object still takes up space, it takes
part in collisions, and slurs, ties and beams can be attached to it.
</p>

<p>This snippet demonstrates how to connect different voices using ties.
Normally, ties only connect two notes in the same voice.  By
introducing a tie in a different voice, and blanking the first up-stem
in that voice, the tie appears to cross voices. 
</p>

<pre class="verbatim">\relative c'' {
  \time 2/4
  &lt;&lt;
    {
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      b8 ~ b\noBeam
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      g8 ~ g\noBeam
    }
    \\
    {
      b8 g g e
    }
  &gt;&gt;
}
</pre><p>
 <a href="0e/lily-a51bcbab.ly">
  <img align="middle"
       border="0"
       src="0e/lily-a51bcbab.png"
       alt="[image of music]">
 </a>
</p>




<a name="manually-controlling-beam-positions.ly"></a>
<hr size="6">
<a name="Manually-controlling-beam-positions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Making-an-object-invisible-with-the-_0027transparent-property" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Making an object invisible with the 'transparent property&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Merging-multi_002dmeasure-rests-in-a-polyphonic-part" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Merging multi-measure rests in a polyphonic part &gt; </a>]</td></tr></table>
<a name="Manually-controlling-beam-positions"></a>
<h2 class="unnumberedsec">Manually controlling beam positions</h2>


<p>Beam positions may be controlled manually, by overriding the
<code>positions</code> setting of the <code>Beam</code> grob.
</p>




<pre class="verbatim">\relative c' {
  \time 2/4
  % from upper staff-line (position 2) to center (position 0)
  \override Beam #'positions = #'(2 . 0)
  c8 c
  % from center to one above center (position 1)
  \override Beam #'positions = #'(0 . 1)
  c8 c
}


</pre><p>
 <a href="31/lily-e99dc492.ly">
  <img align="middle"
       border="0"
       src="31/lily-e99dc492.png"
       alt="[image of music]">
 </a>
</p>




<a name="merging-multi-measure-rests-in-a-polyphonic-part.ly"></a>
<hr size="6">
<a name="Merging-multi_002dmeasure-rests-in-a-polyphonic-part"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Manually-controlling-beam-positions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Manually controlling beam positions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Modifying-tuplet-bracket-length" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Modifying tuplet bracket length &gt; </a>]</td></tr></table>
<a name="Merging-multi_002dmeasure-rests-in-a-polyphonic-part"></a>
<h2 class="unnumberedsec">Merging multi-measure rests in a polyphonic part</h2>


<p>When using multi-measure rests in a polyphonic staff, the rests will be
placed differently depending on the voice they belong to. However they
can be printed on the same staff line, using the following setting.
</p>

<pre class="verbatim">normalPos = \revert MultiMeasureRest #'staff-position

{
  &lt;&lt;
    {
      c''1
      R1
      c''1
      \normalPos
      R1
    }
    \\
    {
      c'1
      R1
      c'1
      \normalPos
      R1
    }
  &gt;&gt;
}

</pre><p>
 <a href="b5/lily-5044d465.ly">
  <img align="middle"
       border="0"
       src="b5/lily-5044d465.png"
       alt="[image of music]">
 </a>
</p>




<a name="modifying-tuplet-bracket-length.ly"></a>
<hr size="6">
<a name="Modifying-tuplet-bracket-length"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Merging-multi_002dmeasure-rests-in-a-polyphonic-part" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Merging multi-measure rests in a polyphonic part&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Multi_002dmeasure-rest-markup" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Multi-measure rest markup &gt; </a>]</td></tr></table>
<a name="Modifying-tuplet-bracket-length"></a>
<h2 class="unnumberedsec">Modifying tuplet bracket length</h2>


<p>Tuplet brackets can be made to run to prefatory matter or the next
note. Default tuplet brackets end at the right edge of the final note
of the tuplet; full-length tuplet brackets extend farther to the right,
either to cover all the non-rhythmic notation up to the following note,
or to cover only the whitespace before the next item of notation, be
that a clef, time signature, key signature, or another note.  The
example shows how to switch tuplets to full length mode and how to
modify what material they cover.
</p>

<pre class="verbatim">\new RhythmicStaff {
  % Set tuplets to be extendable...
  \set tupletFullLength = ##t
  % ...to cover all items up to the next note
  \set tupletFullLengthNote = ##t
  \time 2/4
  \times 2/3 { c4 c c }
  % ...or to cover just whitespace
  \set tupletFullLengthNote = ##f
  \time 4/4
  \times 4/5 { c4 c1 }
  \time 3/4
  c2.
}

</pre><p>
 <a href="45/lily-0038cbc8.ly">
  <img align="middle"
       border="0"
       src="45/lily-0038cbc8.png"
       alt="[image of music]">
 </a>
</p>




<a name="multi-measure-rest-markup.ly"></a>
<hr size="6">
<a name="Multi_002dmeasure-rest-markup"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Modifying-tuplet-bracket-length" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Modifying tuplet bracket length&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Permitting-line-breaks-within-beamed-tuplets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Permitting line breaks within beamed tuplets &gt; </a>]</td></tr></table>
<a name="Multi_002dmeasure-rest-markup"></a>
<h2 class="unnumberedsec">Multi-measure rest markup</h2>


<p>Markups attached to a multi-measure rest will be centered above or
below it.  Long markups attached to multi-measure rests do not cause
the measure to expand.  To expand a multi-measure rest to fit the
markup, use a spacer rest with an attached markup before the
multi-measure rest.
</p>
<p>Note that the spacer rest causes a bar line to be inserted.  Text
attached to a spacer rest in this way is left-aligned to the position
where the note would be placed in the measure, but if the measure
length is determined by the length of the text, the text will appear to
be centered. 
</p>

<pre class="verbatim">\relative c' {
  \compressFullBarRests
  \textLengthOn
  s1*0^\markup { [MAJOR GENERAL] }
  R1*19
  s1*0_\markup { \italic { Cue: ... it is yours } }
  s1*0^\markup { A }
  R1*30^\markup { [MABEL] }
  \textLengthOff
  c4^\markup { CHORUS } d f c
}
</pre><p>
 <a href="56/lily-bcc7dac4.ly">
  <img align="middle"
       border="0"
       src="56/lily-bcc7dac4.png"
       alt="[image of music]">
 </a>
</p>




<a name="permitting-line-breaks-within-beamed-tuplets.ly"></a>
<hr size="6">
<a name="Permitting-line-breaks-within-beamed-tuplets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Multi_002dmeasure-rest-markup" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Multi-measure rest markup&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-grace-notes-with-floating-space" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Positioning grace notes with floating space &gt; </a>]</td></tr></table>
<a name="Permitting-line-breaks-within-beamed-tuplets"></a>
<h2 class="unnumberedsec">Permitting line breaks within beamed tuplets</h2>


<p>This artificial example shows how both manual and automatic line breaks
may be permitted to within a beamed tuplet. Note that such off-beat
tuplets have to be beamed manually.
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    % Permit line breaks within tuplets
    \remove &quot;Forbid_line_break_engraver&quot;
    % Allow beams to be broken at line breaks
    \override Beam #'breakable = ##t
  }
}
\relative c'' {
  a8
  \repeat unfold 5 { \times 2/3 { c[ b a] } }
  % Insert a manual line break within a tuplet
  \times 2/3 { c[ b \bar &quot;&quot; \break a] }
  \repeat unfold 5 { \times 2/3 { c[ b a] } }
  c8
}

</pre><p>
 <a href="ea/lily-e92fc01a.ly">
  <img align="middle"
       border="0"
       src="ea/lily-e92fc01a.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-grace-notes-with-floating-space.ly"></a>
<hr size="6">
<a name="Positioning-grace-notes-with-floating-space"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Permitting-line-breaks-within-beamed-tuplets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Permitting line breaks within beamed tuplets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-multi_002dmeasure-rests" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Positioning multi-measure rests &gt; </a>]</td></tr></table>
<a name="Positioning-grace-notes-with-floating-space"></a>
<h2 class="unnumberedsec">Positioning grace notes with floating space</h2>


<p>Setting the property <code>'strict-grace-spacing</code> makes the musical
columns for grace notes &rsquo;floating&rsquo;, i.e., decoupled from the non-grace
notes: first the normal notes are spaced, then the (musical columns of
the) graces are put left of the musical columns for the main notes.
</p>

<pre class="verbatim">\relative c'' {
  &lt;&lt;
    \override Score.SpacingSpanner #'strict-grace-spacing = ##t
    \new Staff \new Voice {
      \afterGrace c4 { c16[ c8 c16] }
      c8[ \grace { b16[ d] } c8]
      c4 r
    }
    \new Staff {
      c16 c c c c c c c c4 r
    }
  &gt;&gt;
}

</pre><p>
 <a href="5e/lily-3d430c9e.ly">
  <img align="middle"
       border="0"
       src="5e/lily-3d430c9e.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Positioning-multi_002dmeasure-rests"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-grace-notes-with-floating-space" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Positioning grace notes with floating space&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-bar-numbers-at-regular-intervals" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing bar numbers at regular intervals &gt; </a>]</td></tr></table>
<a name="Positioning-multi_002dmeasure-rests"></a>
<h2 class="unnumberedsec">Positioning multi-measure rests</h2>


<p>Unlike ordinary rests, there is no predefined command to change the
staff position of a multi-measure rest symbol of either form by
attaching it to a note.  However, in polyphonic music multi-measure
rests in odd-numbered and even-numbered voices are vertically
separated. The positioning of multi-measure rests can be controlled as
follows: 
</p>

<pre class="verbatim">\relative c'' {
  % Multi-measure rests by default are set under the fourth line
  R1
  % They can be moved with an override
  \override MultiMeasureRest #'staff-position = #-2
  R1
  % A value of 0 is the default position;
  % the following trick moves the rest to the center line
  \override MultiMeasureRest #'staff-position = #-0.01
  R1
  % Multi-measure rests in odd-numbered voices are under the top line
  &lt;&lt; { R1 } \\ { a1 } &gt;&gt;
  % Multi-measure rests in even-numbered voices are under the bottom line
  &lt;&lt; { c1 } \\ { R1 } &gt;&gt;
  % They remain separated even in empty measures
  &lt;&lt; { R1 } \\ { R1 } &gt;&gt;
  % This brings them together even though there are two voices
  \compressFullBarRests
  &lt;&lt;
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
    \\
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
  &gt;&gt;
}
</pre><p>
 <a href="de/lily-d17161b9.ly">
  <img align="middle"
       border="0"
       src="de/lily-d17161b9.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-bar-numbers-at-regular-intervals.ly"></a>
<hr size="6">
<a name="Printing-bar-numbers-at-regular-intervals"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-multi_002dmeasure-rests" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Positioning multi-measure rests&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-bar-numbers-inside-boxes-or-circles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing bar numbers inside boxes or circles &gt; </a>]</td></tr></table>
<a name="Printing-bar-numbers-at-regular-intervals"></a>
<h2 class="unnumberedsec">Printing bar numbers at regular intervals</h2>


<p>Bar numbers can be printed at regular intervals by setting the property
<code>barNumberVisibility</code>. Here the bar numbers are printed every two
measures except at the end of the line.
</p>

<pre class="verbatim">\relative c' {
  \override Score.BarNumber #'break-visibility = #'#(#f #t #t)
  \set Score.currentBarNumber = #11
  % Permit first bar number to be printed
  \bar &quot;&quot;
  % Print a bar number every second measure
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 2)
  c1 | c | c | c | c
  \break
  c1 | c | c | c | c
}

</pre><p>
 <a href="78/lily-a31c528e.ly">
  <img align="middle"
       border="0"
       src="78/lily-a31c528e.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-bar-numbers-inside-boxes-or-circles.ly"></a>
<hr size="6">
<a name="Printing-bar-numbers-inside-boxes-or-circles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-bar-numbers-at-regular-intervals" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing bar numbers at regular intervals&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-metronome-and-rehearsal-marks-below-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing metronome and rehearsal marks below the staff &gt; </a>]</td></tr></table>
<a name="Printing-bar-numbers-inside-boxes-or-circles"></a>
<h2 class="unnumberedsec">Printing bar numbers inside boxes or circles</h2>


<p>Bar numbers can also be printed inside boxes or circles.
</p>

<pre class="verbatim">\relative c' {
  % Prevent bar numbers at the end of a line and permit them elsewhere
  \override Score.BarNumber  #'break-visibility = #end-of-line-invisible
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 4)

  % Increase the size of the bar number by 2
  \override Score.BarNumber #'font-size = #2

  % Draw a box round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-boxer 0.1 0.25 ly:text-interface::print)
  \repeat unfold 5 { c1 }

  % Draw a circle round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
  \repeat unfold 4 { c1 } \bar &quot;|.&quot;
}

</pre><p>
 <a href="44/lily-1856a60a.ly">
  <img align="middle"
       border="0"
       src="44/lily-1856a60a.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-metronome-and-rehearsal-marks-below-the-staff.ly"></a>
<hr size="6">
<a name="Printing-metronome-and-rehearsal-marks-below-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-bar-numbers-inside-boxes-or-circles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing bar numbers inside boxes or circles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-music-with-different-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing music with different time signatures &gt; </a>]</td></tr></table>
<a name="Printing-metronome-and-rehearsal-marks-below-the-staff"></a>
<h2 class="unnumberedsec">Printing metronome and rehearsal marks below the staff</h2>


<p>By default, metronome and rehearsal marks are printed above the staff. 
To place them below the staff simply set the <code>direction</code> property
of <code>MetronomeMark</code> or <code>RehearsalMark</code> appropriately.
</p>

<pre class="verbatim">\layout { ragged-right = ##f }

{
  % Metronome marks below the staff 
  \override Score.MetronomeMark #'direction = #DOWN
  \tempo 8. = 120
  c''1

  % Rehearsal marks below the staff
  \override Score.RehearsalMark #'direction = #DOWN
  \mark \default
  c''1
}

</pre><p>
 <a href="c6/lily-d7c7a792.ly">
  <img align="middle"
       border="0"
       src="c6/lily-d7c7a792.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-music-with-different-time-signatures.ly"></a>
<hr size="6">
<a name="Printing-music-with-different-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-metronome-and-rehearsal-marks-below-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing metronome and rehearsal marks below the staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-the-bar-number-for-the-first-measure" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing the bar number for the first measure &gt; </a>]</td></tr></table>
<a name="Printing-music-with-different-time-signatures"></a>
<h2 class="unnumberedsec">Printing music with different time signatures</h2>


<p>In the following snippet, two parts have a completely different time
signature, yet remain synchronized. The bar lines can no longer be
printed at the <code>Score</code> level; to allow independent bar lines in
each part, the <code>Default_barline_engraver</code> and
<code>Timing_translator</code> are moved from the <code>Score</code> context to the
<code>Staff</code> context. 
</p>

<pre class="verbatim">\paper {
  indent = #0
  ragged-right = ##t
}

global = { \time 3/4 { s2.*3 } \bar &quot;&quot; \break { s2.*3 } }

\layout {
  \context {
    \Score
    \remove &quot;Timing_translator&quot;
    \remove &quot;Time_signature_engraver&quot;
    \remove &quot;Default_bar_line_engraver&quot;
    \override SpacingSpanner #'uniform-stretching = ##t
    \override SpacingSpanner #'strict-note-spacing = ##t
    proportionalNotationDuration = #(ly:make-moment 1 64)
  }
  \context {
    \Staff
    \consists &quot;Timing_translator&quot;
    \consists &quot;Default_bar_line_engraver&quot;
    \consists &quot;Time_signature_engraver&quot;
  }
  \context {
    \Voice
    \remove &quot;Forbid_line_break_engraver&quot;
    tupletFullLength = ##t
  }
}

Bassklarinette = \new Staff &lt;&lt;
  \global {
    \bar &quot;|&quot;
    \clef treble
    \time 3/8
    d''4.
    
    \bar &quot;|&quot;
    \time 3/4
    r8 des''2( c''8)
    
    \bar &quot;|&quot;
    \time 7/8
    r4. ees''2 ~
    
    \bar &quot;|&quot;
    \time 2/4
    \tupletUp
    \times 2/3 { ees''4 r4 d''4 ~ }
    
    \bar &quot;|&quot;
    \time 3/8
    \tupletUp
    \times 3/4 { d''4 r4 }
    
    \bar &quot;|&quot;
    \time 2/4
    e''2
    
    \bar &quot;|&quot;
    \time 3/8
    es''4.
    
    \bar &quot;|&quot;
    \time 3/4
    r8 d''2 r8
    \bar &quot;|&quot;
  }
&gt;&gt;

Perkussion = \new StaffGroup &lt;&lt;
  \new Staff &lt;&lt;
    \global {
      \bar &quot;|&quot;
      \clef percussion
      \time 3/4
      r4 c'2 ~
      
      \bar &quot;|&quot;
      c'2.
      
      \bar &quot;|&quot;
      R2.
      
      \bar &quot;|&quot;
      r2 g'4 ~
      
      \bar &quot;|&quot;
      g'2. ~
      
      \bar &quot;|&quot;
      g'2.
    }
  &gt;&gt;
  \new Staff &lt;&lt;
    \global {
      \bar &quot;|&quot;
      \clef percussion
      \time 3/4
      R2.
      
      \bar &quot;|&quot;
      g'2. ~
      
      \bar &quot;|&quot;
      g'2.
      
      \bar &quot;|&quot;
      r4 g'2 ~
      
      \bar &quot;|&quot;
      g'2 r4
      
      \bar &quot;|&quot;
      g'2.
    }
  &gt;&gt;
&gt;&gt;

\score {
  &lt;&lt;
    \Bassklarinette
    \Perkussion
  &gt;&gt;
}

</pre><p>
 <a href="c8/lily-62d01554.ly">
  <img align="middle"
       border="0"
       src="c8/lily-62d01554.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-the-bar-number-for-the-first-measure.ly"></a>
<hr size="6">
<a name="Printing-the-bar-number-for-the-first-measure"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-music-with-different-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing music with different time signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Redefining-grace-note-global-defaults" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Redefining grace note global defaults &gt; </a>]</td></tr></table>
<a name="Printing-the-bar-number-for-the-first-measure"></a>
<h2 class="unnumberedsec">Printing the bar number for the first measure</h2>


<p>By default, the first bar number in a score is suppressed if it is less
than or equal to &lsquo;1&rsquo;.  By setting <code>barNumberVisibility</code> to
<code>all-bar-numbers-visible</code>, any bar number can be printed for the
first measure and all subsequent measures.  Note that an empty bar line
must be inserted before the first note for this to work.
</p>

<pre class="verbatim">\relative c' {
  \set Score.barNumberVisibility = #all-bar-numbers-visible
  \bar &quot;&quot;
  c1 d e f \break
  g1 e d c
}
</pre><p>
 <a href="f1/lily-f639f21b.ly">
  <img align="middle"
       border="0"
       src="f1/lily-f639f21b.png"
       alt="[image of music]">
 </a>
</p>




<a name="redefining-grace-note-global-defaults.ly"></a>
<hr size="6">
<a name="Redefining-grace-note-global-defaults"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-the-bar-number-for-the-first-measure" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing the bar number for the first measure&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Removing-bar-numbers-from-a-score" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Removing bar numbers from a score &gt; </a>]</td></tr></table>
<a name="Redefining-grace-note-global-defaults"></a>
<h2 class="unnumberedsec">Redefining grace note global defaults</h2>


<p>The global defaults for grace notes are stored in the identifiers
<code>startGraceMusic</code>, <code>stopGraceMusic</code>,
<code>startAcciaccaturaMusic</code>, <code>stopAcciaccaturaMusic</code>,
<code>startAppoggiaturaMusic</code> and <code>stopAppoggiaturaMusic</code>, which
are defined in the file <code>ly/grace-init.ly</code>.  By redefining them
other effects may be obtained.
</p>

<pre class="verbatim">startAcciaccaturaMusic = {
  s1*0(
  \override Stem #'stroke-style = #&quot;grace&quot;
  \slurDashed
}

stopAcciaccaturaMusic = {
  \revert Stem #'stroke-style
  \slurSolid
  s1*0)
}

\relative c'' {
  \acciaccatura d8 c1
}

</pre><p>
 <a href="2e/lily-046df848.ly">
  <img align="middle"
       border="0"
       src="2e/lily-046df848.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-bar-numbers-from-a-score.ly"></a>
<hr size="6">
<a name="Removing-bar-numbers-from-a-score"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Redefining-grace-note-global-defaults" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Redefining grace note global defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Rest-styles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Rest styles &gt; </a>]</td></tr></table>
<a name="Removing-bar-numbers-from-a-score"></a>
<h2 class="unnumberedsec">Removing bar numbers from a score</h2>


<p>Bar numbers can be removed entirely by removing the
<code>Bar_number_engraver</code> from the <code>Score</code> context.
</p>

<pre class="verbatim">\layout {
  \context {
    \Score
    \remove &quot;Bar_number_engraver&quot;
  }
}

\relative c'' {
  c4 c c c \break
  c4 c c c
}

</pre><p>
 <a href="97/lily-3a4951f3.ly">
  <img align="middle"
       border="0"
       src="97/lily-3a4951f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="rest-styles.ly"></a>
<hr size="6">
<a name="Rest-styles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Removing-bar-numbers-from-a-score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Removing bar numbers from a score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Reverting-default-beam-endings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Reverting default beam endings &gt; </a>]</td></tr></table>
<a name="Rest-styles"></a>
<h2 class="unnumberedsec">Rest styles</h2>


<p>Rests may be used in various styles.
</p>




<pre class="verbatim">\layout {
  indent = 0.0
  \context {
    \Staff
    \remove &quot;Time_signature_engraver&quot;
  }
}

\new Staff \relative c {
  \cadenzaOn
  \override Staff.Rest #'style = #'mensural
  r\maxima^\markup \typewriter { mensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'neomensural
  r\maxima^\markup \typewriter { neomensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'classical
  r\maxima^\markup \typewriter { classical }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest  #'style = #'default
  r\maxima^\markup \typewriter { default }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
}

</pre><p>
 <a href="34/lily-f8f4eed5.ly">
  <img align="middle"
       border="0"
       src="34/lily-f8f4eed5.png"
       alt="[image of music]">
 </a>
</p>




<a name="reverting-default-beam-endings.ly"></a>
<hr size="6">
<a name="Reverting-default-beam-endings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Rest-styles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Rest styles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Rhythmic-slashes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Rhythmic slashes &gt; </a>]</td></tr></table>
<a name="Reverting-default-beam-endings"></a>
<h2 class="unnumberedsec">Reverting default beam endings</h2>


<p>To typeset beams grouped <code>3-4-3-2</code> in 12/8 it is necessary first
to override the default beam endings  in 12/8, and then to set up the
new beaming endings: 
</p>

<pre class="verbatim">\relative c'' {
  \time 12/8

  % Default beaming
  a8 a a a a a a a a a a a

  % Revert default values in scm/auto-beam.scm for 12/8 time
  #(revert-auto-beam-setting '(end * * 12 8) 3 8)
  #(revert-auto-beam-setting '(end * * 12 8) 3 4)
  #(revert-auto-beam-setting '(end * * 12 8) 9 8)
  a8 a a a a a a a a a a a

  % Set new values for beam endings
  #(override-auto-beam-setting '(end * * 12 8) 3 8)
  #(override-auto-beam-setting '(end * * 12 8) 7 8)
  #(override-auto-beam-setting '(end * * 12 8) 10 8)
  a8 a a a a a a a a a a a
}

</pre><p>
 <a href="64/lily-405096c8.ly">
  <img align="middle"
       border="0"
       src="64/lily-405096c8.png"
       alt="[image of music]">
 </a>
</p>




<a name="rhythmic-slashes.ly"></a>
<hr size="6">
<a name="Rhythmic-slashes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Reverting-default-beam-endings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Reverting default beam endings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Skips-in-lyric-mode-_00282_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Skips in lyric mode (2) &gt; </a>]</td></tr></table>
<a name="Rhythmic-slashes"></a>
<h2 class="unnumberedsec">Rhythmic slashes</h2>


<p>In &quot;simple&quot; lead-sheets, sometimes no actual notes are written,
instead only &quot;rhythmic patterns&quot; and chords above the measures are
notated giving the structure of a song. Such a feature is for example
useful while creating/transcribing the structure of a song and also
when sharing lead sheets with guitarists or jazz musicians. The
standard support for this using <code>\repeat percent</code> is unsuitable
here since the first beat has to be an ordinary note or rest. This
example shows two solutions to this problem, by redefining ordinary
rests to be printed as slashes. (If the duration of each beat is not a
quarter note, replace the <code>r4</code> in the definitions with a rest of
the appropriate duration). 
</p>

<pre class="verbatim">% Macro to print single slash
rs = {
  \once \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
  \once \override Rest #'thickness = #0.48
  \once \override Rest #'slope = #1.7
  r4
}

% Function to print a specified number of slashes
comp = #(define-music-function (parser location count) ( integer?)
  #{
    \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
    \override Rest #'thickness = #0.48
    \override Rest #'slope = #1.7
    \repeat unfold $count { r4 }
    \revert Rest #'stencil
  #}
)

\score {
  \relative c' {
    c4 d e f |
    \rs \rs \rs \rs |
    \comp #4 |
  }
}

</pre><p>
 <a href="fd/lily-3fba4373.ly">
  <img align="middle"
       border="0"
       src="fd/lily-3fba4373.png"
       alt="[image of music]">
 </a>
</p>




<a name="skips-in-lyric-mode-2.ly"></a>
<hr size="6">
<a name="Skips-in-lyric-mode-_00282_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Rhythmic-slashes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Rhythmic slashes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Skips-in-lyric-mode" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Skips in lyric mode &gt; </a>]</td></tr></table>
<a name="Skips-in-lyric-mode-_00282_0029"></a>
<h2 class="unnumberedsec">Skips in lyric mode (2)</h2>


<p>Although <code>s</code> skips cannot be used in <code>\lyricmode</code> (it is
taken to be a literal &quot;s&quot;, not a space), double quotes (<code>&quot;&quot;</code>)
or underscores (<code>_</code>) are available.So for example: 
</p>

<pre class="verbatim">&lt;&lt;
  \relative c'' { a4 b c d }
  \new Lyrics \lyricmode { a4 &quot;&quot; _ gap }
&gt;&gt;

</pre><p>
 <a href="48/lily-2e16ec9b.ly">
  <img align="middle"
       border="0"
       src="48/lily-2e16ec9b.png"
       alt="[image of music]">
 </a>
</p>




<a name="skips-in-lyric-mode.ly"></a>
<hr size="6">
<a name="Skips-in-lyric-mode"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Skips-in-lyric-mode-_00282_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Skips in lyric mode (2)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Specifying-context-with-beatGrouping" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Specifying context with beatGrouping &gt; </a>]</td></tr></table>
<a name="Skips-in-lyric-mode"></a>
<h2 class="unnumberedsec">Skips in lyric mode</h2>


<p>The <code>s</code> syntax for skips is only available in note mode and chord
mode. In other situations, for example, when entering lyrics, using the
<code>\skip</code> command is recommended. 
</p>

<pre class="verbatim">&lt;&lt;
  \relative { a'1 a }
  \new Lyrics \lyricmode { \skip 1 bla1 }
&gt;&gt;

</pre><p>
 <a href="20/lily-46571fbe.ly">
  <img align="middle"
       border="0"
       src="20/lily-46571fbe.png"
       alt="[image of music]">
 </a>
</p>




<a name="specifying-context-with-beatgrouping.ly"></a>
<hr size="6">
<a name="Specifying-context-with-beatGrouping"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Skips-in-lyric-mode" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Skips in lyric mode&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Stemlets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Stemlets &gt; </a>]</td></tr></table>
<a name="Specifying-context-with-beatGrouping"></a>
<h2 class="unnumberedsec">Specifying context with beatGrouping</h2>


<p>By specifying the context, the effect of <code>beatGrouping</code> can be
limited to the context specified, and the values which may have been
set in higher-level contexts can be overridden.  The <code>\set</code>
commands must be placed after all <code>\time</code> commands:
</p>

<pre class="verbatim">\score {
  \new Staff &lt;&lt;
    \time 7/8
    \new Voice {
      \relative c'' {
        \set Staff.beatGrouping = #'(2 3 2)
        a8 a a a a a a
      }
    }
    \new Voice {
      \relative c' {
        \voiceTwo
        \set beatGrouping = #'(1 3 3)
        f8 f f f f f f
      }
    }
  &gt;&gt;
}
</pre><p>
 <a href="c9/lily-2c4fa1bc.ly">
  <img align="middle"
       border="0"
       src="c9/lily-2c4fa1bc.png"
       alt="[image of music]">
 </a>
</p>




<a name="stemlets.ly"></a>
<hr size="6">
<a name="Stemlets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Specifying-context-with-beatGrouping" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Specifying context with beatGrouping&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Sub_002ddividing-beams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Sub-dividing beams &gt; </a>]</td></tr></table>
<a name="Stemlets"></a>
<h2 class="unnumberedsec">Stemlets</h2>


<p>In some notational conventions beams are allowed to extend over rests. 
Depending on preference, these beams may drop &rsquo;stemlets&rsquo; to help the
eye appreciate the rhythm better, and in some modern music the rest
itself is omitted and only the stemlet remains.
</p>

<p>This snippet shows a progression from traditional notation, to beams
over the rest, to stemlets over the rest, to stemlets alone.  Stemlets
are generated by overriding the <code>'stemlet-length</code> property of
<code>Stem</code>, while rests are hidden by setting <code>'transparent =
##t</code>.
</p>

<p>Some <code>\markup</code> elements are included in the source to highlight
the different notations. 
</p>

<pre class="verbatim">\paper { ragged-right = ##f }

{
  c'16^\markup { traditional } d' r f'
  g'16[^\markup { beams over rests } f' r d']
  
  % N.B. use Score.Stem to set for the whole score.
  \override Staff.Stem #'stemlet-length = #0.75
  
  c'16[^\markup { stemlets over rests } d' r f']
  g'16[^\markup { stemlets and no rests } f' \once \override Rest #'transparent = ##t r d']
}


</pre><p>
 <a href="5a/lily-a7dd73d7.ly">
  <img align="middle"
       border="0"
       src="5a/lily-a7dd73d7.png"
       alt="[image of music]">
 </a>
</p>




<a name="sub-dividing-beams.ly"></a>
<hr size="6">
<a name="Sub_002ddividing-beams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Stemlets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Stemlets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Three_002dsided-box" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Three-sided box &gt; </a>]</td></tr></table>
<a name="Sub_002ddividing-beams"></a>
<h2 class="unnumberedsec">Sub-dividing beams</h2>


<p>The beams of consecutive 16th (or shorter) notes are, by default, not
sub-divided.  That is, the three (or more) beams stretch unbroken over
entire groups of notes.  This behavior can be modified to sub-divide
the beams into sub-groups by setting the property
<code>subdivideBeams</code>. When set, multiple beams will be sub-divided at
intervals defined by the current value of <code>beatLength</code> by reducing
the multiple beams to just one beam between the sub-groups. Note that
<code>beatLength</code> defaults to one over the denominator of the current
time signature if not set explicitly. It must be set to a fraction
giving the duration of the beam sub-group using the <code>make-moment</code>
function, as shown here:
</p>



<pre class="verbatim">\relative c'' {
  c32[ c c c c c c c]
  \set subdivideBeams = ##t
  c32[ c c c c c c c]

  % Set beam sub-group length to an eighth note
  \set beatLength = #(ly:make-moment 1 8)
  c32[ c c c c c c c]

  % Set beam sub-group length to a sixteenth note
  \set beatLength = #(ly:make-moment 1 16)
  c32[ c c c c c c c]
}

</pre><p>
 <a href="b5/lily-28275a48.ly">
  <img align="middle"
       border="0"
       src="b5/lily-28275a48.png"
       alt="[image of music]">
 </a>
</p>




<a name="three-sided-box.ly"></a>
<hr size="6">
<a name="Three_002dsided-box"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Sub_002ddividing-beams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Sub-dividing beams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Time signature printing only the numerator as a number (instead of the fraction) &gt; </a>]</td></tr></table>
<a name="Three_002dsided-box"></a>
<h2 class="unnumberedsec">Three-sided box</h2>


<p>This example shows how to add a markup command to get a three sided box
around some text (or other markup).
</p>

<pre class="verbatim">% New command to add a three sided box, with sides north, west and south
% Based on the box-stencil command defined in scm/stencil.scm
% Note that &quot;;&quot; is used to comment a line in Scheme
#(define-public (NWS-box-stencil stencil thickness padding)
  &quot;Add a box around STENCIL, producing a new stencil.&quot;
  (let* ((x-ext (interval-widen (ly:stencil-extent stencil 0) padding))
         (y-ext (interval-widen (ly:stencil-extent stencil 1) padding))
         (y-rule (make-filled-box-stencil (cons 0 thickness) y-ext))
         (x-rule (make-filled-box-stencil
                  (interval-widen x-ext thickness) (cons 0 thickness))))
;    (set! stencil (ly:stencil-combine-at-edge stencil X 1 y-rule padding))
    (set! stencil (ly:stencil-combine-at-edge stencil X -1 y-rule padding))
    (set! stencil (ly:stencil-combine-at-edge stencil Y 1 x-rule 0.0))
    (set! stencil (ly:stencil-combine-at-edge stencil Y -1 x-rule 0.0))
    stencil))

% The corresponding markup command, based on the \box command defined 
% in scm/define-markup-commands.scm
#(define-markup-command (NWS-box layout props arg) (markup?)
  &quot;Draw a box round @var{arg}.  Looks at @code{thickness},
@code{box-padding} and @code{font-size} properties to determine line
thickness and padding around the markup.&quot;  
  (let* ((th (chain-assoc-get 'thickness props  0.1))
         (size (chain-assoc-get 'font-size props 0))
         (pad (* (magstep size)
                 (chain-assoc-get 'box-padding props 0.2)))
         (m (interpret-markup layout props arg)))
    (NWS-box-stencil m th pad)))

% Test it:

\layout { ragged-right = ##f }
\relative c' {
  c2^\markup { \NWS-box ABCD }
  c2^\markup { \NWS-box \note #&quot;4&quot; #1.0 }
}

</pre><p>
 <a href="6b/lily-68585188.ly">
  <img align="middle"
       border="0"
       src="6b/lily-68585188.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-printing-only-the-numerator-as-a-number-instead-of-the-fraction.ly"></a>
<hr size="6">
<a name="Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Three_002dsided-box" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Three-sided box&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaking-grace-layout-within-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaking grace layout within music &gt; </a>]</td></tr></table>
<a name="Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029"></a>
<h2 class="unnumberedsec">Time signature printing only the numerator as a number (instead of the fraction)</h2>


<p>Sometimes, a time signature should not print the whole fraction (e.g.
7/4), but only the numerator (7 in this case). This can be easily done
by using \override Staff.TimeSignature #&rsquo;style = #&rsquo;single-digit to
change the style permanently. By using \revert Staff.TimeSignature
#&rsquo;style, this setting can be reversed. To apply the single-digit style
to only one time signature, use the \override command and prefix it
with a \once. 
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4 
  c4 c c
  % Change the style permanently
  \override Staff.TimeSignature #'style = #'single-digit
  \time 2/4 
  c c
  \time 3/4 
  c c c
  % Revert to default style:
  \revert Staff.TimeSignature #'style
  \time 2/4
  c c
  % single-digit style only for the next time signature
  \once \override Staff.TimeSignature #'style = #'single-digit
  \time 5/4
  c c c c c
  \time 2/4
  c c
}
</pre><p>
 <a href="4f/lily-5a3e51b0.ly">
  <img align="middle"
       border="0"
       src="4f/lily-5a3e51b0.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-grace-layout-within-music.ly"></a>
<hr size="6">
<a name="Tweaking-grace-layout-within-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Time signature printing only the numerator as a number (instead of the fraction)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-beatLength-and-beatGrouping" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using beatLength and beatGrouping &gt; </a>]</td></tr></table>
<a name="Tweaking-grace-layout-within-music"></a>
<h2 class="unnumberedsec">Tweaking grace layout within music</h2>


<p>The layout of grace expressions can be changed throughout the music
using the functions <code>add-grace-property</code> and
<code>remove-grace-property</code>. The following example undefines the
<code>Stem</code> direction for this grace, so that stems do not always point
up, and changes the default note heads to crosses. 
</p>

<pre class="verbatim">\relative c'' {
  \new Staff {
    #(remove-grace-property 'Voice 'Stem 'direction)
    #(add-grace-property 'Voice 'NoteHead 'style 'cross)
    \new Voice {
       \acciaccatura { f16 } g4
       \grace { d16[ e] } f4
       \appoggiatura { f,32[ g a] } e2
    }
  }
}
</pre><p>
 <a href="7f/lily-6e6a2a49.ly">
  <img align="middle"
       border="0"
       src="7f/lily-6e6a2a49.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-beatlength-and-beatgrouping.ly"></a>
<hr size="6">
<a name="Using-beatLength-and-beatGrouping"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaking-grace-layout-within-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaking grace layout within music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-grace-note-slashes-with-normal-heads" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using grace note slashes with normal heads &gt; </a>]</td></tr></table>
<a name="Using-beatLength-and-beatGrouping"></a>
<h2 class="unnumberedsec">Using beatLength and beatGrouping</h2>


<p>The property <code>measureLength</code> determines where bar lines should be
inserted and, with <code>beatLength</code> and <code>beatGrouping</code>, how
automatic beams should be generated for beam durations and time
signatures for which no beam-ending rules are defined.  This example
shows several ways of controlling beaming by setting these properties. 
The explanations are shown as comments in the code.
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  % The default in 3/4 time is to beam in three groups
  % each of a quarter note length
  a16 a a a a a a a a a a a

  \time 12/16
  % No auto-beaming is defined for 12/16
  a16 a a a a a a a a a a a

  \time 3/4
  % Change time signature symbol, but retain underlying 3/4 beaming
  \set Score.timeSignatureFraction = #'(12 . 16)
  a16 a a a a a a a a a a a

  % The 3/4 time default grouping of (1 1 1) and beatLength of 1/8
  % are not consistent with a measureLength of 3/4, so the beams
  % are grouped at beatLength intervals
  \set Score.beatLength = #(ly:make-moment 1 8)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 3 2 3) 1/16th notes
  % 3+3+2+3=11, and 11*1/16&lt;&gt;3/4, so beatGrouping does not apply,
  % and beams are grouped at beatLength (1/16) intervals
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 3 2 3)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 4 2 3) 1/16th notes
  % 3+4+2+3=12, and 12*1/16=3/4, so beatGrouping applies
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 4 2 3)
  a16 a a a a a a a a a a a
}
</pre><p>
 <a href="31/lily-ef8d5a53.ly">
  <img align="middle"
       border="0"
       src="31/lily-ef8d5a53.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-grace-note-slashes-with-normal-heads.ly"></a>
<hr size="6">
<a name="Using-grace-note-slashes-with-normal-heads"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-beatLength-and-beatGrouping" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using beatLength and beatGrouping&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-ties-with-arpeggios" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using ties with arpeggios &gt; </a>]</td></tr></table>
<a name="Using-grace-note-slashes-with-normal-heads"></a>
<h2 class="unnumberedsec">Using grace note slashes with normal heads</h2>


<p>The slash through the stem found in acciaccaturas can be applied in
other situations.
</p>

<pre class="verbatim">\relative c'' {
  \override Stem #'stroke-style = #&quot;grace&quot;
  c8( d2) e8( f4)
}

</pre><p>
 <a href="5c/lily-444d842c.ly">
  <img align="middle"
       border="0"
       src="5c/lily-444d842c.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-ties-with-arpeggios.ly"></a>
<hr size="6">
<a name="Using-ties-with-arpeggios"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Expressive-marks" title="Next chapter">&nbsp;Expressive marks &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-grace-note-slashes-with-normal-heads" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using grace note slashes with normal heads&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Rhythms" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Rhythms&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Expressive-marks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Expressive marks &gt; </a>]</td></tr></table>
<a name="Using-ties-with-arpeggios"></a>
<h2 class="unnumberedsec">Using ties with arpeggios</h2>


<p>Ties are sometimes used to write out arpeggios.  In this case, two tied
notes need not be consecutive.  This can be achieved by setting the
<code>tieWaitForNote</code> property to <code>#t</code>.  The same feature is also
useful, for example, to tie a tremolo to a chord, but in principle, it
can also be used for ordinary consecutive notes. 
</p>

<pre class="verbatim">\relative c' {
  \set tieWaitForNote = ##t
  \grace { c16[ ~ e ~ g] ~ } &lt;c, e g&gt;2
  \repeat tremolo 8 { c32 ~ c' ~ } &lt;c c,&gt;1
  e8 ~ c ~ a ~ f ~ &lt;e' c a f&gt;2
  \tieUp
  c8 ~ a
  \tieDown
  \tieDotted
  g8 ~ c g2
}

</pre><p>
 <a href="d6/lily-d938f87d.ly">
  <img align="middle"
       border="0"
       src="d6/lily-d938f87d.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Expressive-marks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Rhythms" title="Beginning of this chapter or previous chapter"> &lt;&lt; Rhythms&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-ties-with-arpeggios" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using ties with arpeggios&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Expressive-marks" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Expressive-marks"></a>
<h1 class="unnumbered">Expressive marks</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Expressive-marks">Expressive marks</a>.
</p>

<a name="adding-beams,-slurs,-ties-etc.-when-using-tuplet-and-non-tuplet-rhythms.ly"></a>
<hr size="6">
<a name="Expressive-marks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Expressive-marks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-parentheses-around-an-expressive-mark-or-chordal-note" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding parentheses around an expressive mark or chordal note &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</h2>


<p>LilyPond syntax can involve many unusual placements for parentheses,
brackets etc., which might sometimes have to be interleaved. For
example, when entering a manual beam, the left square bracket has to be
placed after the starting note and its duration, not before. Similarly,
the right square bracket should directly follow the note which is to be
at the end of the requested beaming, even if this note happens to be
inside a tuplet section. This snippet demonstrates how to combine
manual beaming, manual slurs, ties and phrasing slurs with tuplet
sections (enclosed within curly braces). 
</p>

<pre class="verbatim">{
  r16[ g16 \times 2/3 { r16 e'8] }
  g16( a \times 2/3 { b d e') }
  g8[( a \times 2/3 { b d') e'] ~ }
  \time 2/4
  \times 4/5 { e'32\( a b d' e' } a'4.\)
}

</pre><p>
 <a href="85/lily-7e3b3e54.ly">
  <img align="middle"
       border="0"
       src="85/lily-7e3b3e54.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-parentheses-around-an-expressive-mark-or-chordal-note.ly"></a>
<hr size="6">
<a name="Adding-parentheses-around-an-expressive-mark-or-chordal-note"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Expressive-marks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adjusting-the-shape-of-falls-and-doits" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adjusting the shape of falls and doits &gt; </a>]</td></tr></table>
<a name="Adding-parentheses-around-an-expressive-mark-or-chordal-note"></a>
<h2 class="unnumberedsec">Adding parentheses around an expressive mark or chordal note</h2>


<p>The <code>\parenthesize</code> function is a special tweak that encloses
objects in parentheses.  The associated grob is
<code>Score.ParenthesesItem</code>. 
</p>

<pre class="verbatim">\relative c' {
  c2-\parenthesize -&gt;
  \override ParenthesesItem #'padding = #0.1
  \override ParenthesesItem #'font-size = #-4
  &lt;d \parenthesize f a&gt;2 
}


</pre><p>
 <a href="86/lily-a7140a24.ly">
  <img align="middle"
       border="0"
       src="86/lily-a7140a24.png"
       alt="[image of music]">
 </a>
</p>




<a name="adjusting-the-shape-of-falls-and-doits.ly"></a>
<hr size="6">
<a name="Adjusting-the-shape-of-falls-and-doits"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-parentheses-around-an-expressive-mark-or-chordal-note" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding parentheses around an expressive mark or chordal note&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Breathing-signs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Breathing signs &gt; </a>]</td></tr></table>
<a name="Adjusting-the-shape-of-falls-and-doits"></a>
<h2 class="unnumberedsec">Adjusting the shape of falls and doits</h2>


<p>The <code>shortest-duration-space</code> property may have to be tweaked to
adjust the shape of falls and doits.
</p>

<pre class="verbatim">\relative c'' {
  \override Score.SpacingSpanner #'shortest-duration-space = #4.0
  c2-\bendAfter #+5
  c2-\bendAfter #-3
  c2-\bendAfter #+8
  c2-\bendAfter #-6
}

</pre><p>
 <a href="42/lily-225d18f7.ly">
  <img align="middle"
       border="0"
       src="42/lily-225d18f7.png"
       alt="[image of music]">
 </a>
</p>




<a name="breathing-signs.ly"></a>
<hr size="6">
<a name="Breathing-signs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adjusting-the-shape-of-falls-and-doits" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adjusting the shape of falls and doits&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Broken-Crescendo-Hairpin" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Broken Crescendo Hairpin &gt; </a>]</td></tr></table>
<a name="Breathing-signs"></a>
<h2 class="unnumberedsec">Breathing signs</h2>


<p>Breathing signs are available in different tastes: commas (default),
ticks, vees and &quot;railroad tracks&quot; (caesura).
</p>

<pre class="verbatim">\new Staff \relative c'' {
  \key es \major
  \time 3/4
  % this bar contains no \breathe
  &lt;&lt; { g4 as g } \\ { es4 bes es } &gt;&gt; |
  % Modern notation:
  % by default, \breathe uses the rcomma, just as if saying:
  % \override BreathingSign #'text = #(make-musicglyph-markup &quot;scripts.rcomma&quot;)
  &lt;&lt; { g4 as g } \\ { es4 \breathe bes es } &gt;&gt; |
  
  % rvarcomma and lvarcomma are variations of the default rcomma and lcomma
  % N.B.: must use Staff context here, since we start a Voice below
  \override Staff.BreathingSign #'text = \markup { \musicglyph #&quot;scripts.rvarcomma&quot; }
  &lt;&lt; { g4 as g } \\ { es4 \breathe bes es } &gt;&gt; |
  
  % vee
  \override BreathingSign #'text = \markup { \musicglyph #&quot;scripts.upbow&quot; }
  es8[ d es f g] \breathe f |
  
  % caesura
  \override BreathingSign #'text = \markup { \musicglyph #&quot;scripts.caesura.curved&quot; }
  es8[ d] \breathe es[ f g f] |
  es2 r4 \bar &quot;||&quot;
}
</pre><p>
 <a href="2a/lily-625b1e9b.ly">
  <img align="middle"
       border="0"
       src="2a/lily-625b1e9b.png"
       alt="[image of music]">
 </a>
</p>




<a name="broken-crescendo-hairpin.ly"></a>
<hr size="6">
<a name="Broken-Crescendo-Hairpin"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Breathing-signs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Breathing signs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Caesura-_0028_0022railtracks_0022_0029-with-fermata" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Caesura (&quot;railtracks&quot;) with fermata &gt; </a>]</td></tr></table>
<a name="Broken-Crescendo-Hairpin"></a>
<h2 class="unnumberedsec">Broken Crescendo Hairpin</h2>


<p>In order to make parts of a crescendo hairpin invisible, the following
method is used: A white rectangle is drawn on top of the respective
part of the crescendo hairpin, making it invisible.  The rectangle is
defined as postscript code within a text markup.
</p>
<p>To fine-tune the position and size of the markup, the number preceding
<code>setgray</code> in the postscript definition can be set to a value less
than one, making it grey.  The two numbers before <code>scale</code> in the
postscript code are responsible for the width and height of the
rectangle, the two numbers before <code>translate</code> change the x- and
y-origin of the rectangle.
</p>

<p>Make sure to put the hairpin in a lower layer than the text markup to
draw the rectangle over the hairpin. 
</p>

<pre class="verbatim">\relative c' {
  &lt;&lt; {
    \dynamicUp
    \override DynamicLineSpanner #'staff-padding = #4
    r2 r16 c'8.\pp r4
  }
  \\
  {
    \override DynamicLineSpanner #'layer = #0
    des,2\mf\&lt; ~
    \override TextScript #'layer = #2
    des16_\markup {
      \postscript #&quot;
        1.9 -8 translate
        5 4 scale
        1 setgray
        0 0 moveto
        0 1 lineto
        1 1 lineto
        1 0 lineto
        0 0 lineto
        fill&quot;
    }
    r8. des4 ~ des16-&gt;\sff
  } &gt;&gt;
}
</pre><p>
 <a href="55/lily-7e7bb7f6.ly">
  <img align="middle"
       border="0"
       src="55/lily-7e7bb7f6.png"
       alt="[image of music]">
 </a>
</p>




<a name="caesura-railtracks-with-fermata.ly"></a>
<hr size="6">
<a name="Caesura-_0028_0022railtracks_0022_0029-with-fermata"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Broken-Crescendo-Hairpin" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Broken Crescendo Hairpin&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Center-text-below-hairpin-dynamics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Center text below hairpin dynamics &gt; </a>]</td></tr></table>
<a name="Caesura-_0028_0022railtracks_0022_0029-with-fermata"></a>
<h2 class="unnumberedsec">Caesura (&quot;railtracks&quot;) with fermata</h2>


<p>A caesura is sometimes denoted by a double &quot;railtracks&quot; breath mark
with a fermata sign positioned above. This snippet should present an
optically pleasing combination of railtracks and fermata.
</p>

<pre class="verbatim">\relative c'' {
  c2.
  % construct the symbol
  \override BreathingSign #'text = \markup {
    \line {
      \musicglyph #&quot;scripts.caesura.curved&quot;
      \translate #'(-1.75 . 1.6)
      \musicglyph #&quot;scripts.ufermata&quot;
    }
  }
  \breathe c4
  % set the breathe mark back to normal
  \revert BreathingSign #'text
  c2. \breathe c4
  \bar &quot;|.&quot;
}
</pre><p>
 <a href="7d/lily-6711c400.ly">
  <img align="middle"
       border="0"
       src="7d/lily-6711c400.png"
       alt="[image of music]">
 </a>
</p>




<a name="center-text-below-hairpin-dynamics.ly"></a>
<hr size="6">
<a name="Center-text-below-hairpin-dynamics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Caesura-_0028_0022railtracks_0022_0029-with-fermata" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Caesura (&quot;railtracks&quot;) with fermata&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-_005cflageolet-mark-size" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing \flageolet mark size &gt; </a>]</td></tr></table>
<a name="Center-text-below-hairpin-dynamics"></a>
<h2 class="unnumberedsec">Center text below hairpin dynamics</h2>


<p>This example provides a function to typeset a hairpin (de)crescendo
with some additional text below it, such as &quot;molto&quot; or &quot;poco&quot;. The
example also illustrates how to modify the way an object is normally
printed, using some Scheme code.
</p>

<pre class="verbatim">hairpinWithCenteredText =
#(define-music-function (parser location text) (markup?)
#{
  \override Voice.Hairpin #'stencil = #(lambda (grob)
    (ly:stencil-aligned-to
     (ly:stencil-combine-at-edge
      (ly:stencil-aligned-to (ly:hairpin::print grob) X CENTER)
      Y DOWN
      (ly:stencil-aligned-to (grob-interpret-markup grob $text) X CENTER))
     X LEFT))
#})

hairpinMolto = \hairpinWithCenteredText \markup { \italic molto }
hairpinMore = \hairpinWithCenteredText \markup { \larger moltissimo }

\layout { ragged-right = ##f }

\relative c' {
  \hairpinMolto
  c2\&lt; c\f
  \hairpinMore
  c2\&lt; c\f
}
</pre><p>
 <a href="00/lily-7919dd1d.ly">
  <img align="middle"
       border="0"
       src="00/lily-7919dd1d.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing--flageolet-mark-size.ly"></a>
<hr size="6">
<a name="Changing-_005cflageolet-mark-size"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Center-text-below-hairpin-dynamics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Center text below hairpin dynamics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-text-and-spanner-styles-for-text-dynamics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing text and spanner styles for text dynamics &gt; </a>]</td></tr></table>
<a name="Changing-_005cflageolet-mark-size"></a>
<h2 class="unnumberedsec">Changing \flageolet mark size</h2>


<p>To make the <code>\flageolet</code> circle smaller use the following Scheme
function. 
</p>

<pre class="verbatim">smallFlageolet =
#(let ((m (make-music 'ArticulationEvent
                      'articulation-type &quot;flageolet&quot;)))
   (ly:music-set-property! m 'tweaks
     (acons 'font-size -3
       (ly:music-property m 'tweaks)))
  m)

\layout { ragged-right = ##f }

\relative c'' {
  d4^\flageolet_\markup { default size } d_\flageolet
  c4^\smallFlageolet_\markup { smaller } c_\smallFlageolet
}

</pre><p>
 <a href="9b/lily-2bb41122.ly">
  <img align="middle"
       border="0"
       src="9b/lily-2bb41122.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-text-and-spanner-styles-for-text-dynamics.ly"></a>
<hr size="6">
<a name="Changing-text-and-spanner-styles-for-text-dynamics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-_005cflageolet-mark-size" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing \flageolet mark size&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the appearance of a slur from solid to dotted or dashed &gt; </a>]</td></tr></table>
<a name="Changing-text-and-spanner-styles-for-text-dynamics"></a>
<h2 class="unnumberedsec">Changing text and spanner styles for text dynamics</h2>


<p>The text used for crescendos and decrescendos can be changed by
modifying the context properties <code>crescendoText</code> and
<code>decrescendoText</code>. The style of the spanner line can be changed by
modifying the <code>'style</code> property of <code>DynamicTextSpanner</code>.  The
default value is <code>'hairpin</code>, and other possible values include
<code>'line</code>, <code>'dashed-line</code> and <code>'dotted-line</code>. 
</p>

<pre class="verbatim">\relative c'' {
  \set crescendoText = \markup { \italic { cresc. poco } }
  \set crescendoSpanner = #'text
  \override DynamicTextSpanner #'style = #'dotted-line
  a2\&lt; a
  a2 a
  a2 a
  a2 a\mf
}
</pre><p>
 <a href="8e/lily-43cd3e3b.ly">
  <img align="middle"
       border="0"
       src="8e/lily-43cd3e3b.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed.ly"></a>
<hr size="6">
<a name="Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-text-and-spanner-styles-for-text-dynamics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing text and spanner styles for text dynamics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-breath-mark-symbol" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the breath mark symbol &gt; </a>]</td></tr></table>
<a name="Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed"></a>
<h2 class="unnumberedsec">Changing the appearance of a slur from solid to dotted or dashed</h2>


<p>The appearance of slurs may be changed from solid to dotted or dashed. 
</p>

<pre class="verbatim">\relative c' {
  c4( d e c)
  \slurDotted
  c4( d e c)
  \slurSolid
  c4( d e c)
  \slurDashed
  c4( d e c)
  \slurSolid
  c4( d e c)
}


</pre><p>
 <a href="be/lily-0a297f52.ly">
  <img align="middle"
       border="0"
       src="be/lily-0a297f52.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-breath-mark-symbol.ly"></a>
<hr size="6">
<a name="Changing-the-breath-mark-symbol"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the appearance of a slur from solid to dotted or dashed&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Combining-dynamics-with-markup-texts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Combining dynamics with markup texts &gt; </a>]</td></tr></table>
<a name="Changing-the-breath-mark-symbol"></a>
<h2 class="unnumberedsec">Changing the breath mark symbol</h2>


<p>The glyph of the breath mark can be tuned by overriding the text
property of the <code>BreathingSign</code> layout object with any markup
text. 
</p>

<pre class="verbatim">\relative c'' {
  c2
  \override BreathingSign #'text = \markup { \musicglyph #&quot;scripts.rvarcomma&quot; }
  \breathe
  d2
}
</pre><p>
 <a href="25/lily-95fa010e.ly">
  <img align="middle"
       border="0"
       src="25/lily-95fa010e.png"
       alt="[image of music]">
 </a>
</p>




<a name="combining-dynamics-with-markup-texts.ly"></a>
<hr size="6">
<a name="Combining-dynamics-with-markup-texts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-breath-mark-symbol" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the breath mark symbol&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Contemporary-glissando" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Contemporary glissando &gt; </a>]</td></tr></table>
<a name="Combining-dynamics-with-markup-texts"></a>
<h2 class="unnumberedsec">Combining dynamics with markup texts</h2>


<p>Some dynamics may involve text indications (such as &quot;più forte&quot; or
&quot;piano subito&quot;). They can be produced using a <code>\markup</code> block.
</p>

<pre class="verbatim">piuF = \markup { \italic più \dynamic f }
\layout { ragged-right = ##f }
\relative c'' {
  c2\f c-\piuF
}


</pre><p>
 <a href="72/lily-519b5a38.ly">
  <img align="middle"
       border="0"
       src="72/lily-519b5a38.png"
       alt="[image of music]">
 </a>
</p>




<a name="contemporary-glissando.ly"></a>
<hr size="6">
<a name="Contemporary-glissando"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Combining-dynamics-with-markup-texts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Combining dynamics with markup texts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Controlling-the-vertical-ordering-of-scripts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Controlling the vertical ordering of scripts &gt; </a>]</td></tr></table>
<a name="Contemporary-glissando"></a>
<h2 class="unnumberedsec">Contemporary glissando</h2>


<p>A contemporary glissando without a final note can be typeset using a
hidden note and cadenza timing.
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  \override Glissando #'style = #'zigzag
  c4 c
  \cadenzaOn
  c4\glissando
  \hideNotes
  c,,4 
  \unHideNotes
  \cadenzaOff
  \bar &quot;|&quot;
}

</pre><p>
 <a href="6e/lily-81ac542c.ly">
  <img align="middle"
       border="0"
       src="6e/lily-81ac542c.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-vertical-ordering-of-scripts.ly"></a>
<hr size="6">
<a name="Controlling-the-vertical-ordering-of-scripts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Contemporary-glissando" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Contemporary glissando&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-a-delayed-turn" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating a delayed turn &gt; </a>]</td></tr></table>
<a name="Controlling-the-vertical-ordering-of-scripts"></a>
<h2 class="unnumberedsec">Controlling the vertical ordering of scripts</h2>


<p>The vertical ordering of scripts is controlled with the
<code>'script-priority</code> property. The lower this number, the closer it
will be put to the note. In this example, the <code>TextScript</code> (the
sharp symbol) first has the lowest priority, so it is put lowest in the
first example. In the second, the prall trill (the <code>Script</code>) has
the lowest, so it is on the inside. When two objects have the same
priority, the order in which they are entered determines which one
comes first. 
</p>

<pre class="verbatim">\relative c''' {
  \once \override TextScript #'script-priority = #-100
  a2^\prall^\markup { \sharp }
  
  \once \override Script #'script-priority = #-100
  a2^\prall^\markup { \sharp }
}

</pre><p>
 <a href="9d/lily-6e396260.ly">
  <img align="middle"
       border="0"
       src="9d/lily-6e396260.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-a-delayed-turn.ly"></a>
<hr size="6">
<a name="Creating-a-delayed-turn"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Controlling-the-vertical-ordering-of-scripts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Controlling the vertical ordering of scripts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-arpeggios-across-notes-in-different-voices" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating arpeggios across notes in different voices &gt; </a>]</td></tr></table>
<a name="Creating-a-delayed-turn"></a>
<h2 class="unnumberedsec">Creating a delayed turn</h2>


<p>Creating a delayed turn, where the lower note of the turn uses the
accidental, requires several overrides.  The
<code>outside-staff-priority</code> property must be set to <code>#f</code>, as
otherwise this would take precedence over the <code>avoid-slur
property</code>.  The value of <code>halign</code> is used to position the turn
horizontally.
</p>

<pre class="verbatim">\relative c'' {
  \once \override TextScript #'avoid-slur = #'inside
  \once \override TextScript #'outside-staff-priority = ##f
  c2(^\markup \tiny \override #'(baseline-skip . 1) {
    \halign #-4
    \center-column {
      \sharp
      \musicglyph #&quot;scripts.turn&quot;
    }
  }
  d4.) c8
}
</pre><p>
 <a href="6b/lily-e30cfc0b.ly">
  <img align="middle"
       border="0"
       src="6b/lily-e30cfc0b.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-arpeggios-across-notes-in-different-voices.ly"></a>
<hr size="6">
<a name="Creating-arpeggios-across-notes-in-different-voices"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-a-delayed-turn" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating a delayed turn&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-cross_002dstaff-arpeggios-in-a-piano-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating cross-staff arpeggios in a piano staff &gt; </a>]</td></tr></table>
<a name="Creating-arpeggios-across-notes-in-different-voices"></a>
<h2 class="unnumberedsec">Creating arpeggios across notes in different voices</h2>


<p>An arpeggio can be drawn across notes in different voices on the same
staff if the <code>Span_arpeggio_engraver</code> is moved to the <code>Staff</code>
context: 
</p>

<pre class="verbatim">\new Staff \with {
  \consists &quot;Span_arpeggio_engraver&quot;
}
\relative c' {
  \set Staff.connectArpeggios = ##t
  &lt;&lt;
    { &lt;e' g&gt;4\arpeggio &lt;d f&gt; &lt;d f&gt;2 } \\
    { &lt;d, f&gt;2\arpeggio &lt;g b&gt;2 }
  &gt;&gt;
}

</pre><p>
 <a href="53/lily-0d71dfb5.ly">
  <img align="middle"
       border="0"
       src="53/lily-0d71dfb5.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-cross-staff-arpeggios-in-a-piano-staff.ly"></a>
<hr size="6">
<a name="Creating-cross_002dstaff-arpeggios-in-a-piano-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-arpeggios-across-notes-in-different-voices" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating arpeggios across notes in different voices&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-cross_002dstaff-arpeggios-in-other-contexts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating cross-staff arpeggios in other contexts &gt; </a>]</td></tr></table>
<a name="Creating-cross_002dstaff-arpeggios-in-a-piano-staff"></a>
<h2 class="unnumberedsec">Creating cross-staff arpeggios in a piano staff</h2>


<p>In a <code>PianoStaff</code>, it is possible to let an arpeggio cross between
the staves by setting the property <code>PianoStaff.connectArpeggios</code>.
</p> 


<pre class="verbatim">\new PianoStaff \relative c'' &lt;&lt;
  \set PianoStaff.connectArpeggios = ##t
  \new Staff {
    &lt;c e g c&gt;4\arpeggio
    &lt;g c e g&gt;4\arpeggio
    &lt;e g c e&gt;4\arpeggio
    &lt;c e g c&gt;4\arpeggio
  }
  \new Staff {
    \clef bass
    \repeat unfold 4 {
      &lt;c,, e g c&gt;4\arpeggio
    }
  }
&gt;&gt;

</pre><p>
 <a href="f8/lily-97011e10.ly">
  <img align="middle"
       border="0"
       src="f8/lily-97011e10.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-cross-staff-arpeggios-in-other-contexts.ly"></a>
<hr size="6">
<a name="Creating-cross_002dstaff-arpeggios-in-other-contexts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-cross_002dstaff-arpeggios-in-a-piano-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating cross-staff arpeggios in a piano staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-_0022real_0022-parenthesized-dynamics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating &quot;real&quot; parenthesized dynamics &gt; </a>]</td></tr></table>
<a name="Creating-cross_002dstaff-arpeggios-in-other-contexts"></a>
<h2 class="unnumberedsec">Creating cross-staff arpeggios in other contexts</h2>


<p>Cross-staff arpeggios can be created in contexts other than
<code>PianoStaff</code> if the <code>Span_arpeggio_engraver</code> is included in
the <code>Score</code> context. 
</p>

<pre class="verbatim">\score {
  \new StaffGroup {
    \set Score.connectArpeggios = ##t
    &lt;&lt;
      \new Voice \relative c' {
        &lt;c e&gt;2\arpeggio
        &lt;d f&gt;2\arpeggio
        &lt;c e&gt;1\arpeggio
      }
      \new Voice  \relative c {
        \clef bass
         &lt;c g'&gt;2\arpeggio
         &lt;b g'&gt;2\arpeggio
         &lt;c g'&gt;1\arpeggio
      }
    &gt;&gt;
  }
  \layout {
    \context {
      \Score
      \consists &quot;Span_arpeggio_engraver&quot;
    }
  }
}

</pre><p>
 <a href="a6/lily-dd0bb5f2.ly">
  <img align="middle"
       border="0"
       src="a6/lily-dd0bb5f2.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-real-parenthesized-dynamics.ly"></a>
<hr size="6">
<a name="Creating-_0022real_0022-parenthesized-dynamics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-cross_002dstaff-arpeggios-in-other-contexts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating cross-staff arpeggios in other contexts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-simultaneous-rehearsal-marks" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating simultaneous rehearsal marks &gt; </a>]</td></tr></table>
<a name="Creating-_0022real_0022-parenthesized-dynamics"></a>
<h2 class="unnumberedsec">Creating &quot;real&quot; parenthesized dynamics</h2>


<p>Although the easiest way to add parentheses to a dynamic mark is to use
a <code>\markup</code> block, this method has a downside: the created
objects will behave like text markups, and not like dynamics.
</p>
<p>However, it is possible to create a similar object using the equivalent
Scheme code (as described in &quot;Markup programmer interface&quot;), combined
with the <code>make-dynamic-script</code> function. This way, the markup will
be regarded as a dynamic, and therefore will remain compatible with
commands such as <code>\dynamicUp</code> or <code>\dynamicDown</code>.
</p>



<pre class="verbatim">parenF = #(make-dynamic-script (markup #:line (#:normal-text #:italic
           #:fontsize 2 &quot;(&quot; #:hspace -0.8 #:dynamic &quot;f&quot; #:normal-text
           #:italic #:fontsize 2 &quot;)&quot;)))

\relative c'' {
  c4\parenF c c \dynamicUp c\parenF
}

</pre><p>
 <a href="89/lily-628a4a34.ly">
  <img align="middle"
       border="0"
       src="89/lily-628a4a34.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-simultaneous-rehearsal-marks.ly"></a>
<hr size="6">
<a name="Creating-simultaneous-rehearsal-marks"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-_0022real_0022-parenthesized-dynamics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating &quot;real&quot; parenthesized dynamics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-slurs-across-voices" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating slurs across voices &gt; </a>]</td></tr></table>
<a name="Creating-simultaneous-rehearsal-marks"></a>
<h2 class="unnumberedsec">Creating simultaneous rehearsal marks</h2>


<p>Unlike text scripts, rehearsal marks cannot be stacked at a particular
point in a score: only one <code>RehearsalMark</code> object is created. 
Using an invisible measure and bar line, an extra rehearsal mark can be
added, giving the appearance of two marks in the same column. This
method may also prove useful for placing rehearsal marks at both the
end of one system and the start of the following system. 
</p>

<pre class="verbatim">{
  \key a \major
  \set Score.markFormatter = #format-mark-box-letters
  \once \override Score.RehearsalMark #'outside-staff-priority = #5000
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \once \override Score.RehearsalMark #'break-align-symbols = #'(key-signature)
  \mark \markup { \bold { Senza denti } }
  
  % the hidden measure and bar line
  \once \override Score.TimeSignature #'stencil = ##f
  \time 1/16
  s16 \bar &quot;&quot;
  
  \time 4/4
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \mark \markup { \box \bold Intro }
  d'1
  \mark \default
  d'1
}
</pre><p>
 <a href="d8/lily-ad064fd4.ly">
  <img align="middle"
       border="0"
       src="d8/lily-ad064fd4.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-slurs-across-voices.ly"></a>
<hr size="6">
<a name="Creating-slurs-across-voices"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-simultaneous-rehearsal-marks" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating simultaneous rehearsal marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-text-spanners" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating text spanners &gt; </a>]</td></tr></table>
<a name="Creating-slurs-across-voices"></a>
<h2 class="unnumberedsec">Creating slurs across voices</h2>


<p>In some situations, it may be necessary to create slurs between notes
from different voices.
</p>
<p>The solution is to add invisible notes to one of the voices, using
<code>\hideNotes</code>.
</p>
<p>This example is measure 235 of the Ciaconna from Bach&rsquo;s 2nd Partita for
solo violin, BWV 1004.
</p>

<pre class="verbatim">\relative c' {
  &lt;&lt;
    {
      d16( a') s a s a[ s a] s a[ s a]
    }
    \\
    {
      \slurUp
      bes,16[ s e](
      \hideNotes a)
      \unHideNotes f[(
      \hideNotes a)
      \unHideNotes fis](
      \hideNotes a)
      \unHideNotes g[(
      \hideNotes a)
      \unHideNotes gis](
      \hideNotes a)
    }
  &gt;&gt;
}

</pre><p>
 <a href="ab/lily-2ab9a85e.ly">
  <img align="middle"
       border="0"
       src="ab/lily-2ab9a85e.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-text-spanners.ly"></a>
<hr size="6">
<a name="Creating-text-spanners"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-slurs-across-voices" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating slurs across voices&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Double-glissando" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Double glissando &gt; </a>]</td></tr></table>
<a name="Creating-text-spanners"></a>
<h2 class="unnumberedsec">Creating text spanners</h2>


<p>The <code>\startTextSpan</code> and <code>\stopTextSpan</code> commands allow the
creation of text spanners as easily as pedal indications or
octavations. Override some properties of the <code>TextSpanner</code> object
to modify its output.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }

\relative c'' {
  \override TextSpanner #'(bound-details left text) = #&quot;bla&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;blu&quot;
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'line
  \once \override TextSpanner
    #'(bound-details left stencil-align-dir-y) = #CENTER
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'dashed-line
  \override TextSpanner #'(bound-details left text) =
    \markup { \draw-line #'(0 . 1) }
  \override TextSpanner #'(bound-details right text) =
    \markup { \draw-line #'(0 . -2) }
  \once \override TextSpanner #'(bound-details right padding) = #-2

  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \set Staff.middleCPosition = #-13
  \override TextSpanner #'dash-period = #10
  \override TextSpanner #'dash-fraction = #0.5
  \override TextSpanner #'thickness = #10
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
}
</pre><p>
 <a href="c3/lily-4156fc65.ly">
  <img align="middle"
       border="0"
       src="c3/lily-4156fc65.png"
       alt="[image of music]">
 </a>
</p>




<a name="double-glissando.ly"></a>
<hr size="6">
<a name="Double-glissando"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-text-spanners" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating text spanners&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Hiding-the-extender-line-for-text-dynamics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Hiding the extender line for text dynamics &gt; </a>]</td></tr></table>
<a name="Double-glissando"></a>
<h2 class="unnumberedsec">Double glissando</h2>


<p>To connect chords with glissando lines, attach a second glissando to a
hidden voice.
</p>

<pre class="verbatim">\relative c {
  \clef bass
  &lt;&lt;
    {
      % new voice ( = \voiceOne), hidden
      \hideNotes
      % attach glissando to note heads
      e2\glissando g
    }
    \\
    { 
      % original voice with chords rearranged so that
      % glissando is attached to a &amp; c
      &lt;e a,&gt;2\glissando &lt;g c,&gt;
    }
  &gt;&gt;
}

</pre><p>
 <a href="c0/lily-a0513eba.ly">
  <img align="middle"
       border="0"
       src="c0/lily-a0513eba.png"
       alt="[image of music]">
 </a>
</p>




<a name="hiding-the-extender-line-for-text-dynamics.ly"></a>
<hr size="6">
<a name="Hiding-the-extender-line-for-text-dynamics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Double-glissando" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Double glissando&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot; &gt; </a>]</td></tr></table>
<a name="Hiding-the-extender-line-for-text-dynamics"></a>
<h2 class="unnumberedsec">Hiding the extender line for text dynamics</h2>


<p>Text style dynamic changes (such as cresc. and dim.) are printed with a
dashed line showing their extent.  This line can be suppressed in the
following way: 
</p>

<pre class="verbatim">\relative c'' {
  \override DynamicTextSpanner #'dash-period = #-1.0
  \crescTextCresc
  c1\&lt; | d | b | c\!
}

</pre><p>
 <a href="3a/lily-9d91bc1b.ly">
  <img align="middle"
       border="0"
       src="3a/lily-9d91bc1b.png"
       alt="[image of music]">
 </a>
</p>




<a name="horizontally-aligning-custom-dynamics-e.g.-sempre-pp,-piu-f,-subito-p.ly"></a>
<hr size="6">
<a name="Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Hiding-the-extender-line-for-text-dynamics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Hiding the extender line for text dynamics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Inserting-a-caesura" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Inserting a caesura &gt; </a>]</td></tr></table>
<a name="Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022"></a>
<h2 class="unnumberedsec">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</h2>


<p>Some dynamic expressions involve additional text, like &quot;sempre pp&quot;.
Since lilypond aligns all dynamics centered on the note, the \pp would
be displayed way after the note it applies to.
</p>
<p>To correctly align the &quot;sempre \pp&quot; horizontally, so that it is
aligned as if it were only the \pp, there are several approaches:
</p>
<p>* Simply use <code>\once\override DynamicText #'X-offset = #-9.2</code>
before the note with the dynamics to manually shift it to the correct
position. Drawback: This has to be done manually each time you use that
dynamic markup... * Add some padding (<code>#:hspace 7.1</code>) into the
definition of your custom dynamic mark, so that after lilypond
center-aligns it, it is already correctly aligned. Drawback: The
padding really takes up that space and does not allow any other markup
or dynamics to be shown in that position.
</p>
<p>* Shift the dynamic script <code>\once\override ... #'X-offset = ..</code>.
Drawback: <code>\once\override</code> is needed for every invocation!
</p>
<p>* Set the dimensions of the additional text to 0 (using
<code>#:with-dimensions '(0 . 0) '(0 . 0)</code>). Drawback: To lilypond
&quot;sempre&quot; has no extent, so it might put other stuff there and create
collisions (which are not detected by the collision dection!). Also,
there seems to be some spacing, so it&rsquo;s not exactly the same alignment
as without the additional text
</p>
<p>* Add an explicit shifting directly inside the scheme function for the
dynamic-script.
</p>
<p>* Set an explicit alignment inside the dynamic-script. By default, this
won&rsquo;t have any effect, only if one sets X-offset! Drawback: One needs
to set <code>DynamicText #'X-offset</code>, which will apply to all dynamic
texts! Also, it is aligned at the right edge of the additional text,
not at the center of pp.
</p>




<pre class="verbatim">\header { title = &quot;Horizontally aligning custom dynamics&quot; }

\paper { ragged-right = ##f }

% Solution 1: Using a simple markup with a particular halign value
% Drawback: It's a markup, not a dynamic command, so \dynamicDown
%           etc. will have no effect
semppMarkup = \markup { \halign #1.4 \italic &quot;sempre&quot; \dynamic &quot;pp&quot; }

% Solution 2: Using a dynamic script &amp; shifting with
%             \once \override ... #'X-offset = ..
% Drawback: \once \override needed for every invocation
semppK =
#(make-dynamic-script
  (markup #:line
	  (#:normal-text
	   #:italic &quot;sempre&quot;
	   #:dynamic &quot;pp&quot;)))

% Solution 3: Padding the dynamic script so the center-alignment
%             puts it at the correct position
% Drawback: the padding really reserves the space, nothing else can be there
semppT =
#(make-dynamic-script
  (markup #:line
	  (#:normal-text
	   #:italic &quot;sempre&quot;
	   #:dynamic &quot;pp&quot;
	   #:hspace 7.1)))

% Solution 4: Dynamic, setting the dimensions of the additional text to 0
% Drawback: To lilypond &quot;sempre&quot; has no extent, so it might put
%           other stuff there =&gt; collisions
% Drawback: Also, there seems to be some spacing, so it's not exactly the
%           same alignment as without the additional text
semppM =
#(make-dynamic-script
  (markup #:line (#:with-dimensions '(0 . 0) '(0 . 0)
   #:right-align #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

% Solution 5: Dynamic with explicit shifting inside the scheme function
semppG =
#(make-dynamic-script
  (markup
    #:hspace 0 #:translate '(-18.85 . 0)
    #:line( #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

% Solution 6: Dynamic with explicit alignment. This has only effect, if one sets X-offset!
% Drawback: One needs to set DynamicText #'X-offset!
% Drawback: Aligned at the right edge of the additional text, not at the center of pp
semppMII =
#(make-dynamic-script (markup #:line(#:right-align 
  #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

\context StaffGroup &lt;&lt;
  \context Staff = &quot;s&quot; &lt;&lt;
    \set Staff.instrumentName = &quot;Normal&quot;
    \relative c'' {
      \key es \major
      c4\pp c\p c c | c\ff c c\pp c
    }
  &gt;&gt;
  \context Staff = &quot;sMarkup&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Normal markup }
    \relative c'' {
      \key es \major
      c4-\semppMarkup c\p c c | c\ff c c-\semppMarkup c
    }
  &gt;&gt;
  \context Staff = &quot;sK&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Explicit shifting }
    \relative c'' {
      \key es \major
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c\p c c
      c4\ff c
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c
    }
  &gt;&gt;
  \context Staff = &quot;sT&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Right padding }
    \relative c'' {
      \key es \major
      c4\semppT c\p c c | c\ff c c\semppT c
    }
  &gt;&gt;
  \context Staff = &quot;sM&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Setting dimension &quot;to zero&quot; }
    \relative c'' {
      \key es \major
      c4\semppM c\p c c | c\ff c c\semppM c
    }
  &gt;&gt;
  \context Staff = &quot;sG&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Shifting inside dynamics }
    \relative c'' {
      \key es \major
      c4\semppG c\p c c | c\ff c c\semppG c
    }
  &gt;&gt;
  \context Staff = &quot;sMII&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Alignment inside dynamics }
    \relative c'' {
      \key es \major
      % Setting to ##f (false) gives the same result
      \override DynamicText #'X-offset = #0
      c4\semppMII c\p c c | c\ff c c\semppMII c
    }
  &gt;&gt;
&gt;&gt;
</pre><p>
 <a href="0e/lily-d7d3650a.ly">
  <img align="middle"
       border="0"
       src="0e/lily-d7d3650a.png"
       alt="[image of music]">
 </a>
</p>




<a name="inserting-a-caesura.ly"></a>
<hr size="6">
<a name="Inserting-a-caesura"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Laissez-vibrer-ties" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Laissez vibrer ties &gt; </a>]</td></tr></table>
<a name="Inserting-a-caesura"></a>
<h2 class="unnumberedsec">Inserting a caesura</h2>


<p>Caesura marks can be created by overriding the <code>'text</code> property of
the <code>BreathingSign</code> object. A curved caesura mark is also
available. 
</p>

<pre class="verbatim">\relative c'' {
  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.straight&quot;
  }
  c8 e4. \breathe g8. e16 c4

  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.curved&quot;
  }
  g8 e'4. \breathe g8. e16 c4
}
</pre><p>
 <a href="7a/lily-629a981c.ly">
  <img align="middle"
       border="0"
       src="7a/lily-629a981c.png"
       alt="[image of music]">
 </a>
</p>




<a name="laissez-vibrer-ties.ly"></a>
<hr size="6">
<a name="Laissez-vibrer-ties"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Inserting-a-caesura" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Inserting a caesura&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Line-arrows" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Line arrows &gt; </a>]</td></tr></table>
<a name="Laissez-vibrer-ties"></a>
<h2 class="unnumberedsec">Laissez vibrer ties</h2>


<p>Laissez vibrer ties have a fixed size. Their formatting can be tuned
using <code>'tie-configuration</code>. 
</p>

<pre class="verbatim">\relative c' {
  &lt;c e g&gt;4\laissezVibrer r &lt;c f g&gt;\laissezVibrer r
  &lt;c d f g&gt;4\laissezVibrer r &lt;c d f g&gt;4.\laissezVibrer r8

  &lt;c d e f&gt;4\laissezVibrer r
  \override LaissezVibrerTieColumn #'tie-configuration
     = #`((-7 . ,DOWN)
          (-5 . ,DOWN)
          (-3 . ,UP)
          (-1 . ,UP))
  &lt;c d e f&gt;4\laissezVibrer r
}

</pre><p>
 <a href="e6/lily-cf04f3b3.ly">
  <img align="middle"
       border="0"
       src="e6/lily-cf04f3b3.png"
       alt="[image of music]">
 </a>
</p>




<a name="line-arrows.ly"></a>
<hr size="6">
<a name="Line-arrows"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Laissez-vibrer-ties" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Laissez vibrer ties&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Modifying-default-values-for-articulation-shorthand-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Modifying default values for articulation shorthand notation &gt; </a>]</td></tr></table>
<a name="Line-arrows"></a>
<h2 class="unnumberedsec">Line arrows</h2>


<p>Arrows can be applied to text-spanners and line-spanners (such as the
Glissando).
</p>

<pre class="verbatim">\relative c'' {
  \override TextSpanner #'bound-padding = #1.0
  \override TextSpanner #'style = #'line
  \override TextSpanner #'(bound-details right arrow) = ##t
  \override TextSpanner #'(bound-details left text) = #&quot;fof&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;gag&quot;
  \override TextSpanner #'(bound-details right padding) = #0.6

  \override TextSpanner #'(bound-details right stencil-align-dir-y) = #CENTER
  \override TextSpanner #'(bound-details left stencil-align-dir-y) = #CENTER
  
  \override Glissando #'(bound-details right arrow) = ##t
  \override Glissando #'arrow-length = #0.5
  \override Glissando #'arrow-width = #0.25
  
  a8\startTextSpan gis a4 b\glissando b,
  g'4 c\stopTextSpan c2
}
</pre><p>
 <a href="51/lily-e4bcfa65.ly">
  <img align="middle"
       border="0"
       src="51/lily-e4bcfa65.png"
       alt="[image of music]">
 </a>
</p>




<a name="modifying-default-values-for-articulation-shorthand-notation.ly"></a>
<hr size="6">
<a name="Modifying-default-values-for-articulation-shorthand-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Line-arrows" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Line arrows&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-with-centered-dynamics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Piano template with centered dynamics &gt; </a>]</td></tr></table>
<a name="Modifying-default-values-for-articulation-shorthand-notation"></a>
<h2 class="unnumberedsec">Modifying default values for articulation shorthand notation</h2>


<p>The shorthands are defined in &lsquo;<samp>ly/script-init.ly</samp>&rsquo;, where the
variables <code>dashHat</code>, <code>dashPlus</code>, <code>dashDash</code>,
<code>dashBar</code>, <code>dashLarger</code>, <code>dashDot</code>, and
<code>dashUnderscore</code> are assigned default values.  The default values
for the shorthands can be modified. For example, to associate the
<code>-+</code> (<code>dashPlus</code>) shorthand with the trill symbol instead of
the default + symbol, assign the value <code>trill</code> to the variable
<code>dashPlus</code>: 
</p>

<pre class="verbatim">\relative c'' { c1-+ }
dashPlus = &quot;trill&quot;
\relative c'' { c1-+ }

</pre><p>
 <a href="e9/lily-7ad8ea06.ly">
  <img align="middle"
       border="0"
       src="e9/lily-7ad8ea06.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-centered-dynamics.ly"></a>
<hr size="6">
<a name="Piano-template-with-centered-dynamics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Modifying-default-values-for-articulation-shorthand-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Modifying default values for articulation shorthand notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-text-markups-inside-slurs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Positioning text markups inside slurs &gt; </a>]</td></tr></table>
<a name="Piano-template-with-centered-dynamics"></a>
<h2 class="unnumberedsec">Piano template with centered dynamics</h2>


<p>Many piano scores have the dynamics centered between the two staves.
This requires a bit of tweaking to implement, but since the template is
right here, you don&rsquo;t have to do the tweaking yourself.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

upper = \relative c'' {
  \clef treble
  a4 b c d
}

lower = \relative c {
  \clef bass
  a2 c
}

dynamics = {
  s2\fff\&gt; s4 s\!\pp
}

pedal = {
  s2\sustainOn s\sustainOff
}

\score {
  \new PianoStaff = &quot;PianoStaff_pf&quot; &lt;&lt;
    \new Staff = &quot;Staff_pfUpper&quot; &lt;&lt; \global \upper &gt;&gt;
    \new Dynamics = &quot;Dynamics_pf&quot; \dynamics
    \new Staff = &quot;Staff_pfLower&quot; &lt;&lt; \global \lower &gt;&gt;
    \new Dynamics = &quot;pedal&quot; \pedal
  &gt;&gt;

  \layout {
    % define Dynamics context
    \context {
      \type &quot;Engraver_group&quot;
      \name Dynamics
      \alias Voice
      \consists &quot;Output_property_engraver&quot;
      \consists &quot;Piano_pedal_engraver&quot;
      \consists &quot;Script_engraver&quot;
      \consists &quot;New_dynamic_engraver&quot;
      \consists &quot;Dynamic_align_engraver&quot;
      \consists &quot;Text_engraver&quot;
      \consists &quot;Skip_event_swallow_translator&quot;
      \consists &quot;Axis_group_engraver&quot;

      pedalSustainStrings = #'(&quot;Ped.&quot; &quot;*Ped.&quot; &quot;*&quot;)
      pedalUnaCordaStrings = #'(&quot;una corda&quot; &quot;&quot; &quot;tre corde&quot;)
      \override DynamicLineSpanner #'Y-offset = #0
      \override TextScript #'font-size = #2
      \override TextScript #'font-shape = #'italic
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-1 . 1)
    }
    % modify PianoStaff context to accept Dynamics context
    \context {
      \PianoStaff
      \accepts Dynamics
    }
  }
}

\score {
  \new PianoStaff = &quot;PianoStaff_pf&quot; &lt;&lt;
    \new Staff = &quot;Staff_pfUpper&quot; &lt;&lt; \global \upper \dynamics \pedal &gt;&gt;
    \new Staff = &quot;Staff_pfLower&quot; &lt;&lt; \global \lower \dynamics \pedal &gt;&gt;
  &gt;&gt;
  \midi { }
}
</pre><p>
 <a href="4a/lily-6f94be39.ly">
  <img align="middle"
       border="0"
       src="4a/lily-6f94be39.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-text-markups-inside-slurs.ly"></a>
<hr size="6">
<a name="Positioning-text-markups-inside-slurs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-with-centered-dynamics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Piano template with centered dynamics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-hairpins-using-al-niente-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing hairpins using al niente notation &gt; </a>]</td></tr></table>
<a name="Positioning-text-markups-inside-slurs"></a>
<h2 class="unnumberedsec">Positioning text markups inside slurs</h2>


<p>Text markups need to have the <code>outside-staff-priority</code> property
set to false in order to be printed inside slurs. 
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'avoid-slur = #'inside
  \override TextScript #'outside-staff-priority = ##f
  c2(^\markup { \halign #-10 \natural } d4.) c8
}


</pre><p>
 <a href="d1/lily-d24567fb.ly">
  <img align="middle"
       border="0"
       src="d1/lily-d24567fb.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-hairpins-using-al-niente-notation.ly"></a>
<hr size="6">
<a name="Printing-hairpins-using-al-niente-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-text-markups-inside-slurs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Positioning text markups inside slurs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-hairpins-using-al-niente-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Printing-hairpins-using-al-niente-notation"></a>
<h2 class="unnumberedsec">Printing hairpins using al niente notation</h2>


<p>Hairpins may be printed with a circled tip (al niente notation) by
setting the <code>circled-tip</code> property of the <code>Hairpin</code> object to
<code>#t</code>. 
</p>

<pre class="verbatim">\relative c'' {
  \override Hairpin #'circled-tip = ##t
  c2\&lt; c\!
  c4\&gt; c\&lt; c2\!
}

</pre><p>
 <a href="f8/lily-623bbecb.ly">
  <img align="middle"
       border="0"
       src="f8/lily-623bbecb.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-metronome-and-rehearsal-marks-below-the-staff.ly"></a>
<hr size="6">
<a name="Printing-hairpins-using-al-niente-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-hairpins-using-al-niente-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing hairpins using al niente notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Setting-hairpin-behavior-at-bar-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Setting hairpin behavior at bar lines &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing metronome and rehearsal marks below the staff</h2>


<p>By default, metronome and rehearsal marks are printed above the staff. 
To place them below the staff simply set the <code>direction</code> property
of <code>MetronomeMark</code> or <code>RehearsalMark</code> appropriately.
</p>

<pre class="verbatim">\layout { ragged-right = ##f }

{
  % Metronome marks below the staff 
  \override Score.MetronomeMark #'direction = #DOWN
  \tempo 8. = 120
  c''1

  % Rehearsal marks below the staff
  \override Score.RehearsalMark #'direction = #DOWN
  \mark \default
  c''1
}

</pre><p>
 <a href="c6/lily-d7c7a792.ly">
  <img align="middle"
       border="0"
       src="c6/lily-d7c7a792.png"
       alt="[image of music]">
 </a>
</p>




<a name="setting-hairpin-behavior-at-bar-lines.ly"></a>
<hr size="6">
<a name="Setting-hairpin-behavior-at-bar-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-hairpins-using-al-niente-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Setting-the-minimum-length-of-hairpins" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Setting the minimum length of hairpins &gt; </a>]</td></tr></table>
<a name="Setting-hairpin-behavior-at-bar-lines"></a>
<h2 class="unnumberedsec">Setting hairpin behavior at bar lines</h2>


<p>If the note which ends a hairpin falls on a downbeat, the hairpin stops
at the bar line immediately preceding.  This behavior can be controlled
by overriding the <code>'to-barline</code> property.
</p>

<pre class="verbatim">\relative c'' {
  e4\&lt; e2.
  e1\!
  \override Hairpin #'to-barline = ##f
  e4\&lt; e2.
  e1\!
}
</pre><p>
 <a href="61/lily-7bf24bdc.ly">
  <img align="middle"
       border="0"
       src="61/lily-7bf24bdc.png"
       alt="[image of music]">
 </a>
</p>




<a name="setting-the-minimum-length-of-hairpins.ly"></a>
<hr size="6">
<a name="Setting-the-minimum-length-of-hairpins"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Setting-hairpin-behavior-at-bar-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Setting hairpin behavior at bar lines&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Snap-pizzicato markup (&quot;Bartok pizzicato&quot;) &gt; </a>]</td></tr></table>
<a name="Setting-the-minimum-length-of-hairpins"></a>
<h2 class="unnumberedsec">Setting the minimum length of hairpins</h2>


<p>If hairpins are too short, they can be lengthened by modifying the
<code>minimum-length</code> property of the <code>Hairpin</code> object. 
</p>

<pre class="verbatim">\relative c'' {
  c4\&lt; c\! d\&gt; e\!
  \override Hairpin #'minimum-length = #5
  &lt;&lt; f1 { s4 s\&lt; s\&gt; s\! } &gt;&gt;
}

</pre><p>
 <a href="d8/lily-fc370acd.ly">
  <img align="middle"
       border="0"
       src="d8/lily-fc370acd.png"
       alt="[image of music]">
 </a>
</p>




<a name="snap-pizzicato-markup-bartok-pizzicato.ly"></a>
<hr size="6">
<a name="Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Setting-the-minimum-length-of-hairpins" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Setting the minimum length of hairpins&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-double-slurs-for-legato-chords" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using double slurs for legato chords &gt; </a>]</td></tr></table>
<a name="Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029"></a>
<h2 class="unnumberedsec">Snap-pizzicato markup (&quot;Bartok pizzicato&quot;)</h2>


<p>A snap-pizzicato (also known as &quot;Bartok pizzicato&quot;) is a &quot;strong
pizzicato where the string is plucked vertically by snapping and
rebounds off the fingerboard of the instrument&quot; (Wikipedia). It is
denoted by a cicle with a vertical line going from the center upwards
outside the circle. While Lilypond does not have a pre-defined command
to created this markup, it is easy to create a definition and place it
directly into the lilypond file. 
</p>

<pre class="verbatim">#(define-markup-command (snappizz layout props) ()
  (interpret-markup layout props
    (markup #:stencil
      (ly:stencil-translate-axis
        (ly:stencil-add
          (make-circle-stencil 0.7 0.1 #f)
          (ly:make-stencil
            (list 'draw-line 0.1 0 0.1 0 1)
            '(-0.1 . 0.1) '(0.1 . 1)))
        0.7 X))))

snapPizzicato = \markup \snappizz

% now it can be used as \snappizzicato after the note/chord
% Note that a direction (-, ^ or _) is required.
\relative c' {
  c4^\snapPizzicato
  % This does NOT work:
  %&lt;c e g&gt;\snapPizzicato
  &lt;c' e g&gt;-\snapPizzicato
  &lt;c' e g&gt;^\snapPizzicato
  &lt;c, e g&gt;_\snapPizzicato
}

</pre><p>
 <a href="bb/lily-fe11abf5.ly">
  <img align="middle"
       border="0"
       src="bb/lily-fe11abf5.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-double-slurs-for-legato-chords.ly"></a>
<hr size="6">
<a name="Using-double-slurs-for-legato-chords"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Snap-pizzicato markup (&quot;Bartok pizzicato&quot;)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertical-line-as-a-baroque-articulation-mark" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vertical line as a baroque articulation mark &gt; </a>]</td></tr></table>
<a name="Using-double-slurs-for-legato-chords"></a>
<h2 class="unnumberedsec">Using double slurs for legato chords</h2>


<p>Some composers write two slurs when they want legato chords.  This can
be achieved by setting <code>doubleSlurs</code>. 
</p>

<pre class="verbatim">\relative c' {
  \set doubleSlurs = ##t
  &lt;c e&gt;4( &lt;d f&gt; &lt;c e&gt; &lt;d f&gt;)
}

</pre><p>
 <a href="b2/lily-b11cde08.ly">
  <img align="middle"
       border="0"
       src="b2/lily-b11cde08.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertical-line-as-a-baroque-articulation-mark.ly"></a>
<hr size="6">
<a name="Vertical-line-as-a-baroque-articulation-mark"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-double-slurs-for-legato-chords" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using double slurs for legato chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertically-aligning-dynamics-across-multiple-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vertically aligning dynamics across multiple notes &gt; </a>]</td></tr></table>
<a name="Vertical-line-as-a-baroque-articulation-mark"></a>
<h2 class="unnumberedsec">Vertical line as a baroque articulation mark</h2>


<p>This short vertical line placed above the note is commonly used in
baroque music.  Its meaning can vary, but generally indicates notes
that should be played with more &quot;weight&quot;.  The following example
demonstrates how to achieve such a notation.
</p>

<pre class="verbatim">upline =
#(let* ((m (make-music 'ArticulationEvent
                       'articulation-type &quot;stopped&quot;
                       'direction 1)))
   (ly:music-set-property! m 'tweaks
     (acons 'font-size 3
       (acons 'text (markup
                   #:postscript &quot;
                        .15 setlinewidth
                        0 -1 0 1.5 lineto
                        stroke&quot;)
         (acons 'stencil ly:text-interface::print
           (ly:music-property m 'tweaks)))))
   m)


\relative c' {
  a'^\upline a( c a)
}
</pre><p>
 <a href="44/lily-a947e111.ly">
  <img align="middle"
       border="0"
       src="44/lily-a947e111.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligning-dynamics-across-multiple-notes.ly"></a>
<hr size="6">
<a name="Vertically-aligning-dynamics-across-multiple-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Repeats" title="Next chapter">&nbsp;Repeats &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertical-line-as-a-baroque-articulation-mark" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vertical line as a baroque articulation mark&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Expressive-marks" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Expressive marks&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Repeats" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Repeats &gt; </a>]</td></tr></table>
<a name="Vertically-aligning-dynamics-across-multiple-notes"></a>
<h2 class="unnumberedsec">Vertically aligning dynamics across multiple notes</h2>


<p>Dynamics that occur at, begin on, or end on the same note will be
vertically aligned.  To ensure that dynamics are aligned when they do
not occur on the same note, increase the <code>staff-padding</code> property
of the <code>DynamicLineSpanner</code> object. 
</p>

<pre class="verbatim">\relative c' {
  \override DynamicLineSpanner #'staff-padding = #4
  c2\p f\mf
  g2\&lt; b4\&gt; c\!
}

</pre><p>
 <a href="f2/lily-6b288a91.ly">
  <img align="middle"
       border="0"
       src="f2/lily-6b288a91.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Repeats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Expressive-marks" title="Beginning of this chapter or previous chapter"> &lt;&lt; Expressive marks&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertically-aligning-dynamics-across-multiple-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vertically aligning dynamics across multiple notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-volta-brackets-to-additional-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding volta brackets to additional staves &gt; </a>]</td></tr></table>
<a name="Repeats"></a>
<h1 class="unnumbered">Repeats</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Repeats">Repeats</a>.
</p>

<a name="adding-volta-brackets-to-additional-staves.ly"></a>
<hr size="6">
<a name="Adding-volta-brackets-to-additional-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Repeats" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-volta-brackets-to-additional-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Adding-volta-brackets-to-additional-staves"></a>
<h2 class="unnumberedsec">Adding volta brackets to additional staves</h2>


<p>The <code>Volta_engraver</code> by default resides in the <code>Score</code>
context, and brackets for the repeat are thus normally only printed
over the topmost staff. This can be adjusted by adding the
<code>Volta_engraver</code> to the <code>Staff</code> context where the brackets
should appear; see also the &quot;Volta multi staff&quot; snippet.
</p>

<pre class="verbatim">&lt;&lt;
  \new Staff { \repeat volta 2 { c'1 } \alternative { c' } }
  \new Staff { \repeat volta 2 { c'1 } \alternative { c' } }
  \new Staff \with { \consists &quot;Volta_engraver&quot; } { c'2 g' e' a' }
  \new Staff { \repeat volta 2 { c'1 } \alternative { c' } }
&gt;&gt;

</pre><p>
 <a href="25/lily-4b93a8ac.ly">
  <img align="middle"
       border="0"
       src="25/lily-4b93a8ac.png"
       alt="[image of music]">
 </a>
</p>




<a name="engraving-tremolos-with-floating-beams.ly"></a>
<hr size="6">
<a name="Adding-volta-brackets-to-additional-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-volta-brackets-to-additional-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding volta brackets to additional staves&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Isolated-percent-repeats" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Isolated percent repeats &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Engraving tremolos with floating beams</h2>


<p>If a tremolo&rsquo;s total duration is less than a quarter-note, or exactly a
half-note, or between a half-note and a whole-note, it is normally
typeset with all beams touching the stems.  Certain engraving styles
typeset some of these beams as centered floating beams that do not
touch the stems.  The number of floating beams in this type of tremolo
is controlled with the <code>'gap-count </code> property of the <code>Beam</code>
object, and the size of the gaps between beams and stems is set with
the <code>'gap</code> property.
</p>



<pre class="verbatim">\relative c'' {
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #1
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #2
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap-count = #3
  \repeat tremolo 8 { a32 f }

  \override Beam #'gap-count = #3
  \override Beam #'gap = #1.33
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #1
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #0.67
  \repeat tremolo 8 { a32 f }
  \override Beam #'gap = #0.33
  \repeat tremolo 8 { a32 f }
}




</pre><p>
 <a href="97/lily-ec24eea4.ly">
  <img align="middle"
       border="0"
       src="97/lily-ec24eea4.png"
       alt="[image of music]">
 </a>
</p>




<a name="isolated-percent-repeats.ly"></a>
<hr size="6">
<a name="Isolated-percent-repeats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-volta-brackets-to-additional-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Measure-counter" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Measure counter &gt; </a>]</td></tr></table>
<a name="Isolated-percent-repeats"></a>
<h2 class="unnumberedsec">Isolated percent repeats</h2>


<p>Isolated percents can also be printed.  This is done by entering a
multi-measure rest with a different print function:
</p>

<pre class="verbatim">\relative c'' {
  \override MultiMeasureRest #'stencil
    = #ly:multi-measure-rest::percent
  \override MultiMeasureRest #'thickness = #0.48
  R1
}

</pre><p>
 <a href="8f/lily-fbd5ce38.ly">
  <img align="middle"
       border="0"
       src="8f/lily-fbd5ce38.png"
       alt="[image of music]">
 </a>
</p>




<a name="measure-counter.ly"></a>
<hr size="6">
<a name="Measure-counter"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Isolated-percent-repeats" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Isolated percent repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percent-repeat-count-visibility" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Percent repeat count visibility &gt; </a>]</td></tr></table>
<a name="Measure-counter"></a>
<h2 class="unnumberedsec">Measure counter</h2>


<p>This snippet provides a workaround for emitting measure counters using
transparent percent repeats. 
</p>

<pre class="verbatim">&lt;&lt;
  \context Voice = &quot;foo&quot; {
    \clef bass
    c4 r g r
    c4 r g r
    c4 r g r
    c4 r g r
  }
  \context Voice = &quot;foo&quot; {
    \set countPercentRepeats = ##t
    \override PercentRepeat #'transparent = ##t
    \override PercentRepeatCounter #'staff-padding = #1
    \repeat percent 4 { s1 }
  }
&gt;&gt;

</pre><p>
 <a href="6d/lily-d87bdf53.ly">
  <img align="middle"
       border="0"
       src="6d/lily-d87bdf53.png"
       alt="[image of music]">
 </a>
</p>




<a name="percent-repeat-count-visibility.ly"></a>
<hr size="6">
<a name="Percent-repeat-count-visibility"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Measure-counter" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Measure counter&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percent-repeat-counter" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Percent repeat counter &gt; </a>]</td></tr></table>
<a name="Percent-repeat-count-visibility"></a>
<h2 class="unnumberedsec">Percent repeat count visibility</h2>


<p>Percent repeat counters can be shown at regular intervals by setting
the context property <code>repeatCountVisibility</code>.
</p>

<pre class="verbatim">\relative c'' {
  \set countPercentRepeats = ##t
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 5)
  \repeat percent 10 { c1 } \break
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 2)
  \repeat percent 6 { c1 d1 }
}
</pre><p>
 <a href="bf/lily-f3b62c0d.ly">
  <img align="middle"
       border="0"
       src="bf/lily-f3b62c0d.png"
       alt="[image of music]">
 </a>
</p>




<a name="percent-repeat-counter.ly"></a>
<hr size="6">
<a name="Percent-repeat-counter"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percent-repeat-count-visibility" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Percent repeat count visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-segno-and-coda-_0028with-line-break_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Positioning segno and coda (with line break) &gt; </a>]</td></tr></table>
<a name="Percent-repeat-counter"></a>
<h2 class="unnumberedsec">Percent repeat counter</h2>


<p>Measure repeats of more than two repeats can get a counter when the
convenient property is switched, as shown in this example:
</p>

<pre class="verbatim">\relative c'' {
  \set countPercentRepeats = ##t
  \repeat percent 4 { c1 }
}

</pre><p>
 <a href="e2/lily-e35a4e90.ly">
  <img align="middle"
       border="0"
       src="e2/lily-e35a4e90.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-segno-and-coda-with-line-break.ly"></a>
<hr size="6">
<a name="Positioning-segno-and-coda-_0028with-line-break_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percent-repeat-counter" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Percent repeat counter&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-a-repeat-sign-at-the-beginning-of-a-piece" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing a repeat sign at the beginning of a piece &gt; </a>]</td></tr></table>
<a name="Positioning-segno-and-coda-_0028with-line-break_0029"></a>
<h2 class="unnumberedsec">Positioning segno and coda (with line break)</h2>


<p>If you want to place an exiting segno sign and add text like &quot;D.S. al
Coda&quot; next to it where usually the staff lines are you can use this
snippet. The coda will resume in a new line. There is a variation
documented in this snippet, where the coda will remain on the same
line.
</p>

<pre class="verbatim">{ 
  \clef treble
  \key g \major
  \time 4/4
  \relative c'' {
    \repeat unfold 2 {
      | c4 c c c
    }
    
    % Set segno sign as rehearsal mark and adjust size if needed
    % \once \override Score.RehearsalMark #'font-size = #3
    \mark \markup { \musicglyph #&quot;scripts.segno&quot; }
    \repeat unfold 2 {
      | c4 c c c
    }
    
    % Set coda sign as rehearsal mark and adjust size if needed
    \once \override Score.RehearsalMark #'font-size = #4
    \mark \markup { \musicglyph #&quot;scripts.coda&quot; }
    \repeat unfold 2 {
      | c4 c c c
    }
    
    % Should Coda be on anew line?
    % Coda NOT on new line: use \nobreak
    % Coda on new line: DON'T use \nobreak
    % \noBreak
    
    \bar &quot;||&quot;
    
    % Set segno sign as rehearsal mark and adjust size if needed
    \once \override Score.RehearsalMark #'break-visibility = #begin-of-line-invisible
    % \once \override Score.RehearsalMark #'font-size = #3
    \mark \markup { \musicglyph #&quot;scripts.segno&quot; }
    
    % Here begins the trickery! 
    % \cadenzaOn will suppress the bar count and \stopStaff removes the staff lines.
    \cadenzaOn 
      \stopStaff 
        % Some examples of possible text-displays 
        
        % text line-aligned
        % ==================
        % Move text to the desired position
        % \once \override TextScript #'extra-offset = #'( 2 . -3.5 )
        % | s1*0^\markup { D.S. al Coda } }
        
        % text center-aligned
        % ====================
        % Move text to the desired position
        % \once \override TextScript #'extra-offset = #'( 6 . -5.0 )
        % | s1*0^\markup { \center-column { D.S. &quot;al Coda&quot; } }
        
        % text and symbols center-aligned
        % ===============================
        % Move text to the desired position and tweak spacing for optimum text alignment
        %\once \override TextScript #'extra-offset = #'( 8 . -5.5 )
        \once \override TextScript #'word-space = #1.5
        \once \override TextScript #'X-offset = #8
        \once \override TextScript #'Y-offset = #1.5
        | s1*0^\markup { \center-column { &quot;D.S. al Coda&quot; \line { \musicglyph #&quot;scripts.coda&quot; \musicglyph #&quot;scripts.tenuto&quot; \musicglyph #&quot;scripts.coda&quot;} } }
        
        % Increasing the unfold counter will expand the staff-free space
        \repeat unfold 4 {
          s4 s4 s4 s4
          \bar &quot;&quot;
        }
        % Resume bar count and show staff lines again
     \startStaff
   \cadenzaOff
   
   % Should Coda be on new line?
   % Coda NOT on new line: DON'T use \break
   % Coda on new line: use \break
   \break 
   
   % Show up, you clef and key!
   \once \override Staff.KeySignature #'break-visibility = #end-of-line-invisible
   \once \override Staff.Clef #'break-visibility = #end-of-line-invisible

   % Set coda sign as rehearsal mark and adjust size and position
   
   % Put the coda sign ontop of the (treble-)clef dependend on coda's line-position
      
     % Coda NOT on new line, use this:
     % \once \override Score.RehearsalMark #'extra-offset = #'( -2 . 1.75 )
     
     % Coda on new line, use this:
     \once \override Score.RehearsalMark #'extra-offset = #'( -8.42 . 1.75 )
   
   \once \override Score.RehearsalMark #'font-size = #5
   \mark \markup { \musicglyph #&quot;scripts.coda&quot; }

   % The coda
   \repeat unfold 5 {
      | c4 c c c
    }
    \bar&quot;|.&quot;
  }
}

</pre><p>
 <a href="96/lily-a9c2c234.ly">
  <img align="middle"
       border="0"
       src="96/lily-a9c2c234.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-a-repeat-sign-at-the-beginning-of-a-piece.ly"></a>
<hr size="6">
<a name="Printing-a-repeat-sign-at-the-beginning-of-a-piece"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-segno-and-coda-_0028with-line-break_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Positioning segno and coda (with line break)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Shortening-volta-brackets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Shortening volta brackets &gt; </a>]</td></tr></table>
<a name="Printing-a-repeat-sign-at-the-beginning-of-a-piece"></a>
<h2 class="unnumberedsec">Printing a repeat sign at the beginning of a piece</h2>


<p>A <code>|:</code> bar line can be printed at the beginning of a piece, by
overriding the relevant property:
</p>

<pre class="verbatim">\relative c'' {
  \once \override Score.BreakAlignment #'break-align-orders =
        #(make-vector 3 '(instrument-name
                          left-edge
                          ambitus
                          span-bar
                          breathing-sign
                          clef
                          key-signature
                          time-signature
                          staff-bar
                          custos
                          span-bar))
  \bar &quot;|:&quot;
  c1
  d1
  d4 e f g
}

</pre><p>
 <a href="a7/lily-e2d43206.ly">
  <img align="middle"
       border="0"
       src="a7/lily-e2d43206.png"
       alt="[image of music]">
 </a>
</p>




<a name="shortening-volta-brackets.ly"></a>
<hr size="6">
<a name="Shortening-volta-brackets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-a-repeat-sign-at-the-beginning-of-a-piece" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing a repeat sign at the beginning of a piece&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Volta-below-chords" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Volta below chords &gt; </a>]</td></tr></table>
<a name="Shortening-volta-brackets"></a>
<h2 class="unnumberedsec">Shortening volta brackets</h2>


<p>By default, the volta brackets will be drawn over all of the
alternative music, but it is possible to shorten them by setting
<code>voltaSpannerDuration</code>.  In the next example, the bracket only
lasts one measure, which is a duration of 3/4. 
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  c4 c c
  \set Score.voltaSpannerDuration = #(ly:make-moment 3 4)
  \repeat volta 5 { d4 d d }
  \alternative {
    {
      e4 e e
      f4 f f
    }
    { g4 g g }
  }
}

</pre><p>
 <a href="0e/lily-ce598c50.ly">
  <img align="middle"
       border="0"
       src="0e/lily-ce598c50.png"
       alt="[image of music]">
 </a>
</p>




<a name="volta-below-chords.ly"></a>
<hr size="6">
<a name="Volta-below-chords"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Shortening-volta-brackets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Shortening volta brackets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Volta-multi-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Volta multi staff &gt; </a>]</td></tr></table>
<a name="Volta-below-chords"></a>
<h2 class="unnumberedsec">Volta below chords</h2>


<p>By adding the <code>Volta_engraver</code> to the relevant staff, volte can be
put under chords.
</p>

<pre class="verbatim">\score {
  &lt;&lt;
    \chords {
      c1
      c1
    }
    \new Staff \with {
      \consists &quot;Volta_engraver&quot;
    }
    {
      \repeat volta 2 { c'1 }
      \alternative { c' }
    }
  &gt;&gt;
  \layout {
    \context {
      \Score
      \remove &quot;Volta_engraver&quot;
    }
  }
}
</pre><p>
 <a href="ea/lily-e9f422dd.ly">
  <img align="middle"
       border="0"
       src="ea/lily-e9f422dd.png"
       alt="[image of music]">
 </a>
</p>




<a name="volta-multi-staff.ly"></a>
<hr size="6">
<a name="Volta-multi-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Volta-below-chords" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Volta below chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Volta-text-markup-using-repeatCommands" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Volta text markup using repeatCommands &gt; </a>]</td></tr></table>
<a name="Volta-multi-staff"></a>
<h2 class="unnumberedsec">Volta multi staff</h2>


<p>By adding the <code>Volta_engraver</code> to the relevant staff, volte can be
put over staves other than the topmost one in a score.
</p>

<pre class="verbatim">voltaMusic = \relative c'' {
  \repeat volta 2 {
    c1
  }
  \alternative {
    d1
    e
  }
}

&lt;&lt;
  \new StaffGroup &lt;&lt;
    \new Staff \voltaMusic
    \new Staff \voltaMusic
  &gt;&gt;
  \new StaffGroup &lt;&lt;
    \new Staff \with { \consists &quot;Volta_engraver&quot; }
      \voltaMusic
    \new Staff \voltaMusic
  &gt;&gt;
&gt;&gt;
</pre><p>
 <a href="ab/lily-444c1eb1.ly">
  <img align="middle"
       border="0"
       src="ab/lily-444c1eb1.png"
       alt="[image of music]">
 </a>
</p>




<a name="volta-text-markup-using-repeatcommands.ly"></a>
<hr size="6">
<a name="Volta-text-markup-using-repeatCommands"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Simultaneous-notes" title="Next chapter">&nbsp;Simultaneous notes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Volta-multi-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Volta multi staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Repeats" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Repeats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Simultaneous-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Simultaneous notes &gt; </a>]</td></tr></table>
<a name="Volta-text-markup-using-repeatCommands"></a>
<h2 class="unnumberedsec">Volta text markup using repeatCommands</h2>


<p>Though volte are best specified using <code>\repeat volta</code>, the
context property <code>repeatCommands</code> must be used in cases where the
volta text needs more advanced formatting with <code>\markup</code>.
</p>
<p>Since <code>repeatCommands</code> takes a list, the simplest method of
including markup is to use an identifier for the text and embed it in
the command list using the Scheme syntax <code>#(list (list 'volta
textIdentifier))</code>. Start- and end-repeat commands can be added as
separate list elements: 
</p>

<pre class="verbatim">voltaAdLib = \markup { 1. 2. 3... \text \italic { ad lib. } }

\relative c'' {
  c1
  \set Score.repeatCommands = #(list (list 'volta voltaAdLib) 'start-repeat)
  c4 b d e
  \set Score.repeatCommands = #'((volta #f) (volta &quot;4.&quot;) end-repeat)
  f1
  \set Score.repeatCommands = #'((volta #f))
}
</pre><p>
 <a href="be/lily-3c93e1a8.ly">
  <img align="middle"
       border="0"
       src="be/lily-3c93e1a8.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Simultaneous-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Repeats" title="Beginning of this chapter or previous chapter"> &lt;&lt; Repeats&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Volta-text-markup-using-repeatCommands" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Volta text markup using repeatCommands&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Additional-voices-to-avoid-collisions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Additional voices to avoid collisions &gt; </a>]</td></tr></table>
<a name="Simultaneous-notes"></a>
<h1 class="unnumbered">Simultaneous notes</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Simultaneous-notes">Simultaneous notes</a>.
</p>

<a name="additional-voices-to-avoid-collisions.ly"></a>
<hr size="6">
<a name="Additional-voices-to-avoid-collisions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Simultaneous-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-a-single-note_0027s-size-in-a-chord" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing a single note's size in a chord &gt; </a>]</td></tr></table>
<a name="Additional-voices-to-avoid-collisions"></a>
<h2 class="unnumberedsec">Additional voices to avoid collisions</h2>


<p>In some instances of complex polyphonic music, additional voices are
necessary to prevent collisions between notes.  If more than four
parallel voices are needed, additional voices can be added by defining
a variable using the Scheme function <code>context-spec-music</code>.
</p>

<pre class="verbatim">voiceFive = #(context-spec-music (make-voice-props-set 4) 'Voice)
\relative c'' {
  \time 3/4 \key d \minor \partial 2
  &lt;&lt;
    { \voiceOne
      a4. a8
      e'4 e4. e8
      f4 d4. c8
    } \\ {
      \voiceThree
      f,2
      bes4 a2
      a4 s2
    } \\ {
      \voiceFive
      s2
      g4 g2
      f4 f2
    } \\ {
      \voiceTwo
      d2
      d4 cis2
      d4 bes2
    }
  &gt;&gt;
}

</pre><p>
 <a href="a6/lily-c76507f8.ly">
  <img align="middle"
       border="0"
       src="a6/lily-c76507f8.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-a-single-notes-size-in-a-chord.ly"></a>
<hr size="6">
<a name="Changing-a-single-note_0027s-size-in-a-chord"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Additional-voices-to-avoid-collisions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Additional voices to avoid collisions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-partcombine-texts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing partcombine texts &gt; </a>]</td></tr></table>
<a name="Changing-a-single-note_0027s-size-in-a-chord"></a>
<h2 class="unnumberedsec">Changing a single note&rsquo;s size in a chord</h2>


<p>Individual note heads in a chord can be modified with the
<code>\tweak</code> command inside a chord, by altering the <code>font-size</code>
property.
</p>

<p>Inside the chord (within the brackets <code>&lt; &gt;</code>), before the note to
be altered, place the <code>\tweak</code> command, followed by
<code>#'font-size</code> and define the proper size like <code>#-2</code> (a tiny
notehead).
</p>



<pre class="verbatim">\relative {
  &lt;\tweak #'font-size #+2 c e g c \tweak #'font-size #-2 e&gt;1^\markup { A tiny e }_\markup { A big c }
}

</pre><p>
 <a href="38/lily-725be418.ly">
  <img align="middle"
       border="0"
       src="38/lily-725be418.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-partcombine-texts.ly"></a>
<hr size="6">
<a name="Changing-partcombine-texts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-a-single-note_0027s-size-in-a-chord" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing a single note's size in a chord&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Clusters" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Clusters &gt; </a>]</td></tr></table>
<a name="Changing-partcombine-texts"></a>
<h2 class="unnumberedsec">Changing partcombine texts</h2>


<p>When using the automatic part combining feature, the printed text for
the solo and unison sections may be changed:
</p>

<pre class="verbatim">\new Staff &lt;&lt;
  \set Staff.soloText = #&quot;girl&quot;
  \set Staff.soloIIText = #&quot;boy&quot;
  \set Staff.aDueText = #&quot;together&quot;
  \partcombine
    \relative c'' {
      g4 g r r
      a2 g
    }
    \relative c'' {
      r4 r a( b)
      a2 g
    }
&gt;&gt;

</pre><p>
 <a href="c4/lily-23ff6ab2.ly">
  <img align="middle"
       border="0"
       src="c4/lily-23ff6ab2.png"
       alt="[image of music]">
 </a>
</p>




<a name="clusters.ly"></a>
<hr size="6">
<a name="Clusters"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-partcombine-texts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing partcombine texts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Combining-two-parts-on-the-same-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Combining two parts on the same staff &gt; </a>]</td></tr></table>
<a name="Clusters"></a>
<h2 class="unnumberedsec">Clusters</h2>


<p>Clusters are a device to denote that a complete range of notes is to be
played.
</p>

<pre class="verbatim">fragment = \relative c' {
  c4 f &lt;e d'&gt;4
  &lt;g a&gt;8 &lt;e a&gt; a4 c2 &lt;d b&gt;4
  e2 c
}

&lt;&lt;
  \new Staff \fragment
  \new Staff \makeClusters \fragment
&gt;&gt;

</pre><p>
 <a href="3a/lily-c2b6b9c6.ly">
  <img align="middle"
       border="0"
       src="3a/lily-c2b6b9c6.png"
       alt="[image of music]">
 </a>
</p>




<a name="combining-two-parts-on-the-same-staff.ly"></a>
<hr size="6">
<a name="Combining-two-parts-on-the-same-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Clusters" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Clusters&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Displaying-complex-chords" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Displaying complex chords &gt; </a>]</td></tr></table>
<a name="Combining-two-parts-on-the-same-staff"></a>
<h2 class="unnumberedsec">Combining two parts on the same staff</h2>


<p>The part combiner tool ( <code>\partcombine</code> command ) allows the
combination of several different parts on the same staff.  Text
directions such as &quot;solo&quot; or &quot;a2&quot; are added by default; to remove
them, simply set the property <code>printPartCombineTexts</code> to
&quot;false&quot;. For vocal scores (hymns), there is no need to add
&quot;solo&quot;/&quot;a2&quot; texts, so they should be switched off.  However, it
might be better not to use it if there are any solos, as they won&rsquo;t be
indicated.  In such cases, standard polyphonic notation may be
preferable.
</p>
<p>This snippet presents the three ways two parts can be printed on a same
staff: standard polyphony, <code>\partcombine</code> without texts, and
<code>\partcombine</code> with texts.
</p>




<pre class="verbatim">musicUp = \relative c'' {
  \time 4/4
  a4 c4.( g8) a4 |
  g4 e' g,( a8 b) |
  c b a2.
}

musicDown = \relative c'' {
  g4 e4.( d8) c4 |
  r2 g'4( f8 e) |
  d2 \stemDown a
}

\score {
  &lt;&lt;
    &lt;&lt;
    \new Staff {
      \set Staff.instrumentName = &quot;Standard polyphony  &quot;
      &lt;&lt; \musicUp \\ \musicDown &gt;&gt;
    }
    \new Staff \with { printPartCombineTexts = ##f } {
      \set Staff.instrumentName = &quot;PartCombine without texts  &quot;
      \partcombine \musicUp \musicDown
    }
    \new Staff {
      \set Staff.instrumentName = &quot;PartCombine with texts  &quot;
      \partcombine \musicUp \musicDown
    }
    &gt;&gt;
  &gt;&gt;
  \layout {
    indent = 6.0\cm
    \context {
      \Score
      \override SystemStartBar #'collapse-height = #30
    }
  }
}

</pre><p>
 <a href="18/lily-eda6a95e.ly">
  <img align="middle"
       border="0"
       src="18/lily-eda6a95e.png"
       alt="[image of music]">
 </a>
</p>




<a name="displaying-complex-chords.ly"></a>
<hr size="6">
<a name="Displaying-complex-chords"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Combining-two-parts-on-the-same-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Combining two parts on the same staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Displaying-complex-chords" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Displaying-complex-chords"></a>
<h2 class="unnumberedsec">Displaying complex chords</h2>


<p>Here is a way to display a chord where the same note is played twice
with different accidentals.
</p>

<pre class="verbatim">fixA = {
  \once \override Stem #'length = #9
  \once \override Accidental #'extra-offset = #'(0.3 . 0)
}
fixB = {
  \once \override NoteHead #'extra-offset = #'(1.7 . 0)
  \once \override Stem #'rotation = #'(45 0 0)
  \once \override Stem #'extra-offset = #'(-0.2 . -0.2)
  \once \override Stem #'flag-style = #'no-flag
  \once \override Accidental #'extra-offset = #'(3.1 . 0)
}

\relative c' {
  &lt;&lt; { \fixA &lt;b d!&gt;8 } \\ { \voiceThree \fixB dis } &gt;&gt; s
}

</pre><p>
 <a href="e9/lily-f6e42afa.ly">
  <img align="middle"
       border="0"
       src="e9/lily-f6e42afa.png"
       alt="[image of music]">
 </a>
</p>




<a name="double-glissando.ly"></a>
<hr size="6">
<a name="Displaying-complex-chords"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Displaying-complex-chords" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Displaying complex chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Forcing-horizontal-shift-of-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Forcing horizontal shift of notes &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Double glissando</h2>


<p>To connect chords with glissando lines, attach a second glissando to a
hidden voice.
</p>

<pre class="verbatim">\relative c {
  \clef bass
  &lt;&lt;
    {
      % new voice ( = \voiceOne), hidden
      \hideNotes
      % attach glissando to note heads
      e2\glissando g
    }
    \\
    { 
      % original voice with chords rearranged so that
      % glissando is attached to a &amp; c
      &lt;e a,&gt;2\glissando &lt;g c,&gt;
    }
  &gt;&gt;
}

</pre><p>
 <a href="c0/lily-a0513eba.ly">
  <img align="middle"
       border="0"
       src="c0/lily-a0513eba.png"
       alt="[image of music]">
 </a>
</p>




<a name="forcing-horizontal-shift-of-notes.ly"></a>
<hr size="6">
<a name="Forcing-horizontal-shift-of-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Displaying-complex-chords" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Forcing-horizontal-shift-of-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Forcing-horizontal-shift-of-notes"></a>
<h2 class="unnumberedsec">Forcing horizontal shift of notes</h2>


<p>When the typesetting engine cannot cope, the following syntax can be
used to override typesetting decisions. The units of measure used here
are staff spaces.
</p>

<pre class="verbatim">\relative c' &lt;&lt;
  {
    &lt;d g&gt;2 &lt;d g&gt;
  }
  \\
  {
    &lt;b f'&gt;2
    \once \override NoteColumn #'force-hshift = #1.7
    &lt;b f'&gt;2
  }
&gt;&gt;

</pre><p>
 <a href="5f/lily-606ba202.ly">
  <img align="middle"
       border="0"
       src="5f/lily-606ba202.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-an-object-invisible-with-the-transparent-property.ly"></a>
<hr size="6">
<a name="Forcing-horizontal-shift-of-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Forcing-horizontal-shift-of-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Forcing horizontal shift of notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Suppressing-warnings-for-clashing-note-columns" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Suppressing warnings for clashing note columns &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Making an object invisible with the &rsquo;transparent property</h2>


<p>Setting the <code>transparent</code> property will cause an object to be
printed in &quot;invisible ink&quot;: the object is not printed, but all its
other behavior is retained.  The object still takes up space, it takes
part in collisions, and slurs, ties and beams can be attached to it.
</p>

<p>This snippet demonstrates how to connect different voices using ties.
Normally, ties only connect two notes in the same voice.  By
introducing a tie in a different voice, and blanking the first up-stem
in that voice, the tie appears to cross voices. 
</p>

<pre class="verbatim">\relative c'' {
  \time 2/4
  &lt;&lt;
    {
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      b8 ~ b\noBeam
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      g8 ~ g\noBeam
    }
    \\
    {
      b8 g g e
    }
  &gt;&gt;
}
</pre><p>
 <a href="0e/lily-a51bcbab.ly">
  <img align="middle"
       border="0"
       src="0e/lily-a51bcbab.png"
       alt="[image of music]">
 </a>
</p>




<a name="suppressing-warnings-for-clashing-note-columns.ly"></a>
<hr size="6">
<a name="Suppressing-warnings-for-clashing-note-columns"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Staff-notation" title="Next chapter">&nbsp;Staff notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Forcing-horizontal-shift-of-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Simultaneous-notes" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Staff-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Staff notation &gt; </a>]</td></tr></table>
<a name="Suppressing-warnings-for-clashing-note-columns"></a>
<h2 class="unnumberedsec">Suppressing warnings for clashing note columns</h2>


<p>If notes from two voices with stems in the same direction are placed at
the same position, and both voices have no shift or the same shift
specified, the error message &quot;warning: ignoring too many clashing note
columns&quot; will appear when compiling the LilyPond file.  This message
can be suppressed by setting the <code>'ignore-collision</code> property of
the <code>NoteColumn</code> object to <code>#t</code>.
</p>

<pre class="verbatim">ignore = \override NoteColumn #'ignore-collision = ##t

\relative c' {
  &lt;&lt;
    \ignore
    { \stemDown f2 g }
    \\
    { c2 c, }
  &gt;&gt;
}
</pre><p>
 <a href="3f/lily-98301536.ly">
  <img align="middle"
       border="0"
       src="3f/lily-98301536.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Staff-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Simultaneous-notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; Simultaneous notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Suppressing-warnings-for-clashing-note-columns" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Suppressing warnings for clashing note columns&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Staff-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Staff-notation"></a>
<h1 class="unnumbered">Staff notation</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Staff-notation">Staff notation</a>.
</p>

<a name="adding-ambitus-per-voice.ly"></a>
<hr size="6">
<a name="Staff-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Staff-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-an-extra-staff-at-a-line-break" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding an extra staff at a line break &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding ambitus per voice</h2>


<p>Ambitus can be added per voice. In this case, the ambitus must be moved
manually to prevent collisions. 
</p>

<pre class="verbatim">\new Staff &lt;&lt;
  \new Voice \with {
    \consists &quot;Ambitus_engraver&quot;
  } \relative c'' {
    \override Ambitus #'X-offset = #2.0
    \voiceOne
    c4 a d e
    f1
  }
  \new Voice \with {
    \consists &quot;Ambitus_engraver&quot;
  } \relative c' {
    \voiceTwo
    es4 f g as
    b1
  }
&gt;&gt;

</pre><p>
 <a href="22/lily-9f6c2419.ly">
  <img align="middle"
       border="0"
       src="22/lily-9f6c2419.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-an-extra-staff-at-a-line-break.ly"></a>
<hr size="6">
<a name="Adding-an-extra-staff-at-a-line-break"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Staff-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-an-extra-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding an extra staff &gt; </a>]</td></tr></table>
<a name="Adding-an-extra-staff-at-a-line-break"></a>
<h2 class="unnumberedsec">Adding an extra staff at a line break</h2>


<p>When adding a new staff at a line break, some extra space is
unfortunately added at the end of the line before the break (to fit in
a key signature change, which  will never be printed anyway).  The
workaround is to add a setting of
<code>Staff.explicitKeySignatureVisibility</code> as is shown in the example.
In versions 2.10 and earlier, a similar setting for the time signatures
is also required (see the example).
</p>



<pre class="verbatim">\score {
  \new StaffGroup \relative c'' {
    \new Staff
    \key f \major
    c1 c^&quot;Unwanted extra space&quot; \break
    &lt;&lt; { c1 | c }
       \new Staff {
         \key f \major
         \once \override Staff.TimeSignature #'stencil = ##f
         c1 | c
       } 
    &gt;&gt;
    c1 | c^&quot;Fixed here&quot; \break
    &lt;&lt; { c1 | c }
       \new Staff {
         \once \set Staff.explicitKeySignatureVisibility = #end-of-line-invisible
         % The next line is not needed in 2.11.x or later:
         \once \override Staff.TimeSignature #'break-visibility = #end-of-line-invisible
         \key f \major
         \once \override Staff.TimeSignature #'stencil = ##f
         c1 | c
       }
    &gt;&gt;
  }
}

</pre><p>
 <a href="c8/lily-8dc5e571.ly">
  <img align="middle"
       border="0"
       src="c8/lily-8dc5e571.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-an-extra-staff.ly"></a>
<hr size="6">
<a name="Adding-an-extra-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-an-extra-staff-at-a-line-break" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding an extra staff at a line break&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-number-of-lines-in-a-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the number of lines in a staff &gt; </a>]</td></tr></table>
<a name="Adding-an-extra-staff"></a>
<h2 class="unnumberedsec">Adding an extra staff</h2>


<p>An extra staff can be added (possibly temporarily) after the start of a
piece.  
</p>

<pre class="verbatim">\score {
  &lt;&lt;
    \new Staff \relative c'' { c1 | c | c | c | c }
    \new StaffGroup \relative c'' {
      \new Staff {
        c1 | c &lt;&lt;
          c1 \new Staff {
            \once \override Staff.TimeSignature #'stencil = ##f
            c1
          }
        &gt;&gt;
        c1
      }
    }
  &gt;&gt;
}

</pre><p>
 <a href="ce/lily-370ca09a.ly">
  <img align="middle"
       border="0"
       src="ce/lily-370ca09a.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-number-of-lines-in-a-staff.ly"></a>
<hr size="6">
<a name="Changing-the-number-of-lines-in-a-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-an-extra-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding an extra staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-staff-size" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the staff size &gt; </a>]</td></tr></table>
<a name="Changing-the-number-of-lines-in-a-staff"></a>
<h2 class="unnumberedsec">Changing the number of lines in a staff</h2>


<p>The number of lines in a staff may changed by overriding the
<code>StaffSymbol</code> property <code>line-count</code>.
</p>




<pre class="verbatim">upper = \relative c'' {
  c4 d e f
}

lower = \relative c {
  \clef bass
  c4 b a g
}

\score {
  \context PianoStaff &lt;&lt;
    \new Staff {
      \upper
    }
    \new Staff {
      \override Staff.StaffSymbol #'line-count = #4 
      \lower
    }
  &gt;&gt;
}

</pre><p>
 <a href="21/lily-e11e67b4.ly">
  <img align="middle"
       border="0"
       src="21/lily-e11e67b4.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-staff-size.ly"></a>
<hr size="6">
<a name="Changing-the-staff-size"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-number-of-lines-in-a-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the number of lines in a staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-tempo-without-a-metronome-mark" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the tempo without a metronome mark &gt; </a>]</td></tr></table>
<a name="Changing-the-staff-size"></a>
<h2 class="unnumberedsec">Changing the staff size</h2>


<p>Though the simplest way to resize staves is to use
<code>#(set-global-staff-size xx)</code>, an individual staff&rsquo;s size can be
changed by scaling the properties <code>'staff-space</code> and
<code>fontSize</code>. 
</p>

<pre class="verbatim">&lt;&lt;
  \new Staff {
    \relative c'' {
      \dynamicDown
      c8\ff c c c c c c c
    }
  }
  \new Staff \with {
    fontSize = #-3
    \override StaffSymbol #'staff-space = #(magstep -3)
  } {
    \clef bass
    c8 c c c c\f c c c
  }
&gt;&gt;

</pre><p>
 <a href="44/lily-448b205b.ly">
  <img align="middle"
       border="0"
       src="44/lily-448b205b.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-tempo-without-a-metronome-mark.ly"></a>
<hr size="6">
<a name="Changing-the-tempo-without-a-metronome-mark"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-staff-size" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the staff size&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-blank-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating blank staves &gt; </a>]</td></tr></table>
<a name="Changing-the-tempo-without-a-metronome-mark"></a>
<h2 class="unnumberedsec">Changing the tempo without a metronome mark</h2>


<p>To change the tempo in MIDI output without printing anything, make the
metronome mark invisible.
</p>

<pre class="verbatim">\score {
  \new Staff \relative c' {
    \tempo 4 = 160
    c4 e g b
    c4 b d c
    \set Score.tempoHideNote = ##t
    \tempo 4 = 96
    d,4 fis a cis
    d4 cis e d
  }
  \layout { }
  \midi { }
}
</pre><p>
 <a href="92/lily-90660573.ly">
  <img align="middle"
       border="0"
       src="92/lily-90660573.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-blank-staves.ly"></a>
<hr size="6">
<a name="Creating-blank-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-tempo-without-a-metronome-mark" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the tempo without a metronome mark&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Creating-metronome-marks-in-markup-mode" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Creating metronome marks in markup mode &gt; </a>]</td></tr></table>
<a name="Creating-blank-staves"></a>
<h2 class="unnumberedsec">Creating blank staves</h2>


<p>To create blank staves, generate empty measures then remove the
<code>Bar_number_engraver</code> from the <code>Score</code> context, and the
<code>Time_signature_engraver</code>, <code>Clef_engraver</code> and
<code>Bar_engraver</code> from the <code>Staff</code> context. 
</p>

<pre class="verbatim">#(set-global-staff-size 20)

\score {
  { 
    \repeat unfold 12 { s1 \break } 
  }
  \layout {
    indent = 0\in
    \context {
      \Staff
      \remove &quot;Time_signature_engraver&quot;
      \remove &quot;Clef_engraver&quot;
      \remove &quot;Bar_engraver&quot;
    }
    \context {
      \Score
      \remove &quot;Bar_number_engraver&quot;
    }
  }
}

\paper {
  #(set-paper-size &quot;letter&quot;)
  ragged-last-bottom = ##f
  line-width = 7.5\in
  left-margin = 0.5\in
  bottom-margin = 0.25\in
  top-margin = 0.25\in
}

</pre><p>
 <a href="d1/lily-160fd34d.ly">
  <img align="middle"
       border="0"
       src="d1/lily-160fd34d.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-metronome-marks-in-markup-mode.ly"></a>
<hr size="6">
<a name="Creating-metronome-marks-in-markup-mode"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-blank-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating blank staves&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Display-bracket-with-only-one-staff-in-a-system" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Display bracket with only one staff in a system &gt; </a>]</td></tr></table>
<a name="Creating-metronome-marks-in-markup-mode"></a>
<h2 class="unnumberedsec">Creating metronome marks in markup mode</h2>


<p>New metronome marks can be created in markup mode, but they will not
change the tempo in MIDI output.
</p>

<pre class="verbatim">\relative c' {
  \tempo \markup {
    \concat {
      (
      \smaller \general-align #Y #DOWN \note #&quot;16.&quot; #1
      &quot; = &quot;
      \smaller \general-align #Y #DOWN \note #&quot;8&quot; #1
      )
    }
  }
  c1
  c4 c' c,2
}
</pre><p>
 <a href="95/lily-831ea2f6.ly">
  <img align="middle"
       border="0"
       src="95/lily-831ea2f6.png"
       alt="[image of music]">
 </a>
</p>




<a name="display-bracket-with-only-one-staff-in-a-system.ly"></a>
<hr size="6">
<a name="Display-bracket-with-only-one-staff-in-a-system"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Creating-metronome-marks-in-markup-mode" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Creating metronome marks in markup mode&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Incipit" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Incipit &gt; </a>]</td></tr></table>
<a name="Display-bracket-with-only-one-staff-in-a-system"></a>
<h2 class="unnumberedsec">Display bracket with only one staff in a system</h2>


<p>If there is only one staff in one of the staff types <code>ChoirStaff</code>
or <code>StaffGroup</code>, the bracket and the starting bar line will not be
displayed as standard behavior.  This can be changed by overriding the
relevant properties.
</p>
<p>Note that in contexts such as <code>PianoStaff</code> and <code>GrandStaff</code>
where the systems begin with a brace instead of a bracket, another
property has to be set, as shown on the second system in the example. 
</p>

<pre class="verbatim">\markup \left-column {
  \score {
    \new StaffGroup &lt;&lt;
      % Must be lower than the actual number of staff lines
      \override StaffGroup.SystemStartBracket #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
  \null
  \score {
    \new PianoStaff &lt;&lt;
      \override PianoStaff.SystemStartBrace #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
}
</pre><p>
 <a href="a2/lily-746c1287.ly">
  <img align="middle"
       border="0"
       src="a2/lily-746c1287.png"
       alt="[image of music]">
 </a>
</p>




<a name="incipit.ly"></a>
<hr size="6">
<a name="Incipit"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Display-bracket-with-only-one-staff-in-a-system" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Display bracket with only one staff in a system&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Inserting-score-fragments-above-a-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Inserting score fragments above a staff &gt; </a>]</td></tr></table>
<a name="Incipit"></a>
<h2 class="unnumberedsec">Incipit</h2>


<p>Incipits can be added using the instrument name grob, but keeping
separate the instrument name definition and the incipit definition.
</p>

<pre class="verbatim">incipit =
#(define-music-function (parser location incipit-music) (ly:music?)
  #{
    \once \override Staff.InstrumentName #'self-alignment-X = #RIGHT
    \once \override Staff.InstrumentName #'self-alignment-Y = #UP
    \once \override Staff.InstrumentName #'Y-offset = #4
    \once \override Staff.InstrumentName #'padding = #0.3
    \once \override Staff.InstrumentName #'stencil =
    #(lambda (grob)
       (let* ((instrument-name (ly:grob-property grob 'long-text))
              (layout (ly:output-def-clone (ly:grob-layout grob)))
              (music (make-music 'SequentialMusic
                      'elements (list (make-music 'ContextSpeccedMusic
                                        'context-type 'MensuralStaff
                                        'element (make-music 'PropertySet
                                                   'symbol 'instrumentName
                                                   'value instrument-name))
                                      $incipit-music)))
              (score (ly:make-score music))
              (mm (ly:output-def-lookup layout 'mm))
              (indent (ly:output-def-lookup layout 'indent))
              (width (ly:output-def-lookup layout 'incipit-width))
              (incipit-width (if (number? width)
                                 (* width mm)
                                 (* indent 0.5))))
         (ly:output-def-set-variable! layout 'indent (- indent incipit-width))
         (ly:output-def-set-variable! layout 'line-width indent)
         (ly:output-def-set-variable! layout 'ragged-right #f)
         (ly:output-def-set-variable! layout 'ragged-last #f)
         (ly:output-def-set-variable! layout 'system-count 1)
         (ly:score-add-output-def! score layout)
         (ly:grob-set-property! grob 'long-text
               (markup #:score score))
         (ly:system-start-text::print grob)))
  #})

%%%%%%%%%%%%%%%%%%%%%%%%%

global = {
  \set Score.skipBars = ##t
  \key g \major
  \time 4/4

  % the actual music
  \skip 1*8

  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f

  % finis bar
  \bar &quot;|.&quot;
}

discantusIncipit = &lt;&lt;
  \new MensuralVoice = &quot;discantusIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;neomensural-c1&quot;
      \key f \major
      \time 2/2
      c''1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto discantusIncipit { IV- }
&gt;&gt;

discantusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t
    c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusIncipit = &lt;&lt;
  \new MensuralVoice = &quot;altusIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;neomensural-c3&quot;
      \key f \major
      \time 2/2
      r1 f'1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto altusIncipit { IV- }
&gt;&gt;

altusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    % two measures
    r2 g2. e4 fis g |
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t
    g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  % two measures
  Ju -- bi -- la -- te |
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorIncipit = &lt;&lt;
  \new MensuralVoice = &quot;tenorIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;neomensural-c4&quot;
      \key f \major
      \time 2/2
      r\longa
      r\breve
      r1 c'1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto tenorIncipit { IV- }
&gt;&gt;

tenorNotes = {
  \transpose c' c' {
    \once \override Staff.VerticalAxisGroup #'minimum-Y-extent = #'(-6 . 3)
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    % two measures
    r2 d'2. d'4 b e' |
    \once \override NoteHead #'transparent = ##t
    e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  % two measures
  Ju -- bi -- la -- te |
  &quot;...&quot; |
  -us. 
}

bassusIncipit = &lt;&lt;
  \new MensuralVoice = &quot;bassusIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;bass&quot;
      \key f \major
      \time 2/2
      %% incipit
      r\maxima
      f1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto bassusIncipit { IV- }
&gt;&gt;

bassusNotes = {
  \transpose c' c' {
    \clef &quot;bass&quot;
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t
    e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  Ju -- bi- |
  &quot;...&quot; |
  -us.
}

\score {
  &lt;&lt;
    \new StaffGroup = choirStaff &lt;&lt;
      \new Voice = &quot;discantusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Discantus&quot;
        \incipit \discantusIncipit
        \discantusNotes
      &gt;&gt;
      \new Lyrics = &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }
      \new Voice = &quot;altusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Altus&quot;
        \incipit \altusIncipit
        \altusNotes
      &gt;&gt;
      \new Lyrics = &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }
      \new Voice = &quot;tenorNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Tenor&quot;
        \incipit \tenorIncipit
        \tenorNotes
      &gt;&gt;
      \new Lyrics = &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }
      \new Voice = &quot;bassusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Bassus&quot;
        \incipit \bassusIncipit
        \bassusNotes
      &gt;&gt;
      \new Lyrics = &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics }
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context {
      \Score
      %% no bar lines in staves or lyrics
      \override BarLine #'transparent = ##t
    }
    %% the next two instructions keep the lyrics between the bar lines
    \context {
      \Lyrics
      \consists &quot;Bar_engraver&quot;
      \consists &quot;Separating_line_group_engraver&quot;
    }
    \context {
      \Voice
      %% no slurs
      \override Slur #'transparent = ##t
      %% Comment in the below &quot;\remove&quot; command to allow line
      %% breaking also at those bar lines where a note overlaps
      %% into the next measure.  The command is commented out in this
      %% short example score, but especially for large scores, you
      %% will typically yield better line breaking and thus improve
      %% overall spacing if you comment in the following command.
      %%\remove &quot;Forbid_line_break_engraver&quot;
    }
    indent = 6\cm
    incipit-width = 4\cm
  }
}
</pre><p>
 <a href="57/lily-748505f8.ly">
  <img align="middle"
       border="0"
       src="57/lily-748505f8.png"
       alt="[image of music]">
 </a>
</p>




<a name="inserting-score-fragments-above-a-staff,-as-markups.ly"></a>
<hr size="6">
<a name="Inserting-score-fragments-above-a-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Incipit" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Incipit&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Letter-tablature-formatting" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Letter tablature formatting &gt; </a>]</td></tr></table>
<a name="Inserting-score-fragments-above-a-staff"></a>
<h2 class="unnumberedsec">Inserting score fragments above a staff, as markups</h2>


<p>The <code>\markup</code> command is quite versatile.  In this snippet, it
contains a <code>\score</code> block instead of texts or marks.
</p>

<pre class="verbatim">tuning = \markup {
  \score {
    \new Staff \with { \remove &quot;Time_signature_engraver&quot; }
    {
      \clef bass  &lt;c, g, d g&gt;1
    }
    \layout { ragged-right = ##t }
  }
}

\header {
  title = &quot;Solo Cello Suites&quot;
  subtitle = &quot;Suite IV&quot;
  subsubtitle = \markup { Originalstimmung: \general-align #Y #CENTER \tuning }
}

\layout { ragged-right = ##f }

\relative c'' {
  \time 4/8
  \times 2/3 { c8 d e } \times 2/3 { c d e }
  \times 2/3 { c8 d e } \times 2/3 { c d e }
  g8 a g a
  g8 a g a
}

</pre><p>
 <a href="b5/lily-0c674d3d.ly">
  <img align="middle"
       border="0"
       src="b5/lily-0c674d3d.png"
       alt="[image of music]">
 </a>
</p>




<a name="letter-tablature-formatting.ly"></a>
<hr size="6">
<a name="Letter-tablature-formatting"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Inserting-score-fragments-above-a-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Inserting score fragments above a staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Making-some-staff-lines-thicker-than-the-others" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Making some staff lines thicker than the others &gt; </a>]</td></tr></table>
<a name="Letter-tablature-formatting"></a>
<h2 class="unnumberedsec">Letter tablature formatting</h2>


<p>Tablature can be formatted using letters instead of numbers. 
</p>

<pre class="verbatim">#(define (letter-tablature-format str context event)
  (let ((tuning (ly:context-property context 'stringTunings))
        (pitch (ly:event-property event 'pitch)))
    (make-whiteout-markup
     (make-vcenter-markup
      (string (integer-&gt;char
         (+ (char-&gt;integer #\a)
            (- (ly:pitch-semitones pitch)
            (list-ref tuning (- str 1))))))))))

music = \relative c {
  c4 d e f
  g4 a b c
  d4 e f g
}

&lt;&lt;
  \new Staff {
    \clef &quot;G_8&quot;
    \music
  }
  \new TabStaff \with { 
    tablatureFormat = #letter-tablature-format
  }
  {
    \music
  }
&gt;&gt;
</pre><p>
 <a href="ae/lily-508b3ed8.ly">
  <img align="middle"
       border="0"
       src="ae/lily-508b3ed8.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-some-staff-lines-thicker-than-the-others.ly"></a>
<hr size="6">
<a name="Making-some-staff-lines-thicker-than-the-others"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Letter-tablature-formatting" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Letter tablature formatting&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Making-some-staff-lines-thicker-than-the-others" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Making-some-staff-lines-thicker-than-the-others"></a>
<h2 class="unnumberedsec">Making some staff lines thicker than the others</h2>


<p>For pedagogical purposes, a staff line can be thickened (e.g., the
middle line, or to emphasize the line of the G clef).  This can be
achieved by adding extra lines very close to the line that should be
emphasized, using the <code>line-positions</code> property of the
<code>StaffSymbol</code> object. 
</p>

<pre class="verbatim">{
  \override Staff.StaffSymbol #'line-positions = #'(-4 -2 -0.2 0 0.2 2 4)
  d'4 e' f' g'
}

</pre><p>
 <a href="41/lily-3b553338.ly">
  <img align="middle"
       border="0"
       src="41/lily-3b553338.png"
       alt="[image of music]">
 </a>
</p>




<a name="measure-counter.ly"></a>
<hr size="6">
<a name="Making-some-staff-lines-thicker-than-the-others"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Making-some-staff-lines-thicker-than-the-others" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Making some staff lines thicker than the others&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Mensurstriche-layout-_0028bar-lines-between-the-staves_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Mensurstriche layout (bar lines between the staves) &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Measure counter</h2>


<p>This snippet provides a workaround for emitting measure counters using
transparent percent repeats. 
</p>

<pre class="verbatim">&lt;&lt;
  \context Voice = &quot;foo&quot; {
    \clef bass
    c4 r g r
    c4 r g r
    c4 r g r
    c4 r g r
  }
  \context Voice = &quot;foo&quot; {
    \set countPercentRepeats = ##t
    \override PercentRepeat #'transparent = ##t
    \override PercentRepeatCounter #'staff-padding = #1
    \repeat percent 4 { s1 }
  }
&gt;&gt;

</pre><p>
 <a href="6d/lily-d87bdf53.ly">
  <img align="middle"
       border="0"
       src="6d/lily-d87bdf53.png"
       alt="[image of music]">
 </a>
</p>




<a name="mensurstriche-layout-bar-lines-between-the-staves.ly"></a>
<hr size="6">
<a name="Mensurstriche-layout-_0028bar-lines-between-the-staves_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Making-some-staff-lines-thicker-than-the-others" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Modern-TAB-text-clef" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Modern TAB text clef &gt; </a>]</td></tr></table>
<a name="Mensurstriche-layout-_0028bar-lines-between-the-staves_0029"></a>
<h2 class="unnumberedsec">Mensurstriche layout (bar lines between the staves)</h2>


<p>The mensurstriche-layout where the bar lines do not show on the staves
but between staves can be achieved with a <code>StaffGroup</code> instead of
a <code>ChoirStaff</code>.  The bar line on staves is blanked out by setting
the <code>transparent</code> property.
</p>

<pre class="verbatim">global = {
  \override Staff.BarLine #'transparent = ##t
  s1 s
  % the final bar line is not interrupted
  \revert Staff.BarLine #'transparent
  \bar &quot;|.&quot;
}
\new StaffGroup \relative c'' {
  &lt;&lt;
    \new Staff { &lt;&lt; \global { c1 c } &gt;&gt; }
    \new Staff { &lt;&lt; \global { c c } &gt;&gt; }
  &gt;&gt;
}

</pre><p>
 <a href="2b/lily-269072f3.ly">
  <img align="middle"
       border="0"
       src="2b/lily-269072f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="modern-tab-text-clef.ly"></a>
<hr size="6">
<a name="Modern-TAB-text-clef"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Mensurstriche-layout-_0028bar-lines-between-the-staves_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Mensurstriche layout (bar lines between the staves)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Nesting-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Nesting staves &gt; </a>]</td></tr></table>
<a name="Modern-TAB-text-clef"></a>
<h2 class="unnumberedsec">Modern TAB text clef</h2>


<p>Use a markup text to replace the (TAB) clef glyph with a modern font.
</p>

<pre class="verbatim">TAB = \markup {
  \raise #1.5
  \sans
  \bold
  \huge
  \override #'(baseline-skip . 2.5)
  \left-align
  \center-column {
    T
    A
    B
  }
}

\new TabStaff {
  \override Staff.Clef #'stencil = #(lambda (grob)
    (grob-interpret-markup grob TAB))
  a
}
</pre><p>
 <a href="0d/lily-6ac4c4f9.ly">
  <img align="middle"
       border="0"
       src="0d/lily-6ac4c4f9.png"
       alt="[image of music]">
 </a>
</p>




<a name="nesting-staves.ly"></a>
<hr size="6">
<a name="Nesting-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Modern-TAB-text-clef" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Modern TAB text clef&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Nesting-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Nesting-staves"></a>
<h2 class="unnumberedsec">Nesting staves</h2>


<p>The property <code>systemStartDelimiterHierarchy</code> can be used to make
more complex nested staff groups. The command <code>\set
StaffGroup.systemStartDelimiterHierarchy</code> takes an alphabetical list of
the number of staves produced. Before each staff a system start
delimiter can be given. It has to be enclosed in brackets and takes as
much staves as the brackets enclose. Elements in the list can be
omitted, but the first bracket takes always the complete number of
staves. The possibilities are <code>SystemStartBar</code>,
<code>SystemStartBracket</code>, <code>SystemStartBrace</code>, and
<code>SystemStartSquare</code>.
</p>

<pre class="verbatim">\new StaffGroup
\relative c'' &lt;&lt;
  \set StaffGroup.systemStartDelimiterHierarchy
    = #'(SystemStartSquare (SystemStartBrace (SystemStartBracket a
                             (SystemStartSquare b)  ) c ) d)
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
&gt;&gt;

</pre><p>
 <a href="bb/lily-f30de31d.ly">
  <img align="middle"
       border="0"
       src="bb/lily-f30de31d.png"
       alt="[image of music]">
 </a>
</p>




<a name="non-traditional-key-signatures.ly"></a>
<hr size="6">
<a name="Nesting-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Nesting-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Nesting staves&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Nesting-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Non-traditional key signatures</h2>


<p>The commonly used <code>\key</code> command sets the <code>keySignature</code>
property, in the <code>Staff</code> context.
</p>
<p>To create non-standard key signatures, set this property directly. The
format of this command is a list:
</p>
<p><code> \set Staff.keySignature = #`(((octave . step) . alter) ((octave
. step) . alter) ...) </code> where, for each element in the list,
<code>octave</code> specifies the octave (0 being the octave from middle C to
the B above), <code>step</code> specifies the note within the octave (0 means
C and 6 means B), and <code>alter</code> is <code>,SHARP ,FLAT ,DOUBLE-SHARP</code>
etc. (Note the leading comma.) The accidentals in the key signature
will appear in the reverse order to that in which they are specified.
</p>

<p>Alternatively, for each item in the list, using the more concise format
<code>(step . alter)</code> specifies that the same alteration should hold in
all octaves.
</p>

<p>For microtonal scales where a &quot;sharp&quot; is not 100 cents, <code>alter</code>
refers to the alteration as a proportion of a 200-cent whole tone.
</p>

<p>Here is an example of a possible key signature for generating a
whole-tone scale: 
</p>

<pre class="verbatim">\relative c' {
  \set Staff.keySignature = #`(((0 . 3) . ,SHARP)
                               ((0 . 5) . ,FLAT)
                               ((0 . 6) . ,FLAT))
  c4 d e fis
  aes4 bes c2
}
</pre><p>
 <a href="16/lily-01f358a1.ly">
  <img align="middle"
       border="0"
       src="16/lily-01f358a1.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-metronome-and-rehearsal-marks-below-the-staff.ly"></a>
<hr size="6">
<a name="Nesting-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Nesting-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Nesting-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing metronome and rehearsal marks below the staff</h2>


<p>By default, metronome and rehearsal marks are printed above the staff. 
To place them below the staff simply set the <code>direction</code> property
of <code>MetronomeMark</code> or <code>RehearsalMark</code> appropriately.
</p>

<pre class="verbatim">\layout { ragged-right = ##f }

{
  % Metronome marks below the staff 
  \override Score.MetronomeMark #'direction = #DOWN
  \tempo 8. = 120
  c''1

  % Rehearsal marks below the staff
  \override Score.RehearsalMark #'direction = #DOWN
  \mark \default
  c''1
}

</pre><p>
 <a href="c6/lily-d7c7a792.ly">
  <img align="middle"
       border="0"
       src="c6/lily-d7c7a792.png"
       alt="[image of music]">
 </a>
</p>




<a name="quoting-another-voice-with-transposition.ly"></a>
<hr size="6">
<a name="Nesting-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Nesting-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Quoting-another-voice" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Quoting another voice &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Quoting another voice with transposition</h2>


<p>Quotations take into account the transposition of both source and
target.  In this example, all instruments play sounding middle C; the
target is an instrument in F.  The target part may be transposed using
<code>\transpose</code>.  In this case, all the pitches (including the
quoted ones) are transposed.
</p>

<pre class="verbatim">\addQuote clarinet {
  \transposition bes
  \repeat unfold 8 { d'16 d' d'8 }
}

\addQuote sax {
  \transposition es'
  \repeat unfold 16 { a8 }
}

quoteTest = {
  % french horn
  \transposition f
  g'4
  &lt;&lt; \quoteDuring #&quot;clarinet&quot; { \skip 4 } s4^&quot;clar.&quot; &gt;&gt;
  &lt;&lt; \quoteDuring #&quot;sax&quot; { \skip 4 } s4^&quot;sax.&quot; &gt;&gt;
  g'4
}

{
  \set Staff.instrumentName =
    \markup {
      \center-column { Horn \line { in F } }
    }
  \quoteTest
  \transpose c' d' &lt;&lt; \quoteTest s4_&quot;up a tone&quot; &gt;&gt;
}
</pre><p>
 <a href="57/lily-f73ccb24.ly">
  <img align="middle"
       border="0"
       src="57/lily-f73ccb24.png"
       alt="[image of music]">
 </a>
</p>




<a name="quoting-another-voice.ly"></a>
<hr size="6">
<a name="Quoting-another-voice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Nesting-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Removing-the-first-empty-line" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Removing the first empty line &gt; </a>]</td></tr></table>
<a name="Quoting-another-voice"></a>
<h2 class="unnumberedsec">Quoting another voice</h2>


<p>The <code>quotedEventTypes</code> property determines the music event types
that are quoted.  The default value is <code>(note-event rest-event)</code>,
which means that only notes and rests of the quoted voice appear in the
<code>\quoteDuring</code> expression. In the following example, a 16th rest
is not quoted since <code>rest-event</code> is not in
<code>quotedEventTypes</code>. 
</p>

<pre class="verbatim">quoteMe = \relative c' {
  fis4 r16 a8.-&gt; b4\ff c
}
\addQuote quoteMe \quoteMe

original = \relative c'' {
  c8 d s2
  \once \override NoteColumn #'ignore-collision = ##t
  es8 gis8
}

&lt;&lt;
  \new Staff {
    \set Staff.instrumentName = #&quot;quoteMe&quot;
    \quoteMe
  }
  \new Staff {
    \set Staff.instrumentName = #&quot;orig&quot;
    \original
  }
  \new Staff \relative c'' &lt;&lt;
    \set Staff.instrumentName = #&quot;orig+quote&quot;
    \set Staff.quotedEventTypes =
      #'(note-event articulation-event)
    \original
    \new Voice {
      s4
      \set fontSize = #-4
      \override Stem #'length-fraction = #(magstep -4)
      \quoteDuring #&quot;quoteMe&quot; { \skip 2. }
    }
  &gt;&gt;
&gt;&gt;
</pre><p>
 <a href="24/lily-e136c315.ly">
  <img align="middle"
       border="0"
       src="24/lily-e136c315.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-the-first-empty-line.ly"></a>
<hr size="6">
<a name="Removing-the-first-empty-line"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Quoting-another-voice" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Quoting another voice&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tick-bar-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tick bar lines &gt; </a>]</td></tr></table>
<a name="Removing-the-first-empty-line"></a>
<h2 class="unnumberedsec">Removing the first empty line</h2>


<p>The first empty staff can also be removed from the score by setting the
<code>VerticalAxisGroup</code> property <code>remove-first</code>. This can be done
globally inside the <code>\layout</code> block, or locally inside the
specific staff that should be removed.  In the latter case, you have to
specify the context (<code>Staff</code> applies only to the current staff) in
front of the property.
</p>
<p>The lower staff of the second staff group is not removed, because the
setting applies only to the specific staff inside of which it is
written. 
</p>

<pre class="verbatim">\layout {
  \context { 
    \RemoveEmptyStaffContext 
    % To use the setting globally, uncomment the following line:
    % \override VerticalAxisGroup #'remove-first = ##t
  }
}
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    % To use the setting globally, comment this line,
    % uncomment the line in the \layout block above
    \override Staff.VerticalAxisGroup #'remove-first = ##t
    R1 \break
    R
  }
&gt;&gt;
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    R1 \break
    R
  }
&gt;&gt;

</pre><p>
 <a href="98/lily-a844f544.ly">
  <img align="middle"
       border="0"
       src="98/lily-a844f544.png"
       alt="[image of music]">
 </a>
</p>




<a name="tick-bar-lines.ly"></a>
<hr size="6">
<a name="Tick-bar-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Removing-the-first-empty-line" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Removing the first empty line&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Time-signature-in-parentheses" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Time signature in parentheses &gt; </a>]</td></tr></table>
<a name="Tick-bar-lines"></a>
<h2 class="unnumberedsec">Tick bar lines</h2>


<p>&rsquo;Tick&rsquo; bar lines are often used in music where the bar line is used
only for coordination and is not meant to imply any rhythmic stress.
</p>

<pre class="verbatim">\relative c' {
  \set Score.defaultBarType = #&quot;'&quot;
  c4 d e f
  g4 f e d
  c4 d e f
  g4 f e d
  \bar &quot;|.&quot;
}
</pre><p>
 <a href="34/lily-dc6700c4.ly">
  <img align="middle"
       border="0"
       src="34/lily-dc6700c4.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-in-parentheses.ly"></a>
<hr size="6">
<a name="Time-signature-in-parentheses"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tick-bar-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tick bar lines&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Time-signature-in-parentheses" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Time-signature-in-parentheses"></a>
<h2 class="unnumberedsec">Time signature in parentheses</h2>


<p>The time signature can be enclosed within parentheses.
</p>

<pre class="verbatim">\relative c'' {
  \override Staff.TimeSignature #'stencil = #(lambda (grob)
    (bracketify-stencil (ly:time-signature::print grob) Y 0.1 0.2 0.1))
  \time 2/4
  a4 b8 c
}

</pre><p>
 <a href="b7/lily-d877efef.ly">
  <img align="middle"
       border="0"
       src="b7/lily-d877efef.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-clef-properties.ly"></a>
<hr size="6">
<a name="Time-signature-in-parentheses"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Time-signature-in-parentheses" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Time signature in parentheses&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Use-square-bracket-at-the-start-of-a-staff-group" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Use square bracket at the start of a staff group &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Tweaking clef properties</h2>


<p>The command <code>\clef &quot;treble_8&quot;</code> is equivalent to setting
<code>clefGlyph</code>, <code>clefPosition</code> (which controls the vertical
position of the clef), <code>middleCPosition</code> and
<code>clefOctavation</code>. A clef is printed when any of the properties
except <code>middleCPosition</code> are changed.
</p>

<p>Note that changing the glyph, the position of the clef, or the
octavation does not in itself change the position of subsequent notes
on the staff: the position of middle C must also be specified to do
this. The positional parameters are relative to the staff center line,
positive numbers displacing upwards, counting one for each line and
space. The <code>clefOctavation</code> value would normally be set to 7, -7,
15 or -15, but other values are valid.
</p>

<p>When a clef change takes place at a line break the new clef symbol is
printed at both the end of the previous line and the beginning of the
new line by default. If the warning clef at the end of the previous
line is not required it can be suppressed by setting the <code>Staff</code>
property <code>explicitClefVisibility</code> to the value
<code>end-of-line-invisible</code>. The default behavior can be recovered
with  <code>\unset Staff.explicitClefVisibility</code>.
</p>
<p>The following examples show the possibilities when setting these
properties manually. On the first line, the manual changes preserve the
standard relative positioning of clefs and notes, whereas on the second
line, they do not. 
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

{
  % The default treble clef
  c'1
  % The standard bass clef
  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  \set Staff.middleCPosition = #6
  c'1
  % The baritone clef
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  \set Staff.clefPosition = #4
  \set Staff.middleCPosition = #4
  c'1
  % The standard choral tenor clef
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  \set Staff.clefPosition = #-2
  \set Staff.clefOctavation = #-7
  \set Staff.middleCPosition = #1
  c'1
  % A non-standard clef
  \set Staff.clefPosition = #0
  \set Staff.clefOctavation = #0
  \set Staff.middleCPosition = #-4
  c'1 \break

  % The following clef changes do not preserve
  % the normal relationship between notes and clefs:

  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  c'1
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  c'1
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  c'1
  \set Staff.clefOctavation = #7
  c'1
  \set Staff.clefOctavation = #0
  \set Staff.clefPosition = #0
  c'1
  
  % Return to the normal clef:

  \set Staff.middleCPosition = #0
  c'1
}

</pre><p>
 <a href="0b/lily-b3c92d4b.ly">
  <img align="middle"
       border="0"
       src="0b/lily-b3c92d4b.png"
       alt="[image of music]">
 </a>
</p>




<a name="use-square-bracket-at-the-start-of-a-staff-group.ly"></a>
<hr size="6">
<a name="Use-square-bracket-at-the-start-of-a-staff-group"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Time-signature-in-parentheses" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Use-square-bracket-at-the-start-of-a-staff-group" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Use-square-bracket-at-the-start-of-a-staff-group"></a>
<h2 class="unnumberedsec">Use square bracket at the start of a staff group</h2>


<p>The system start delimiter <code>SystemStartSquare</code> can be used by
setting it explicitly in a <code>StaffGroup</code> or <code>ChoirStaffGroup</code>
context. 
</p>

<pre class="verbatim">\score {
  \new StaffGroup { &lt;&lt; 
  \set StaffGroup.systemStartDelimiter = #'SystemStartSquare
    \new Staff { c'4 d' e' f' }
    \new Staff { c'4 d' e' f' }
  &gt;&gt; }
}

</pre><p>
 <a href="bc/lily-1e783df1.ly">
  <img align="middle"
       border="0"
       src="bc/lily-1e783df1.png"
       alt="[image of music]">
 </a>
</p>




<a name="volta-below-chords.ly"></a>
<hr size="6">
<a name="Use-square-bracket-at-the-start-of-a-staff-group"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Use-square-bracket-at-the-start-of-a-staff-group" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Use square bracket at the start of a staff group&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Use-square-bracket-at-the-start-of-a-staff-group" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Volta below chords</h2>


<p>By adding the <code>Volta_engraver</code> to the relevant staff, volte can be
put under chords.
</p>

<pre class="verbatim">\score {
  &lt;&lt;
    \chords {
      c1
      c1
    }
    \new Staff \with {
      \consists &quot;Volta_engraver&quot;
    }
    {
      \repeat volta 2 { c'1 }
      \alternative { c' }
    }
  &gt;&gt;
  \layout {
    \context {
      \Score
      \remove &quot;Volta_engraver&quot;
    }
  }
}
</pre><p>
 <a href="ea/lily-e9f422dd.ly">
  <img align="middle"
       border="0"
       src="ea/lily-e9f422dd.png"
       alt="[image of music]">
 </a>
</p>




<a name="volta-multi-staff.ly"></a>
<hr size="6">
<a name="Use-square-bracket-at-the-start-of-a-staff-group"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Editorial-annotations" title="Next chapter">&nbsp;Editorial annotations &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Use-square-bracket-at-the-start-of-a-staff-group" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Staff-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Staff notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Editorial-annotations" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Editorial annotations &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Volta multi staff</h2>


<p>By adding the <code>Volta_engraver</code> to the relevant staff, volte can be
put over staves other than the topmost one in a score.
</p>

<pre class="verbatim">voltaMusic = \relative c'' {
  \repeat volta 2 {
    c1
  }
  \alternative {
    d1
    e
  }
}

&lt;&lt;
  \new StaffGroup &lt;&lt;
    \new Staff \voltaMusic
    \new Staff \voltaMusic
  &gt;&gt;
  \new StaffGroup &lt;&lt;
    \new Staff \with { \consists &quot;Volta_engraver&quot; }
      \voltaMusic
    \new Staff \voltaMusic
  &gt;&gt;
&gt;&gt;
</pre><p>
 <a href="ab/lily-444c1eb1.ly">
  <img align="middle"
       border="0"
       src="ab/lily-444c1eb1.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Editorial-annotations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Staff-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Staff notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Use-square-bracket-at-the-start-of-a-staff-group" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-fingerings-to-a-score" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding fingerings to a score &gt; </a>]</td></tr></table>
<a name="Editorial-annotations"></a>
<h1 class="unnumbered">Editorial annotations</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Editorial-annotations">Editorial annotations</a>.
</p>

<a name="adding-fingerings-to-a-score.ly"></a>
<hr size="6">
<a name="Adding-fingerings-to-a-score"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Editorial-annotations" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Allowing-fingerings-to-be-printed-inside-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Allowing fingerings to be printed inside the staff &gt; </a>]</td></tr></table>
<a name="Adding-fingerings-to-a-score"></a>
<h2 class="unnumberedsec">Adding fingerings to a score</h2>


<p>Fingering instructions can be entered using a simple syntax.
</p>

<pre class="verbatim">\relative c'' {
  c4-1 d-2 f-4 e-3
}

</pre><p>
 <a href="12/lily-1ed76b9d.ly">
  <img align="middle"
       border="0"
       src="12/lily-1ed76b9d.png"
       alt="[image of music]">
 </a>
</p>




<a name="allowing-fingerings-to-be-printed-inside-the-staff.ly"></a>
<hr size="6">
<a name="Allowing-fingerings-to-be-printed-inside-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-fingerings-to-a-score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding fingerings to a score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Analysis-brackets-above-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Analysis brackets above the staff &gt; </a>]</td></tr></table>
<a name="Allowing-fingerings-to-be-printed-inside-the-staff"></a>
<h2 class="unnumberedsec">Allowing fingerings to be printed inside the staff</h2>


<p>By default, vertically oriented fingerings are positioned outside the
staff.  However, this behavior can be canceled.
</p>

<pre class="verbatim">\relative c' {
  &lt;c-1 e-2 g-3 b-5&gt;2
  \once \override Fingering #'staff-padding = #'()
  &lt;c-1 e-2 g-3 b-5&gt;2
}

</pre><p>
 <a href="f2/lily-ed399441.ly">
  <img align="middle"
       border="0"
       src="f2/lily-ed399441.png"
       alt="[image of music]">
 </a>
</p>




<a name="analysis-brackets-above-the-staff.ly"></a>
<hr size="6">
<a name="Analysis-brackets-above-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Allowing-fingerings-to-be-printed-inside-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Allowing fingerings to be printed inside the staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Analysis-brackets-above-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Analysis-brackets-above-the-staff"></a>
<h2 class="unnumberedsec">Analysis brackets above the staff</h2>


<p>Simple horizontal analysis brackets are added below the staff by
default. The following example shows a way to place them above the
staff instead.
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    \consists &quot;Horizontal_bracket_engraver&quot;
  }
}
\relative c'' {
  \once \override HorizontalBracket #'direction = #UP
  c2\startGroup
  d2\stopGroup
}

</pre><p>
 <a href="5b/lily-a239b125.ly">
  <img align="middle"
       border="0"
       src="5b/lily-a239b125.png"
       alt="[image of music]">
 </a>
</p>




<a name="applying-note-head-styles-depending-on-the-step-of-the-scale.ly"></a>
<hr size="6">
<a name="Analysis-brackets-above-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Analysis-brackets-above-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Analysis brackets above the staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Analysis-brackets-above-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Applying note head styles depending on the step of the scale</h2>


<p>The <code>shapeNoteStyles</code> property can be used to define various note
head styles for each step of the scale (as set by the key signature or
the &quot;tonic&quot; property). This property requires a set of symbols, which
can be purely arbitrary (geometrical expressions such as
<code>triangle</code>, <code>cross</code>, and <code>xcircle</code> are allowed) or based
on old American engraving tradition (some latin note names are also
allowed).
</p>
<p>That said, to imitate old American song books, there are several
predefined note head styles available through shortcut commands such as
<code>\aikenHeads</code> or <code>\sacredHarpHeads</code>.
</p>
<p>This example shows different ways to obtain shape note heads, and
demonstrates the ability to transpose a melody without losing the
correspondence between harmonic functions and note head styles. 
</p>

<pre class="verbatim">fragment = {
  \key c \major
  c2 d
  e2 f
  g2 a
  b2 c
}

\score {
  \new Staff {
    \transpose c d 
    \relative c' {
      \set shapeNoteStyles = #'#(do re mi fa
                                 #f la ti)
      \fragment
    }

    \break

    \relative c' {
      \set shapeNoteStyles = #'#(cross triangle fa #f
                                 mensural xcircle diamond)
      \fragment
    }
  }
  \layout { ragged-right = ##t }
}

</pre><p>
 <a href="a8/lily-06f2ab7d.ly">
  <img align="middle"
       border="0"
       src="a8/lily-06f2ab7d.png"
       alt="[image of music]">
 </a>
</p>




<a name="avoiding-collisions-with-chord-fingerings.ly"></a>
<hr size="6">
<a name="Analysis-brackets-above-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Analysis-brackets-above-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Blanking staff lines using the \whiteout command &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Avoiding collisions with chord fingerings</h2>


<p>Fingerings and string numbers applied to individual notes will
automatically avoid beams and stems, but this is not true by default
for fingerings and string numbers applied to the individual notes of
chords.  The following example shows how this default behavior can be
overridden.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(up)
  \set stringNumberOrientations = #'(up)
  \set strokeFingerOrientations = #'(up)
  
  % Default behavior
  r8
  &lt;f c'-5&gt;8
  &lt;f c'\5&gt;8
  &lt;f c'-\rightHandFinger #2 &gt;8
  
  % Corrected to avoid collisions
  r8
  \override Fingering #'add-stem-support = ##t
  &lt;f c'-5&gt;8
  \override StringNumber #'add-stem-support = ##t
  &lt;f c'\5&gt;8
  \override StrokeFinger #'add-stem-support = ##t
  &lt;f c'-\rightHandFinger #2 &gt;8
}

</pre><p>
 <a href="01/lily-9528ce63.ly">
  <img align="middle"
       border="0"
       src="01/lily-9528ce63.png"
       alt="[image of music]">
 </a>
</p>




<a name="blanking-staff-lines-using-the--whiteout-command.ly"></a>
<hr size="6">
<a name="Blanking-staff-lines-using-the-_005cwhiteout-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Analysis-brackets-above-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Blanking-staff-lines-using-the-_005cwhiteout-command"></a>
<h2 class="unnumberedsec">Blanking staff lines using the \whiteout command</h2>


<p>The <code>\whiteout</code> command underlays a markup with a white box. 
Since staff lines are in a lower layer than most other grobs, this
white box will not overlap any other grob. 
</p>

<pre class="verbatim">\layout { ragged-right = ##f }
\relative c' {
  \override TextScript #'extra-offset = #'(2 . 4)
  c2-\markup { \whiteout \pad-markup #0.5 &quot;middle C&quot; } c
} 

</pre><p>
 <a href="bb/lily-3735515e.ly">
  <img align="middle"
       border="0"
       src="bb/lily-3735515e.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-a-single-notes-size-in-a-chord.ly"></a>
<hr size="6">
<a name="Blanking-staff-lines-using-the-_005cwhiteout-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Blanking staff lines using the \whiteout command&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing a single note&rsquo;s size in a chord</h2>


<p>Individual note heads in a chord can be modified with the
<code>\tweak</code> command inside a chord, by altering the <code>font-size</code>
property.
</p>

<p>Inside the chord (within the brackets <code>&lt; &gt;</code>), before the note to
be altered, place the <code>\tweak</code> command, followed by
<code>#'font-size</code> and define the proper size like <code>#-2</code> (a tiny
notehead).
</p>



<pre class="verbatim">\relative {
  &lt;\tweak #'font-size #+2 c e g c \tweak #'font-size #-2 e&gt;1^\markup { A tiny e }_\markup { A big c }
}

</pre><p>
 <a href="38/lily-725be418.ly">
  <img align="middle"
       border="0"
       src="38/lily-725be418.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed.ly"></a>
<hr size="6">
<a name="Blanking-staff-lines-using-the-_005cwhiteout-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing the appearance of a slur from solid to dotted or dashed</h2>


<p>The appearance of slurs may be changed from solid to dotted or dashed. 
</p>

<pre class="verbatim">\relative c' {
  c4( d e c)
  \slurDotted
  c4( d e c)
  \slurSolid
  c4( d e c)
  \slurDashed
  c4( d e c)
  \slurSolid
  c4( d e c)
}


</pre><p>
 <a href="be/lily-0a297f52.ly">
  <img align="middle"
       border="0"
       src="be/lily-0a297f52.png"
       alt="[image of music]">
 </a>
</p>




<a name="coloring-notes-depending-on-their-pitch.ly"></a>
<hr size="6">
<a name="Blanking-staff-lines-using-the-_005cwhiteout-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Controlling-the-placement-of-chord-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Controlling the placement of chord fingerings &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Coloring notes depending on their pitch</h2>


<p>It is possible to color note heads depending on their pitch and/or
their names: the function used in this example even makes it possible
to distinguish enharmonics. 
</p>

<pre class="verbatim">%Association list of pitches to colors.
#(define color-mapping
  (list
    (cons (ly:make-pitch 0 0 0) (x11-color 'red))
    (cons (ly:make-pitch 0 0 1/2) (x11-color 'green))
    (cons (ly:make-pitch 0 1 -1/2) (x11-color 'green))
    (cons (ly:make-pitch 0 2 0) (x11-color 'red))
    (cons (ly:make-pitch 0 2 1/2) (x11-color 'green))
    (cons (ly:make-pitch 0 3 -1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 3 0) (x11-color 'green))
    (cons (ly:make-pitch 0 4 1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 5 0) (x11-color 'green))
    (cons (ly:make-pitch 0 5 -1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 6 1/2) (x11-color 'red))
    (cons (ly:make-pitch 0 1 0) (x11-color 'blue))
    (cons (ly:make-pitch 0 3 1/2) (x11-color 'blue))
    (cons (ly:make-pitch 0 4 -1/2) (x11-color 'blue))
    (cons (ly:make-pitch 0 5 1/2) (x11-color 'blue))
    (cons (ly:make-pitch 0 6 -1/2) (x11-color 'blue))))

%Compare pitch and alteration (not octave).
#(define (pitch-equals? p1 p2)
  (and
    (= (ly:pitch-alteration p1) (ly:pitch-alteration p2))
    (= (ly:pitch-notename p1) (ly:pitch-notename p2))))

#(define (pitch-to-color pitch)
  (let ((color (assoc pitch color-mapping pitch-equals?)))
    (if color
      (cdr color))))

#(define (color-notehead grob)
  (pitch-to-color
    (ly:event-property (event-cause grob) 'pitch)))

\score {
  \new Staff \relative c' {
    \override NoteHead #'color = #color-notehead
    c8 b d dis ees f g aes
  }
}
</pre><p>
 <a href="2f/lily-71e98e19.ly">
  <img align="middle"
       border="0"
       src="2f/lily-71e98e19.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-placement-of-chord-fingerings.ly"></a>
<hr size="6">
<a name="Controlling-the-placement-of-chord-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Blanking-staff-lines-using-the-_005cwhiteout-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Controlling-the-placement-of-chord-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Controlling-the-placement-of-chord-fingerings"></a>
<h2 class="unnumberedsec">Controlling the placement of chord fingerings</h2>


<p>The placement of fingering numbers can be controlled precisely.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(left)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down right up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(left)
  &lt;c-1&gt;2
  \set fingeringOrientations = #'(down)
  &lt;e-3&gt;2
}


</pre><p>
 <a href="73/lily-c27be62a.ly">
  <img align="middle"
       border="0"
       src="73/lily-c27be62a.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-a-delayed-turn.ly"></a>
<hr size="6">
<a name="Controlling-the-placement-of-chord-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Controlling-the-placement-of-chord-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Controlling the placement of chord fingerings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Controlling-the-placement-of-chord-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating a delayed turn</h2>


<p>Creating a delayed turn, where the lower note of the turn uses the
accidental, requires several overrides.  The
<code>outside-staff-priority</code> property must be set to <code>#f</code>, as
otherwise this would take precedence over the <code>avoid-slur
property</code>.  The value of <code>halign</code> is used to position the turn
horizontally.
</p>

<pre class="verbatim">\relative c'' {
  \once \override TextScript #'avoid-slur = #'inside
  \once \override TextScript #'outside-staff-priority = ##f
  c2(^\markup \tiny \override #'(baseline-skip . 1) {
    \halign #-4
    \center-column {
      \sharp
      \musicglyph #&quot;scripts.turn&quot;
    }
  }
  d4.) c8
}
</pre><p>
 <a href="6b/lily-e30cfc0b.ly">
  <img align="middle"
       border="0"
       src="6b/lily-e30cfc0b.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-blank-staves.ly"></a>
<hr size="6">
<a name="Controlling-the-placement-of-chord-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Controlling-the-placement-of-chord-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Default-direction-of-stems-on-the-center-line-of-the-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Default direction of stems on the center line of the staff &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating blank staves</h2>


<p>To create blank staves, generate empty measures then remove the
<code>Bar_number_engraver</code> from the <code>Score</code> context, and the
<code>Time_signature_engraver</code>, <code>Clef_engraver</code> and
<code>Bar_engraver</code> from the <code>Staff</code> context. 
</p>

<pre class="verbatim">#(set-global-staff-size 20)

\score {
  { 
    \repeat unfold 12 { s1 \break } 
  }
  \layout {
    indent = 0\in
    \context {
      \Staff
      \remove &quot;Time_signature_engraver&quot;
      \remove &quot;Clef_engraver&quot;
      \remove &quot;Bar_engraver&quot;
    }
    \context {
      \Score
      \remove &quot;Bar_number_engraver&quot;
    }
  }
}

\paper {
  #(set-paper-size &quot;letter&quot;)
  ragged-last-bottom = ##f
  line-width = 7.5\in
  left-margin = 0.5\in
  bottom-margin = 0.25\in
  top-margin = 0.25\in
}

</pre><p>
 <a href="d1/lily-160fd34d.ly">
  <img align="middle"
       border="0"
       src="d1/lily-160fd34d.png"
       alt="[image of music]">
 </a>
</p>




<a name="default-direction-of-stems-on-the-center-line-of-the-staff.ly"></a>
<hr size="6">
<a name="Default-direction-of-stems-on-the-center-line-of-the-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Controlling-the-placement-of-chord-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Drawing-boxes-around-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Drawing boxes around grobs &gt; </a>]</td></tr></table>
<a name="Default-direction-of-stems-on-the-center-line-of-the-staff"></a>
<h2 class="unnumberedsec">Default direction of stems on the center line of the staff</h2>


<p>The default direction of stems on the center line of the staff is set
by the <code>Stem</code> property <code>neutral-direction</code>.
</p>

<pre class="verbatim">\relative c'' {
  a4 b c b
  \override Stem #'neutral-direction = #up
  a4 b c b
  \override Stem #'neutral-direction = #down
  a4 b c b
}

</pre><p>
 <a href="ba/lily-f469e120.ly">
  <img align="middle"
       border="0"
       src="ba/lily-f469e120.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-boxes-around-grobs.ly"></a>
<hr size="6">
<a name="Drawing-boxes-around-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Default-direction-of-stems-on-the-center-line-of-the-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Default direction of stems on the center line of the staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Drawing-circles-around-various-objects" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Drawing circles around various objects &gt; </a>]</td></tr></table>
<a name="Drawing-boxes-around-grobs"></a>
<h2 class="unnumberedsec">Drawing boxes around grobs</h2>


<p>The <code>print-function</code> can be overridden to draw a box around an
arbitrary grob.  
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'stencil =
    #(make-stencil-boxer 0.1 0.3 ly:text-interface::print)
  c'4^&quot;foo&quot;

  \override Stem #'stencil =
    #(make-stencil-boxer 0.05 0.25 ly:stem::print)
  \override Score.RehearsalMark  #'stencil =
    #(make-stencil-boxer 0.15 0.3 ly:text-interface::print)
  b8
  
  \revert Stem #'stencil
  c4. c4
  \mark &quot;F&quot;
  c1
}



</pre><p>
 <a href="87/lily-f85ac8b5.ly">
  <img align="middle"
       border="0"
       src="87/lily-f85ac8b5.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-circles-around-various-objects.ly"></a>
<hr size="6">
<a name="Drawing-circles-around-various-objects"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Drawing-boxes-around-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Drawing boxes around grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Embedding-native-PostScript-in-a-_005cmarkup-block" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Embedding native PostScript in a \markup block &gt; </a>]</td></tr></table>
<a name="Drawing-circles-around-various-objects"></a>
<h2 class="unnumberedsec">Drawing circles around various objects</h2>


<p>The <code>\circle</code> markup command draws circles around various
objects, for example fingering indications.  For other objects,
specific tweaks may be required: this example demonstrates two
strategies for rehearsal marks and measure numbers.
</p>

<pre class="verbatim">\relative c' {
  c1
  \set Score.markFormatter =
    #(lambda (mark context)
             (make-circle-markup (format-mark-numbers mark context)))
  \mark \default
  c2 d^\markup {
    \override #'(thickness . 3) {
      \circle \finger 2
    }
  }
  \override Score.BarNumber #'break-visibility = #all-visible
  \override Score.BarNumber #'stencil =
    #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
}
</pre><p>
 <a href="ab/lily-91aea158.ly">
  <img align="middle"
       border="0"
       src="ab/lily-91aea158.png"
       alt="[image of music]">
 </a>
</p>




<a name="embedding-native-postscript-in-a--markup-block.ly"></a>
<hr size="6">
<a name="Embedding-native-PostScript-in-a-_005cmarkup-block"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Drawing-circles-around-various-objects" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Drawing circles around various objects&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Grid-lines_003a-changing-their-appearance" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Grid lines: changing their appearance &gt; </a>]</td></tr></table>
<a name="Embedding-native-PostScript-in-a-_005cmarkup-block"></a>
<h2 class="unnumberedsec">Embedding native PostScript in a \markup block</h2>


<p>PostScript code can be directly inserted inside a <code>\markup</code>
block. 
</p>

<pre class="verbatim">% PostScript is a registered trademark of Adobe Systems Inc.

\relative c'' {
  a4-\markup { \postscript #&quot;3 4 moveto 5 3 rlineto stroke&quot; }
  -\markup { \postscript #&quot;[ 0 1 ] 0 setdash 3 5 moveto 5 -3 rlineto stroke &quot; }
  
  b4-\markup { \postscript #&quot;3 4 moveto 0 0 1 2 8 4 20 3.5 rcurveto stroke&quot; }
  s2
  a'1
}

</pre><p>
 <a href="8c/lily-08ee1a1d.ly">
  <img align="middle"
       border="0"
       src="8c/lily-08ee1a1d.png"
       alt="[image of music]">
 </a>
</p>




<a name="grid-lines--changing-their-appearance.ly"></a>
<hr size="6">
<a name="Grid-lines_003a-changing-their-appearance"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Embedding-native-PostScript-in-a-_005cmarkup-block" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Embedding native PostScript in a \markup block&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Grid lines: emphasizing rhythms and notes synchronization &gt; </a>]</td></tr></table>
<a name="Grid-lines_003a-changing-their-appearance"></a>
<h2 class="unnumberedsec">Grid lines: changing their appearance</h2>


<p>The appearance of grid lines can be changed by overriding some of their
properties.
</p>

<pre class="verbatim">\score {
  \new ChoirStaff &lt;&lt;
    \new Staff {
      \relative c'' {
        \stemUp
        c'4. d8 e8 f g4
      }
    }
    \new Staff {
      \relative c {
        % this moves them up one staff space from the default position
        \override Score.GridLine #'extra-offset = #'(0.0 . 1.0)
        \stemDown
        \clef bass
        \once \override Score.GridLine #'thickness = #5.0
        c4
        \once \override Score.GridLine #'thickness = #1.0
        g'4
        \once \override Score.GridLine #'thickness = #3.0
        f4
        \once \override Score.GridLine #'thickness = #5.0
        e4
      }
    }
  &gt;&gt;
  \layout {
    \context {
      \Staff
      % set up grids
      \consists &quot;Grid_point_engraver&quot;
      % set the grid interval to one quarter note
      gridInterval = #(ly:make-moment 1 4)
    }
    \context {
      \Score
      \consists &quot;Grid_line_span_engraver&quot;
      % this moves them to the right half a staff space
      \override NoteColumn #'X-offset = #-0.5
    }
  }
}

</pre><p>
 <a href="b5/lily-8d5c9244.ly">
  <img align="middle"
       border="0"
       src="b5/lily-8d5c9244.png"
       alt="[image of music]">
 </a>
</p>




<a name="grid-lines--emphasizing-rhythms-and-notes-synchronization.ly"></a>
<hr size="6">
<a name="Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Grid-lines_003a-changing-their-appearance" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Grid lines: changing their appearance&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization"></a>
<h2 class="unnumberedsec">Grid lines: emphasizing rhythms and notes synchronization</h2>


<p>Regular vertical lines can be drawn between staves to show note
synchronization; however, in case of monophonic music, you may want to
make the second stave invisible, and make the lines shorter like in
this snippet.
</p>

<pre class="verbatim">\score {
  \new ChoirStaff {
    \relative c'' &lt;&lt;
      \new Staff {
        \time 12/8
        \stemUp
        c4. d8 e8 f g4 f8 e8. d16 c8
      }
      \new Staff {
        % hides staff and notes so that only the grid lines are visible
        \hideNotes
        \override Staff.BarLine #'transparent = ##t
        \override Staff.StaffSymbol #'line-count = #0
        \override Staff.TimeSignature #'transparent = ##t
        \override Staff.Clef #'transparent = ##t
        
        % dummy notes to force regular note spacing
        \once  \override Score.GridLine #'thickness = #4.0
        c8 c c
        \once  \override Score.GridLine #'thickness = #3.0
        c8 c c
        \once  \override Score.GridLine #'thickness = #4.0
        c8 c c
        \once  \override Score.GridLine #'thickness = #3.0
        c8 c c
      }
    &gt;&gt;
  }
  \layout {
    \context {
      \Score
      \consists &quot;Grid_line_span_engraver&quot;
      % center grid lines horizontally below note heads
      \override NoteColumn #'X-offset = #-0.5
    }
    \context {
      \Staff
      \consists &quot;Grid_point_engraver&quot;
      gridInterval = #(ly:make-moment 1 8)
      % set line length and positioning:
      % two staff spaces above center line on hidden staff
      % to four spaces below center line on visible staff
      \override GridPoint #'Y-extent = #'(2 . -4)
    }
    ragged-right = ##t
  }
}

</pre><p>
 <a href="64/lily-581193a6.ly">
  <img align="middle"
       border="0"
       src="64/lily-581193a6.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-some-staff-lines-thicker-than-the-others.ly"></a>
<hr size="6">
<a name="Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Grid lines: emphasizing rhythms and notes synchronization&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Marking notes of spoken parts with a cross on the stem &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Making some staff lines thicker than the others</h2>


<p>For pedagogical purposes, a staff line can be thickened (e.g., the
middle line, or to emphasize the line of the G clef).  This can be
achieved by adding extra lines very close to the line that should be
emphasized, using the <code>line-positions</code> property of the
<code>StaffSymbol</code> object. 
</p>

<pre class="verbatim">{
  \override Staff.StaffSymbol #'line-positions = #'(-4 -2 -0.2 0 0.2 2 4)
  d'4 e' f' g'
}

</pre><p>
 <a href="41/lily-3b553338.ly">
  <img align="middle"
       border="0"
       src="41/lily-3b553338.png"
       alt="[image of music]">
 </a>
</p>




<a name="marking-notes-of-spoken-parts-with-a-cross-on-the-stem.ly"></a>
<hr size="6">
<a name="Marking-notes-of-spoken-parts-with-a-cross-on-the-stem"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Marking-notes-of-spoken-parts-with-a-cross-on-the-stem"></a>
<h2 class="unnumberedsec">Marking notes of spoken parts with a cross on the stem</h2>


<p>This example shows how to put crosses on stems.  Mark the beginning of
a spoken section with the <code>\speakOn</code> keyword, and end it with the
<code>\speakOff</code> keyword.
</p>

<pre class="verbatim">speakOn = {
  \override Stem #'stencil = #(lambda (grob)
    (let* ((x-parent (ly:grob-parent grob X))
           (is-rest? (ly:grob? (ly:grob-object x-parent 'rest))))
      (if is-rest?
        empty-stencil
        (ly:stencil-combine-at-edge
          (ly:stem::print grob)
          Y
          (- (ly:grob-property grob 'direction))
          (grob-interpret-markup grob
            (markup #:hspace -1.025 #:fontsize -4
              #:musicglyph &quot;noteheads.s2cross&quot;))
          -2.3 0))))
}

speakOff = {
  \revert Stem #'stencil
}

\score {
  \new Staff {
    \relative c'' {
      a4 b a c
      \speakOn
      g4 f r g
      b4 r d e
      \speakOff
      c4 a g f
    }
  }
}

</pre><p>
 <a href="69/lily-c46ac3f1.ly">
  <img align="middle"
       border="0"
       src="69/lily-c46ac3f1.png"
       alt="[image of music]">
 </a>
</p>




<a name="measure-counter.ly"></a>
<hr size="6">
<a name="Marking-notes-of-spoken-parts-with-a-cross-on-the-stem"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Marking notes of spoken parts with a cross on the stem&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-fingering-indications-precisely" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Positioning fingering indications precisely &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Measure counter</h2>


<p>This snippet provides a workaround for emitting measure counters using
transparent percent repeats. 
</p>

<pre class="verbatim">&lt;&lt;
  \context Voice = &quot;foo&quot; {
    \clef bass
    c4 r g r
    c4 r g r
    c4 r g r
    c4 r g r
  }
  \context Voice = &quot;foo&quot; {
    \set countPercentRepeats = ##t
    \override PercentRepeat #'transparent = ##t
    \override PercentRepeatCounter #'staff-padding = #1
    \repeat percent 4 { s1 }
  }
&gt;&gt;

</pre><p>
 <a href="6d/lily-d87bdf53.ly">
  <img align="middle"
       border="0"
       src="6d/lily-d87bdf53.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-fingering-indications-precisely.ly"></a>
<hr size="6">
<a name="Positioning-fingering-indications-precisely"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Positioning-fingering-indications-precisely" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Positioning-fingering-indications-precisely"></a>
<h2 class="unnumberedsec">Positioning fingering indications precisely</h2>


<p>Generally the options available for positioning the fingering of chords
work well by default, but if one of the indications needs to positioned
more precisely the following tweak may be used.  This is particularly
useful for correcting the positioning when intervals of a second are
involved.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(left)
  &lt;c-1 d-2 a'-5&gt;4
  &lt;c-1 d-\tweak #'extra-offset #'(0 . 0.7)-2 a'-5&gt;4
  \set fingeringOrientations = #'(down)
  &lt;c-1 d-2 a'-5&gt;4
  &lt;c-1 d-\tweak #'extra-offset #'(-1.2 . 0)-2 a'-5&gt;4
  \set fingeringOrientations = #'(down right up)
  &lt;c-1 d-2 a'-5&gt;4
  &lt;c-1 d-\tweak #'extra-offset #'(-1 . 1.2)-2 a'-5&gt;4
  \set fingeringOrientations = #'(up)
  &lt;c-1 d-2 a'-5&gt;4
  &lt;c-1 d-\tweak #'extra-offset #'(-1.2 . 0)-2 a'-5&gt;4
}


</pre><p>
 <a href="48/lily-f20a940e.ly">
  <img align="middle"
       border="0"
       src="48/lily-f20a940e.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-text-markups-inside-slurs.ly"></a>
<hr size="6">
<a name="Positioning-fingering-indications-precisely"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-fingering-indications-precisely" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Positioning fingering indications precisely&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-text-from-right-to-left" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing text from right to left &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Positioning text markups inside slurs</h2>


<p>Text markups need to have the <code>outside-staff-priority</code> property
set to false in order to be printed inside slurs. 
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'avoid-slur = #'inside
  \override TextScript #'outside-staff-priority = ##f
  c2(^\markup { \halign #-10 \natural } d4.) c8
}


</pre><p>
 <a href="d1/lily-d24567fb.ly">
  <img align="middle"
       border="0"
       src="d1/lily-d24567fb.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-text-from-right-to-left.ly"></a>
<hr size="6">
<a name="Printing-text-from-right-to-left"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Positioning-fingering-indications-precisely" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-PostScript-to-generate-special-note-head-shapes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using PostScript to generate special note head shapes &gt; </a>]</td></tr></table>
<a name="Printing-text-from-right-to-left"></a>
<h2 class="unnumberedsec">Printing text from right to left</h2>


<p>It is possible to print text from right to left in a markup object, as
demonstrated here.
</p>

<pre class="verbatim">{
  b1^\markup {
    \line { i n g i r u m i m u s n o c t e }
  }
  f'_\markup {
    \override #'(text-direction . -1)
    \line { i n g i r u m i m u s n o c t e }
  }
}

</pre><p>
 <a href="a3/lily-2214923f.ly">
  <img align="middle"
       border="0"
       src="a3/lily-2214923f.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-postscript-to-generate-special-note-head-shapes.ly"></a>
<hr size="6">
<a name="Using-PostScript-to-generate-special-note-head-shapes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Text" title="Next chapter">&nbsp;Text &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-text-from-right-to-left" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing text from right to left&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Editorial-annotations" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Editorial annotations&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Text" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Text &gt; </a>]</td></tr></table>
<a name="Using-PostScript-to-generate-special-note-head-shapes"></a>
<h2 class="unnumberedsec">Using PostScript to generate special note head shapes</h2>


<p>When a note head with a special shape cannot easily be generated with
graphic markup, PostScript code can be used to generate the shape. 
This example shows how a parallelogram-shaped note head is generated. 
</p>

<pre class="verbatim">parallelogram =
  #(ly:make-stencil (list 'embedded-ps
    &quot;gsave
      currentpoint translate
      newpath
      0 0.25 moveto
      1.3125 0.75 lineto
      1.3125 -0.25 lineto
      0 -0.75 lineto
      closepath
      fill
      grestore&quot; )
    (cons 0 1.3125)
    (cons 0 0))

myNoteHeads = \override NoteHead #'stencil = \parallelogram
normalNoteHeads = \revert NoteHead #'stencil

\relative c'' {
  \myNoteHeads
  g4 d'
  \normalNoteHeads
  &lt;f, \tweak #'stencil \parallelogram b e&gt;4 d
}


</pre><p>
 <a href="f7/lily-b8594b66.ly">
  <img align="middle"
       border="0"
       src="f7/lily-b8594b66.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Text"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Editorial-annotations" title="Beginning of this chapter or previous chapter"> &lt;&lt; Editorial annotations&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-PostScript-to-generate-special-note-head-shapes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using PostScript to generate special note head shapes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-the-current-date-to-a-score" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding the current date to a score &gt; </a>]</td></tr></table>
<a name="Text"></a>
<h1 class="unnumbered">Text</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Text">Text</a>.
</p>

<a name="adding-the-current-date-to-a-score.ly"></a>
<hr size="6">
<a name="Adding-the-current-date-to-a-score"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Text" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adjusting-lyrics-vertical-spacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adjusting lyrics vertical spacing &gt; </a>]</td></tr></table>
<a name="Adding-the-current-date-to-a-score"></a>
<h2 class="unnumberedsec">Adding the current date to a score</h2>


<p>With a little Scheme code, the current date can easily be added to a
score.
</p>

<pre class="verbatim">% first, define a variable to hold the formatted date:
date = #(strftime &quot;%d-%m-%Y&quot; (localtime (current-time)))

% use it in the title block:
\header {
  title = &quot;Including the date!&quot;
  subtitle = \date
}

\score {
  \relative c'' {
    c4 c c c
  }
}
% and use it in a \markup block:
\markup {
  \date
}

</pre><p>
 <a href="62/lily-dae9b8a6.ly">
  <img align="middle"
       border="0"
       src="62/lily-dae9b8a6.png"
       alt="[image of music]">
 </a>
</p>




<a name="adjusting-lyrics-vertical-spacing.ly"></a>
<hr size="6">
<a name="Adjusting-lyrics-vertical-spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-the-current-date-to-a-score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding the current date to a score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Aligning-and-centering-instrument-names" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Aligning and centering instrument names &gt; </a>]</td></tr></table>
<a name="Adjusting-lyrics-vertical-spacing"></a>
<h2 class="unnumberedsec">Adjusting lyrics vertical spacing</h2>


<p>This snippet shows how to bring the lyrics line closer to the staff.
</p>

<pre class="verbatim">% Default layout:
&lt;&lt;
  \new Staff \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \lyricsto melody { aa aa aa aa aa aa aa aa aa }

% Reducing the minimum space below the staff and above the lyrics:
  \new Staff \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1 . 4)
  }
  \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1.2 . 1)
  }
  \lyricsto melody { aa aa aa aa aa aa aa aa aa }
&gt;&gt;

</pre><p>
 <a href="56/lily-5a2565ed.ly">
  <img align="middle"
       border="0"
       src="56/lily-5a2565ed.png"
       alt="[image of music]">
 </a>
</p>




<a name="aligning-and-centering-instrument-names.ly"></a>
<hr size="6">
<a name="Aligning-and-centering-instrument-names"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adjusting-lyrics-vertical-spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adjusting lyrics vertical spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Aligning-marks-with-various-notation-objects" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Aligning marks with various notation objects &gt; </a>]</td></tr></table>
<a name="Aligning-and-centering-instrument-names"></a>
<h2 class="unnumberedsec">Aligning and centering instrument names</h2>


<p>The horizontal alignment of instrument names is tweaked by changing the
<code>Staff.InstrumentName #'self-alignment-X</code> property. The
<code>\layout</code> variables <code>indent</code> and <code>short-indent</code> define
the space in which the instrument names are aligned before the first
and the following systems, respectively.
</p>

<pre class="verbatim">\paper {
  left-margin = 3\cm
}

\score {
  \new StaffGroup &lt;&lt;
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #LEFT
      \set Staff.instrumentName = \markup \left-column {
        &quot;Left aligned&quot;
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Left&quot;
      c''1
      \break
      c''1
    }
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #CENTER
      \set Staff.instrumentName = \markup \center-column {
        Centered
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Centered&quot;
      g'1
      g'1
    }
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #RIGHT
      \set Staff.instrumentName = \markup \right-column {
        &quot;Right aligned&quot;
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Right&quot;
      e'1
      e'1
    }
  &gt;&gt;
  \layout {
    ragged-right = ##t
    indent = 4\cm
    short-indent = 2\cm
  }
}
</pre><p>
 <a href="48/lily-0ea90e0e.ly">
  <img align="middle"
       border="0"
       src="48/lily-0ea90e0e.png"
       alt="[image of music]">
 </a>
</p>




<a name="aligning-marks-with-various-notation-objects.ly"></a>
<hr size="6">
<a name="Aligning-marks-with-various-notation-objects"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Aligning-and-centering-instrument-names" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Aligning and centering instrument names&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Aligning-objects-created-with-the-_005cmark-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Aligning objects created with the \mark command &gt; </a>]</td></tr></table>
<a name="Aligning-marks-with-various-notation-objects"></a>
<h2 class="unnumberedsec">Aligning marks with various notation objects</h2>


<p>If specified, text marks may be aligned with notation objects other
than bar lines.  These objects include <code>ambitus</code>,
<code>breathing-sign</code>, <code>clef</code>, <code>custos</code>, <code>staff-bar</code>,
<code>left-edge</code>, <code>key-cancellation</code>, <code>key-signature</code>, and
<code>time-signature</code>.
</p>


<p>In such cases, text marks will be horizontally centered above the
object. However this can be changed, as demonstrated on the second line
of this example (in a score with multiple staves, this setting should
be done for all the staves).
</p>



<pre class="verbatim">\relative c' {
  e1
  
  % the RehearsalMark will be centered above the Clef
  \override Score.RehearsalMark #'break-align-symbols = #'(clef)
  \key a \major
  \clef treble
  \mark &quot;↓&quot;
  e1
  
  % the RehearsalMark will be centered above the TimeSignature
  \override Score.RehearsalMark #'break-align-symbols = #'(time-signature)
  \key a \major
  \clef treble
  \time 3/4
  \mark &quot;↓&quot;
  e2.
  
  % the RehearsalMark will be centered above the KeySignature
  \override Score.RehearsalMark #'break-align-symbols = #'(key-signature)
  \key a \major
  \clef treble
  \time 4/4
  \mark &quot;↓&quot;
  e1

  \break
  e1
  
  % the RehearsalMark will be aligned with the left edge of the KeySignature
  \once \override Score.KeySignature #'break-align-anchor-alignment = #LEFT
  \mark &quot;↓&quot;
  \key a \major
  e1
  
  % the RehearsalMark will be aligned with the right edge of the KeySignature
  \once \override Score.KeySignature #'break-align-anchor-alignment = #RIGHT
  \key a \major
  \mark &quot;↓&quot;
  e1
  
  % the RehearsalMark will be aligned with the left edge of the KeySignature
  % and then shifted right by one unit.
  \once \override Score.KeySignature #'break-align-anchor = #1
  \key a \major
  \mark &quot;↓&quot;
  e1
}
</pre><p>
 <a href="34/lily-8c063efc.ly">
  <img align="middle"
       border="0"
       src="34/lily-8c063efc.png"
       alt="[image of music]">
 </a>
</p>




<a name="aligning-objects-created-with-the--mark-command.ly"></a>
<hr size="6">
<a name="Aligning-objects-created-with-the-_005cmark-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Aligning-marks-with-various-notation-objects" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Aligning marks with various notation objects&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Aligning-objects-created-with-the-_005cmark-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Aligning-objects-created-with-the-_005cmark-command"></a>
<h2 class="unnumberedsec">Aligning objects created with the \mark command</h2>


<p>By default the <code>\mark</code> command centers objects over a bar line. 
This behavior can be modified to align at right or left.  
</p>

<pre class="verbatim">\relative c' {
  c1 \mark &quot;(Center)&quot;
  c1
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \mark &quot;(Left)&quot;
  c4 c c c
  c4 c c c
  \once \override Score.RehearsalMark #'self-alignment-X = #RIGHT
  \mark &quot;(Right)&quot;
  c1
}


</pre><p>
 <a href="b9/lily-b6e69607.ly">
  <img align="middle"
       border="0"
       src="b9/lily-b6e69607.png"
       alt="[image of music]">
 </a>
</p>




<a name="blanking-staff-lines-using-the--whiteout-command.ly"></a>
<hr size="6">
<a name="Aligning-objects-created-with-the-_005cmark-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Aligning-objects-created-with-the-_005cmark-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Aligning objects created with the \mark command&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Aligning-objects-created-with-the-_005cmark-command" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Blanking staff lines using the \whiteout command</h2>


<p>The <code>\whiteout</code> command underlays a markup with a white box. 
Since staff lines are in a lower layer than most other grobs, this
white box will not overlap any other grob. 
</p>

<pre class="verbatim">\layout { ragged-right = ##f }
\relative c' {
  \override TextScript #'extra-offset = #'(2 . 4)
  c2-\markup { \whiteout \pad-markup #0.5 &quot;middle C&quot; } c
} 

</pre><p>
 <a href="bb/lily-3735515e.ly">
  <img align="middle"
       border="0"
       src="bb/lily-3735515e.png"
       alt="[image of music]">
 </a>
</p>




<a name="center-text-below-hairpin-dynamics.ly"></a>
<hr size="6">
<a name="Aligning-objects-created-with-the-_005cmark-command"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Aligning-objects-created-with-the-_005cmark-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the default text font family &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Center text below hairpin dynamics</h2>


<p>This example provides a function to typeset a hairpin (de)crescendo
with some additional text below it, such as &quot;molto&quot; or &quot;poco&quot;. The
example also illustrates how to modify the way an object is normally
printed, using some Scheme code.
</p>

<pre class="verbatim">hairpinWithCenteredText =
#(define-music-function (parser location text) (markup?)
#{
  \override Voice.Hairpin #'stencil = #(lambda (grob)
    (ly:stencil-aligned-to
     (ly:stencil-combine-at-edge
      (ly:stencil-aligned-to (ly:hairpin::print grob) X CENTER)
      Y DOWN
      (ly:stencil-aligned-to (grob-interpret-markup grob $text) X CENTER))
     X LEFT))
#})

hairpinMolto = \hairpinWithCenteredText \markup { \italic molto }
hairpinMore = \hairpinWithCenteredText \markup { \larger moltissimo }

\layout { ragged-right = ##f }

\relative c' {
  \hairpinMolto
  c2\&lt; c\f
  \hairpinMore
  c2\&lt; c\f
}
</pre><p>
 <a href="00/lily-7919dd1d.ly">
  <img align="middle"
       border="0"
       src="00/lily-7919dd1d.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-default-text-font-family.ly"></a>
<hr size="6">
<a name="Changing-the-default-text-font-family"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Aligning-objects-created-with-the-_005cmark-command" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Changing-the-default-text-font-family"></a>
<h2 class="unnumberedsec">Changing the default text font family</h2>


<p>The default font families for text can be overridden with
<code>make-pango-font-tree</code>. 
</p>

<pre class="verbatim">\paper {
  % change for other default global staff size. 
  myStaffSize = #20
  %{
     run
         lilypond -dshow-available-fonts blabla
     to show all fonts available in the process log.  
  %}

  #(define fonts
    (make-pango-font-tree &quot;Times New Roman&quot;
                          &quot;Nimbus Sans&quot;
                          &quot;Luxi Mono&quot;
;;                        &quot;Helvetica&quot;
;;                        &quot;Courier&quot;
     (/ myStaffSize 20)))
}

\relative c'' {
  c4^\markup {
    roman: foo \bold bla \italic bar \italic \bold baz 
  }
  c'4_\markup {
    \override #'(font-family . sans)
    {
      sans: foo \bold bla \italic bar \italic \bold baz
    }
  }
  c'2^\markup {
    \override #'(font-family . typewriter)
    {
      mono: foo \bold bla \italic bar \italic \bold baz
    }
  }
}  


</pre><p>
 <a href="78/lily-e47679b4.ly">
  <img align="middle"
       border="0"
       src="78/lily-e47679b4.png"
       alt="[image of music]">
 </a>
</p>




<a name="combining-dynamics-with-markup-texts.ly"></a>
<hr size="6">
<a name="Changing-the-default-text-font-family"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the default text font family&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Combining dynamics with markup texts</h2>


<p>Some dynamics may involve text indications (such as &quot;più forte&quot; or
&quot;piano subito&quot;). They can be produced using a <code>\markup</code> block.
</p>

<pre class="verbatim">piuF = \markup { \italic più \dynamic f }
\layout { ragged-right = ##f }
\relative c'' {
  c2\f c-\piuF
}


</pre><p>
 <a href="72/lily-519b5a38.ly">
  <img align="middle"
       border="0"
       src="72/lily-519b5a38.png"
       alt="[image of music]">
 </a>
</p>




<a name="combining-two-parts-on-the-same-staff.ly"></a>
<hr size="6">
<a name="Changing-the-default-text-font-family"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Combining two parts on the same staff</h2>


<p>The part combiner tool ( <code>\partcombine</code> command ) allows the
combination of several different parts on the same staff.  Text
directions such as &quot;solo&quot; or &quot;a2&quot; are added by default; to remove
them, simply set the property <code>printPartCombineTexts</code> to
&quot;false&quot;. For vocal scores (hymns), there is no need to add
&quot;solo&quot;/&quot;a2&quot; texts, so they should be switched off.  However, it
might be better not to use it if there are any solos, as they won&rsquo;t be
indicated.  In such cases, standard polyphonic notation may be
preferable.
</p>
<p>This snippet presents the three ways two parts can be printed on a same
staff: standard polyphony, <code>\partcombine</code> without texts, and
<code>\partcombine</code> with texts.
</p>




<pre class="verbatim">musicUp = \relative c'' {
  \time 4/4
  a4 c4.( g8) a4 |
  g4 e' g,( a8 b) |
  c b a2.
}

musicDown = \relative c'' {
  g4 e4.( d8) c4 |
  r2 g'4( f8 e) |
  d2 \stemDown a
}

\score {
  &lt;&lt;
    &lt;&lt;
    \new Staff {
      \set Staff.instrumentName = &quot;Standard polyphony  &quot;
      &lt;&lt; \musicUp \\ \musicDown &gt;&gt;
    }
    \new Staff \with { printPartCombineTexts = ##f } {
      \set Staff.instrumentName = &quot;PartCombine without texts  &quot;
      \partcombine \musicUp \musicDown
    }
    \new Staff {
      \set Staff.instrumentName = &quot;PartCombine with texts  &quot;
      \partcombine \musicUp \musicDown
    }
    &gt;&gt;
  &gt;&gt;
  \layout {
    indent = 6.0\cm
    \context {
      \Score
      \override SystemStartBar #'collapse-height = #30
    }
  }
}

</pre><p>
 <a href="18/lily-eda6a95e.ly">
  <img align="middle"
       border="0"
       src="18/lily-eda6a95e.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-real-parenthesized-dynamics.ly"></a>
<hr size="6">
<a name="Changing-the-default-text-font-family"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating &quot;real&quot; parenthesized dynamics</h2>


<p>Although the easiest way to add parentheses to a dynamic mark is to use
a <code>\markup</code> block, this method has a downside: the created
objects will behave like text markups, and not like dynamics.
</p>
<p>However, it is possible to create a similar object using the equivalent
Scheme code (as described in &quot;Markup programmer interface&quot;), combined
with the <code>make-dynamic-script</code> function. This way, the markup will
be regarded as a dynamic, and therefore will remain compatible with
commands such as <code>\dynamicUp</code> or <code>\dynamicDown</code>.
</p>



<pre class="verbatim">parenF = #(make-dynamic-script (markup #:line (#:normal-text #:italic
           #:fontsize 2 &quot;(&quot; #:hspace -0.8 #:dynamic &quot;f&quot; #:normal-text
           #:italic #:fontsize 2 &quot;)&quot;)))

\relative c'' {
  c4\parenF c c \dynamicUp c\parenF
}

</pre><p>
 <a href="89/lily-628a4a34.ly">
  <img align="middle"
       border="0"
       src="89/lily-628a4a34.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-simultaneous-rehearsal-marks.ly"></a>
<hr size="6">
<a name="Changing-the-default-text-font-family"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating simultaneous rehearsal marks</h2>


<p>Unlike text scripts, rehearsal marks cannot be stacked at a particular
point in a score: only one <code>RehearsalMark</code> object is created. 
Using an invisible measure and bar line, an extra rehearsal mark can be
added, giving the appearance of two marks in the same column. This
method may also prove useful for placing rehearsal marks at both the
end of one system and the start of the following system. 
</p>

<pre class="verbatim">{
  \key a \major
  \set Score.markFormatter = #format-mark-box-letters
  \once \override Score.RehearsalMark #'outside-staff-priority = #5000
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \once \override Score.RehearsalMark #'break-align-symbols = #'(key-signature)
  \mark \markup { \bold { Senza denti } }
  
  % the hidden measure and bar line
  \once \override Score.TimeSignature #'stencil = ##f
  \time 1/16
  s16 \bar &quot;&quot;
  
  \time 4/4
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \mark \markup { \box \bold Intro }
  d'1
  \mark \default
  d'1
}
</pre><p>
 <a href="d8/lily-ad064fd4.ly">
  <img align="middle"
       border="0"
       src="d8/lily-ad064fd4.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-text-spanners.ly"></a>
<hr size="6">
<a name="Changing-the-default-text-font-family"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Demonstrating-all-headers" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Demonstrating all headers &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating text spanners</h2>


<p>The <code>\startTextSpan</code> and <code>\stopTextSpan</code> commands allow the
creation of text spanners as easily as pedal indications or
octavations. Override some properties of the <code>TextSpanner</code> object
to modify its output.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }

\relative c'' {
  \override TextSpanner #'(bound-details left text) = #&quot;bla&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;blu&quot;
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'line
  \once \override TextSpanner
    #'(bound-details left stencil-align-dir-y) = #CENTER
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'dashed-line
  \override TextSpanner #'(bound-details left text) =
    \markup { \draw-line #'(0 . 1) }
  \override TextSpanner #'(bound-details right text) =
    \markup { \draw-line #'(0 . -2) }
  \once \override TextSpanner #'(bound-details right padding) = #-2

  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \set Staff.middleCPosition = #-13
  \override TextSpanner #'dash-period = #10
  \override TextSpanner #'dash-fraction = #0.5
  \override TextSpanner #'thickness = #10
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
}
</pre><p>
 <a href="c3/lily-4156fc65.ly">
  <img align="middle"
       border="0"
       src="c3/lily-4156fc65.png"
       alt="[image of music]">
 </a>
</p>




<a name="demonstrating-all-headers.ly"></a>
<hr size="6">
<a name="Demonstrating-all-headers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-default-text-font-family" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Demonstrating-all-headers" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Demonstrating-all-headers"></a>
<h2 class="unnumberedsec">Demonstrating all headers</h2>

<p>All header fields with special meanings.
</p><pre class="verbatim">\header {
  copyright = &quot;copyright&quot;
  title = &quot;title&quot;
  subtitle = &quot;subtitle&quot;
  composer = &quot;composer&quot;
  arranger = &quot;arranger&quot;
  instrument = &quot;instrument&quot;
  metre = &quot;metre&quot;
  opus = &quot;opus&quot;
  piece = &quot;piece&quot;
  poet = &quot;poet&quot;
  texidoc = &quot;All header fields with special meanings.&quot;
  copyright = &quot;public domain&quot;
  enteredby = &quot;jcn&quot;
  source = &quot;urtext&quot;
}

\layout {
  ragged-right = ##f
}

\score {
  \relative c'' { c1 | c | c | c }
}

\score {
   \relative c'' { c1 | c | c | c }
   \header {
     title = &quot;localtitle&quot;
     subtitle = &quot;localsubtitle&quot;
     composer = &quot;localcomposer&quot;
     arranger = &quot;localarranger&quot;
     instrument = &quot;localinstrument&quot;
     metre = &quot;localmetre&quot;
     opus = &quot;localopus&quot;
     piece = &quot;localpiece&quot;
     poet = &quot;localpoet&quot;
     copyright = &quot;localcopyright&quot;
   }
}

</pre><p>
 <a href="a0/lily-f7ee3ec5.ly">
  <img align="middle"
       border="0"
       src="a0/lily-f7ee3ec5.png"
       alt="[image of music]">
 </a>
</p>




<a name="embedding-native-postscript-in-a--markup-block.ly"></a>
<hr size="6">
<a name="Demonstrating-all-headers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Demonstrating-all-headers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Demonstrating all headers&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Formatting-lyrics-syllables" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Formatting lyrics syllables &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Embedding native PostScript in a \markup block</h2>


<p>PostScript code can be directly inserted inside a <code>\markup</code>
block. 
</p>

<pre class="verbatim">% PostScript is a registered trademark of Adobe Systems Inc.

\relative c'' {
  a4-\markup { \postscript #&quot;3 4 moveto 5 3 rlineto stroke&quot; }
  -\markup { \postscript #&quot;[ 0 1 ] 0 setdash 3 5 moveto 5 -3 rlineto stroke &quot; }
  
  b4-\markup { \postscript #&quot;3 4 moveto 0 0 1 2 8 4 20 3.5 rcurveto stroke&quot; }
  s2
  a'1
}

</pre><p>
 <a href="8c/lily-08ee1a1d.ly">
  <img align="middle"
       border="0"
       src="8c/lily-08ee1a1d.png"
       alt="[image of music]">
 </a>
</p>




<a name="formatting-lyrics-syllables.ly"></a>
<hr size="6">
<a name="Formatting-lyrics-syllables"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Demonstrating-all-headers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#How-to-put-ties-between-syllables-in-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;How to put ties between syllables in lyrics &gt; </a>]</td></tr></table>
<a name="Formatting-lyrics-syllables"></a>
<h2 class="unnumberedsec">Formatting lyrics syllables</h2>


<p>To format individual syllables in lyrics, use <code>\markup { ....
}</code> on these lyrics.
</p>

<pre class="verbatim">% Tip taken from http://lists.gnu.org/archive/html/lilypond-user/2007-12/msg00215.html
\header {
  title = &quot;Markup can be used inside lyrics!&quot;
}

mel = \relative c'' { c4 c c c }
lyr = \lyricmode {
  Lyrics \markup { \italic &quot;can&quot; } \markup {\with-color #red &quot;contain&quot; }
  \markup {\fontsize #8 \bold &quot;Markup!&quot; }
}

&lt;&lt;
  \context Voice = melody \mel
  \context Lyrics \lyricsto melody \lyr
&gt;&gt;


</pre><p>
 <a href="d9/lily-20056645.ly">
  <img align="middle"
       border="0"
       src="d9/lily-20056645.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-put-ties-between-syllables-in-lyrics.ly"></a>
<hr size="6">
<a name="How-to-put-ties-between-syllables-in-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Formatting-lyrics-syllables" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Formatting lyrics syllables&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Lyrics-alignment" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Lyrics alignment &gt; </a>]</td></tr></table>
<a name="How-to-put-ties-between-syllables-in-lyrics"></a>
<h2 class="unnumberedsec">How to put ties between syllables in lyrics</h2>


<p>This can be achieved by separating those syllables by tildes.  
</p>

<pre class="verbatim">\lyrics {
  wa~o~a 
}

</pre><p>
 <a href="e8/lily-0f1cf233.ly">
  <img align="middle"
       border="0"
       src="e8/lily-0f1cf233.png"
       alt="[image of music]">
 </a>
</p>




<a name="lyrics-alignment.ly"></a>
<hr size="6">
<a name="Lyrics-alignment"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#How-to-put-ties-between-syllables-in-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; How to put ties between syllables in lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Markup-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Markup lines &gt; </a>]</td></tr></table>
<a name="Lyrics-alignment"></a>
<h2 class="unnumberedsec">Lyrics alignment</h2>


<p>Horizontal alignment for lyrics cam be set by overriding the
<code>self-alignment-X</code> property of the <code>LyricText</code> object.
<code>#-1</code> is left, <code>#0</code> is center and <code>#1</code> is right;
however, you can use <code>#LEFT</code>, <code>#CENTER</code> and <code>#RIGHT</code> as
well. 
</p>

<pre class="verbatim">\layout { ragged-right = ##f }
\relative c'' {
  c1
  c1
  c1
}
\addlyrics {
  \once \override LyricText #'self-alignment-X = #LEFT
  &quot;This is left-aligned&quot;
  \once \override LyricText #'self-alignment-X = #CENTER
  &quot;This is centered&quot; 
  \once \override LyricText #'self-alignment-X = #1
  &quot;This is right-aligned&quot;
}

</pre><p>
 <a href="1b/lily-ea280c8c.ly">
  <img align="middle"
       border="0"
       src="1b/lily-ea280c8c.png"
       alt="[image of music]">
 </a>
</p>




<a name="markup-lines.ly"></a>
<hr size="6">
<a name="Markup-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Lyrics-alignment" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Lyrics alignment&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Markup-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Markup-lines"></a>
<h2 class="unnumberedsec">Markup lines</h2>


<p>Text that can spread over pages is entered with the
<code>\markuplines</code> command.
</p>

<pre class="verbatim">#(set-default-paper-size &quot;a6&quot;)

#(define-markup-list-command (paragraph layout props args) (markup-list?)
  (interpret-markup-list layout props
   (make-justified-lines-markup-list (cons (make-hspace-markup 2) args))))

% Candide, Voltaire
\markuplines {
  \override-lines #'(baseline-skip . 2.5) {
    \paragraph {
      Il y avait en Westphalie, dans le château de M. le baron de
      Thunder-ten-tronckh, un jeune garçon à qui la nature avait donné
      les mœurs les plus douces.  Sa physionomie annonçait son âme.
      Il avait le jugement assez droit, avec l'esprit le plus simple ;
      c'est, je crois, pour cette raison qu'on le nommait Candide.  Les
      anciens domestiques de la maison soupçonnaient qu'il était fils
      de la sœur de monsieur le baron et d'un bon et honnête
      gentilhomme du voisinage, que cette demoiselle ne voulut jamais
      épouser parce qu'il n'avait pu prouver que soixante et onze
      quartiers, et que le reste de son arbre généalogique avait été
      perdu par l'injure du temps.
    }
    \paragraph {
      Monsieur le baron était un des plus puissants seigneurs de la
      Westphalie, car son château avait une porte et des fenêtres.  Sa
      grande salle même était ornée d'une tapisserie.  Tous les chiens
      de ses basses-cours composaient une meute dans le besoin ; ses
      palefreniers étaient ses piqueurs; le vicaire du village était
      son grand-aumônier.  Ils l'appelaient tous monseigneur, et ils
      riaient quand il faisait des contes.
    }
  }
}
</pre><p>
 <a href="dc/lily-46abbfe0.ly">
  <img align="middle"
       border="0"
       src="dc/lily-46abbfe0.png"
       alt="[image of music]">
 </a>
</p>




<a name="multi-measure-rest-markup.ly"></a>
<hr size="6">
<a name="Markup-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Markup-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Markup lines&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Markup-lines" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Multi-measure rest markup</h2>


<p>Markups attached to a multi-measure rest will be centered above or
below it.  Long markups attached to multi-measure rests do not cause
the measure to expand.  To expand a multi-measure rest to fit the
markup, use a spacer rest with an attached markup before the
multi-measure rest.
</p>
<p>Note that the spacer rest causes a bar line to be inserted.  Text
attached to a spacer rest in this way is left-aligned to the position
where the note would be placed in the measure, but if the measure
length is determined by the length of the text, the text will appear to
be centered. 
</p>

<pre class="verbatim">\relative c' {
  \compressFullBarRests
  \textLengthOn
  s1*0^\markup { [MAJOR GENERAL] }
  R1*19
  s1*0_\markup { \italic { Cue: ... it is yours } }
  s1*0^\markup { A }
  R1*30^\markup { [MABEL] }
  \textLengthOff
  c4^\markup { CHORUS } d f c
}
</pre><p>
 <a href="56/lily-bcc7dac4.ly">
  <img align="middle"
       border="0"
       src="56/lily-bcc7dac4.png"
       alt="[image of music]">
 </a>
</p>




<a name="ottava-text.ly"></a>
<hr size="6">
<a name="Markup-lines"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Markup-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Outputting-the-version-number" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Outputting the version number &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Ottava text</h2>


<p>Internally, <code>\ottava</code> sets the properties <code>ottavation</code> (for
example, to <code>&quot;8va&quot;</code> or <code>&quot;8vb&quot;</code>) and
<code>middleCPosition</code>.  To override the text of the bracket, set
<code>ottavation</code> after invoking <code>\ottava</code>.
</p>

<pre class="verbatim">{
  \ottava #1
  \set Staff.ottavation = #&quot;8&quot;
  c''1
  \ottava #0
  c'1
  \ottava #1
  \set Staff.ottavation = #&quot;Text&quot;
  c''1
}

</pre><p>
 <a href="26/lily-af63d2eb.ly">
  <img align="middle"
       border="0"
       src="26/lily-af63d2eb.png"
       alt="[image of music]">
 </a>
</p>




<a name="outputting-the-version-number.ly"></a>
<hr size="6">
<a name="Outputting-the-version-number"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Markup-lines" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-with-centered-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Piano template with centered lyrics &gt; </a>]</td></tr></table>
<a name="Outputting-the-version-number"></a>
<h2 class="unnumberedsec">Outputting the version number</h2>


<p>By putting the output of
    <code>lilypond-version</code> into a lyric, it is possible to print the 
    version number of LilyPond in a score, or in a document generated
    with <code>lilypond-book</code>.  Another possibility is to append the 
    version number to the doc-string, in this manner: 
</p>

<pre class="verbatim">\score {
  \new Lyrics {
    \override Score.RehearsalMark #'self-alignment-X = #LEFT
    \mark #(string-append &quot;Processed with LilyPond version &quot; (lilypond-version))
    s2
  }
}



</pre><p>
 <a href="d7/lily-6e9d7cd2.ly">
  <img align="middle"
       border="0"
       src="d7/lily-6e9d7cd2.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-centered-lyrics.ly"></a>
<hr size="6">
<a name="Piano-template-with-centered-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Outputting-the-version-number" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Outputting the version number&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-marks-at-the-end-of-a-line-or-a-score" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing marks at the end of a line or a score &gt; </a>]</td></tr></table>
<a name="Piano-template-with-centered-lyrics"></a>
<h2 class="unnumberedsec">Piano template with centered lyrics</h2>


<p>Instead of having a full staff for the melody and lyrics, lyrics can be
centered between the staves of a piano staff.
</p>

<pre class="verbatim">upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

\score {
  \new GrandStaff &lt;&lt;
    \new Staff = upper { \new Voice = &quot;singer&quot; \upper }
    \new Lyrics \lyricsto &quot;singer&quot; \text
    \new Staff = lower { \lower }
  &gt;&gt;
  \layout {
    \context {
      \GrandStaff
      \accepts &quot;Lyrics&quot;
    }
    \context {
      \Lyrics
      \consists &quot;Bar_engraver&quot;
    }
  }
  \midi { }
}

</pre><p>
 <a href="a9/lily-1d5833a3.ly">
  <img align="middle"
       border="0"
       src="a9/lily-1d5833a3.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-marks-at-the-end-of-a-line-or-a-score.ly"></a>
<hr size="6">
<a name="Printing-marks-at-the-end-of-a-line-or-a-score"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-with-centered-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Piano template with centered lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-marks-on-every-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Printing marks on every staff &gt; </a>]</td></tr></table>
<a name="Printing-marks-at-the-end-of-a-line-or-a-score"></a>
<h2 class="unnumberedsec">Printing marks at the end of a line or a score</h2>


<p>Marks can be printed at the end of the current line, instead of the
beginning of the following line. This is particularly useful when a
mark has to be added at the end of a score &ndash; when there is no next
line.
</p>
<p>In such cases, the right end of the mark has to be aligned with the
final bar line, as demonstrated on the second line of this example. 
</p>

<pre class="verbatim">\relative c'' {  
  \override Score.RehearsalMark #'break-visibility = #begin-of-line-invisible
  g2 c
  d,2 a'
  \mark \default
  \break
  g2 b,
  c1 \bar &quot;||&quot;
  \override Score.RehearsalMark #'self-alignment-X = #RIGHT  
  \mark &quot;D.C. al Fine&quot;
}

</pre><p>
 <a href="27/lily-0d83b7bc.ly">
  <img align="middle"
       border="0"
       src="27/lily-0d83b7bc.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-marks-on-every-staff.ly"></a>
<hr size="6">
<a name="Printing-marks-on-every-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-marks-at-the-end-of-a-line-or-a-score" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing marks at the end of a line or a score&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Printing-marks-on-every-staff" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Printing-marks-on-every-staff"></a>
<h2 class="unnumberedsec">Printing marks on every staff</h2>


<p>Although text marks are normally only printed above the topmost staff,
they may also be printed on every staff.
</p>

<pre class="verbatim">\score {
  &lt;&lt;
    \new Staff { c''1 \mark &quot;molto&quot; c'' }
    \new Staff { c'1 \mark &quot;molto&quot; c' }
  &gt;&gt;
  \layout {
    \context {
      \Score
      \remove &quot;Mark_engraver&quot;
      \remove &quot;Staff_collecting_engraver&quot;
    }
    \context {
      \Staff
      \consists &quot;Mark_engraver&quot;
      \consists &quot;Staff_collecting_engraver&quot;
    }
  }
}

</pre><p>
 <a href="35/lily-049a8800.ly">
  <img align="middle"
       border="0"
       src="35/lily-049a8800.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-text-from-right-to-left.ly"></a>
<hr size="6">
<a name="Printing-marks-on-every-staff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-marks-on-every-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Printing marks on every staff&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Stand_002dalone-two_002dcolumn-markup" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Stand-alone two-column markup &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing text from right to left</h2>


<p>It is possible to print text from right to left in a markup object, as
demonstrated here.
</p>

<pre class="verbatim">{
  b1^\markup {
    \line { i n g i r u m i m u s n o c t e }
  }
  f'_\markup {
    \override #'(text-direction . -1)
    \line { i n g i r u m i m u s n o c t e }
  }
}

</pre><p>
 <a href="a3/lily-2214923f.ly">
  <img align="middle"
       border="0"
       src="a3/lily-2214923f.png"
       alt="[image of music]">
 </a>
</p>




<a name="stand-alone-two-column-markup.ly"></a>
<hr size="6">
<a name="Stand_002dalone-two_002dcolumn-markup"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Printing-marks-on-every-staff" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Stand_002dalone-two_002dcolumn-markup" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Stand_002dalone-two_002dcolumn-markup"></a>
<h2 class="unnumberedsec">Stand-alone two-column markup</h2>


<p>Stand-alone text may be arranged in several columns using
<code>\markup</code> commands:
</p>

<pre class="verbatim">\markup {
  \fill-line {
    \hspace #1
    \column {
      \line { O sacrum convivium }
      \line { in quo Christus sumitur, }
      \line { recolitur memoria passionis ejus, }
      \line { mens impletur gratia, }
      \line { futurae gloriae nobis pignus datur. }
      \line { Amen. }
    }
    \hspace #2
    \column {
      \line { \italic { O sacred feast } }
      \line { \italic { in which Christ is received, } }
      \line { \italic { the memory of His Passion is renewed, } }
      \line { \italic { the mind is filled with grace, } }
      \line { \italic { and a pledge of future glory is given to us. } }
      \line { \italic { Amen. } }
    }
    \hspace #1
  }
}
</pre><p>
 <a href="00/lily-54c604e2.ly">
  <img align="middle"
       border="0"
       src="00/lily-54c604e2.png"
       alt="[image of music]">
 </a>
</p>




<a name="three-sided-box.ly"></a>
<hr size="6">
<a name="Stand_002dalone-two_002dcolumn-markup"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Stand_002dalone-two_002dcolumn-markup" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Stand-alone two-column markup&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#UTF_002d8" title="Next section in reading order" accesskey="n" rel="next">&nbsp;UTF-8 &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Three-sided box</h2>


<p>This example shows how to add a markup command to get a three sided box
around some text (or other markup).
</p>

<pre class="verbatim">% New command to add a three sided box, with sides north, west and south
% Based on the box-stencil command defined in scm/stencil.scm
% Note that &quot;;&quot; is used to comment a line in Scheme
#(define-public (NWS-box-stencil stencil thickness padding)
  &quot;Add a box around STENCIL, producing a new stencil.&quot;
  (let* ((x-ext (interval-widen (ly:stencil-extent stencil 0) padding))
         (y-ext (interval-widen (ly:stencil-extent stencil 1) padding))
         (y-rule (make-filled-box-stencil (cons 0 thickness) y-ext))
         (x-rule (make-filled-box-stencil
                  (interval-widen x-ext thickness) (cons 0 thickness))))
;    (set! stencil (ly:stencil-combine-at-edge stencil X 1 y-rule padding))
    (set! stencil (ly:stencil-combine-at-edge stencil X -1 y-rule padding))
    (set! stencil (ly:stencil-combine-at-edge stencil Y 1 x-rule 0.0))
    (set! stencil (ly:stencil-combine-at-edge stencil Y -1 x-rule 0.0))
    stencil))

% The corresponding markup command, based on the \box command defined 
% in scm/define-markup-commands.scm
#(define-markup-command (NWS-box layout props arg) (markup?)
  &quot;Draw a box round @var{arg}.  Looks at @code{thickness},
@code{box-padding} and @code{font-size} properties to determine line
thickness and padding around the markup.&quot;  
  (let* ((th (chain-assoc-get 'thickness props  0.1))
         (size (chain-assoc-get 'font-size props 0))
         (pad (* (magstep size)
                 (chain-assoc-get 'box-padding props 0.2)))
         (m (interpret-markup layout props arg)))
    (NWS-box-stencil m th pad)))

% Test it:

\layout { ragged-right = ##f }
\relative c' {
  c2^\markup { \NWS-box ABCD }
  c2^\markup { \NWS-box \note #&quot;4&quot; #1.0 }
}

</pre><p>
 <a href="6b/lily-68585188.ly">
  <img align="middle"
       border="0"
       src="6b/lily-68585188.png"
       alt="[image of music]">
 </a>
</p>




<a name="utf-8.ly"></a>
<hr size="6">
<a name="UTF_002d8"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Stand_002dalone-two_002dcolumn-markup" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vocal ensemble template with lyrics aligned below and above the staves &gt; </a>]</td></tr></table>
<a name="UTF_002d8"></a>
<h2 class="unnumberedsec">UTF-8</h2>


<p>Various scripts may be used for texts (like titles and lyrics) by
entering them in UTF-8 encoding, and using a Pango based backend. 
Depending on the fonts installed, this fragment will render Bulgarian
(Cyrillic), Hebrew, Japanese and Portuguese.
</p>

<pre class="verbatim">% end verbatim - this comment is a hack to prevent texinfo.tex
% from choking on non-European UTF-8 subsets

%% Edit this file using a Unicode aware editor, such as GVIM, GEDIT, Emacs

%{

You may have to install additional fonts.

Red Hat Fedora

    taipeifonts fonts-xorg-truetype ttfonts-ja fonts-arabic \
   ttfonts-zh_CN fonts-ja fonts-hebrew 

Debian GNU/Linux

   apt-get install emacs-intl-fonts xfonts-intl-.* \
  ttf-kochi-gothic ttf-kochi-mincho \
  xfonts-bolkhov-75dpi xfonts-cronyx-100dpi xfonts-cronyx-75dpi 
%}

% Cyrillic font
bulgarian = \lyricmode {
  Жълтата дюля беше щастлива, че пухът, който цъфна, замръзна като гьон.
}

hebrew = \lyricmode {
  זה כיף סתם לשמוע איך תנצח קרפד עץ טוב בגן.
}

japanese = \lyricmode {
  いろはにほへど ちりぬるを
  わがよたれぞ  つねならむ
  うゐのおくや  まけふこえて
  あさきゆめみじ ゑひもせず
}

% &quot;a legal song to you&quot;
portuguese = \lyricmode {
  à vo -- cê uma can -- ção legal
}

\relative c' {
  c2 d
  e2 f
  g2 f
  e1
}
\addlyrics { \bulgarian }
\addlyrics { \hebrew }
\addlyrics { \japanese }
\addlyrics { \portuguese }
</pre><p>
 <a href="42/lily-72d1e0fa.ly">
  <img align="middle"
       border="0"
       src="42/lily-72d1e0fa.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves.ly"></a>
<hr size="6">
<a name="Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#UTF_002d8" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; UTF-8&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves"></a>
<h2 class="unnumberedsec">Vocal ensemble template with lyrics aligned below and above the staves</h2>


<p>This template is basically the same as the simple &quot;Vocal ensemble&quot;
template, with the exception that here all the lyrics lines are placed
using <code>alignAboveContext</code> and <code>alignBelowContext</code>.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords = \lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  \new ChoirStaff &lt;&lt;
    \new Staff = women &lt;&lt;
      \new Voice = &quot;sopranos&quot; { \voiceOne &lt;&lt; \global \sopMusic &gt;&gt; }
      \new Voice = &quot;altos&quot; { \voiceTwo &lt;&lt; \global \altoMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = women } \lyricsto sopranos \sopWords
    \new Lyrics \with { alignBelowContext = women } \lyricsto altos \altoWords
    % we could remove the line about this with the line below, since we want
    % the alto lyrics to be below the alto Voice anyway.
    % \new Lyrics \lyricsto altos \altoWords
    
    \new Staff = men &lt;&lt;
      \clef bass
      \new Voice = &quot;tenors&quot; { \voiceOne &lt;&lt; \global \tenorMusic &gt;&gt; }
      \new Voice = &quot;basses&quot; { \voiceTwo &lt;&lt; \global \bassMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = men } \lyricsto tenors \tenorWords
    \new Lyrics \with { alignBelowContext = men } \lyricsto basses \bassWords
    % again, we could replace the line above this with the line below.
    % \new Lyrics \lyricsto basses \bassWords
  &gt;&gt;
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="45/lily-b608b16a.ly">
  <img align="middle"
       border="0"
       src="45/lily-b608b16a.png"
       alt="[image of music]">
 </a>
</p>




<a name="volta-text-markup-using-repeatcommands.ly"></a>
<hr size="6">
<a name="Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Vocal-music" title="Next chapter">&nbsp;Vocal music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vocal ensemble template with lyrics aligned below and above the staves&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Text" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vocal music &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Volta text markup using repeatCommands</h2>


<p>Though volte are best specified using <code>\repeat volta</code>, the
context property <code>repeatCommands</code> must be used in cases where the
volta text needs more advanced formatting with <code>\markup</code>.
</p>
<p>Since <code>repeatCommands</code> takes a list, the simplest method of
including markup is to use an identifier for the text and embed it in
the command list using the Scheme syntax <code>#(list (list 'volta
textIdentifier))</code>. Start- and end-repeat commands can be added as
separate list elements: 
</p>

<pre class="verbatim">voltaAdLib = \markup { 1. 2. 3... \text \italic { ad lib. } }

\relative c'' {
  c1
  \set Score.repeatCommands = #(list (list 'volta voltaAdLib) 'start-repeat)
  c4 b d e
  \set Score.repeatCommands = #'((volta #f) (volta &quot;4.&quot;) end-repeat)
  f1
  \set Score.repeatCommands = #'((volta #f))
}
</pre><p>
 <a href="be/lily-3c93e1a8.ly">
  <img align="middle"
       border="0"
       src="be/lily-3c93e1a8.png"
       alt="[image of music]">
 </a>
</p>





<hr size="6">
<a name="Vocal-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Text" title="Beginning of this chapter or previous chapter"> &lt;&lt; Text&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Vocal-music"></a>
<h1 class="unnumbered">Vocal music</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Vocal-music">Vocal music</a>.
</p>

<a name="adding-ambitus-per-voice.ly"></a>
<hr size="6">
<a name="Vocal-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding ambitus per voice</h2>


<p>Ambitus can be added per voice. In this case, the ambitus must be moved
manually to prevent collisions. 
</p>

<pre class="verbatim">\new Staff &lt;&lt;
  \new Voice \with {
    \consists &quot;Ambitus_engraver&quot;
  } \relative c'' {
    \override Ambitus #'X-offset = #2.0
    \voiceOne
    c4 a d e
    f1
  }
  \new Voice \with {
    \consists &quot;Ambitus_engraver&quot;
  } \relative c' {
    \voiceTwo
    es4 f g as
    b1
  }
&gt;&gt;

</pre><p>
 <a href="22/lily-9f6c2419.ly">
  <img align="middle"
       border="0"
       src="22/lily-9f6c2419.png"
       alt="[image of music]">
 </a>
</p>




<a name="adjusting-lyrics-vertical-spacing.ly"></a>
<hr size="6">
<a name="Vocal-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adjusting lyrics vertical spacing</h2>


<p>This snippet shows how to bring the lyrics line closer to the staff.
</p>

<pre class="verbatim">% Default layout:
&lt;&lt;
  \new Staff \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \lyricsto melody { aa aa aa aa aa aa aa aa aa }

% Reducing the minimum space below the staff and above the lyrics:
  \new Staff \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1 . 4)
  }
  \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1.2 . 1)
  }
  \lyricsto melody { aa aa aa aa aa aa aa aa aa }
&gt;&gt;

</pre><p>
 <a href="56/lily-5a2565ed.ly">
  <img align="middle"
       border="0"
       src="56/lily-5a2565ed.png"
       alt="[image of music]">
 </a>
</p>




<a name="ambitus-with-multiple-voices.ly"></a>
<hr size="6">
<a name="Vocal-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Ambitus with multiple voices</h2>


<p>Adding the <code>Ambitus_engraver</code> to the <code>Staff</code> context creates
a single ambitus per staff, even in the case of staves with multiple
voices. 
</p>

<pre class="verbatim">\new Staff \with {
  \consists &quot;Ambitus_engraver&quot;
  }
&lt;&lt;
  \new Voice \relative c'' {
    \voiceOne
    c4 a d e
    f1
  }
  \new Voice \relative c' {
    \voiceTwo
    es4 f g as
    b1
  }
&gt;&gt;


</pre><p>
 <a href="11/lily-12cd208a.ly">
  <img align="middle"
       border="0"
       src="11/lily-12cd208a.png"
       alt="[image of music]">
 </a>
</p>




<a name="ambitus.ly"></a>
<hr size="6">
<a name="Vocal-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-stanza-fonts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing stanza fonts &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Ambitus</h2>


<p>Ambitus indicate pitch ranges for voices.
</p>

<p>Accidentals only show up if they are not part of the key signature. 
<code>AmbitusNoteHead</code> grobs also have ledger lines. 
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    \consists &quot;Ambitus_engraver&quot;
  }
}

&lt;&lt;
  \new Staff {
    \relative c' {
      \time 2/4
      c4 f'
    }
  }
  \new Staff {
    \relative c' {
      \time  2/4
      \key d \major
      cis4 as'
    }
  }
&gt;&gt;

</pre><p>
 <a href="0f/lily-94e65d7e.ly">
  <img align="middle"
       border="0"
       src="0f/lily-94e65d7e.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-stanza-fonts.ly"></a>
<hr size="6">
<a name="Changing-stanza-fonts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-stanza-fonts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Changing-stanza-fonts"></a>
<h2 class="unnumberedsec">Changing stanza fonts</h2>


<p>Fonts can be changed independently for each stanza, including the font
used for printing the stanza number.
</p>

<pre class="verbatim">\new Voice {
  \time 3/4
  g2 e4
  a2 f4
  g2.
}
\addlyrics {
  \set stanza = #&quot;1. &quot;
  Hi, my name is Bert.
}
\addlyrics {
  \override StanzaNumber #'font-name = #&quot;DejaVu&quot;
  \set stanza = #&quot;2. &quot;
  \override LyricText #'font-family = #'typewriter
  Oh, ché -- ri, je t'aime
}

</pre><p>
 <a href="08/lily-885f68f1.ly">
  <img align="middle"
       border="0"
       src="08/lily-885f68f1.png"
       alt="[image of music]">
 </a>
</p>




<a name="chant-or-psalms-notation.ly"></a>
<hr size="6">
<a name="Changing-stanza-fonts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-stanza-fonts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing stanza fonts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-stanza-fonts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Chant or psalms notation</h2>


<p>This form of notation is used for the chant of the Psalms, where verses
aren&rsquo;t always the same length.
</p>

<pre class="verbatim">stemOn = { \revert Staff.Stem #'transparent }
stemOff = { \override Staff.Stem #'transparent = ##t }

\score {
  \new Staff \with { \remove &quot;Time_signature_engraver&quot; }
  {
    \key g \minor
    \cadenzaOn
    \stemOff a'\breve bes'4 g'4
    \stemOn a'2 \bar &quot;||&quot;
    \stemOff a'\breve g'4 a'4
    \stemOn f'2 \bar &quot;||&quot;
    \stemOff a'\breve^\markup { \italic flexe }
    \stemOn g'2 \bar &quot;||&quot;
  }
}

</pre><p>
 <a href="5b/lily-c5ec2b57.ly">
  <img align="middle"
       border="0"
       src="5b/lily-c5ec2b57.png"
       alt="[image of music]">
 </a>
</p>




<a name="formatting-lyrics-syllables.ly"></a>
<hr size="6">
<a name="Changing-stanza-fonts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-stanza-fonts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-stanza-fonts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Formatting lyrics syllables</h2>


<p>To format individual syllables in lyrics, use <code>\markup { ....
}</code> on these lyrics.
</p>

<pre class="verbatim">% Tip taken from http://lists.gnu.org/archive/html/lilypond-user/2007-12/msg00215.html
\header {
  title = &quot;Markup can be used inside lyrics!&quot;
}

mel = \relative c'' { c4 c c c }
lyr = \lyricmode {
  Lyrics \markup { \italic &quot;can&quot; } \markup {\with-color #red &quot;contain&quot; }
  \markup {\fontsize #8 \bold &quot;Markup!&quot; }
}

&lt;&lt;
  \context Voice = melody \mel
  \context Lyrics \lyricsto melody \lyr
&gt;&gt;


</pre><p>
 <a href="d9/lily-20056645.ly">
  <img align="middle"
       border="0"
       src="d9/lily-20056645.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-put-ties-between-syllables-in-lyrics.ly"></a>
<hr size="6">
<a name="Changing-stanza-fonts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-stanza-fonts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-stanza-fonts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">How to put ties between syllables in lyrics</h2>


<p>This can be achieved by separating those syllables by tildes.  
</p>

<pre class="verbatim">\lyrics {
  wa~o~a 
}

</pre><p>
 <a href="e8/lily-0f1cf233.ly">
  <img align="middle"
       border="0"
       src="e8/lily-0f1cf233.png"
       alt="[image of music]">
 </a>
</p>




<a name="lyrics-alignment.ly"></a>
<hr size="6">
<a name="Changing-stanza-fonts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-stanza-fonts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-stanza-fonts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Lyrics alignment</h2>


<p>Horizontal alignment for lyrics cam be set by overriding the
<code>self-alignment-X</code> property of the <code>LyricText</code> object.
<code>#-1</code> is left, <code>#0</code> is center and <code>#1</code> is right;
however, you can use <code>#LEFT</code>, <code>#CENTER</code> and <code>#RIGHT</code> as
well. 
</p>

<pre class="verbatim">\layout { ragged-right = ##f }
\relative c'' {
  c1
  c1
  c1
}
\addlyrics {
  \once \override LyricText #'self-alignment-X = #LEFT
  &quot;This is left-aligned&quot;
  \once \override LyricText #'self-alignment-X = #CENTER
  &quot;This is centered&quot; 
  \once \override LyricText #'self-alignment-X = #1
  &quot;This is right-aligned&quot;
}

</pre><p>
 <a href="1b/lily-ea280c8c.ly">
  <img align="middle"
       border="0"
       src="1b/lily-ea280c8c.png"
       alt="[image of music]">
 </a>
</p>




<a name="marking-notes-of-spoken-parts-with-a-cross-on-the-stem.ly"></a>
<hr size="6">
<a name="Changing-stanza-fonts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-stanza-fonts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-with-melody-and-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Piano template with melody and lyrics &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Marking notes of spoken parts with a cross on the stem</h2>


<p>This example shows how to put crosses on stems.  Mark the beginning of
a spoken section with the <code>\speakOn</code> keyword, and end it with the
<code>\speakOff</code> keyword.
</p>

<pre class="verbatim">speakOn = {
  \override Stem #'stencil = #(lambda (grob)
    (let* ((x-parent (ly:grob-parent grob X))
           (is-rest? (ly:grob? (ly:grob-object x-parent 'rest))))
      (if is-rest?
        empty-stencil
        (ly:stencil-combine-at-edge
          (ly:stem::print grob)
          Y
          (- (ly:grob-property grob 'direction))
          (grob-interpret-markup grob
            (markup #:hspace -1.025 #:fontsize -4
              #:musicglyph &quot;noteheads.s2cross&quot;))
          -2.3 0))))
}

speakOff = {
  \revert Stem #'stencil
}

\score {
  \new Staff {
    \relative c'' {
      a4 b a c
      \speakOn
      g4 f r g
      b4 r d e
      \speakOff
      c4 a g f
    }
  }
}

</pre><p>
 <a href="69/lily-c46ac3f1.ly">
  <img align="middle"
       border="0"
       src="69/lily-c46ac3f1.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-melody-and-lyrics.ly"></a>
<hr size="6">
<a name="Piano-template-with-melody-and-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-stanza-fonts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Single staff template with notes &gt; </a>]</td></tr></table>
<a name="Piano-template-with-melody-and-lyrics"></a>
<h2 class="unnumberedsec">Piano template with melody and lyrics</h2>


<p>Here is a typical song format: one staff with the melody and lyrics,
with piano accompaniment underneath. 
</p>

<pre class="verbatim">melody = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a b c d  
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

\score {
  &lt;&lt;
    \new Voice = &quot;mel&quot; { \autoBeamOff \melody }
    \new Lyrics \lyricsto mel \text    
    \new PianoStaff &lt;&lt;
      \new Staff = &quot;upper&quot; \upper
      \new Staff = &quot;lower&quot; \lower
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context { \RemoveEmptyStaffContext }
  }
  \midi { }
}

</pre><p>
 <a href="62/lily-c6e42fc9.ly">
  <img align="middle"
       border="0"
       src="62/lily-c6e42fc9.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes,-lyrics,-and-chords.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-with-melody-and-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Piano template with melody and lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Single-staff-template-with-notes"></a>
<h2 class="unnumberedsec">Single staff template with notes, lyrics, and chords</h2>


<p>This template allows the preparation of a song with melody, words, and
chords. 
</p>

<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

harmonies = \chordmode {
  a2 c
}

\score {
  &lt;&lt;
    \new ChordNames {
      \set chordChanges = ##t
      \harmonies
    }
    \new Voice = &quot;one&quot; { \autoBeamOff \melody }
    \new Lyrics \lyricsto &quot;one&quot; \text
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="be/lily-11b65b1b.ly">
  <img align="middle"
       border="0"
       src="be/lily-11b65b1b.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes,-lyrics,-chords-and-frets.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Single staff template with notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-notes-and-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Single staff template with notes and lyrics &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Single staff template with notes, lyrics, chords and frets</h2>


<p>Here is a simple lead sheet template with melody, lyrics, chords and
fret diagrams.
</p>

<pre class="verbatim">verseI = \lyricmode {
  \set stanza = #&quot;1.&quot;
  This is the first verse
}

verseII = \lyricmode {
  \set stanza = #&quot;2.&quot;
  This is the second verse.
}

theChords = \chordmode {
  % insert chords for chordnames and fretboards here
  c2 g4 c
}

staffMelody = \relative c' {
   \key c \major
   \clef treble
   % Type notes for melody here
   c4 d8 e f4 g
   \bar &quot;|.&quot;
}

\score {
  &lt;&lt;
    \context ChordNames { \theChords }
    \context FretBoards { \theChords }
    \new Staff {
      \context Voice = &quot;voiceMelody&quot; { \staffMelody }
    }
    \new Lyrics = &quot;lyricsI&quot; {
      \lyricsto &quot;voiceMelody&quot; \verseI
    }
    \new Lyrics = &quot;lyricsII&quot; {
      \lyricsto &quot;voiceMelody&quot; \verseII
    }
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="85/lily-0e9127ce.ly">
  <img align="middle"
       border="0"
       src="85/lily-0e9127ce.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes-and-lyrics.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-notes-and-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-notes-and-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Single-staff-template-with-notes-and-lyrics"></a>
<h2 class="unnumberedsec">Single staff template with notes and lyrics</h2>


<p>This small template demonstrates a simple melody with lyrics. Cut and
paste, add notes, then words for the lyrics. This example turns off
automatic beaming, which is common for vocal parts. To use automatic
beaming, change or comment out the relevant line.
</p>

<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

\score{
  &lt;&lt;
    \new Voice = &quot;one&quot; {
      \autoBeamOff
      \melody
    }
    \new Lyrics \lyricsto &quot;one&quot; \text
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="cc/lily-0df0fb81.ly">
  <img align="middle"
       border="0"
       src="cc/lily-0df0fb81.png"
       alt="[image of music]">
 </a>
</p>




<a name="skips-in-lyric-mode-2.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-notes-and-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-notes-and-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Single staff template with notes and lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-notes-and-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Skips in lyric mode (2)</h2>


<p>Although <code>s</code> skips cannot be used in <code>\lyricmode</code> (it is
taken to be a literal &quot;s&quot;, not a space), double quotes (<code>&quot;&quot;</code>)
or underscores (<code>_</code>) are available.So for example: 
</p>

<pre class="verbatim">&lt;&lt;
  \relative c'' { a4 b c d }
  \new Lyrics \lyricmode { a4 &quot;&quot; _ gap }
&gt;&gt;

</pre><p>
 <a href="48/lily-2e16ec9b.ly">
  <img align="middle"
       border="0"
       src="48/lily-2e16ec9b.png"
       alt="[image of music]">
 </a>
</p>




<a name="skips-in-lyric-mode.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-notes-and-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-notes-and-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertically-aligning-ossias-and-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vertically aligning ossias and lyrics &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Skips in lyric mode</h2>


<p>The <code>s</code> syntax for skips is only available in note mode and chord
mode. In other situations, for example, when entering lyrics, using the
<code>\skip</code> command is recommended. 
</p>

<pre class="verbatim">&lt;&lt;
  \relative { a'1 a }
  \new Lyrics \lyricmode { \skip 1 bla1 }
&gt;&gt;

</pre><p>
 <a href="20/lily-46571fbe.ly">
  <img align="middle"
       border="0"
       src="20/lily-46571fbe.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligning-ossias-and-lyrics.ly"></a>
<hr size="6">
<a name="Vertically-aligning-ossias-and-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-notes-and-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertically-centered-common-lyrics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vertically centered common lyrics &gt; </a>]</td></tr></table>
<a name="Vertically-aligning-ossias-and-lyrics"></a>
<h2 class="unnumberedsec">Vertically aligning ossias and lyrics</h2>


<p>This snippet demonstrates the use of the context properties
<code>alignBelowContext</code> and <code>alignAboveContext</code> to control the
positioning of lyrics and ossias.
</p>

<pre class="verbatim">\paper {
  ragged-right = ##t
}

\relative c' &lt;&lt;
  \new Staff = &quot;1&quot; { c4 c s2 }
  \new Staff = &quot;2&quot; { c4 c s2 }
  \new Staff = &quot;3&quot; { c4 c s2 }
  { \skip 2
    &lt;&lt;
      \lyrics {
        \set alignBelowContext = #&quot;1&quot;
        lyrics4 below
      }
      \new Staff \with {
        alignAboveContext = #&quot;3&quot;
        fontSize = #-2
        \override StaffSymbol #'staff-space = #(magstep -2)
        \remove &quot;Time_signature_engraver&quot;
      } {
        \times 4/6 {
          \override TextScript #'padding = #3
          c8[^&quot;ossia above&quot; d e d e f]
        }
      }
    &gt;&gt;
  }
&gt;&gt;

</pre><p>
 <a href="4d/lily-192a19d8.ly">
  <img align="middle"
       border="0"
       src="4d/lily-192a19d8.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-centered-common-lyrics.ly"></a>
<hr size="6">
<a name="Vertically-centered-common-lyrics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertically-aligning-ossias-and-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vertically aligning ossias and lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-ensemble-template-with-automatic-piano-reduction" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vocal ensemble template with automatic piano reduction &gt; </a>]</td></tr></table>
<a name="Vertically-centered-common-lyrics"></a>
<h2 class="unnumberedsec">Vertically centered common lyrics</h2>


<p>In a vocal piece where there are several (two,four or more) lines of
lyrics, and common lyrics for all voices at some point, these common
lyrics may be vertically centered regardingly, as shown in the
following example:
</p>

<pre class="verbatim">\include &quot;english.ly&quot;
leftbrace = \markup { \override #'(font-encoding . fetaBraces) \lookup #&quot;brace240&quot; }
rightbrace = \markup { \rotate #180 \leftbrace }

dropLyrics =
{
    \override LyricText #'extra-offset = #'(0 . -5)
    \override LyricHyphen #'extra-offset = #'(0 . -5)
    \override LyricExtender #'extra-offset = #'(0 . -5)
}

raiseLyrics =
{
    \revert LyricText #'extra-offset
    \revert LyricHyphen #'extra-offset
    \revert LyricExtender #'extra-offset
}

skipFour = \repeat unfold 4 { \skip 8 }

lyricsA = \lyricmode { The first verse has \dropLyrics the com -- mon
__ words \raiseLyrics used in all four. }
lyricsB = \lyricmode { In stan -- za two, \skipFour al -- so ap -- pear. }
lyricsC = \lyricmode { By the third verse, \skipFour are get -- ting dull. }
lyricsD = \lyricmode { Last stan -- za, and \skipFour get used once more. }

melody = \relative c' { c4 d e f g f e8( e f) d4 c e d c }

\score
{
        &lt;&lt;
                \new Voice = m \melody
                \new Lyrics \lyricsto m \lyricsA
                \new Lyrics \lyricsto m \lyricsB
                \new Lyrics \lyricsto m \lyricsC
                \new Lyrics \lyricsto m \lyricsD
        &gt;&gt;
}

</pre><p>
 <a href="43/lily-4b1cccc8.ly">
  <img align="middle"
       border="0"
       src="43/lily-4b1cccc8.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template-with-automatic-piano-reduction.ly"></a>
<hr size="6">
<a name="Vocal-ensemble-template-with-automatic-piano-reduction"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertically-centered-common-lyrics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vertically centered common lyrics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-ensemble-template-with-automatic-piano-reduction" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Vocal-ensemble-template-with-automatic-piano-reduction"></a>
<h2 class="unnumberedsec">Vocal ensemble template with automatic piano reduction</h2>


<p>This template adds an automatic piano reduction to the standard SATB
vocal score demonstrated in &quot;Vocal ensemble template&quot;. This
demonstrates one of the strengths of LilyPond – you can use a music
definition more than once. If any changes are made to the vocal notes
(say, <code>tenorMusic</code>), then the changes will also apply to the piano
reduction.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords =\lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  &lt;&lt;
    \new ChoirStaff &lt;&lt;
      \new Lyrics = sopranos { s1 }
      \new Staff = women &lt;&lt;
        \new Voice = sopranos { \voiceOne &lt;&lt; \global \sopMusic &gt;&gt; }
        \new Voice = altos { \voiceTwo &lt;&lt; \global \altoMusic &gt;&gt; }
      &gt;&gt;
      \new Lyrics = altos { s1 }
      \new Lyrics = tenors { s1 }
      \new Staff = men &lt;&lt;
        \clef bass
        \new Voice = tenors { \voiceOne &lt;&lt;\global \tenorMusic &gt;&gt; }
        \new Voice = basses { \voiceTwo &lt;&lt;\global \bassMusic &gt;&gt; }
      &gt;&gt;
      \new Lyrics = basses { s1 }
      \context Lyrics = sopranos \lyricsto sopranos \sopWords
      \context Lyrics = altos \lyricsto altos \altoWords
      \context Lyrics = tenors \lyricsto tenors \tenorWords
      \context Lyrics = basses \lyricsto basses \bassWords
    &gt;&gt;
    \new PianoStaff &lt;&lt;
      \new Staff &lt;&lt;
        \set Staff.printPartCombineTexts = ##f
        \partcombine
        &lt;&lt; \global \sopMusic &gt;&gt;
        &lt;&lt; \global \altoMusic &gt;&gt;
      &gt;&gt;
      \new Staff &lt;&lt;
        \clef bass
        \set Staff.printPartCombineTexts = ##f
        \partcombine
        &lt;&lt; \global \tenorMusic &gt;&gt;
        &lt;&lt; \global \bassMusic &gt;&gt;
      &gt;&gt;
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="fa/lily-db838dfc.ly">
  <img align="middle"
       border="0"
       src="fa/lily-db838dfc.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves.ly"></a>
<hr size="6">
<a name="Vocal-ensemble-template-with-automatic-piano-reduction"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-ensemble-template-with-automatic-piano-reduction" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vocal ensemble template with automatic piano reduction&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vocal-ensemble-template" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vocal ensemble template &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vocal ensemble template with lyrics aligned below and above the staves</h2>


<p>This template is basically the same as the simple &quot;Vocal ensemble&quot;
template, with the exception that here all the lyrics lines are placed
using <code>alignAboveContext</code> and <code>alignBelowContext</code>.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords = \lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  \new ChoirStaff &lt;&lt;
    \new Staff = women &lt;&lt;
      \new Voice = &quot;sopranos&quot; { \voiceOne &lt;&lt; \global \sopMusic &gt;&gt; }
      \new Voice = &quot;altos&quot; { \voiceTwo &lt;&lt; \global \altoMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = women } \lyricsto sopranos \sopWords
    \new Lyrics \with { alignBelowContext = women } \lyricsto altos \altoWords
    % we could remove the line about this with the line below, since we want
    % the alto lyrics to be below the alto Voice anyway.
    % \new Lyrics \lyricsto altos \altoWords
    
    \new Staff = men &lt;&lt;
      \clef bass
      \new Voice = &quot;tenors&quot; { \voiceOne &lt;&lt; \global \tenorMusic &gt;&gt; }
      \new Voice = &quot;basses&quot; { \voiceTwo &lt;&lt; \global \bassMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = men } \lyricsto tenors \tenorWords
    \new Lyrics \with { alignBelowContext = men } \lyricsto basses \bassWords
    % again, we could replace the line above this with the line below.
    % \new Lyrics \lyricsto basses \bassWords
  &gt;&gt;
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="45/lily-b608b16a.ly">
  <img align="middle"
       border="0"
       src="45/lily-b608b16a.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template.ly"></a>
<hr size="6">
<a name="Vocal-ensemble-template"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Chords" title="Next chapter">&nbsp;Chords &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-ensemble-template-with-automatic-piano-reduction" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Vocal-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Vocal music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Chords" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Chords &gt; </a>]</td></tr></table>
<a name="Vocal-ensemble-template"></a>
<h2 class="unnumberedsec">Vocal ensemble template</h2>


<p>Here is a standard four-part SATB vocal score. With larger ensembles,
it is often useful to include a section which is included in all parts.
For example, the time signature and key signature are almost always the
same for all parts. Like in the &quot;Hymn&quot; template, the four voices are
regrouped on only two staves.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords = \lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  \new ChoirStaff &lt;&lt;
    \new Lyrics = sopranos { s1 }
    \new Staff = women &lt;&lt;
      \new Voice = &quot;sopranos&quot; {
        \voiceOne
        &lt;&lt; \global \sopMusic &gt;&gt;
      }
      \new Voice = &quot;altos&quot; {
        \voiceTwo
        &lt;&lt; \global \altoMusic &gt;&gt;
      }
    &gt;&gt;
    \new Lyrics = &quot;altos&quot; { s1 }
    \new Lyrics = &quot;tenors&quot; { s1 }
    \new Staff = men &lt;&lt;
      \clef bass
      \new Voice = &quot;tenors&quot; {
        \voiceOne
        &lt;&lt; \global \tenorMusic &gt;&gt;
      }
      \new Voice = &quot;basses&quot; {
        \voiceTwo &lt;&lt; \global \bassMusic &gt;&gt;
      }
    &gt;&gt;
    \new Lyrics = basses { s1 }    
    \context Lyrics = sopranos \lyricsto sopranos \sopWords
    \context Lyrics = altos \lyricsto altos \altoWords
    \context Lyrics = tenors \lyricsto tenors \tenorWords
    \context Lyrics = basses \lyricsto basses \bassWords
  &gt;&gt;  
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="3f/lily-e9336a36.ly">
  <img align="middle"
       border="0"
       src="3f/lily-e9336a36.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Chords"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Vocal-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; Vocal music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vocal-ensemble-template" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vocal ensemble template&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-a-figured-bass-above-or-below-the-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding a figured bass above or below the notes &gt; </a>]</td></tr></table>
<a name="Chords"></a>
<h1 class="unnumbered">Chords</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Chord-notation">Chord notation</a>.
</p>

<a name="adding-a-figured-bass-above-or-below-the-notes.ly"></a>
<hr size="6">
<a name="Adding-a-figured-bass-above-or-below-the-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Chords" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-bar-lines-to-ChordNames-context" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding bar lines to ChordNames context &gt; </a>]</td></tr></table>
<a name="Adding-a-figured-bass-above-or-below-the-notes"></a>
<h2 class="unnumberedsec">Adding a figured bass above or below the notes</h2>


<p>When writing a figured bass, here&rsquo;s a way to specify if you want your
figures to be placed above or below the bass notes, by defining the
<code>BassFigureAlignmentPositioning #'direction</code> property (exclusively
in a <code>Staff</code> context). Choices are <code>#UP</code> (or <code>#1</code>),
<code>#CENTER</code> (or <code>#0</code>) and <code>#DOWN</code> (or <code>#-1</code>).
</p>
<p>As you can see here, this property can be changed as many times as you
wish. Use <code>\once \override</code> if you don&rsquo;t want the tweak to apply
to the whole score. 
</p>

<pre class="verbatim">bass = {
  \clef bass
  g4 b, c d
  e d8 c d2
}
continuo = \figuremode {
  &lt;_&gt;4 &lt;6&gt;8
  \once \override Staff.BassFigureAlignmentPositioning #'direction = #CENTER
  &lt;5/&gt;8 &lt;_&gt;4
  \override Staff.BassFigureAlignmentPositioning #'direction = #UP
  &lt;_+&gt;4 &lt;6&gt;
  \set Staff.useBassFigureExtenders = ##t
  \override Staff.BassFigureAlignmentPositioning #'direction = #DOWN
  &lt;4&gt;4. &lt;4&gt;8 &lt;_+&gt;4
}
\score {
  &lt;&lt;
    \new Staff = bassStaff \bass
    \context Staff = bassStaff \continuo
  &gt;&gt;
}


</pre><p>
 <a href="df/lily-d5d755e5.ly">
  <img align="middle"
       border="0"
       src="df/lily-d5d755e5.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-bar-lines-to-chordnames-context.ly"></a>
<hr size="6">
<a name="Adding-bar-lines-to-ChordNames-context"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-a-figured-bass-above-or-below-the-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding a figured bass above or below the notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-bar-lines-to-ChordNames-context" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Adding-bar-lines-to-ChordNames-context"></a>
<h2 class="unnumberedsec">Adding bar lines to ChordNames context</h2>


<p>To add bar line indications in the <code>ChordNames</code> context, add the
<code>Bar_engraver</code>.
</p>

<pre class="verbatim">\new ChordNames \with {
  \override BarLine #'bar-size = #4
  \consists &quot;Bar_engraver&quot;
}
\chordmode {
  f1:maj7 f:7 bes:7 
}


</pre><p>
 <a href="94/lily-7395b54c.ly">
  <img align="middle"
       border="0"
       src="94/lily-7395b54c.png"
       alt="[image of music]">
 </a>
</p>




<a name="avoiding-collisions-with-chord-fingerings.ly"></a>
<hr size="6">
<a name="Adding-bar-lines-to-ChordNames-context"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-bar-lines-to-ChordNames-context" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding bar lines to ChordNames context&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-chord-separator" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing chord separator &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Avoiding collisions with chord fingerings</h2>


<p>Fingerings and string numbers applied to individual notes will
automatically avoid beams and stems, but this is not true by default
for fingerings and string numbers applied to the individual notes of
chords.  The following example shows how this default behavior can be
overridden.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(up)
  \set stringNumberOrientations = #'(up)
  \set strokeFingerOrientations = #'(up)
  
  % Default behavior
  r8
  &lt;f c'-5&gt;8
  &lt;f c'\5&gt;8
  &lt;f c'-\rightHandFinger #2 &gt;8
  
  % Corrected to avoid collisions
  r8
  \override Fingering #'add-stem-support = ##t
  &lt;f c'-5&gt;8
  \override StringNumber #'add-stem-support = ##t
  &lt;f c'\5&gt;8
  \override StrokeFinger #'add-stem-support = ##t
  &lt;f c'-\rightHandFinger #2 &gt;8
}

</pre><p>
 <a href="01/lily-9528ce63.ly">
  <img align="middle"
       border="0"
       src="01/lily-9528ce63.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-chord-separator.ly"></a>
<hr size="6">
<a name="Changing-chord-separator"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-bar-lines-to-ChordNames-context" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-chord-names-to-German-or-semi_002dGerman-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the chord names to German or semi-German notation &gt; </a>]</td></tr></table>
<a name="Changing-chord-separator"></a>
<h2 class="unnumberedsec">Changing chord separator</h2>


<p>The separator between different parts of a chord name can be set to any
markup.
</p>

<pre class="verbatim">\chords {
  c:7sus4
  \set chordNameSeparator
    = \markup { \typewriter | }
  c:7sus4
}

</pre><p>
 <a href="50/lily-b4dc37cc.ly">
  <img align="middle"
       border="0"
       src="50/lily-b4dc37cc.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-chord-names-to-german-or-semi-german-notation.ly"></a>
<hr size="6">
<a name="Changing-the-chord-names-to-German-or-semi_002dGerman-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-chord-separator" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing chord separator&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-the-positions-of-figured-bass-alterations" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing the positions of figured bass alterations &gt; </a>]</td></tr></table>
<a name="Changing-the-chord-names-to-German-or-semi_002dGerman-notation"></a>
<h2 class="unnumberedsec">Changing the chord names to German or semi-German notation</h2>


<p>The english naming of chords (default) can be changed to german 
(<code>\germanChords</code> replaces B and Bes to H and B) or semi-german 
(<code>\semiGermanChords</code> replaces B and Bes to H and Bb).
</p>




<pre class="verbatim">music = \chordmode {
  c1/c cis/cis
  b/b bis/bis bes/bes
} 

%% The following is only here to print the names of the
%% chords styles; it can be removed if you do not need to
%% print them.

\layout {
  \context {\ChordNames \consists Instrument_name_engraver }
}

&lt;&lt;
  \new ChordNames {
    \set ChordNames.instrumentName = #&quot;default&quot;
    \music
  }
  \new ChordNames {
    \set ChordNames.instrumentName = #&quot;german&quot;
    \germanChords \music }
  \new ChordNames {
    \set ChordNames.instrumentName = #&quot;semi-german&quot;
    \semiGermanChords \music }
  \context Voice { \music }
&gt;&gt;

</pre><p>
 <a href="d4/lily-669d672f.ly">
  <img align="middle"
       border="0"
       src="d4/lily-669d672f.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-positions-of-figured-bass-alterations.ly"></a>
<hr size="6">
<a name="Changing-the-positions-of-figured-bass-alterations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-chord-names-to-German-or-semi_002dGerman-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the chord names to German or semi-German notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Chord-name-exceptions" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Chord name exceptions &gt; </a>]</td></tr></table>
<a name="Changing-the-positions-of-figured-bass-alterations"></a>
<h2 class="unnumberedsec">Changing the positions of figured bass alterations</h2>


<p>Accidentals and plus signs can appear before or after the numbers,
depending on the <code>figuredBassAlterationDirection</code> and
<code>figuredBassPlusDirection</code> properties.
</p>

<pre class="verbatim">\figures {
  &lt;6\+&gt; &lt;5+&gt; &lt;6 4-&gt; r
  \set figuredBassAlterationDirection = #RIGHT
  &lt;6\+&gt; &lt;5+&gt; &lt;6 4-&gt; r
  \set figuredBassPlusDirection = #RIGHT
  &lt;6\+&gt; &lt;5+&gt; &lt;6 4-&gt; r
  \set figuredBassAlterationDirection = #LEFT
  &lt;6\+&gt; &lt;5+&gt; &lt;6 4-&gt; r
}

</pre><p>
 <a href="f8/lily-3c6cd1af.ly">
  <img align="middle"
       border="0"
       src="f8/lily-3c6cd1af.png"
       alt="[image of music]">
 </a>
</p>




<a name="chord-name-exceptions.ly"></a>
<hr size="6">
<a name="Chord-name-exceptions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-the-positions-of-figured-bass-alterations" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing the positions of figured bass alterations&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#chord-name-major7" title="Next section in reading order" accesskey="n" rel="next">&nbsp;chord name major7 &gt; </a>]</td></tr></table>
<a name="Chord-name-exceptions"></a>
<h2 class="unnumberedsec">Chord name exceptions</h2>


<p>The property <code>chordNameExceptions</code> can be used to store a list of
special notations for specific chords. 
</p>

<pre class="verbatim">% modify maj9 and 6(add9)
% Exception music is chords with markups
chExceptionMusic = {
  &lt;c e g b d'&gt;1-\markup { \super &quot;maj9&quot; }
  &lt;c e g a d'&gt;1-\markup { \super &quot;6(add9)&quot; }
}

% Convert music to list and prepend to existing exceptions.
chExceptions = #( append
  ( sequential-music-to-chord-exceptions chExceptionMusic #t)
  ignatzekExceptions)

theMusic = \chordmode {
  g1:maj9 g1:6.9
  \set chordNameExceptions = #chExceptions
  g1:maj9 g1:6.9
}

\layout {
  ragged-right = ##t 
}

&lt;&lt; \context ChordNames \theMusic
   \context Voice \theMusic
&gt;&gt;  

</pre><p>
 <a href="55/lily-43ead577.ly">
  <img align="middle"
       border="0"
       src="55/lily-43ead577.png"
       alt="[image of music]">
 </a>
</p>




<a name="chord-name-major7.ly"></a>
<hr size="6">
<a name="chord-name-major7"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Chord-name-exceptions" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Chord name exceptions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#chord-name-major7" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="chord-name-major7"></a>
<h2 class="unnumberedsec">chord name major7</h2>


<p>The layout of the major 7 can be tuned with <code>majorSevenSymbol</code>. 
</p>

<pre class="verbatim">\chords {
  c:7+
  \set majorSevenSymbol = \markup { j7 }
  c:7+
}

</pre><p>
 <a href="37/lily-810240d8.ly">
  <img align="middle"
       border="0"
       src="37/lily-810240d8.png"
       alt="[image of music]">
 </a>
</p>




<a name="clusters.ly"></a>
<hr size="6">
<a name="chord-name-major7"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#chord-name-major7" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; chord name major7&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#chord-name-major7" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Clusters</h2>


<p>Clusters are a device to denote that a complete range of notes is to be
played.
</p>

<pre class="verbatim">fragment = \relative c' {
  c4 f &lt;e d'&gt;4
  &lt;g a&gt;8 &lt;e a&gt; a4 c2 &lt;d b&gt;4
  e2 c
}

&lt;&lt;
  \new Staff \fragment
  \new Staff \makeClusters \fragment
&gt;&gt;

</pre><p>
 <a href="3a/lily-c2b6b9c6.ly">
  <img align="middle"
       border="0"
       src="3a/lily-c2b6b9c6.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-placement-of-chord-fingerings.ly"></a>
<hr size="6">
<a name="chord-name-major7"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#chord-name-major7" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#chord-name-major7" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Controlling the placement of chord fingerings</h2>


<p>The placement of fingering numbers can be controlled precisely.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(left)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down right up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(left)
  &lt;c-1&gt;2
  \set fingeringOrientations = #'(down)
  &lt;e-3&gt;2
}


</pre><p>
 <a href="73/lily-c27be62a.ly">
  <img align="middle"
       border="0"
       src="73/lily-c27be62a.png"
       alt="[image of music]">
 </a>
</p>




<a name="displaying-complex-chords.ly"></a>
<hr size="6">
<a name="chord-name-major7"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#chord-name-major7" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Manually-break-figured-bass-extenders-for-only-some-numbers" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Manually break figured bass extenders for only some numbers &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Displaying complex chords</h2>


<p>Here is a way to display a chord where the same note is played twice
with different accidentals.
</p>

<pre class="verbatim">fixA = {
  \once \override Stem #'length = #9
  \once \override Accidental #'extra-offset = #'(0.3 . 0)
}
fixB = {
  \once \override NoteHead #'extra-offset = #'(1.7 . 0)
  \once \override Stem #'rotation = #'(45 0 0)
  \once \override Stem #'extra-offset = #'(-0.2 . -0.2)
  \once \override Stem #'flag-style = #'no-flag
  \once \override Accidental #'extra-offset = #'(3.1 . 0)
}

\relative c' {
  &lt;&lt; { \fixA &lt;b d!&gt;8 } \\ { \voiceThree \fixB dis } &gt;&gt; s
}

</pre><p>
 <a href="e9/lily-f6e42afa.ly">
  <img align="middle"
       border="0"
       src="e9/lily-f6e42afa.png"
       alt="[image of music]">
 </a>
</p>




<a name="manually-break-figured-bass-extenders-for-only-some-numbers.ly"></a>
<hr size="6">
<a name="Manually-break-figured-bass-extenders-for-only-some-numbers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#chord-name-major7" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Showing-chords-at-changes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Showing chords at changes &gt; </a>]</td></tr></table>
<a name="Manually-break-figured-bass-extenders-for-only-some-numbers"></a>
<h2 class="unnumberedsec">Manually break figured bass extenders for only some numbers</h2>


<p>Figured bass often uses extenders to indicate continuation of the
corresponding step. However, in this case lilypond is in greedy-mode
and uses extenders whenever possible. To break individual extenders,
one can simply use a modifier \! to a number, which breaks any
extender attributed to that number right before the number. 
</p>

<pre class="verbatim">bassfigures = \figuremode { 
  \set useBassFigureExtenders = ##t
  &lt;6 4&gt;4 &lt;6 4\!&gt; &lt;6 4\!&gt; &lt;6 4\!&gt; |  &lt;6\! 4\!&gt;  &lt;6 4&gt; &lt;6 4\!&gt; &lt;6 4&gt;
}

&lt;&lt;
  \new Staff \relative c'' { c1 c1 }
  \new FiguredBass \bassfigures
&gt;&gt;



</pre><p>
 <a href="e5/lily-13fabc0f.ly">
  <img align="middle"
       border="0"
       src="e5/lily-13fabc0f.png"
       alt="[image of music]">
 </a>
</p>




<a name="showing-chords-at-changes.ly"></a>
<hr size="6">
<a name="Showing-chords-at-changes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Manually-break-figured-bass-extenders-for-only-some-numbers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Manually break figured bass extenders for only some numbers&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Simple-lead-sheet" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Simple lead sheet &gt; </a>]</td></tr></table>
<a name="Showing-chords-at-changes"></a>
<h2 class="unnumberedsec">Showing chords at changes</h2>


<p>Chord names can be displayed only at the start of lines and when the
chord changes.
</p>

<pre class="verbatim">harmonies = \chordmode {
  c1:m c:m \break c:m c:m d
}
&lt;&lt;
  \new ChordNames {
    \set chordChanges = ##t
    \harmonies
  }
  \new Staff {
    \relative c' { \harmonies }
  }
&gt;&gt;

</pre><p>
 <a href="d8/lily-335e2007.ly">
  <img align="middle"
       border="0"
       src="d8/lily-335e2007.png"
       alt="[image of music]">
 </a>
</p>




<a name="simple-lead-sheet.ly"></a>
<hr size="6">
<a name="Simple-lead-sheet"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Showing-chords-at-changes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Showing chords at changes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Simple-lead-sheet" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Simple-lead-sheet"></a>
<h2 class="unnumberedsec">Simple lead sheet</h2>


<p>When put together, chord names, a melody, and lyrics form a lead sheet:
</p>

<pre class="verbatim">&lt;&lt;
  \chords { c2 g:sus4 f e }
  \relative c'' {
    a4 e c8 e r4
    b2 c4( d)
  }
  \addlyrics { One day this shall be free __ }
&gt;&gt;

</pre><p>
 <a href="2d/lily-dd303c92.ly">
  <img align="middle"
       border="0"
       src="2d/lily-dd303c92.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes,-lyrics,-and-chords.ly"></a>
<hr size="6">
<a name="Simple-lead-sheet"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Simple-lead-sheet" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Simple lead sheet&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Simple-lead-sheet" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Single staff template with notes, lyrics, and chords</h2>


<p>This template allows the preparation of a song with melody, words, and
chords. 
</p>

<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

harmonies = \chordmode {
  a2 c
}

\score {
  &lt;&lt;
    \new ChordNames {
      \set chordChanges = ##t
      \harmonies
    }
    \new Voice = &quot;one&quot; { \autoBeamOff \melody }
    \new Lyrics \lyricsto &quot;one&quot; \text
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="be/lily-11b65b1b.ly">
  <img align="middle"
       border="0"
       src="be/lily-11b65b1b.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes,-lyrics,-chords-and-frets.ly"></a>
<hr size="6">
<a name="Simple-lead-sheet"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Simple-lead-sheet" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-notes-and-chords" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Single staff template with notes and chords &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Single staff template with notes, lyrics, chords and frets</h2>


<p>Here is a simple lead sheet template with melody, lyrics, chords and
fret diagrams.
</p>

<pre class="verbatim">verseI = \lyricmode {
  \set stanza = #&quot;1.&quot;
  This is the first verse
}

verseII = \lyricmode {
  \set stanza = #&quot;2.&quot;
  This is the second verse.
}

theChords = \chordmode {
  % insert chords for chordnames and fretboards here
  c2 g4 c
}

staffMelody = \relative c' {
   \key c \major
   \clef treble
   % Type notes for melody here
   c4 d8 e f4 g
   \bar &quot;|.&quot;
}

\score {
  &lt;&lt;
    \context ChordNames { \theChords }
    \context FretBoards { \theChords }
    \new Staff {
      \context Voice = &quot;voiceMelody&quot; { \staffMelody }
    }
    \new Lyrics = &quot;lyricsI&quot; {
      \lyricsto &quot;voiceMelody&quot; \verseI
    }
    \new Lyrics = &quot;lyricsII&quot; {
      \lyricsto &quot;voiceMelody&quot; \verseII
    }
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="85/lily-0e9127ce.ly">
  <img align="middle"
       border="0"
       src="85/lily-0e9127ce.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes-and-chords.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-notes-and-chords"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Simple-lead-sheet" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-notes-and-chords" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Single-staff-template-with-notes-and-chords"></a>
<h2 class="unnumberedsec">Single staff template with notes and chords</h2>


<p>Want to prepare a lead sheet with a melody and chords? Look no further!
</p>


<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  f4 e8[ c] d4 g
  a2 ~ a
}

harmonies = \chordmode {
  c4:m f:min7 g:maj c:aug
  d2:dim b:sus
}

\score {
  &lt;&lt;
    \new ChordNames {
      \set chordChanges = ##t
      \harmonies
    }
    \new Staff \melody
  &gt;&gt;  
  \layout{ }
  \midi { }
}

</pre><p>
 <a href="ec/lily-eeb1a4e9.ly">
  <img align="middle"
       border="0"
       src="ec/lily-eeb1a4e9.png"
       alt="[image of music]">
 </a>
</p>




<a name="volta-below-chords.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-notes-and-chords"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Keyboards" title="Next chapter">&nbsp;Keyboards &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-notes-and-chords" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Single staff template with notes and chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Chords" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Chords&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Keyboards" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Keyboards &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Volta below chords</h2>


<p>By adding the <code>Volta_engraver</code> to the relevant staff, volte can be
put under chords.
</p>

<pre class="verbatim">\score {
  &lt;&lt;
    \chords {
      c1
      c1
    }
    \new Staff \with {
      \consists &quot;Volta_engraver&quot;
    }
    {
      \repeat volta 2 { c'1 }
      \alternative { c' }
    }
  &gt;&gt;
  \layout {
    \context {
      \Score
      \remove &quot;Volta_engraver&quot;
    }
  }
}
</pre><p>
 <a href="ea/lily-e9f422dd.ly">
  <img align="middle"
       border="0"
       src="ea/lily-e9f422dd.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Keyboards"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Chords" title="Beginning of this chapter or previous chapter"> &lt;&lt; Chords&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-notes-and-chords" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Accordion-discant symbols &gt; </a>]</td></tr></table>
<a name="Keyboards"></a>
<h1 class="unnumbered">Keyboards</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Keyboard-and-other-multi_002dstaff-instruments">Keyboard and other multi-staff instruments</a>.
</p>

<a name="accordion-discant-symbols.ly"></a>
<hr size="6">
<a name="Accordion_002ddiscant-symbols"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Keyboards" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Accordion_002ddiscant-symbols"></a>
<h2 class="unnumberedsec">Accordion-discant symbols</h2>


<p>Accordion discant-specific symbols are added using <code>\markup</code>. The
vertical placement of the symbols can be tweaked by changing the
<code>\raise</code> arguments.
</p>



<pre class="verbatim">discant = \markup {
  \musicglyph #&quot;accordion.accDiscant&quot;
}
dot = \markup {
  \musicglyph #&quot;accordion.accDot&quot;
}

\layout { ragged-right = ##t }

% 16 voets register
accBasson = ^\markup {
  \combine
  \discant
  \raise #0.5 \dot
}

% een korig 8 en 16 voets register
accBandon = ^\markup {
  \combine
    \discant
    \combine
      \raise #0.5 \dot
      \raise #1.5 \dot
}

accVCello = ^\markup {
  \combine
    \discant
    \combine
      \raise #0.5 \dot
      \combine
        \raise #1.5 \dot
        \translate #'(1 . 0) \raise #1.5 \dot
}

% 4-8-16 voets register
accHarmon = ^\markup {
  \combine
    \discant
    \combine
      \raise #0.5 \dot
      \combine
        \raise #1.5 \dot
        \raise #2.5 \dot
}

accTrombon = ^\markup {
  \combine
    \discant
    \combine
      \raise #0.5 \dot
      \combine
        \raise #1.5 \dot
        \combine
          \translate #'(1 . 0) \raise #1.5 \dot
          \translate #'(-1 . 0) \raise #1.5 \dot
}

% eenkorig 4 en 16 voets register
accOrgan = ^\markup {
  \combine
    \discant
    \combine
      \raise #0.5 \dot
      \raise #2.5 \dot
}

accMaster = ^\markup {
  \combine
    \discant
    \combine
      \raise #0.5 \dot
      \combine
        \raise #1.5 \dot
        \combine
          \translate #'(1 . 0) \raise #1.5 \dot
          \combine
            \translate #'(-1 . 0) \raise #1.5 \dot
            \raise #2.5 \dot
}

accAccord = ^\markup {
  \combine
    \discant
    \combine
      \raise #1.5 \dot
      \combine
        \translate #'(1 . 0) \raise #1.5 \dot
        \combine
          \translate #'(-1 . 0) \raise #1.5 \dot
          \raise #2.5 \dot
}

accMusette = ^\markup {
  \combine
    \discant
    \combine
      \raise #1.5 \dot
      \combine
        \translate #'(1 . 0) \raise #1.5 \dot
        \translate #'(-1 . 0) \raise #1.5 \dot
}

accCeleste = ^\markup {
  \combine
    \discant
    \combine
      \raise #1.5 \dot
      \translate #'(-1 . 0) \raise #1.5 \dot
}

accOboe = ^\markup {
  \combine
    \discant
    \combine
      \raise #1.5 \dot
      \raise #2.5 \dot
}

accClarin = ^\markup {
  \combine
    \discant
    \raise #1.5 \dot
}

accPiccolo = ^\markup {
    \combine
       \discant 
       \raise #2.5 \dot
}

accViolin = ^\markup {
  \combine
    \discant
    \combine
      \raise #1.5 \dot
      \combine
        \translate #'(1 . 0) \raise #1.5 \dot
        \raise #2.5 \dot
}

\relative c'' {
  c4 d\accBasson e f
  c4 d\accBandon e f
  c4 d\accVCello e f
  c4 d\accHarmon e f
  c4 d\accTrombon e f
  \break
  c4 d\accOrgan e f
  c4 d\accMaster e f
  c4 d\accAccord e f
  c4 d\accMusette e f
  c4 d\accCeleste e f
  \break
  c4 d\accOboe e f
  c4 d\accClarin e f
  c4 d\accPiccolo e f
  c4 d\accViolin e f
}

</pre><p>
 <a href="b8/lily-820c4efa.ly">
  <img align="middle"
       border="0"
       src="b8/lily-820c4efa.png"
       alt="[image of music]">
 </a>
</p>




<a name="clusters.ly"></a>
<hr size="6">
<a name="Accordion_002ddiscant-symbols"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Accordion-discant symbols&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Clusters</h2>


<p>Clusters are a device to denote that a complete range of notes is to be
played.
</p>

<pre class="verbatim">fragment = \relative c' {
  c4 f &lt;e d'&gt;4
  &lt;g a&gt;8 &lt;e a&gt; a4 c2 &lt;d b&gt;4
  e2 c
}

&lt;&lt;
  \new Staff \fragment
  \new Staff \makeClusters \fragment
&gt;&gt;

</pre><p>
 <a href="3a/lily-c2b6b9c6.ly">
  <img align="middle"
       border="0"
       src="3a/lily-c2b6b9c6.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-placement-of-chord-fingerings.ly"></a>
<hr size="6">
<a name="Accordion_002ddiscant-symbols"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Controlling the placement of chord fingerings</h2>


<p>The placement of fingering numbers can be controlled precisely.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(left)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down right up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(left)
  &lt;c-1&gt;2
  \set fingeringOrientations = #'(down)
  &lt;e-3&gt;2
}


</pre><p>
 <a href="73/lily-c27be62a.ly">
  <img align="middle"
       border="0"
       src="73/lily-c27be62a.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-slurs-across-voices.ly"></a>
<hr size="6">
<a name="Accordion_002ddiscant-symbols"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Fine_002dtuning-pedal-brackets" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Fine-tuning pedal brackets &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating slurs across voices</h2>


<p>In some situations, it may be necessary to create slurs between notes
from different voices.
</p>
<p>The solution is to add invisible notes to one of the voices, using
<code>\hideNotes</code>.
</p>
<p>This example is measure 235 of the Ciaconna from Bach&rsquo;s 2nd Partita for
solo violin, BWV 1004.
</p>

<pre class="verbatim">\relative c' {
  &lt;&lt;
    {
      d16( a') s a s a[ s a] s a[ s a]
    }
    \\
    {
      \slurUp
      bes,16[ s e](
      \hideNotes a)
      \unHideNotes f[(
      \hideNotes a)
      \unHideNotes fis](
      \hideNotes a)
      \unHideNotes g[(
      \hideNotes a)
      \unHideNotes gis](
      \hideNotes a)
    }
  &gt;&gt;
}

</pre><p>
 <a href="ab/lily-2ab9a85e.ly">
  <img align="middle"
       border="0"
       src="ab/lily-2ab9a85e.png"
       alt="[image of music]">
 </a>
</p>




<a name="fine-tuning-pedal-brackets.ly"></a>
<hr size="6">
<a name="Fine_002dtuning-pedal-brackets"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Accordion_002ddiscant-symbols" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Indicating-cross_002dstaff-chords-with-arpeggio-bracket" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Indicating cross-staff chords with arpeggio bracket &gt; </a>]</td></tr></table>
<a name="Fine_002dtuning-pedal-brackets"></a>
<h2 class="unnumberedsec">Fine-tuning pedal brackets</h2>


<p>The appearance of pedal brackets may be altered in different ways.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }
\relative c'' {
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'shorten-pair = #'(-7 . -2)
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'edge-height = #'(0 . 3)
  c2\sostenutoOn c
  c2\sostenutoOff c
}
</pre><p>
 <a href="f2/lily-8185dea4.ly">
  <img align="middle"
       border="0"
       src="f2/lily-8185dea4.png"
       alt="[image of music]">
 </a>
</p>




<a name="indicating-cross-staff-chords-with-arpeggio-bracket.ly"></a>
<hr size="6">
<a name="Indicating-cross_002dstaff-chords-with-arpeggio-bracket"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Fine_002dtuning-pedal-brackets" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Fine-tuning pedal brackets&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Jazz-combo-template" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Jazz combo template &gt; </a>]</td></tr></table>
<a name="Indicating-cross_002dstaff-chords-with-arpeggio-bracket"></a>
<h2 class="unnumberedsec">Indicating cross-staff chords with arpeggio bracket</h2>


<p>An arpeggio bracket can indicate that notes on two different staves are
to be played with the same hand. In order to do this, the
<code>PianoStaff</code> must be set to accept cross-staff arpeggios and the
arpeggios must be set to the bracket shape in the <code>PianoStaff</code>
context.
</p>

<p>(Debussy, Les collines d’Anacapri, m. 65) 
</p>

<pre class="verbatim">\new PianoStaff &lt;&lt;
  \set PianoStaff.connectArpeggios = ##t
  \override PianoStaff.Arpeggio #'stencil = #ly:arpeggio::brew-chord-bracket
  \new Staff {
    \relative c' {
      \key b \major
      \time 6/8
      b8-.(\arpeggio fis'-.\&gt; cis-. e-. gis-. b-.)\!\fermata^\laissezVibrer
      \bar &quot;||&quot;
    }
  }
  \new Staff {
    \relative c' {
      \clef bass
      \key b \major
      &lt;&lt;
        {
          &lt;a e cis&gt;2.\arpeggio
        }
        \\
        {
          &lt;a, e a,&gt;2.
        }
      &gt;&gt;
    }
  }
&gt;&gt;

</pre><p>
 <a href="5f/lily-8be21f59.ly">
  <img align="middle"
       border="0"
       src="5f/lily-8be21f59.png"
       alt="[image of music]">
 </a>
</p>




<a name="jazz-combo-template.ly"></a>
<hr size="6">
<a name="Jazz-combo-template"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Indicating-cross_002dstaff-chords-with-arpeggio-bracket" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Indicating cross-staff chords with arpeggio bracket&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Jazz-combo-template" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Jazz-combo-template"></a>
<h2 class="unnumberedsec">Jazz combo template</h2>


<p>This is quite an advanced template, for a jazz ensemble. Note that all
instruments are notated in <code>\key c \major</code>. This refers to the
key in concert pitch; the key will be automatically transposed if the
music is within a <code>\transpose</code> section.
</p>

<pre class="verbatim">\header {
  title = &quot;Song&quot;
  subtitle = &quot;(tune)&quot;
  composer = &quot;Me&quot;
  meter = &quot;moderato&quot;
  piece = &quot;Swing&quot;
  tagline = \markup {
    \column {
      &quot;LilyPond example file by Amelie Zapf,&quot;
      &quot;Berlin 07/07/2003&quot;
    }
  }
}

%#(set-global-staff-size 16)
\include &quot;english.ly&quot;

%%%%%%%%%%%% Some macros %%%%%%%%%%%%%%%%%%%

sl = {
  \override NoteHead #'style = #'slash
  \override Stem #'transparent = ##t
}
nsl = {
  \revert NoteHead #'style
  \revert Stem #'transparent
}
crOn = \override NoteHead #'style = #'cross
crOff = \revert NoteHead #'style

%% insert chord name style stuff here.

jazzChords = { }

%%%%%%%%%%%% Keys'n'thangs %%%%%%%%%%%%%%%%%

global = { \time 4/4 }

Key = { \key c \major }

% ############ Horns ############

% ------ Trumpet ------
trpt = \transpose c d \relative c'' {
  \Key
  c1 | c | c |
}
trpHarmony = \transpose c' d {
  \jazzChords
}
trumpet = {
  \global
  \set Staff.instrumentName = #&quot;Trumpet&quot;
  \clef treble
  &lt;&lt;
    \trpt
  &gt;&gt;
}

% ------ Alto Saxophone ------
alto = \transpose c a \relative c' {
  \Key
  c1 | c | c |
}
altoHarmony = \transpose c' a {
  \jazzChords
}
altoSax = {
  \global
  \set Staff.instrumentName = #&quot;Alto Sax&quot;
  \clef treble
  &lt;&lt;
    \alto
  &gt;&gt;
}

% ------ Baritone Saxophone ------
bari = \transpose c a' \relative c {
  \Key
  c1
  c1
  \sl
  d4^&quot;Solo&quot; d d d
  \nsl
}
bariHarmony = \transpose c' a \chordmode {
  \jazzChords s1 s d2:maj e:m7
}
bariSax = {
  \global
  \set Staff.instrumentName = #&quot;Bari Sax&quot;
  \clef treble
  &lt;&lt;
    \bari
  &gt;&gt;
}

% ------ Trombone ------
tbone = \relative c {
  \Key
  c1 | c | c
}
tboneHarmony = \chordmode {
  \jazzChords
}
trombone = {
  \global
  \set Staff.instrumentName = #&quot;Trombone&quot;
  \clef bass
  &lt;&lt;
    \tbone
  &gt;&gt;
}

% ############ Rhythm Section #############

% ------ Guitar ------
gtr = \relative c'' {
  \Key
  c1
  \sl
  b4 b b b
  \nsl
  c1
}
gtrHarmony = \chordmode {
  \jazzChords
  s1 c2:min7+ d2:maj9
}
guitar = {
  \global
  \set Staff.instrumentName = #&quot;Guitar&quot;
  \clef treble
  &lt;&lt;
    \gtr
  &gt;&gt;
}

%% ------ Piano ------
rhUpper = \relative c'' {
  \voiceOne
  \Key
  c1 | c | c
}
rhLower = \relative c' {
  \voiceTwo
  \Key
  e1 | e | e
}

lhUpper = \relative c' {
  \voiceOne
  \Key
  g1 | g | g
}
lhLower = \relative c {
  \voiceTwo
  \Key
  c1 | c | c
}

PianoRH = {
  \clef treble
  \global
  \set Staff.midiInstrument = #&quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \rhUpper
    \new Voice = &quot;two&quot; \rhLower
  &gt;&gt;
}
PianoLH = {
  \clef bass
  \global
  \set Staff.midiInstrument = &quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \lhUpper
    \new Voice = &quot;two&quot; \lhLower
  &gt;&gt;
}

piano = {
  &lt;&lt;
    \set PianoStaff.instrumentName = #&quot;Piano&quot;
    \new Staff = &quot;upper&quot; \PianoRH
    \new Staff = &quot;lower&quot; \PianoLH
  &gt;&gt;
}

% ------ Bass Guitar ------
Bass = \relative c {
  \Key
  c1 | c | c
}
bass = {
  \global
  \set Staff.instrumentName = #&quot;Bass&quot;
  \clef bass
  &lt;&lt;
    \Bass
  &gt;&gt;
}

% ------ Drums ------
up = \drummode {
  \voiceOne
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
}
down = \drummode {
  \voiceTwo
  bd4 s bd s
  bd4 s bd s
  bd4 s bd s
}

drumContents = {
  \global
  &lt;&lt;
    \set DrumStaff.instrumentName = #&quot;Drums&quot;
    \new DrumVoice \up
    \new DrumVoice \down
  &gt;&gt;
}

%%%%%%%%% It All Goes Together Here %%%%%%%%%%%%%%%%%%%%%%

\score {
  &lt;&lt;
    \new StaffGroup = &quot;horns&quot; &lt;&lt;
      \new Staff = &quot;trumpet&quot; \trumpet
      \new Staff = &quot;altosax&quot; \altoSax
      \new ChordNames = &quot;barichords&quot; \bariHarmony
      \new Staff = &quot;barisax&quot; \bariSax
      \new Staff = &quot;trombone&quot; \trombone
    &gt;&gt;
    
    \new StaffGroup = &quot;rhythm&quot; &lt;&lt;
      \new ChordNames = &quot;chords&quot; \gtrHarmony
      \new Staff = &quot;guitar&quot; \guitar
      \new PianoStaff = &quot;piano&quot; \piano
      \new Staff = &quot;bass&quot; \bass
      \new DrumStaff \drumContents
    &gt;&gt;
  &gt;&gt;
  
  \layout {
    \context { \RemoveEmptyStaffContext }
    \context {
      \Score
      \override BarNumber #'padding = #3
      \override RehearsalMark #'padding = #2
      skipBars = ##t
    }
  }
  
  \midi { }
}

</pre><p>
 <a href="4e/lily-20354a0d.ly">
  <img align="middle"
       border="0"
       src="4e/lily-20354a0d.png"
       alt="[image of music]">
 </a>
</p>




<a name="laissez-vibrer-ties.ly"></a>
<hr size="6">
<a name="Jazz-combo-template"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Jazz-combo-template" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Jazz combo template&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Piano template (simple) &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Laissez vibrer ties</h2>


<p>Laissez vibrer ties have a fixed size. Their formatting can be tuned
using <code>'tie-configuration</code>. 
</p>

<pre class="verbatim">\relative c' {
  &lt;c e g&gt;4\laissezVibrer r &lt;c f g&gt;\laissezVibrer r
  &lt;c d f g&gt;4\laissezVibrer r &lt;c d f g&gt;4.\laissezVibrer r8

  &lt;c d e f&gt;4\laissezVibrer r
  \override LaissezVibrerTieColumn #'tie-configuration
     = #`((-7 . ,DOWN)
          (-5 . ,DOWN)
          (-3 . ,UP)
          (-1 . ,UP))
  &lt;c d e f&gt;4\laissezVibrer r
}

</pre><p>
 <a href="e6/lily-cf04f3b3.ly">
  <img align="middle"
       border="0"
       src="e6/lily-cf04f3b3.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-simple.ly"></a>
<hr size="6">
<a name="Piano-template-_0028simple_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Jazz-combo-template" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Piano-template-_0028simple_0029"></a>
<h2 class="unnumberedsec">Piano template (simple)</h2>


<p>Here is a simple piano staff with some notes.
</p>

<pre class="verbatim">upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

\score {
  \new PianoStaff &lt;&lt;
    \set PianoStaff.instrumentName = #&quot;Piano  &quot;
    \new Staff = &quot;upper&quot; \upper
    \new Staff = &quot;lower&quot; \lower
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="92/lily-ff74007a.ly">
  <img align="middle"
       border="0"
       src="92/lily-ff74007a.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-centered-dynamics.ly"></a>
<hr size="6">
<a name="Piano-template-_0028simple_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Piano template (simple)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Piano template with centered dynamics</h2>


<p>Many piano scores have the dynamics centered between the two staves.
This requires a bit of tweaking to implement, but since the template is
right here, you don&rsquo;t have to do the tweaking yourself.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

upper = \relative c'' {
  \clef treble
  a4 b c d
}

lower = \relative c {
  \clef bass
  a2 c
}

dynamics = {
  s2\fff\&gt; s4 s\!\pp
}

pedal = {
  s2\sustainOn s\sustainOff
}

\score {
  \new PianoStaff = &quot;PianoStaff_pf&quot; &lt;&lt;
    \new Staff = &quot;Staff_pfUpper&quot; &lt;&lt; \global \upper &gt;&gt;
    \new Dynamics = &quot;Dynamics_pf&quot; \dynamics
    \new Staff = &quot;Staff_pfLower&quot; &lt;&lt; \global \lower &gt;&gt;
    \new Dynamics = &quot;pedal&quot; \pedal
  &gt;&gt;

  \layout {
    % define Dynamics context
    \context {
      \type &quot;Engraver_group&quot;
      \name Dynamics
      \alias Voice
      \consists &quot;Output_property_engraver&quot;
      \consists &quot;Piano_pedal_engraver&quot;
      \consists &quot;Script_engraver&quot;
      \consists &quot;New_dynamic_engraver&quot;
      \consists &quot;Dynamic_align_engraver&quot;
      \consists &quot;Text_engraver&quot;
      \consists &quot;Skip_event_swallow_translator&quot;
      \consists &quot;Axis_group_engraver&quot;

      pedalSustainStrings = #'(&quot;Ped.&quot; &quot;*Ped.&quot; &quot;*&quot;)
      pedalUnaCordaStrings = #'(&quot;una corda&quot; &quot;&quot; &quot;tre corde&quot;)
      \override DynamicLineSpanner #'Y-offset = #0
      \override TextScript #'font-size = #2
      \override TextScript #'font-shape = #'italic
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-1 . 1)
    }
    % modify PianoStaff context to accept Dynamics context
    \context {
      \PianoStaff
      \accepts Dynamics
    }
  }
}

\score {
  \new PianoStaff = &quot;PianoStaff_pf&quot; &lt;&lt;
    \new Staff = &quot;Staff_pfUpper&quot; &lt;&lt; \global \upper \dynamics \pedal &gt;&gt;
    \new Staff = &quot;Staff_pfLower&quot; &lt;&lt; \global \lower \dynamics \pedal &gt;&gt;
  &gt;&gt;
  \midi { }
}
</pre><p>
 <a href="4a/lily-6f94be39.ly">
  <img align="middle"
       border="0"
       src="4a/lily-6f94be39.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-centered-lyrics.ly"></a>
<hr size="6">
<a name="Piano-template-_0028simple_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Piano template with centered lyrics</h2>


<p>Instead of having a full staff for the melody and lyrics, lyrics can be
centered between the staves of a piano staff.
</p>

<pre class="verbatim">upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

\score {
  \new GrandStaff &lt;&lt;
    \new Staff = upper { \new Voice = &quot;singer&quot; \upper }
    \new Lyrics \lyricsto &quot;singer&quot; \text
    \new Staff = lower { \lower }
  &gt;&gt;
  \layout {
    \context {
      \GrandStaff
      \accepts &quot;Lyrics&quot;
    }
    \context {
      \Lyrics
      \consists &quot;Bar_engraver&quot;
    }
  }
  \midi { }
}

</pre><p>
 <a href="a9/lily-1d5833a3.ly">
  <img align="middle"
       border="0"
       src="a9/lily-1d5833a3.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-melody-and-lyrics.ly"></a>
<hr size="6">
<a name="Piano-template-_0028simple_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Piano template with melody and lyrics</h2>


<p>Here is a typical song format: one staff with the melody and lyrics,
with piano accompaniment underneath. 
</p>

<pre class="verbatim">melody = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a b c d  
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

\score {
  &lt;&lt;
    \new Voice = &quot;mel&quot; { \autoBeamOff \melody }
    \new Lyrics \lyricsto mel \text    
    \new PianoStaff &lt;&lt;
      \new Staff = &quot;upper&quot; \upper
      \new Staff = &quot;lower&quot; \lower
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context { \RemoveEmptyStaffContext }
  }
  \midi { }
}

</pre><p>
 <a href="62/lily-c6e42fc9.ly">
  <img align="middle"
       border="0"
       src="62/lily-c6e42fc9.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template-with-automatic-piano-reduction.ly"></a>
<hr size="6">
<a name="Piano-template-_0028simple_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Percussion" title="Next chapter">&nbsp;Percussion &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Keyboards" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Keyboards&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percussion" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Percussion &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vocal ensemble template with automatic piano reduction</h2>


<p>This template adds an automatic piano reduction to the standard SATB
vocal score demonstrated in &quot;Vocal ensemble template&quot;. This
demonstrates one of the strengths of LilyPond – you can use a music
definition more than once. If any changes are made to the vocal notes
(say, <code>tenorMusic</code>), then the changes will also apply to the piano
reduction.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords =\lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  &lt;&lt;
    \new ChoirStaff &lt;&lt;
      \new Lyrics = sopranos { s1 }
      \new Staff = women &lt;&lt;
        \new Voice = sopranos { \voiceOne &lt;&lt; \global \sopMusic &gt;&gt; }
        \new Voice = altos { \voiceTwo &lt;&lt; \global \altoMusic &gt;&gt; }
      &gt;&gt;
      \new Lyrics = altos { s1 }
      \new Lyrics = tenors { s1 }
      \new Staff = men &lt;&lt;
        \clef bass
        \new Voice = tenors { \voiceOne &lt;&lt;\global \tenorMusic &gt;&gt; }
        \new Voice = basses { \voiceTwo &lt;&lt;\global \bassMusic &gt;&gt; }
      &gt;&gt;
      \new Lyrics = basses { s1 }
      \context Lyrics = sopranos \lyricsto sopranos \sopWords
      \context Lyrics = altos \lyricsto altos \altoWords
      \context Lyrics = tenors \lyricsto tenors \tenorWords
      \context Lyrics = basses \lyricsto basses \bassWords
    &gt;&gt;
    \new PianoStaff &lt;&lt;
      \new Staff &lt;&lt;
        \set Staff.printPartCombineTexts = ##f
        \partcombine
        &lt;&lt; \global \sopMusic &gt;&gt;
        &lt;&lt; \global \altoMusic &gt;&gt;
      &gt;&gt;
      \new Staff &lt;&lt;
        \clef bass
        \set Staff.printPartCombineTexts = ##f
        \partcombine
        &lt;&lt; \global \tenorMusic &gt;&gt;
        &lt;&lt; \global \bassMusic &gt;&gt;
      &gt;&gt;
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="fa/lily-db838dfc.ly">
  <img align="middle"
       border="0"
       src="fa/lily-db838dfc.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Percussion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Keyboards" title="Beginning of this chapter or previous chapter"> &lt;&lt; Keyboards&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Fretted-strings" title="Next chapter">&nbsp;Fretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Piano-template-_0028simple_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percussion" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Percussion"></a>
<h1 class="unnumbered">Percussion</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Percussion">Percussion</a>.
</p>

<a name="adding-drum-parts.ly"></a>
<hr size="6">
<a name="Percussion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Percussion" title="Beginning of this chapter or previous chapter"> &lt;&lt; Percussion&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Fretted-strings" title="Next chapter">&nbsp;Fretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percussion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Percussion&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Percussion" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Percussion&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percussion" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding drum parts</h2>


<p>Using the powerful pre-configured tools such as the <code>\drummode</code>
function and the <code>DrumStaff</code> context, inputting drum parts is
quite easy: drums are placed at their own staff positions (with a
special clef symbol) and have note heads according to the drum.
Attaching an extra symbol to the drum or restricting the number of
lines is possible. 
</p>

<pre class="verbatim">drh = \drummode { cymc4.^&quot;crash&quot; hhc16^&quot;h.h.&quot; hh hhc8 hho hhc8 hh16 hh hhc4 r4 r2 }
drl = \drummode { bd4 sn8 bd bd4 &lt;&lt; bd ss &gt;&gt;  bd8 tommh tommh bd toml toml bd tomfh16 tomfh }
timb = \drummode { timh4 ssh timl8 ssh r timh r4 ssh8 timl r4 cb8 cb }

\score {
  &lt;&lt;
    \new DrumStaff \with {
      drumStyleTable = #timbales-style
      \override StaffSymbol #'line-count = #2
      \override BarLine #'bar-size = #2
    } &lt;&lt;
      \set Staff.instrumentName = #&quot;timbales&quot;
      \timb
    &gt;&gt;
    \new DrumStaff &lt;&lt;
      \set Staff.instrumentName = #&quot;drums&quot;
      \new DrumVoice { \stemUp \drh }
      \new DrumVoice { \stemDown \drl }
    &gt;&gt;
  &gt;&gt;
  \layout { }
  \midi {
    \context {
      \Score
      tempoWholesPerMinute = #(ly:make-moment 120 4)
    }
  }
}

</pre><p>
 <a href="04/lily-2d7e2c62.ly">
  <img align="middle"
       border="0"
       src="04/lily-2d7e2c62.png"
       alt="[image of music]">
 </a>
</p>




<a name="heavily-customized-polymetric-time-signatures.ly"></a>
<hr size="6">
<a name="Percussion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Percussion" title="Beginning of this chapter or previous chapter"> &lt;&lt; Percussion&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Fretted-strings" title="Next chapter">&nbsp;Fretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percussion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Percussion" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Percussion&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percussion" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Heavily customized polymetric time signatures</h2>


<p>Though the polymetric time signature shown was not the most essential
item here, it has been included to show the beat of this piece (which
is the template of a real Balkan song!).
</p>

<pre class="verbatim">#(define plus (markup #:vcenter &quot;+&quot;))
#(define ((custom-time-signature one two three four five six
           seven eight nine ten eleven num) grob)
            (grob-interpret-markup grob
              (markup #:override '(baseline-skip . 0) #:number
                (#:line (
                    (#:column (one num)) plus
                    (#:column (two num)) plus
                    (#:column (three num)) plus
                    (#:column (four num)) plus
                    (#:column (five num)) plus
                    (#:column (six num)) plus
                    (#:column (seven num)) plus
                    (#:column (eight num)) plus
                    (#:column (nine num)) plus
                    (#:column (ten num)) plus
                    (#:column (eleven num)))))))

melody = \relative c'' {
  \set Staff.instrumentName = #&quot;Bb Sop.&quot;
  \key g \major
  #(set-time-signature 25 8 '(3 2 2 3 2 2 2 2 3 2 2))
  \override Staff.TimeSignature #'stencil =
    #(custom-time-signature &quot;3&quot; &quot;2&quot; &quot;2&quot; &quot;3&quot; &quot;2&quot; &quot;2&quot;
      &quot;2&quot; &quot;2&quot; &quot;3&quot; &quot;2&quot; &quot;2&quot; &quot;8&quot;)
  c8 c c d4 c8 c b c b a4 g fis8 e d c b' c d e4-^ fis8 g \break
  c,4. d4 c4 d4. c4 d c2 d4. e4-^ d4
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4 \break
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4
  c4. d4 c4 d4. c4 d c2 d4. e4-^ d4 \break
}

drum = \new DrumStaff \drummode {
  \bar &quot;|:&quot; bd4.^\markup { &quot;Drums&quot; } sn4 bd \bar &quot;:&quot; sn4.
  bd4 sn \bar &quot;:&quot; bd sn bd4. sn4 bd \bar &quot;:|&quot;
}

{
  \melody
  \drum
}
</pre><p>
 <a href="03/lily-2d0e8e02.ly">
  <img align="middle"
       border="0"
       src="03/lily-2d0e8e02.png"
       alt="[image of music]">
 </a>
</p>




<a name="jazz-combo-template.ly"></a>
<hr size="6">
<a name="Percussion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Percussion" title="Beginning of this chapter or previous chapter"> &lt;&lt; Percussion&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Fretted-strings" title="Next chapter">&nbsp;Fretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percussion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Percussion" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Percussion&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percussion-beaters" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Percussion beaters &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Jazz combo template</h2>


<p>This is quite an advanced template, for a jazz ensemble. Note that all
instruments are notated in <code>\key c \major</code>. This refers to the
key in concert pitch; the key will be automatically transposed if the
music is within a <code>\transpose</code> section.
</p>

<pre class="verbatim">\header {
  title = &quot;Song&quot;
  subtitle = &quot;(tune)&quot;
  composer = &quot;Me&quot;
  meter = &quot;moderato&quot;
  piece = &quot;Swing&quot;
  tagline = \markup {
    \column {
      &quot;LilyPond example file by Amelie Zapf,&quot;
      &quot;Berlin 07/07/2003&quot;
    }
  }
}

%#(set-global-staff-size 16)
\include &quot;english.ly&quot;

%%%%%%%%%%%% Some macros %%%%%%%%%%%%%%%%%%%

sl = {
  \override NoteHead #'style = #'slash
  \override Stem #'transparent = ##t
}
nsl = {
  \revert NoteHead #'style
  \revert Stem #'transparent
}
crOn = \override NoteHead #'style = #'cross
crOff = \revert NoteHead #'style

%% insert chord name style stuff here.

jazzChords = { }

%%%%%%%%%%%% Keys'n'thangs %%%%%%%%%%%%%%%%%

global = { \time 4/4 }

Key = { \key c \major }

% ############ Horns ############

% ------ Trumpet ------
trpt = \transpose c d \relative c'' {
  \Key
  c1 | c | c |
}
trpHarmony = \transpose c' d {
  \jazzChords
}
trumpet = {
  \global
  \set Staff.instrumentName = #&quot;Trumpet&quot;
  \clef treble
  &lt;&lt;
    \trpt
  &gt;&gt;
}

% ------ Alto Saxophone ------
alto = \transpose c a \relative c' {
  \Key
  c1 | c | c |
}
altoHarmony = \transpose c' a {
  \jazzChords
}
altoSax = {
  \global
  \set Staff.instrumentName = #&quot;Alto Sax&quot;
  \clef treble
  &lt;&lt;
    \alto
  &gt;&gt;
}

% ------ Baritone Saxophone ------
bari = \transpose c a' \relative c {
  \Key
  c1
  c1
  \sl
  d4^&quot;Solo&quot; d d d
  \nsl
}
bariHarmony = \transpose c' a \chordmode {
  \jazzChords s1 s d2:maj e:m7
}
bariSax = {
  \global
  \set Staff.instrumentName = #&quot;Bari Sax&quot;
  \clef treble
  &lt;&lt;
    \bari
  &gt;&gt;
}

% ------ Trombone ------
tbone = \relative c {
  \Key
  c1 | c | c
}
tboneHarmony = \chordmode {
  \jazzChords
}
trombone = {
  \global
  \set Staff.instrumentName = #&quot;Trombone&quot;
  \clef bass
  &lt;&lt;
    \tbone
  &gt;&gt;
}

% ############ Rhythm Section #############

% ------ Guitar ------
gtr = \relative c'' {
  \Key
  c1
  \sl
  b4 b b b
  \nsl
  c1
}
gtrHarmony = \chordmode {
  \jazzChords
  s1 c2:min7+ d2:maj9
}
guitar = {
  \global
  \set Staff.instrumentName = #&quot;Guitar&quot;
  \clef treble
  &lt;&lt;
    \gtr
  &gt;&gt;
}

%% ------ Piano ------
rhUpper = \relative c'' {
  \voiceOne
  \Key
  c1 | c | c
}
rhLower = \relative c' {
  \voiceTwo
  \Key
  e1 | e | e
}

lhUpper = \relative c' {
  \voiceOne
  \Key
  g1 | g | g
}
lhLower = \relative c {
  \voiceTwo
  \Key
  c1 | c | c
}

PianoRH = {
  \clef treble
  \global
  \set Staff.midiInstrument = #&quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \rhUpper
    \new Voice = &quot;two&quot; \rhLower
  &gt;&gt;
}
PianoLH = {
  \clef bass
  \global
  \set Staff.midiInstrument = &quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \lhUpper
    \new Voice = &quot;two&quot; \lhLower
  &gt;&gt;
}

piano = {
  &lt;&lt;
    \set PianoStaff.instrumentName = #&quot;Piano&quot;
    \new Staff = &quot;upper&quot; \PianoRH
    \new Staff = &quot;lower&quot; \PianoLH
  &gt;&gt;
}

% ------ Bass Guitar ------
Bass = \relative c {
  \Key
  c1 | c | c
}
bass = {
  \global
  \set Staff.instrumentName = #&quot;Bass&quot;
  \clef bass
  &lt;&lt;
    \Bass
  &gt;&gt;
}

% ------ Drums ------
up = \drummode {
  \voiceOne
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
}
down = \drummode {
  \voiceTwo
  bd4 s bd s
  bd4 s bd s
  bd4 s bd s
}

drumContents = {
  \global
  &lt;&lt;
    \set DrumStaff.instrumentName = #&quot;Drums&quot;
    \new DrumVoice \up
    \new DrumVoice \down
  &gt;&gt;
}

%%%%%%%%% It All Goes Together Here %%%%%%%%%%%%%%%%%%%%%%

\score {
  &lt;&lt;
    \new StaffGroup = &quot;horns&quot; &lt;&lt;
      \new Staff = &quot;trumpet&quot; \trumpet
      \new Staff = &quot;altosax&quot; \altoSax
      \new ChordNames = &quot;barichords&quot; \bariHarmony
      \new Staff = &quot;barisax&quot; \bariSax
      \new Staff = &quot;trombone&quot; \trombone
    &gt;&gt;
    
    \new StaffGroup = &quot;rhythm&quot; &lt;&lt;
      \new ChordNames = &quot;chords&quot; \gtrHarmony
      \new Staff = &quot;guitar&quot; \guitar
      \new PianoStaff = &quot;piano&quot; \piano
      \new Staff = &quot;bass&quot; \bass
      \new DrumStaff \drumContents
    &gt;&gt;
  &gt;&gt;
  
  \layout {
    \context { \RemoveEmptyStaffContext }
    \context {
      \Score
      \override BarNumber #'padding = #3
      \override RehearsalMark #'padding = #2
      skipBars = ##t
    }
  }
  
  \midi { }
}

</pre><p>
 <a href="4e/lily-20354a0d.ly">
  <img align="middle"
       border="0"
       src="4e/lily-20354a0d.png"
       alt="[image of music]">
 </a>
</p>




<a name="percussion-beaters.ly"></a>
<hr size="6">
<a name="Percussion-beaters"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Percussion" title="Beginning of this chapter or previous chapter"> &lt;&lt; Percussion&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Fretted-strings" title="Next chapter">&nbsp;Fretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percussion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Percussion" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Percussion&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Percussion-beaters" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Percussion-beaters"></a>
<h2 class="unnumberedsec">Percussion beaters</h2>


<p>Graphic symbols for percussion instruments are not natively supported;
however it is possible to include such symbols, either as an external
EPS file or as embedded PostScript code inside a markup, as
demonstrated in this example.
</p>

<pre class="verbatim">stick = \markup { 
  \with-dimensions #'(0 . 5) #'(0 . 5) 
  \postscript #&quot;
    0 6 translate
    0.8 -0.8 scale
    0 0 0 setrgbcolor
    [] 0 setdash
    1 setlinewidth
    0 setlinejoin
    0 setlinecap
    gsave [1 0 0 1 0 0] concat
    gsave [1 0 0 1 -3.5406095 -199.29342] concat
    gsave
    0 0 0 setrgbcolor
    newpath
    7.1434065 200.94354 moveto
    7.2109628 200.90454 7.2785188 200.86554 7.3460747 200.82654 curveto
    8.2056347 202.31535 9.0651946 203.80414 9.9247546 205.29295 curveto
    9.8571989 205.33195 9.7896429 205.37095 9.7220864 205.40996 curveto
    8.8625264 203.92115 8.0029664 202.43233 7.1434065 200.94354 curveto
    closepath
    eofill
    grestore
    gsave
    0 0 0 setrgbcolor
    newpath
    4.9646672 203.10444 moveto
    5.0036707 203.03688 5.0426744 202.96933 5.0816777 202.90176 curveto
    6.5704792 203.76133 8.0592809 204.6209 9.5480824 205.48045 curveto
    9.5090791 205.54801 9.4700754 205.61556 9.4310717 205.68311 curveto
    7.94227 204.82356 6.4534687 203.96399 4.9646672 203.10444 curveto
    closepath
    eofill
    grestore
    gsave
    &lt;&lt;
    /ShadingType 3
    /ColorSpace /DeviceRGB
    /Coords [113.13708 207.87465 0 113.13708 207.87465 16.162441]
    /Extend [true true]
    /Domain [0 1]
    /Function &lt;&lt;
    /FunctionType 3
    /Functions
    [
    &lt;&lt;
    /FunctionType 2
    /Domain [0 1]
    /C0 [1 1 1]
    /C1 [0.72941178 0.72941178 0.72941178]
    /N 1
    &gt;&gt;
    ]
    /Domain [0 1]
    /Bounds [ ]
    /Encode [ 0 1 ]
    &gt;&gt;
    &gt;&gt;
    newpath
    7.6422017 200.76488 moveto
    7.6505696 201.02554 7.3905363 201.24867 7.1341335 201.20075 curveto
    6.8759501 201.16916 6.6949602 200.87978 6.7801462 200.63381 curveto
    6.8480773 200.39155 7.1438307 200.25377 7.3728389 200.35861 curveto
    7.5332399 200.42458 7.6444521 200.59122 7.6422017 200.76488 curveto
    closepath
    clip
    gsave [0.052859054 0.063089841 -0.020912282 0.017521108 5.7334261 189.76443] concat
    shfill
    grestore
    grestore
    0 0 0 setrgbcolor
    [] 0 setdash
    0.027282091 setlinewidth
    0 setlinejoin
    0 setlinecap
    newpath
    7.6422017 200.76488 moveto
    7.6505696 201.02554 7.3905363 201.24867 7.1341335 201.20075 curveto
    6.8759501 201.16916 6.6949602 200.87978 6.7801462 200.63381 curveto
    6.8480773 200.39155 7.1438307 200.25377 7.3728389 200.35861 curveto
    7.5332399 200.42458 7.6444521 200.59122 7.6422017 200.76488 curveto
    closepath
    stroke
    gsave
    &lt;&lt;
    /ShadingType 3
    /ColorSpace /DeviceRGB
    /Coords [113.13708 207.87465 0 113.13708 207.87465 16.162441]
    /Extend [true true]
    /Domain [0 1]
    /Function &lt;&lt;
    /FunctionType 3
    /Functions
    [
    &lt;&lt;
    /FunctionType 2
    /Domain [0 1]
    /C0 [1 1 1]
    /C1 [0.72941178 0.72941178 0.72941178]
    /N 1
    &gt;&gt;
    ]
    /Domain [0 1]
    /Bounds [ ]
    /Encode [ 0 1 ]
    &gt;&gt;
    &gt;&gt;
    newpath
    5.2721217 202.83181 moveto
    5.2804896 203.09247 5.0204563 203.3156 4.7640539 203.26768 curveto
    4.5058701 203.23609 4.3248803 202.94671 4.4100662 202.70074 curveto
    4.4779975 202.45848 4.7737511 202.3207 5.0027593 202.42554 curveto
    5.1631598 202.49149 5.2743721 202.65813 5.2721217 202.83181 curveto
    closepath
    clip
    gsave [0.052859054 0.063089841 -0.020912282 0.017521108 3.363346 191.83136] concat
    shfill
    grestore
    grestore
    0 0 0 setrgbcolor
    [] 0 setdash
    0.027282091 setlinewidth
    0 setlinejoin
    0 setlinecap
    newpath
    5.2721217 202.83181 moveto
    5.2804896 203.09247 5.0204563 203.3156 4.7640539 203.26768 curveto
    4.5058701 203.23609 4.3248803 202.94671 4.4100662 202.70074 curveto
    4.4779975 202.45848 4.7737511 202.3207 5.0027593 202.42554 curveto
    5.1631598 202.49149 5.2743721 202.65813 5.2721217 202.83181 curveto
    closepath
    stroke
    grestore
    grestore
  &quot;
}

\score {
  b1^\stick
}

</pre><p>
 <a href="ae/lily-7b296036.ly">
  <img align="middle"
       border="0"
       src="ae/lily-7b296036.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-music-with-different-time-signatures.ly"></a>
<hr size="6">
<a name="Percussion-beaters"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Percussion" title="Beginning of this chapter or previous chapter"> &lt;&lt; Percussion&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Fretted-strings" title="Next chapter">&nbsp;Fretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percussion-beaters" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Percussion beaters&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Percussion" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Percussion&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Fretted-strings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Fretted strings &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing music with different time signatures</h2>


<p>In the following snippet, two parts have a completely different time
signature, yet remain synchronized. The bar lines can no longer be
printed at the <code>Score</code> level; to allow independent bar lines in
each part, the <code>Default_barline_engraver</code> and
<code>Timing_translator</code> are moved from the <code>Score</code> context to the
<code>Staff</code> context. 
</p>

<pre class="verbatim">\paper {
  indent = #0
  ragged-right = ##t
}

global = { \time 3/4 { s2.*3 } \bar &quot;&quot; \break { s2.*3 } }

\layout {
  \context {
    \Score
    \remove &quot;Timing_translator&quot;
    \remove &quot;Time_signature_engraver&quot;
    \remove &quot;Default_bar_line_engraver&quot;
    \override SpacingSpanner #'uniform-stretching = ##t
    \override SpacingSpanner #'strict-note-spacing = ##t
    proportionalNotationDuration = #(ly:make-moment 1 64)
  }
  \context {
    \Staff
    \consists &quot;Timing_translator&quot;
    \consists &quot;Default_bar_line_engraver&quot;
    \consists &quot;Time_signature_engraver&quot;
  }
  \context {
    \Voice
    \remove &quot;Forbid_line_break_engraver&quot;
    tupletFullLength = ##t
  }
}

Bassklarinette = \new Staff &lt;&lt;
  \global {
    \bar &quot;|&quot;
    \clef treble
    \time 3/8
    d''4.
    
    \bar &quot;|&quot;
    \time 3/4
    r8 des''2( c''8)
    
    \bar &quot;|&quot;
    \time 7/8
    r4. ees''2 ~
    
    \bar &quot;|&quot;
    \time 2/4
    \tupletUp
    \times 2/3 { ees''4 r4 d''4 ~ }
    
    \bar &quot;|&quot;
    \time 3/8
    \tupletUp
    \times 3/4 { d''4 r4 }
    
    \bar &quot;|&quot;
    \time 2/4
    e''2
    
    \bar &quot;|&quot;
    \time 3/8
    es''4.
    
    \bar &quot;|&quot;
    \time 3/4
    r8 d''2 r8
    \bar &quot;|&quot;
  }
&gt;&gt;

Perkussion = \new StaffGroup &lt;&lt;
  \new Staff &lt;&lt;
    \global {
      \bar &quot;|&quot;
      \clef percussion
      \time 3/4
      r4 c'2 ~
      
      \bar &quot;|&quot;
      c'2.
      
      \bar &quot;|&quot;
      R2.
      
      \bar &quot;|&quot;
      r2 g'4 ~
      
      \bar &quot;|&quot;
      g'2. ~
      
      \bar &quot;|&quot;
      g'2.
    }
  &gt;&gt;
  \new Staff &lt;&lt;
    \global {
      \bar &quot;|&quot;
      \clef percussion
      \time 3/4
      R2.
      
      \bar &quot;|&quot;
      g'2. ~
      
      \bar &quot;|&quot;
      g'2.
      
      \bar &quot;|&quot;
      r4 g'2 ~
      
      \bar &quot;|&quot;
      g'2 r4
      
      \bar &quot;|&quot;
      g'2.
    }
  &gt;&gt;
&gt;&gt;

\score {
  &lt;&lt;
    \Bassklarinette
    \Perkussion
  &gt;&gt;
}

</pre><p>
 <a href="c8/lily-62d01554.ly">
  <img align="middle"
       border="0"
       src="c8/lily-62d01554.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Fretted-strings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Percussion" title="Beginning of this chapter or previous chapter"> &lt;&lt; Percussion&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Percussion-beaters" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Fretted-strings" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Fretted-strings"></a>
<h1 class="unnumbered">Fretted strings</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Fretted-string-instruments">Fretted string instruments</a>.
</p>

<a name="adding-fingerings-to-a-score.ly"></a>
<hr size="6">
<a name="Fretted-strings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Fretted-strings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-fingerings-to-tablatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Adding fingerings to tablatures &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding fingerings to a score</h2>


<p>Fingering instructions can be entered using a simple syntax.
</p>

<pre class="verbatim">\relative c'' {
  c4-1 d-2 f-4 e-3
}

</pre><p>
 <a href="12/lily-1ed76b9d.ly">
  <img align="middle"
       border="0"
       src="12/lily-1ed76b9d.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-fingerings-to-tablatures.ly"></a>
<hr size="6">
<a name="Adding-fingerings-to-tablatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Fretted-strings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-fingerings-to-tablatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Adding-fingerings-to-tablatures"></a>
<h2 class="unnumberedsec">Adding fingerings to tablatures</h2>


<p>To add fingerings to tablatures, use a combination of <code>\markup</code>
and <code>\finger</code>. 
</p>

<pre class="verbatim">one = \markup { \finger 1 }
two = \markup { \finger 2 }
threeTwo = \markup {
  \override #'(baseline-skip . 2)
  \column {
    \finger 3
    \finger 2
  }
}
threeFour = \markup {
  \override #'(baseline-skip . 2)
  \column {
    \finger 3
    \finger 4
  }
}

\score {
  \new TabStaff {
    \stemUp
    e8\4^\one b\2 &lt;e, g\3 e'\1&gt;^&gt;[ b\2 e\4]
    &lt;a\3 fis'\1&gt;^&gt;^\threeTwo[ b\2 e\4]
  }
}

</pre><p>
 <a href="9a/lily-8c3dd697.ly">
  <img align="middle"
       border="0"
       src="9a/lily-8c3dd697.png"
       alt="[image of music]">
 </a>
</p>




<a name="allowing-fingerings-to-be-printed-inside-the-staff.ly"></a>
<hr size="6">
<a name="Adding-fingerings-to-tablatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-fingerings-to-tablatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Adding fingerings to tablatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Adding-fingerings-to-tablatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Allowing fingerings to be printed inside the staff</h2>


<p>By default, vertically oriented fingerings are positioned outside the
staff.  However, this behavior can be canceled.
</p>

<pre class="verbatim">\relative c' {
  &lt;c-1 e-2 g-3 b-5&gt;2
  \once \override Fingering #'staff-padding = #'()
  &lt;c-1 e-2 g-3 b-5&gt;2
}

</pre><p>
 <a href="f2/lily-ed399441.ly">
  <img align="middle"
       border="0"
       src="f2/lily-ed399441.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-placement-of-chord-fingerings.ly"></a>
<hr size="6">
<a name="Adding-fingerings-to-tablatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-fingerings-to-tablatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Customizing-fretboard-fret-diagrams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Customizing fretboard fret diagrams &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Controlling the placement of chord fingerings</h2>


<p>The placement of fingering numbers can be controlled precisely.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(left)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(down right up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(up)
  &lt;c-1 e-3 a-5&gt;4
  \set fingeringOrientations = #'(left)
  &lt;c-1&gt;2
  \set fingeringOrientations = #'(down)
  &lt;e-3&gt;2
}


</pre><p>
 <a href="73/lily-c27be62a.ly">
  <img align="middle"
       border="0"
       src="73/lily-c27be62a.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-fretboard-fret-diagrams.ly"></a>
<hr size="6">
<a name="Customizing-fretboard-fret-diagrams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Adding-fingerings-to-tablatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Customizing-markup-fret-diagrams" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Customizing markup fret diagrams &gt; </a>]</td></tr></table>
<a name="Customizing-fretboard-fret-diagrams"></a>
<h2 class="unnumberedsec">Customizing fretboard fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For FretBoard fret diagrams, overrides
are applied to the <code>FretBoards.FretBoard</code> object. Like
<code>Voice</code>, <code>FretBoards</code> is a bottom level context, therefore
can be omitted in property overrides.
</p>

<pre class="verbatim">\include &quot;predefined-guitar-fretboards.ly&quot;
\storePredefinedDiagram \chordmode { c' }
                        #guitar-tuning
                        #&quot;x;1-1-(;3-2;3-3;3-4;1-1-);&quot;
&lt;&lt;
  \new ChordNames {
    \chordmode { c1 | c | c | d }
  }
  \new FretBoards {
    % Set global properties of fret diagram
    \override FretBoards.FretBoard #'size = #'1.2
    \override FretBoard
      #'(fret-diagram-details finger-code) = #'in-dot
    \override FretBoard
      #'(fret-diagram-details dot-color) = #'white
    \chordmode {
      c
      \once \override FretBoard #'size = #'1.0
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'straight
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      c'
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'none
      \once \override FretBoard
        #'(fret-diagram-details number-type) = #'arabic
      \once \override FretBoard
        #'(fret-diagram-details orientation) = #'landscape
      \once \override FretBoard
        #'(fret-diagram-details mute-string) = #&quot;M&quot;
      \once \override FretBoard
        #'(fret-diagram-details label-dir) = #LEFT
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      c'
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      \once \override FretBoard
        #'(fret-diagram-details dot-radius) = #0.35
      \once \override FretBoard
        #'(fret-diagram-details dot-position) = #0.5
      \once \override FretBoard
        #'(fret-diagram-details fret-count) = #3
      d
    }
  }
  \new Voice {
    c'1 | c' | c' | d'
  }
&gt;&gt;
</pre><p>
 <a href="ce/lily-ccf0575b.ly">
  <img align="middle"
       border="0"
       src="ce/lily-ccf0575b.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-markup-fret-diagrams.ly"></a>
<hr size="6">
<a name="Customizing-markup-fret-diagrams"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Customizing-fretboard-fret-diagrams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Customizing fretboard fret diagrams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Defining-predefined-fretboards-for-other-instruments" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Defining predefined fretboards for other instruments &gt; </a>]</td></tr></table>
<a name="Customizing-markup-fret-diagrams"></a>
<h2 class="unnumberedsec">Customizing markup fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For markup fret diagrams, overrides can
be applied to the <code>Voice.TextScript</code> object or directly to the
markup.
</p>

<pre class="verbatim">&lt;&lt;
  \chords { c1 | c | c | d }
  
  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #'1.2
    \override TextScript
      #'(fret-diagram-details finger-code) = #'in-dot
    \override TextScript
      #'(fret-diagram-details dot-color) = #'white

    %% C major for guitar, no barre, using defaults
       % terse style
    c'1^\markup { \fret-diagram-terse #&quot;x;3-3;2-2;o;1-1;o;&quot; }

    %% C major for guitar, barred on third fret
       % verbose style
       % size 1.0
       % roman fret label, finger labels below string, straight barre
    c'1^\markup {
      % standard size
      \override #'(size . 1.0) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . in-dot)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, barred on third fret
       % verbose style
       % landscape orientation, arabic numbers, M for mute string
       % no barre, fret label down or left, small mute label font
    c'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (number-type . arabic)
                   (label-dir . -1)
                   (mute-string . &quot;M&quot;)
                   (orientation . landscape)
                   (barre-type . none)
                   (xo-font-magnification . 0.4)
                   (xo-padding . 0.3))) {
        \fret-diagram-verbose #'((mute 6)
                                 (place-fret 5 3 1)
                                 (place-fret 4 5 2)
                                 (place-fret 3 5 3)
                                 (place-fret 2 5 4)
                                 (place-fret 1 3 1)
                                 (barre 5 1 3))
      }
    }

    %% simple D chord
       % terse style
       % larger dots, centered dots, fewer frets
       % label below string
    d'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="4d/lily-5948aa0e.ly">
  <img align="middle"
       border="0"
       src="4d/lily-5948aa0e.png"
       alt="[image of music]">
 </a>
</p>




<a name="defining-predefined-fretboards-for-other-instruments.ly"></a>
<hr size="6">
<a name="Defining-predefined-fretboards-for-other-instruments"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Customizing-markup-fret-diagrams" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Customizing markup fret diagrams&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Faking-a-hammer-in-tablatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Faking a hammer in tablatures &gt; </a>]</td></tr></table>
<a name="Defining-predefined-fretboards-for-other-instruments"></a>
<h2 class="unnumberedsec">Defining predefined fretboards for other instruments</h2>


<p>Predefined fret diagrams can be added for new instruments in addition
to the standards used for guitar.  This file shows how this is done by
defining a new string-tuning and a few predefined fretboards for the
Venezuelan cuatro.
</p>
<p>This file also shows how fingerings can be included in the chords used
as reference points for the chord lookup, and displayed in  the fret
diagram and the <code>TabStaff</code>, but not the music.
</p>

<p>These fretboards are not transposable because they contain string
information.  This is planned to be corrected in the future. 
</p>

<pre class="verbatim">% add FretBoards for the Cuatro
%   Note: This section could be put into a separate file
%      predefined-cuatro-fretboards.ly
%      and \included into each of your compositions

cuatroTuning = #'(11 18 14 9)

dSix = { &lt;a\4 b\1 d\3 fis\2&gt; }
dMajor = { &lt;a\4 d\1 d\3 fis \2&gt; }
aMajSeven = { &lt;a\4 cis\1 e\3 g\2&gt; }
dMajSeven = { &lt;a\4 c\1 d\3 fis\2&gt; }
gMajor = { &lt;b\4 b\1 d\3 g\2&gt; }

\storePredefinedDiagram \dSix
                        #cuatroTuning
                        #&quot;o;o;o;o;&quot;
\storePredefinedDiagram \dMajor
                        #cuatroTuning
                        #&quot;o;o;o;3-3;&quot;
\storePredefinedDiagram \aMajSeven
                        #cuatroTuning
                        #&quot;o;2-2;1-1;2-3;&quot;
\storePredefinedDiagram \dMajSeven
                        #cuatroTuning
                        #&quot;o;o;o;1-1;&quot;
\storePredefinedDiagram \gMajor
                        #cuatroTuning
                        #&quot;2-2;o;1-1;o;&quot;

% end of potential include file /predefined-cuatro-fretboards.ly


#(set-global-staff-size 16)

primerosNames = \chordmode {
  d:6 d a:maj7 d:maj7 
  g
}
primeros = {
  \dSix \dMajor \aMajSeven \dMajSeven
  \gMajor
}

\score {
  &lt;&lt;
    \new ChordNames {
      \set chordChanges = ##t
      \primerosNames
    }

    \new Staff {
      \new Voice \with {
        \remove &quot;New_fingering_engraver&quot;
      } 
      \relative c'' {
        \primeros
      }
    }

    \new FretBoards {
      \set stringTunings = #cuatroTuning
      \override FretBoard
        #'(fret-diagram-details string-count) = #'4
      \override FretBoard
        #'(fret-diagram-details finger-code) = #'in-dot
      \primeros
    }

    \new TabStaff \relative c'' {
      \set TabStaff.stringTunings = #cuatroTuning
      \primeros
    }
    
  &gt;&gt;

  \layout { 
    \context {
      \Score
      \override SpacingSpanner
        #'base-shortest-duration = #(ly:make-moment 1 16)
    }
  }
  \midi { }
}
</pre><p>
 <a href="ef/lily-1d2c8438.ly">
  <img align="middle"
       border="0"
       src="ef/lily-1d2c8438.png"
       alt="[image of music]">
 </a>
</p>




<a name="faking-a-hammer-in-tablatures.ly"></a>
<hr size="6">
<a name="Faking-a-hammer-in-tablatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Defining-predefined-fretboards-for-other-instruments" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Defining predefined fretboards for other instruments&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Fingerings &gt; </a>]</td></tr></table>
<a name="Faking-a-hammer-in-tablatures"></a>
<h2 class="unnumberedsec">Faking a hammer in tablatures</h2>


<p>A hammer in tablature can be faked with slurs.  
</p>

<pre class="verbatim">\score {
  \new TabStaff {
    \relative c'' {
      c4( d) d( d)
      d2( c)
    }
  }
}


</pre><p>
 <a href="6c/lily-8f1fb717.ly">
  <img align="middle"
       border="0"
       src="6c/lily-8f1fb717.png"
       alt="[image of music]">
 </a>
</p>




<a name="fingerings,-string-indications,-and-right-hand-fingerings.ly"></a>
<hr size="6">
<a name="Fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Faking-a-hammer-in-tablatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Faking a hammer in tablatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Flamenco-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Flamenco notation &gt; </a>]</td></tr></table>
<a name="Fingerings"></a>
<h2 class="unnumberedsec">Fingerings, string indications, and right-hand fingerings</h2>


<p>This example combines left-hand fingering, string indications, and
right-hand fingering.
</p>

<pre class="verbatim">#(define RH rightHandFinger)

\relative c {
  \clef &quot;treble_8&quot;
  &lt;c-3\5-\RH #1 &gt;4
  &lt;e-2\4-\RH #2 &gt;4
  &lt;g-0\3-\RH #3 &gt;4
  &lt;c-1\2-\RH #4 &gt;4
}

</pre><p>
 <a href="10/lily-73599be3.ly">
  <img align="middle"
       border="0"
       src="10/lily-73599be3.png"
       alt="[image of music]">
 </a>
</p>




<a name="flamenco-notation.ly"></a>
<hr size="6">
<a name="Flamenco-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Fingerings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Fret-diagrams-explained-and-developed" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Fret diagrams explained and developed &gt; </a>]</td></tr></table>
<a name="Flamenco-notation"></a>
<h2 class="unnumberedsec">Flamenco notation</h2>


<p>For flamenco guitar, special notation is used:
</p>

<p>* a golpe symbol to indicate a slap on the guitar body with the nail of
the ring finger
</p>

<p>* an arrow to indicate (the direction of) strokes
</p>

<p>* different letters for fingering (&quot;p&quot;: thumb, &quot;i&quot;: index finger,
&quot;m&quot;: middle finger, &quot;a&quot;: ring finger and &quot;x&quot;: little finger)
</p>

<p>* 3- and 4-finger rasgueados; stroke upwards with all fingers, ending
with an up- and down using the index finger
</p>

<p>* abanicos: strokes (in tuples) with thumb (down), little and index
finger (both up). There&rsquo;s also an abanico 2 where middle and ring
finger are used instead of the little finger.
</p>

<p>* alza pua: fast playing with the thumb
</p>

<p>Most figures use arrows in combination with fingering; with abanicos
and rasgueados, noteheads are printed only for the first chord.
</p>
<p>This snippet contains some header-like code that can be copied as
&lsquo;<samp>flamenco.ly</samp>&rsquo; and included in source files. 
</p>

<pre class="verbatim">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%  Cut here ----- Start 'flamenco.ly' 

% Text indicators
abanico   = \markup { \italic Abanico }
rasgueaso = \markup { \italic Ras. }
alzapua   = \markup { \italic Alzapua }

% Finger stroke symbols
strokeUp = \markup { \postscript #&quot;
  0.1     setlinewidth
  0.5 0   moveto
  0.5 2   lineto
  0.2 1.4 lineto
  0.5 2   moveto
  0.8 1.4 lineto
  stroke
&quot;}

strokeDown = \markup { \postscript #&quot;
  0.1     setlinewidth
  0.5 2   moveto
  0.5 0   lineto
  0.2 0.6 lineto
  0.5 0   moveto
  0.8 0.6 lineto
  stroke
&quot;}

% Golpe symbol
golpe = \markup { \postscript #&quot;
  0.2 setlinewidth
  0 0 moveto
  1 0 lineto
  1 1 lineto
  stroke
  &quot;\postscript #&quot;
  0.1       setlinewidth
  -0.6 -0.1  moveto
  -0.6  1.0 lineto
  0.5  1.0 lineto
  stroke
&quot;}  

strokeUpGolpe = \markup { \column { \golpe \line { \strokeUp }}}
iUpGolpe = \markup { \column { \golpe \line { \small i } \line { \strokeUp }}}

% Strokes for all fingers
pUp   = \markup { \column { \small p \line { \strokeUp }}}
pDown = \markup { \column { \small p \line { \strokeDown }}}
iUp   = \markup { \column { \small i \line { \strokeUp }}}
iDown = \markup { \column { \small i \line { \strokeDown }}}
mUp   = \markup { \column { \small m \line { \strokeUp }}}
mDown = \markup { \column { \small m \line { \strokeDown }}}
aUp   = \markup { \column { \small a \line { \strokeUp }}}
aDown = \markup { \column { \small a \line { \strokeDown }}}
xUp   = \markup { \column { \small x \line { \strokeUp }}}
xDown = \markup { \column { \small x \line { \strokeDown }}}


% Just handy :)
tupletOff = {
  \once \override TupletNumber #'stencil = ##f
  \once \override TupletBracket #'stencil = ##f
}

tupletsOff = {
  \override TupletNumber #'stencil = ##f
  \override TupletBracket #'bracket-visibility = #'if-no-beam
}

tupletsOn = {
  \override TupletBracket #'bracket-visibility = #'default
  \revert TupletNumber #'stencil
}

headsOff = {
  \override TabNoteHead #'transparent = ##t
  \override NoteHead #'transparent = ##t
  \override NoteHead #'no-ledgers = ##t
}

headsOn = {
  \override TabNoteHead #'transparent = ##f
  \override NoteHead #'transparent = ##f
  \override NoteHead #'no-ledgers = ##f
}

%%%%%%%  Cut here ----- End 'flamenco.ly' 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

part = \relative c' {
  &lt;a, e' a cis e&gt;8^\iUp
  &lt;a e' a cis e&gt;8^\iDown
  r4
  r2^\golpe
    
  &lt;a e' a cis e&gt;8^\iUp
  &lt;a e' a cis e&gt;8^\iDown
  &lt;a e' a cis e&gt;8^\iUpGolpe
  &lt;a e' a cis e&gt;8^\iDown
  r2
      
  &lt;a e' a cis e&gt;16^\aUp
  \headsOff 
  &lt;a e' a cis e&gt;^\mUp
  &lt;a e' a cis e&gt;^\iUp
  &lt;a e' a cis e&gt;^\iDown~
  \headsOn
  &lt;a e' a cis e&gt;2
  r4

  \tupletOff
  \times 4/5 {
    &lt;a e' a cis e&gt;16^\xUp
    \headsOff
    &lt;a e' a cis e&gt;^\aUp
    &lt;a e' a cis e&gt;^\mUp
    &lt;a e' a cis e&gt;^\iUp
    &lt;a e' a cis e&gt;^\iDown~
    \headsOn
  }
  &lt;a e' a cis e&gt;2
  r4
    
  \tupletsOff
  \times 2/3 {
    &lt;a e' a cis e&gt;8^\pDown
    \headsOff
    &lt;a e' a cis e&gt;^\xUp
    &lt;a e' a cis e&gt;^\iUp
    \headsOn
  }
  
  \times 2/3 {
    &lt;a e' a cis e&gt;8^\pDown
    \headsOff
    &lt;a e' a cis e&gt;^\xUp
    &lt;a e' a cis e&gt;^\iUp
    \headsOn
  }
    
  \times 2/3 {
    &lt;a e' a cis e&gt;8^\pDown
    \headsOff
    &lt;a e' a cis e&gt;^\xUp
    &lt;a e' a cis e&gt;^\iUp
    \headsOn
  }
  \times 2/3 {
    &lt;a e' a cis e&gt;8^\pDown
    \headsOff
    &lt;a e' a cis e&gt;^\xUp
    &lt;a e' a cis e&gt;^\iUp
    \headsOn
  }
  
  \tupletsOff
  \override Beam #'positions = #'(2 . 2)
  \times 2/3 {
    a8^\markup{ \small p }
    &lt;e' a&gt;^\strokeUpGolpe
    &lt;e a&gt;^\strokeDown
  }
  \times 2/3 {
    a,8^\markup{ \small p }
    &lt;e' a&gt;^\strokeUpGolpe
    &lt;e a&gt;^\strokeDown
  }
  \times 2/3 {
    a,8^\markup{ \small p }
    &lt;e' a&gt;^\strokeUpGolpe
    &lt;e a&gt;^\strokeDown
  }
  \times 2/3 {
    a,8^\markup{ \small p }
    &lt;e' a&gt;^\strokeUpGolpe
    &lt;e a&gt;^\strokeDown
  }
  \tupletsOn
    
  \once \override TextScript #'extra-offset = #'(0 . -1)
  &lt;g, b f'&gt;1_\golpe^\mUp
  \bar &quot;|.&quot;
}

\score {
  \new StaffGroup &lt;&lt;
    \context Staff = &quot;part&quot; &lt;&lt;
      \clef G
      \transpose c c'
      {
        \part
      }
    &gt;&gt;
    \context TabStaff {
      \part
    }
  &gt;&gt;
  \layout {
    ragged-right = ##t
  }
}


</pre><p>
 <a href="85/lily-ea72196d.ly">
  <img align="middle"
       border="0"
       src="85/lily-ea72196d.png"
       alt="[image of music]">
 </a>
</p>




<a name="fret-diagrams-explained-and-developed.ly"></a>
<hr size="6">
<a name="Fret-diagrams-explained-and-developed"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Flamenco-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Flamenco notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Fret-diagrams-explained-and-developed" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Fret-diagrams-explained-and-developed"></a>
<h2 class="unnumberedsec">Fret diagrams explained and developed</h2>


<p>This snippet shows many possibilities for obtaining and tweaking fret
diagrams.
</p>

<pre class="verbatim">&lt;&lt;
  \chords {
    a2 a
    \repeat unfold 3 {
      c c c d d
    }
  }
  
  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #1.2
    \override TextScript 
      #'fret-diagram-details #'finger-code = #'below-string
    \override TextScript #'fret-diagram-details #'dot-color = #'black
    
    %% A chord for ukelele
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (string-count . 4)
                   (dot-color . white)
                   (finger-code . in-dot))) {
        \fret-diagram #&quot;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }
    
    %% A chord for ukelele, with formatting defined in definition string
    %  1.2 * size, 4 strings, 4 frets, fingerings below string
    %  dot radius .35 of fret spacing, dot position 0.55 of fret spacing
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (dot-color . white)
                   (open-string . &quot;o&quot;))) {
        \fret-diagram #&quot;s:1.2;w:4;h:3;f:2;d:0.35;p:0.55;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }
    
      %% These chords will be in normal orientation

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (string-thickness-factor . 0.3)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup  {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in landscape orientation
    \override TextScript 
       #'fret-diagram-details #'orientation = #'landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in opposing-landscape orientation
    \override TextScript #'fret-diagram-details 
                           #'orientation = #'opposing-landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="b3/lily-c665e3f9.ly">
  <img align="middle"
       border="0"
       src="b3/lily-c665e3f9.png"
       alt="[image of music]">
 </a>
</p>




<a name="guitar-strum-rhythms.ly"></a>
<hr size="6">
<a name="Fret-diagrams-explained-and-developed"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Fret-diagrams-explained-and-developed" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Fret diagrams explained and developed&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Next section in reading order" accesskey="n" rel="next">&nbsp;How to change fret diagram position &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Guitar strum rhythms</h2>


<p>For guitar music, it is possible to show strum rhythms, along with
melody notes, chord names and fret diagrams.
</p>

<pre class="verbatim">\include &quot;predefined-guitar-fretboards.ly&quot;
&lt;&lt;
  \new ChordNames {
    \chordmode {
      c1 f g c
    }
  }
  \new FretBoards {
    \chordmode {
      c1 f g c
    }
  }
  \new Voice \with {
    \consists &quot;Pitch_squash_engraver&quot;
  } {
    \relative c'' {
      \improvisationOn
      c4 c8 c c4 c8 c
      f4 f8 f f4 f8 f
      g4 g8 g g4 g8 g
      c4 c8 c c4 c8 c
    }
  }
  \new Voice = &quot;melody&quot; {
    \relative c'' {
      c2 e4 e4
      f2. r4
      g2. a4
      e4 c2.
    }
  }
  \new Lyrics {
    \lyricsto &quot;melody&quot; {
      This is my song.
      I like to sing.
    }
  }
&gt;&gt;
</pre><p>
 <a href="99/lily-6f894292.ly">
  <img align="middle"
       border="0"
       src="99/lily-6f894292.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-change-fret-diagram-position.ly"></a>
<hr size="6">
<a name="How-to-change-fret-diagram-position"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Fret-diagrams-explained-and-developed" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="How-to-change-fret-diagram-position"></a>
<h2 class="unnumberedsec">How to change fret diagram position</h2>


<p>If you want to move the position of a fret diagram, for example, to
avoid collision, or to place it between two notes, you have various
possibilities:
</p>
<p>1) modify #&rsquo;padding or #&rsquo;extra-offset values (as shown in the first
snippet)
</p>
<p>2) you can add an invisible voice and attach the fret diagrams to the
invisible notes in that voice (as shown in the second example).
</p>
<p> If you need to move the fret according with a rythmic position inside
the bar (in the example, the third beat of the measure) the second
example is better, because the fret is aligned with the third beat
itself.  
</p>

<pre class="verbatim">harmonies = \chordmode
{
  a8:13
% THE FOLLOWING IS THE COMMAND TO MOVE THE CHORD NAME
  \once \override ChordNames.ChordName #'extra-offset = #'(10 . 0)
  b8:13 s2.
% THIS LINE IS THE SECOND METHOD
    s4 s4  b4:13
}

\score
{
  &lt;&lt;
    \context ChordNames \harmonies
    \context Staff
    {a8^\markup { \fret-diagram  #&quot;6-x;5-0;4-2;3-0;2-0;1-2;&quot;  }
% THE FOLLOWING IS THE COMMAND TO MOVE THE FRET DIAGRAM
     \once \override TextScript #'extra-offset = #'(10 . 0)
     b4.~^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  } b4. a8\break
% HERE IS THE SECOND METHOD
     &lt;&lt;
       { a8 b4.~ b4. a8} 
       { s4 s4 s4^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  }
       }
     &gt;&gt;
   }
  &gt;&gt;
}



</pre><p>
 <a href="a8/lily-d78a72ee.ly">
  <img align="middle"
       border="0"
       src="a8/lily-d78a72ee.png"
       alt="[image of music]">
 </a>
</p>




<a name="jazz-combo-template.ly"></a>
<hr size="6">
<a name="How-to-change-fret-diagram-position"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; How to change fret diagram position&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Jazz combo template</h2>


<p>This is quite an advanced template, for a jazz ensemble. Note that all
instruments are notated in <code>\key c \major</code>. This refers to the
key in concert pitch; the key will be automatically transposed if the
music is within a <code>\transpose</code> section.
</p>

<pre class="verbatim">\header {
  title = &quot;Song&quot;
  subtitle = &quot;(tune)&quot;
  composer = &quot;Me&quot;
  meter = &quot;moderato&quot;
  piece = &quot;Swing&quot;
  tagline = \markup {
    \column {
      &quot;LilyPond example file by Amelie Zapf,&quot;
      &quot;Berlin 07/07/2003&quot;
    }
  }
}

%#(set-global-staff-size 16)
\include &quot;english.ly&quot;

%%%%%%%%%%%% Some macros %%%%%%%%%%%%%%%%%%%

sl = {
  \override NoteHead #'style = #'slash
  \override Stem #'transparent = ##t
}
nsl = {
  \revert NoteHead #'style
  \revert Stem #'transparent
}
crOn = \override NoteHead #'style = #'cross
crOff = \revert NoteHead #'style

%% insert chord name style stuff here.

jazzChords = { }

%%%%%%%%%%%% Keys'n'thangs %%%%%%%%%%%%%%%%%

global = { \time 4/4 }

Key = { \key c \major }

% ############ Horns ############

% ------ Trumpet ------
trpt = \transpose c d \relative c'' {
  \Key
  c1 | c | c |
}
trpHarmony = \transpose c' d {
  \jazzChords
}
trumpet = {
  \global
  \set Staff.instrumentName = #&quot;Trumpet&quot;
  \clef treble
  &lt;&lt;
    \trpt
  &gt;&gt;
}

% ------ Alto Saxophone ------
alto = \transpose c a \relative c' {
  \Key
  c1 | c | c |
}
altoHarmony = \transpose c' a {
  \jazzChords
}
altoSax = {
  \global
  \set Staff.instrumentName = #&quot;Alto Sax&quot;
  \clef treble
  &lt;&lt;
    \alto
  &gt;&gt;
}

% ------ Baritone Saxophone ------
bari = \transpose c a' \relative c {
  \Key
  c1
  c1
  \sl
  d4^&quot;Solo&quot; d d d
  \nsl
}
bariHarmony = \transpose c' a \chordmode {
  \jazzChords s1 s d2:maj e:m7
}
bariSax = {
  \global
  \set Staff.instrumentName = #&quot;Bari Sax&quot;
  \clef treble
  &lt;&lt;
    \bari
  &gt;&gt;
}

% ------ Trombone ------
tbone = \relative c {
  \Key
  c1 | c | c
}
tboneHarmony = \chordmode {
  \jazzChords
}
trombone = {
  \global
  \set Staff.instrumentName = #&quot;Trombone&quot;
  \clef bass
  &lt;&lt;
    \tbone
  &gt;&gt;
}

% ############ Rhythm Section #############

% ------ Guitar ------
gtr = \relative c'' {
  \Key
  c1
  \sl
  b4 b b b
  \nsl
  c1
}
gtrHarmony = \chordmode {
  \jazzChords
  s1 c2:min7+ d2:maj9
}
guitar = {
  \global
  \set Staff.instrumentName = #&quot;Guitar&quot;
  \clef treble
  &lt;&lt;
    \gtr
  &gt;&gt;
}

%% ------ Piano ------
rhUpper = \relative c'' {
  \voiceOne
  \Key
  c1 | c | c
}
rhLower = \relative c' {
  \voiceTwo
  \Key
  e1 | e | e
}

lhUpper = \relative c' {
  \voiceOne
  \Key
  g1 | g | g
}
lhLower = \relative c {
  \voiceTwo
  \Key
  c1 | c | c
}

PianoRH = {
  \clef treble
  \global
  \set Staff.midiInstrument = #&quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \rhUpper
    \new Voice = &quot;two&quot; \rhLower
  &gt;&gt;
}
PianoLH = {
  \clef bass
  \global
  \set Staff.midiInstrument = &quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \lhUpper
    \new Voice = &quot;two&quot; \lhLower
  &gt;&gt;
}

piano = {
  &lt;&lt;
    \set PianoStaff.instrumentName = #&quot;Piano&quot;
    \new Staff = &quot;upper&quot; \PianoRH
    \new Staff = &quot;lower&quot; \PianoLH
  &gt;&gt;
}

% ------ Bass Guitar ------
Bass = \relative c {
  \Key
  c1 | c | c
}
bass = {
  \global
  \set Staff.instrumentName = #&quot;Bass&quot;
  \clef bass
  &lt;&lt;
    \Bass
  &gt;&gt;
}

% ------ Drums ------
up = \drummode {
  \voiceOne
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
}
down = \drummode {
  \voiceTwo
  bd4 s bd s
  bd4 s bd s
  bd4 s bd s
}

drumContents = {
  \global
  &lt;&lt;
    \set DrumStaff.instrumentName = #&quot;Drums&quot;
    \new DrumVoice \up
    \new DrumVoice \down
  &gt;&gt;
}

%%%%%%%%% It All Goes Together Here %%%%%%%%%%%%%%%%%%%%%%

\score {
  &lt;&lt;
    \new StaffGroup = &quot;horns&quot; &lt;&lt;
      \new Staff = &quot;trumpet&quot; \trumpet
      \new Staff = &quot;altosax&quot; \altoSax
      \new ChordNames = &quot;barichords&quot; \bariHarmony
      \new Staff = &quot;barisax&quot; \bariSax
      \new Staff = &quot;trombone&quot; \trombone
    &gt;&gt;
    
    \new StaffGroup = &quot;rhythm&quot; &lt;&lt;
      \new ChordNames = &quot;chords&quot; \gtrHarmony
      \new Staff = &quot;guitar&quot; \guitar
      \new PianoStaff = &quot;piano&quot; \piano
      \new Staff = &quot;bass&quot; \bass
      \new DrumStaff \drumContents
    &gt;&gt;
  &gt;&gt;
  
  \layout {
    \context { \RemoveEmptyStaffContext }
    \context {
      \Score
      \override BarNumber #'padding = #3
      \override RehearsalMark #'padding = #2
      skipBars = ##t
    }
  }
  
  \midi { }
}

</pre><p>
 <a href="4e/lily-20354a0d.ly">
  <img align="middle"
       border="0"
       src="4e/lily-20354a0d.png"
       alt="[image of music]">
 </a>
</p>




<a name="laissez-vibrer-ties.ly"></a>
<hr size="6">
<a name="How-to-change-fret-diagram-position"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Laissez vibrer ties</h2>


<p>Laissez vibrer ties have a fixed size. Their formatting can be tuned
using <code>'tie-configuration</code>. 
</p>

<pre class="verbatim">\relative c' {
  &lt;c e g&gt;4\laissezVibrer r &lt;c f g&gt;\laissezVibrer r
  &lt;c d f g&gt;4\laissezVibrer r &lt;c d f g&gt;4.\laissezVibrer r8

  &lt;c d e f&gt;4\laissezVibrer r
  \override LaissezVibrerTieColumn #'tie-configuration
     = #`((-7 . ,DOWN)
          (-5 . ,DOWN)
          (-3 . ,UP)
          (-1 . ,UP))
  &lt;c d e f&gt;4\laissezVibrer r
}

</pre><p>
 <a href="e6/lily-cf04f3b3.ly">
  <img align="middle"
       border="0"
       src="e6/lily-cf04f3b3.png"
       alt="[image of music]">
 </a>
</p>




<a name="letter-tablature-formatting.ly"></a>
<hr size="6">
<a name="How-to-change-fret-diagram-position"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Letter tablature formatting</h2>


<p>Tablature can be formatted using letters instead of numbers. 
</p>

<pre class="verbatim">#(define (letter-tablature-format str context event)
  (let ((tuning (ly:context-property context 'stringTunings))
        (pitch (ly:event-property event 'pitch)))
    (make-whiteout-markup
     (make-vcenter-markup
      (string (integer-&gt;char
         (+ (char-&gt;integer #\a)
            (- (ly:pitch-semitones pitch)
            (list-ref tuning (- str 1))))))))))

music = \relative c {
  c4 d e f
  g4 a b c
  d4 e f g
}

&lt;&lt;
  \new Staff {
    \clef &quot;G_8&quot;
    \music
  }
  \new TabStaff \with { 
    tablatureFormat = #letter-tablature-format
  }
  {
    \music
  }
&gt;&gt;
</pre><p>
 <a href="ae/lily-508b3ed8.ly">
  <img align="middle"
       border="0"
       src="ae/lily-508b3ed8.png"
       alt="[image of music]">
 </a>
</p>




<a name="modern-tab-text-clef.ly"></a>
<hr size="6">
<a name="How-to-change-fret-diagram-position"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Placement-of-right_002dhand-fingerings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Placement of right-hand fingerings &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Modern TAB text clef</h2>


<p>Use a markup text to replace the (TAB) clef glyph with a modern font.
</p>

<pre class="verbatim">TAB = \markup {
  \raise #1.5
  \sans
  \bold
  \huge
  \override #'(baseline-skip . 2.5)
  \left-align
  \center-column {
    T
    A
    B
  }
}

\new TabStaff {
  \override Staff.Clef #'stencil = #(lambda (grob)
    (grob-interpret-markup grob TAB))
  a
}
</pre><p>
 <a href="0d/lily-6ac4c4f9.ly">
  <img align="middle"
       border="0"
       src="0d/lily-6ac4c4f9.png"
       alt="[image of music]">
 </a>
</p>




<a name="placement-of-right-hand-fingerings.ly"></a>
<hr size="6">
<a name="Placement-of-right_002dhand-fingerings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#How-to-change-fret-diagram-position" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Polyphony-in-tablature" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Polyphony in tablature &gt; </a>]</td></tr></table>
<a name="Placement-of-right_002dhand-fingerings"></a>
<h2 class="unnumberedsec">Placement of right-hand fingerings</h2>


<p>It is possible to exercise greater control over the placement of
right-hand fingerings by setting a specific property, as demonstrated
in the following example.
</p>

<pre class="verbatim">#(define RH rightHandFinger)

\relative c {
  \clef &quot;treble_8&quot;
  
  \set strokeFingerOrientations = #'(up down)
  &lt;c-\RH #1 e-\RH #2 g-\RH #3 c-\RH #4 &gt;4
  
  \set strokeFingerOrientations = #'(up right down)
  &lt;c-\RH #1 e-\RH #2 g-\RH #3 c-\RH #4 &gt;4
  
  \set strokeFingerOrientations = #'(left)
  &lt;c-\RH #1 e-\RH #2 g-\RH #3 c-\RH #4 &gt;2
}

</pre><p>
 <a href="42/lily-1d11587a.ly">
  <img align="middle"
       border="0"
       src="42/lily-1d11587a.png"
       alt="[image of music]">
 </a>
</p>




<a name="polyphony-in-tablature.ly"></a>
<hr size="6">
<a name="Polyphony-in-tablature"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Placement-of-right_002dhand-fingerings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Placement of right-hand fingerings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Stem-and-beam-behavior-in-tablature" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Stem and beam behavior in tablature &gt; </a>]</td></tr></table>
<a name="Polyphony-in-tablature"></a>
<h2 class="unnumberedsec">Polyphony in tablature</h2>


<p>Polyphony is created the same way in a <code>TabStaff</code> as in a regular
staff.
</p>

<pre class="verbatim">upper = \relative c' {
  \time 12/8
  \key e \minor
  \voiceOne
  r4. r8 e, fis g16 b g e e' b c b a g fis e
}

lower = \relative c {
  \key e \minor
  \voiceTwo
  r16 e d c b a g4 fis8 e fis g a b c
}

\score {
  &lt;&lt;
    \new StaffGroup = &quot;tab with traditional&quot; &lt;&lt;
      \new Staff = &quot;guitar traditional&quot; &lt;&lt;
        \clef &quot;treble_8&quot;
        \context Voice = &quot;upper&quot; \upper
        \context Voice = &quot;lower&quot; \lower
      &gt;&gt;
      \new TabStaff = &quot;guitar tab&quot; &lt;&lt;
        \context TabVoice = &quot;upper&quot; \upper
        \context TabVoice = &quot;lower&quot; \lower
      &gt;&gt;
    &gt;&gt;
  &gt;&gt;
}

</pre><p>
 <a href="f7/lily-9347e9a5.ly">
  <img align="middle"
       border="0"
       src="f7/lily-9347e9a5.png"
       alt="[image of music]">
 </a>
</p>




<a name="stem-and-beam-behavior-in-tablature.ly"></a>
<hr size="6">
<a name="Stem-and-beam-behavior-in-tablature"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Unfretted-strings" title="Next chapter">&nbsp;Unfretted strings &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Polyphony-in-tablature" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Polyphony in tablature&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Fretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Fretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Unfretted-strings" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Unfretted strings &gt; </a>]</td></tr></table>
<a name="Stem-and-beam-behavior-in-tablature"></a>
<h2 class="unnumberedsec">Stem and beam behavior in tablature</h2>


<p>The direction of stems is controlled the same way in tablature as in
traditional notation. Beams can be made horizontal, as shown in this
example.
</p>

<pre class="verbatim">\new TabStaff {
  \relative c {
    g16 b d g b d g b
    \stemDown
    \override Beam #'damping = #+inf.0
    g,,16 b d g b d g b
  }
}

</pre><p>
 <a href="97/lily-c6dfc5bf.ly">
  <img align="middle"
       border="0"
       src="97/lily-c6dfc5bf.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Unfretted-strings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Fretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Fretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Winds" title="Next chapter">&nbsp;Winds &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Stem-and-beam-behavior-in-tablature" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Stem and beam behavior in tablature&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Unfretted-strings" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Unfretted-strings"></a>
<h1 class="unnumbered">Unfretted strings</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Unfretted-string-instruments">Unfretted string instruments</a>.
</p>

<a name="changing--flageolet-mark-size.ly"></a>
<hr size="6">
<a name="Unfretted-strings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Unfretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Winds" title="Next chapter">&nbsp;Winds &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Unfretted-strings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Unfretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Unfretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Unfretted-strings" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing \flageolet mark size</h2>


<p>To make the <code>\flageolet</code> circle smaller use the following Scheme
function. 
</p>

<pre class="verbatim">smallFlageolet =
#(let ((m (make-music 'ArticulationEvent
                      'articulation-type &quot;flageolet&quot;)))
   (ly:music-set-property! m 'tweaks
     (acons 'font-size -3
       (ly:music-property m 'tweaks)))
  m)

\layout { ragged-right = ##f }

\relative c'' {
  d4^\flageolet_\markup { default size } d_\flageolet
  c4^\smallFlageolet_\markup { smaller } c_\smallFlageolet
}

</pre><p>
 <a href="9b/lily-2bb41122.ly">
  <img align="middle"
       border="0"
       src="9b/lily-2bb41122.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-slurs-across-voices.ly"></a>
<hr size="6">
<a name="Unfretted-strings"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Unfretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Winds" title="Next chapter">&nbsp;Winds &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Unfretted-strings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Unfretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Unfretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Dotted-harmonics" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Dotted harmonics &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating slurs across voices</h2>


<p>In some situations, it may be necessary to create slurs between notes
from different voices.
</p>
<p>The solution is to add invisible notes to one of the voices, using
<code>\hideNotes</code>.
</p>
<p>This example is measure 235 of the Ciaconna from Bach&rsquo;s 2nd Partita for
solo violin, BWV 1004.
</p>

<pre class="verbatim">\relative c' {
  &lt;&lt;
    {
      d16( a') s a s a[ s a] s a[ s a]
    }
    \\
    {
      \slurUp
      bes,16[ s e](
      \hideNotes a)
      \unHideNotes f[(
      \hideNotes a)
      \unHideNotes fis](
      \hideNotes a)
      \unHideNotes g[(
      \hideNotes a)
      \unHideNotes gis](
      \hideNotes a)
    }
  &gt;&gt;
}

</pre><p>
 <a href="ab/lily-2ab9a85e.ly">
  <img align="middle"
       border="0"
       src="ab/lily-2ab9a85e.png"
       alt="[image of music]">
 </a>
</p>




<a name="dotted-harmonics.ly"></a>
<hr size="6">
<a name="Dotted-harmonics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Unfretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Winds" title="Next chapter">&nbsp;Winds &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Unfretted-strings" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Unfretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Unfretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Dotted-harmonics" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Dotted-harmonics"></a>
<h2 class="unnumberedsec">Dotted harmonics</h2>


<p>Artificial harmonics using <code>\harmonic</code> do not show dots.  To
override this behavior, set the context property <code>harmonicDots</code>.
</p>

<pre class="verbatim">\relative c''' {
  \time 3/4
  \key f \major
  \set harmonicDots = ##t
  &lt;bes f'\harmonic&gt;2. ~
  &lt;bes f'\harmonic&gt;4. &lt;a e'\harmonic&gt;8( &lt;gis dis'\harmonic&gt; &lt;g d'\harmonic&gt;)
  &lt;fis cis'\harmonic&gt;2.
  &lt;bes f'\harmonic&gt;2.
}
</pre><p>
 <a href="8c/lily-6e35e407.ly">
  <img align="middle"
       border="0"
       src="8c/lily-6e35e407.png"
       alt="[image of music]">
 </a>
</p>




<a name="snap-pizzicato-markup-bartok-pizzicato.ly"></a>
<hr size="6">
<a name="Dotted-harmonics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Unfretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Winds" title="Next chapter">&nbsp;Winds &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Dotted-harmonics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Dotted harmonics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Unfretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Unfretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#String-quartet-template-_0028simple_0029" title="Next section in reading order" accesskey="n" rel="next">&nbsp;String quartet template (simple) &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Snap-pizzicato markup (&quot;Bartok pizzicato&quot;)</h2>


<p>A snap-pizzicato (also known as &quot;Bartok pizzicato&quot;) is a &quot;strong
pizzicato where the string is plucked vertically by snapping and
rebounds off the fingerboard of the instrument&quot; (Wikipedia). It is
denoted by a cicle with a vertical line going from the center upwards
outside the circle. While Lilypond does not have a pre-defined command
to created this markup, it is easy to create a definition and place it
directly into the lilypond file. 
</p>

<pre class="verbatim">#(define-markup-command (snappizz layout props) ()
  (interpret-markup layout props
    (markup #:stencil
      (ly:stencil-translate-axis
        (ly:stencil-add
          (make-circle-stencil 0.7 0.1 #f)
          (ly:make-stencil
            (list 'draw-line 0.1 0 0.1 0 1)
            '(-0.1 . 0.1) '(0.1 . 1)))
        0.7 X))))

snapPizzicato = \markup \snappizz

% now it can be used as \snappizzicato after the note/chord
% Note that a direction (-, ^ or _) is required.
\relative c' {
  c4^\snapPizzicato
  % This does NOT work:
  %&lt;c e g&gt;\snapPizzicato
  &lt;c' e g&gt;-\snapPizzicato
  &lt;c' e g&gt;^\snapPizzicato
  &lt;c, e g&gt;_\snapPizzicato
}

</pre><p>
 <a href="bb/lily-fe11abf5.ly">
  <img align="middle"
       border="0"
       src="bb/lily-fe11abf5.png"
       alt="[image of music]">
 </a>
</p>




<a name="string-quartet-template-simple.ly"></a>
<hr size="6">
<a name="String-quartet-template-_0028simple_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Unfretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Winds" title="Next chapter">&nbsp;Winds &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Dotted-harmonics" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Unfretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Unfretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#String-quartet-template-with-separate-parts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;String quartet template with separate parts &gt; </a>]</td></tr></table>
<a name="String-quartet-template-_0028simple_0029"></a>
<h2 class="unnumberedsec">String quartet template (simple)</h2>


<p>This template demonstrates a simple string quartet. It also uses a
<code>\global</code> section for time and key signatures
</p>

<pre class="verbatim">global= {
  \time 4/4
  \key c \major
}

violinOne = \new Voice \relative c'' {
  \set Staff.instrumentName = #&quot;Violin 1 &quot;
  
  c2 d
  e1
  
  \bar &quot;|.&quot;
}
 
violinTwo = \new Voice \relative c'' {
  \set Staff.instrumentName = #&quot;Violin 2 &quot;
  
  g2 f
  e1
  
  \bar &quot;|.&quot;
}

viola = \new Voice \relative c' {
  \set Staff.instrumentName = #&quot;Viola &quot;  
  \clef alto
  
  e2 d
  c1
  
  \bar &quot;|.&quot;
}

cello = \new Voice \relative c' {
  \set Staff.instrumentName = #&quot;Cello &quot;
  \clef bass
  
  c2 b
  a1
  
  \bar &quot;|.&quot;
}

\score {
  \new StaffGroup &lt;&lt;
    \new Staff &lt;&lt; \global \violinOne &gt;&gt;
    \new Staff &lt;&lt; \global \violinTwo &gt;&gt;
    \new Staff &lt;&lt; \global \viola &gt;&gt;
    \new Staff &lt;&lt; \global \cello &gt;&gt;
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="85/lily-3d9c96b5.ly">
  <img align="middle"
       border="0"
       src="85/lily-3d9c96b5.png"
       alt="[image of music]">
 </a>
</p>




<a name="string-quartet-template-with-separate-parts.ly"></a>
<hr size="6">
<a name="String-quartet-template-with-separate-parts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Unfretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Winds" title="Next chapter">&nbsp;Winds &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#String-quartet-template-_0028simple_0029" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; String quartet template (simple)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Unfretted-strings" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Unfretted strings&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Winds" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Winds &gt; </a>]</td></tr></table>
<a name="String-quartet-template-with-separate-parts"></a>
<h2 class="unnumberedsec">String quartet template with separate parts</h2>


<p>The &quot;String quartet template&quot; snippet produces a nice string quartet,
but what if you needed to print parts? This new template demonstrates
how to use the <code>\tag</code> feature to easily split a piece into
individual parts.
</p>
<p>You need to split this template into separate files; the filenames are
contained in comments at the beginning of each file. <code>piece.ly</code>
contains all the music definitions. The other files – <code>score.ly</code>,
<code>vn1.ly</code>, <code>vn2.ly</code>, <code>vla.ly</code>, and <code>vlc.ly</code> –
produce the appropriate part.
</p>

<p>Do not forget to remove specified comments when using separate files! 
</p>

<pre class="verbatim">%%%%% piece.ly
%%%%% (This is the global definitions file)

global= {
  \time 4/4
  \key c \major
}

Violinone = \new Voice { \relative c''{
  \set Staff.instrumentName = #&quot;Violin 1 &quot;

  c2 d e1

\bar &quot;|.&quot; }}   %*********************************
Violintwo = \new Voice { \relative c''{
  \set Staff.instrumentName = #&quot;Violin 2 &quot;

  g2 f e1

\bar &quot;|.&quot; }}   %*********************************
Viola = \new Voice { \relative c' {
  \set Staff.instrumentName = #&quot;Viola &quot;
  \clef alto

  e2 d c1

\bar &quot;|.&quot; }}   %*********************************
Cello = \new Voice { \relative c' {
  \set Staff.instrumentName = #&quot;Cello &quot;
  \clef bass

  c2 b a1

\bar &quot;|.&quot;}}   %**********************************

music = {
  &lt;&lt;
    \tag #'score \tag #'vn1 \new Staff { &lt;&lt; \global \Violinone &gt;&gt; }
    \tag #'score \tag #'vn2 \new Staff { &lt;&lt; \global \Violintwo&gt;&gt; }
    \tag #'score \tag #'vla \new Staff { &lt;&lt; \global \Viola&gt;&gt; }
    \tag #'score \tag #'vlc \new Staff { &lt;&lt; \global \Cello&gt;&gt; }
  &gt;&gt;
}

%%% These are the other files you need to save on your computer

%%%%% score.ly
%%%%% (This is the main file)


%\include &quot;piece.ly&quot;             %%% uncomment this line when using a separate file
#(set-global-staff-size 14)
\score {
  \new StaffGroup \keepWithTag #'score \music
  \layout { }
  \midi { }
}


%{ Uncomment this block when using separate files

%%%%% vn1.ly
%%%%% (This is the Violin 1 part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vn1 \music
  \layout { }
}


%%%%% vn2.ly
%%%%% (This is the Violin 2 part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vn2 \music
  \layout { }
}


%%%%% vla.ly
%%%%% (This is the Viola part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vla \music
  \layout { }
}


%%%%% vlc.ly
%%%%% (This is the Cello part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vlc \music
  \layout { }
}

%}

</pre><p>
 <a href="72/lily-9ef68368.ly">
  <img align="middle"
       border="0"
       src="72/lily-9ef68368.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Winds"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Unfretted-strings" title="Beginning of this chapter or previous chapter"> &lt;&lt; Unfretted strings&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Ancient-notation" title="Next chapter">&nbsp;Ancient notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#String-quartet-template-with-separate-parts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; String quartet template with separate parts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Flute-slap-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Flute slap notation &gt; </a>]</td></tr></table>
<a name="Winds"></a>
<h1 class="unnumbered">Winds</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Wind-instruments">Wind instruments</a>.
</p>

<a name="flute-slap-notation.ly"></a>
<hr size="6">
<a name="Flute-slap-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Winds" title="Beginning of this chapter or previous chapter"> &lt;&lt; Winds&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Ancient-notation" title="Next chapter">&nbsp;Ancient notation &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Winds" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Winds&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Winds" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Winds&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ancient-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ancient notation &gt; </a>]</td></tr></table>
<a name="Flute-slap-notation"></a>
<h2 class="unnumberedsec">Flute slap notation</h2>


<p>It is possible to indicate special articulation techniques such as a
flute&rsquo;s &quot;tongue slap&quot; by replacing the note head with the appropriate
glyph.
</p>

<pre class="verbatim">slap =
#(define-music-function (parser location music) (ly:music?)
#{
  \override NoteHead #'stencil = #(lambda (grob)
    (grob-interpret-markup grob
      (markup #:musicglyph &quot;scripts.sforzato&quot;)))
  \override NoteHead #'extra-offset = #'(0.1 . 0.0)
  $music
  \revert NoteHead #'stencil
  \revert NoteHead #'extra-offset
#})

\relative c' {
  c4 \slap c d r \slap { g a } b r
}

</pre><p>
 <a href="3b/lily-8e556e22.ly">
  <img align="middle"
       border="0"
       src="3b/lily-8e556e22.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Ancient-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Winds" title="Beginning of this chapter or previous chapter"> &lt;&lt; Winds&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Flute-slap-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Flute slap notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ancient-notation" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Ancient-notation"></a>
<h1 class="unnumbered">Ancient notation</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Ancient-notation">Ancient notation</a>.
</p>

<a name="adding-a-figured-bass-above-or-below-the-notes.ly"></a>
<hr size="6">
<a name="Ancient-notation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ancient-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ancient-fonts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ancient fonts &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding a figured bass above or below the notes</h2>


<p>When writing a figured bass, here&rsquo;s a way to specify if you want your
figures to be placed above or below the bass notes, by defining the
<code>BassFigureAlignmentPositioning #'direction</code> property (exclusively
in a <code>Staff</code> context). Choices are <code>#UP</code> (or <code>#1</code>),
<code>#CENTER</code> (or <code>#0</code>) and <code>#DOWN</code> (or <code>#-1</code>).
</p>
<p>As you can see here, this property can be changed as many times as you
wish. Use <code>\once \override</code> if you don&rsquo;t want the tweak to apply
to the whole score. 
</p>

<pre class="verbatim">bass = {
  \clef bass
  g4 b, c d
  e d8 c d2
}
continuo = \figuremode {
  &lt;_&gt;4 &lt;6&gt;8
  \once \override Staff.BassFigureAlignmentPositioning #'direction = #CENTER
  &lt;5/&gt;8 &lt;_&gt;4
  \override Staff.BassFigureAlignmentPositioning #'direction = #UP
  &lt;_+&gt;4 &lt;6&gt;
  \set Staff.useBassFigureExtenders = ##t
  \override Staff.BassFigureAlignmentPositioning #'direction = #DOWN
  &lt;4&gt;4. &lt;4&gt;8 &lt;_+&gt;4
}
\score {
  &lt;&lt;
    \new Staff = bassStaff \bass
    \context Staff = bassStaff \continuo
  &gt;&gt;
}


</pre><p>
 <a href="df/lily-d5d755e5.ly">
  <img align="middle"
       border="0"
       src="df/lily-d5d755e5.png"
       alt="[image of music]">
 </a>
</p>




<a name="ancient-fonts.ly"></a>
<hr size="6">
<a name="Ancient-fonts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ancient-notation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ancient-notation-template-_002d-modern-transcription-of-gregorian-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ancient notation template -- modern transcription of gregorian music &gt; </a>]</td></tr></table>
<a name="Ancient-fonts"></a>
<h2 class="unnumberedsec">Ancient fonts</h2>


<p>Shown here are many (all?) of the symbols that are included in
LilyPond&rsquo;s support for ancient notation.
</p>



<pre class="verbatim">upperStaff = \new VaticanaStaff = &quot;upperStaff&quot; &lt;&lt;
  \context VaticanaVoice &lt;&lt;
    \transpose c c {
      
      \override NoteHead #'style = #'vaticana.punctum
      \key es \major
      \clef &quot;vaticana-fa2&quot;
      c1 des e f ges
      
      \override NoteHead #'style = #'vaticana.inclinatum
      a! b ces'
      \bar &quot;|&quot;
      % \break % 1 (8*1)
      
      \override NoteHead #'style = #'vaticana.quilisma
      b! des'! ges! fes!
      \breathe
      \clef &quot;vaticana-fa1&quot;
      \override NoteHead #'style = #'vaticana.plica
      es d
      \override NoteHead #'style = #'vaticana.reverse.plica
      c d
      \bar &quot;|&quot;
      % \break %2 (8*1)
      
      \override NoteHead #'style = #'vaticana.punctum.cavum
      es f
      \override NoteHead #'style = #'vaticana.lpes
      g as
      \override NoteHead #'style = #'vaticana.upes
      bes as
      \override NoteHead #'style = #'vaticana.vupes
      g f
      \override NoteHead #'style = #'vaticana.linea.punctum
      \once \override Staff.BarLine #'bar-size = #2.0 \bar &quot;|&quot;
      % \break % 3 (8*1)
      
      es d
      \override NoteHead #'style = #'vaticana.epiphonus
      c d
      \override NoteHead #'style = #'vaticana.cephalicus
      es f
      
      \override Staff.KeySignature #'glyph-name-alist = #alteration-medicaea-glyph-name-alist
      \override Staff.Accidental #'glyph-name-alist = #alteration-medicaea-glyph-name-alist
      \override Staff.Custos #'style = #'medicaea
      \override NoteHead #'style = #'medicaea.punctum
      \clef &quot;medicaea-fa2&quot;
      ces des
      \bar &quot;|&quot;
      % \break % 4 (8*1)
      
      e! f! ges
      \clef &quot;medicaea-do2&quot;
      \override NoteHead #'style = #'medicaea.inclinatum
      a! b! ces'
      \override NoteHead #'style = #'medicaea.virga
      b! a!
      \bar &quot;|&quot;
      % \break % 5 (8*1)
      
      ges fes
      \clef &quot;medicaea-fa1&quot;
      \override NoteHead #'style = #'medicaea.rvirga
      e des ces
      
      \override Staff.KeySignature #'glyph-name-alist = #alteration-hufnagel-glyph-name-alist
      \override Staff.Accidental #'glyph-name-alist = #alteration-hufnagel-glyph-name-alist
      \override Staff.Custos #'style = #'hufnagel
      \override NoteHead #'style = #'hufnagel.punctum
      \clef &quot;hufnagel-fa2&quot;
      ces des es
      \bar &quot;|&quot;
      % \break % 6 (8*1)
      
      fes ges
      \clef &quot;hufnagel-do2&quot;
      \override NoteHead #'style = #'hufnagel.lpes
      as! bes! ces'
      \override NoteHead #'style = #'hufnagel.virga
      bes! as!
      \bar &quot;|&quot;
      % \break % 7 (8*1)
      
      ges! fes!
      \clef &quot;hufnagel-do-fa&quot;
      \override NoteHead #'style = #'hufnagel.punctum
      es! des ces des! es! fes!
      \bar &quot;||&quot;
      % \break % 8 (8*1)
      
      s32*1
      % \break % 12 (32*1)
    }
  &gt;&gt;
&gt;&gt;

lowerStaff = \new MensuralStaff = &quot;lowerStaff&quot; &lt;&lt;
  \context MensuralVoice &lt;&lt;
    \transpose c c {
      
      \key a \major
      cis'1 d'\breve gis'\breve e'\breve \[ e'\longa fis'\longa \]
      \set Staff.forceClef = ##t
      \clef &quot;neomensural-c2&quot;
      cis1
      \bar &quot;|&quot;
      % \break % 2 (16*1)
      
      \[ g\breve dis''\longa \]
      b\breve \[ a\longa d\longa \]
      \clef &quot;petrucci-c2&quot;
      % \break % 4 (16*1)
      
      fis1 ces1
      \clef &quot;petrucci-c2&quot;
      r\longa
      \set Staff.forceClef = ##t
      \clef &quot;mensural-c2&quot;
      r\breve
      \bar &quot;|&quot;
      % \break % 5 (8*1)
      
      r2
      \clef &quot;mensural-g&quot;
      r4 r8 r16 r16
      \override NoteHead #'style = #'mensural
      \override Rest #'style = #'mensural
      \clef &quot;petrucci-f&quot;
      c8 b, c16 b, c32 b, c64 b, c64 b,
      d8 e d16 e d32 e d64 e d64 e
      r\longa
      \set Staff.forceClef = ##t
      \clef &quot;petrucci-f&quot;
      r\breve
      \bar &quot;|&quot;
      % \break % 6 (8*1)
      
      r\breve 
      \clef &quot;mensural-f&quot;
      r2 r4 r8 r16 r16
      
      \set Staff.forceClef = ##t
      \clef &quot;mensural-f&quot;
      e\breve f g a1
      \clef &quot;mensural-g&quot;
      % \break % 7 (8*1)
      
      \[ bes'!\longa a'!\longa c''!\longa \]
      e'1 d' c' d' \bar &quot;|&quot;
      \bar &quot;|&quot;
      % \break % 9 (16*1)
      
      bes'!\longa fis'!1 as'!1 ges'!\longa % lig
      \set Staff.forceClef = ##t
      \clef &quot;mensural-g&quot;
      e'2 d' c' \bar &quot;|&quot;
      % \break % 11 (16*1)
      
      \set Staff.forceClef = ##t
      \clef &quot;petrucci-g&quot;
      c'2 d' e' f'
      \clef &quot;petrucci-g&quot;
      g' as'! bes'! cis''!
      bes'! as'! gis'! fis'!
      \set Staff.forceClef = ##t
      \clef &quot;mensural-g&quot;
      es'! des'! cis'!1 \bar &quot;||&quot;
      % \break % 12 (8*1)
    }
  &gt;&gt;
&gt;&gt;

\paper {
  line-thickness = #(/ staff-space 5.0)
}

\score {
  &lt;&lt;
    \upperStaff
    \lowerStaff
  &gt;&gt;
  \layout {
    indent = 0.0
    line-width = 17.25\cm
    \context {
      \Score
      timing = ##f
    }
    \context {
      \MensuralVoice
      \override NoteHead #'style = #'neomensural
      \override Rest #'style = #'neomensural
      \override Stem #'flag-style = #'mensural
      \override Stem #'thickness = #1.0
    }
    \context {
      \MensuralStaff
      \revert  BarLine #'transparent
      \override KeySignature #'glyph-name-alist = #alteration-mensural-glyph-name-alist
      clefGlyph = #&quot;clefs.petrucci.c2&quot;
    }
    \context {
      \VaticanaStaff
      \revert  BarLine #'transparent
      \override StaffSymbol #'thickness = #2.0
      \override KeySignature #'glyph-name-alist = #alteration-vaticana-glyph-name-alist
      \override Custos #'neutral-position = #4
    }
  }
}

</pre><p>
 <a href="e4/lily-c0c463a1.ly">
  <img align="middle"
       border="0"
       src="e4/lily-c0c463a1.png"
       alt="[image of music]">
 </a>
</p>




<a name="ancient-notation-template----modern-transcription-of-gregorian-music.ly"></a>
<hr size="6">
<a name="Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ancient-fonts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ancient fonts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ancient-notation-template-_002d-modern-transcription-of-mensural-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ancient notation template -- modern transcription of mensural music &gt; </a>]</td></tr></table>
<a name="Ancient-notation-template-_002d-modern-transcription-of-gregorian-music"></a>
<h2 class="unnumberedsec">Ancient notation template &ndash; modern transcription of gregorian music</h2>


<p>This example demonstrates how to do modern transcription of Gregorian
music. Gregorian music has no measure, no stems; it uses only half and
quarter note heads, and special marks, indicating rests of different
length.
</p>

<pre class="verbatim">\include &quot;gregorian.ly&quot;

chant = \relative c' {
  \set Score.timing = ##f
  f4 a2 \divisioMinima
  g4 b a2 f2 \divisioMaior
  g4( f) f( g) a2 \finalis
}

verba = \lyricmode {
  Lo -- rem ip -- sum do -- lor sit a -- met
}

\score {
  \new Staff &lt;&lt;
    \new Voice = &quot;melody&quot; \chant
    \new Lyrics = &quot;one&quot; \lyricsto melody \verba
  &gt;&gt;
  \layout {
    \context {
      \Staff
      \remove &quot;Time_signature_engraver&quot;
      \remove &quot;Bar_engraver&quot;
      \override Stem #'transparent = ##t
    }
    \context {
      \Voice
      \override Stem #'length = #0
    }
    \context {
      \Score
      barAlways = ##t
    }
  }
}

</pre><p>
 <a href="1b/lily-4790c942.ly">
  <img align="middle"
       border="0"
       src="1b/lily-4790c942.png"
       alt="[image of music]">
 </a>
</p>




<a name="ancient-notation-template----modern-transcription-of-mensural-music.ly"></a>
<hr size="6">
<a name="Ancient-notation-template-_002d_002d-modern-transcription-of-mensural-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ancient-notation-template-_002d-modern-transcription-of-gregorian-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ancient notation template -- modern transcription of gregorian music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ancient-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Ancient time signatures &gt; </a>]</td></tr></table>
<a name="Ancient-notation-template-_002d-modern-transcription-of-mensural-music"></a>
<h2 class="unnumberedsec">Ancient notation template &ndash; modern transcription of mensural music</h2>


<p>When transcribing mensural music, an incipit at the beginning of the
piece is useful to indicate the original key and tempo. While today
musicians are used to bar lines in order to faster recognize rhythmic
patterns, bar lines were not yet invented during the period of mensural
music; in fact, the meter often changed after every few notes. As a
compromise, bar lines are often printed between the staves rather than
on the staves. 
</p>

<pre class="verbatim">global = {
  \set Score.skipBars = ##t

  % incipit
  \once \override Score.SystemStartBracket #'transparent = ##t
  \override Score.SpacingSpanner #'spacing-increment = #1.0 % tight spacing
  \key f \major
  \time 2/2
  \once \override Staff.TimeSignature #'style = #'neomensural
  \override Voice.NoteHead #'style = #'neomensural
  \override Voice.Rest #'style = #'neomensural
  \set Staff.printKeyCancellation = ##f
  \cadenzaOn % turn off bar lines
  \skip 1*10
  \once \override Staff.BarLine #'transparent = ##f
  \bar &quot;||&quot;
  \skip 1*1 % need this extra \skip such that clef change comes
            % after bar line
  \bar &quot;&quot;

  % main
  \revert Score.SpacingSpanner #'spacing-increment % CHECK: no effect?
  \cadenzaOff % turn bar lines on again
  \once \override Staff.Clef #'full-size-change = ##t
  \set Staff.forceClef = ##t
  \key g \major
  \time 4/4
  \override Voice.NoteHead #'style = #'default
  \override Voice.Rest #'style = #'default

  % FIXME: setting printKeyCancellation back to #t must not
  % occur in the first bar after the incipit.  Dto. for forceClef.
  % Therefore, we need an extra \skip.
  \skip 1*1
  \set Staff.printKeyCancellation = ##t
  \set Staff.forceClef = ##f

  \skip 1*7 % the actual music

  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f

  % finis bar
  \bar &quot;|.&quot;
}

discantusNotes = {
  \transpose c' c'' {
    \set Staff.instrumentName = #&quot;Discantus  &quot;

    % incipit
    \clef &quot;neomensural-c1&quot;
    c'1. s2   % two bars
    \skip 1*8 % eight bars
    \skip 1*1 % one bar

    % main
    \clef &quot;treble&quot;
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusNotes = {
  \transpose c' c'' {
    \set Staff.instrumentName = #&quot;Altus  &quot;

    % incipit
    \clef &quot;neomensural-c3&quot;
    r1        % one bar
    f1. s2    % two bars
    \skip 1*7 % seven bars
    \skip 1*1 % one bar

    % main
    \clef &quot;treble&quot;
    r2 g2. e4 fis g | % two bars
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi -- la -- te | % two bars
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorNotes = {
  \transpose c' c' {
    \set Staff.instrumentName = #&quot;Tenor  &quot;

    % incipit
    \clef &quot;neomensural-c4&quot;
    r\longa   % four bars
    r\breve   % two bars
    r1        % one bar
    c'1. s2   % two bars
    \skip 1*1 % one bar
    \skip 1*1 % one bar

    % main
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    r2 d'2. d'4 b e' | % two bars
    \once \override NoteHead #'transparent = ##t e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi -- la -- te | % two bars
  &quot;...&quot; |
  -us. |
}

bassusNotes = {
  \transpose c' c' {
    \set Staff.instrumentName = #&quot;Bassus  &quot;

    % incipit
    \clef &quot;bass&quot;
    r\maxima  % eight bars
    f1. s2    % two bars
    \skip 1*1 % one bar

    % main
    \clef &quot;bass&quot;
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi- |
  &quot;...&quot; |
  -us. |
}

\score {
  \new StaffGroup = choirStaff &lt;&lt;
    \new Voice =
      &quot;discantusNotes&quot; &lt;&lt; \global \discantusNotes &gt;&gt;
    \new Lyrics =
      &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }
    \new Voice =
      &quot;altusNotes&quot; &lt;&lt; \global \altusNotes &gt;&gt;
    \new Lyrics =
      &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }
    \new Voice =
      &quot;tenorNotes&quot; &lt;&lt; \global \tenorNotes &gt;&gt;
    \new Lyrics =
      &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }
    \new Voice =
      &quot;bassusNotes&quot; &lt;&lt; \global \bassusNotes &gt;&gt;
    \new Lyrics =
      &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics }
  &gt;&gt;
  \layout {
    \context {
      \Score

      % no bars in staves
      \override BarLine #'transparent = ##t

      % incipit should not start with a start delimiter
      \remove &quot;System_start_delimiter_engraver&quot;
    }
    \context {
      \Voice

      % no slurs
      \override Slur #'transparent = ##t

      % Comment in the below &quot;\remove&quot; command to allow line
      % breaking also at those barlines where a note overlaps
      % into the next bar.  The command is commented out in this
      % short example score, but especially for large scores, you
      % will typically yield better line breaking and thus improve
      % overall spacing if you comment in the following command.
      %\remove &quot;Forbid_line_break_engraver&quot;
    }
  }
}




</pre><p>
 <a href="02/lily-e334b25a.ly">
  <img align="middle"
       border="0"
       src="02/lily-e334b25a.png"
       alt="[image of music]">
 </a>
</p>




<a name="ancient-time-signatures.ly"></a>
<hr size="6">
<a name="Ancient-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ancient-notation-template-_002d-modern-transcription-of-mensural-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ancient notation template -- modern transcription of mensural music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Ancient-time-signatures" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Ancient-time-signatures"></a>
<h2 class="unnumberedsec">Ancient time signatures</h2>


<p>Time signatures may also be engraved in an old style.
</p>



<pre class="verbatim">{
  \override Staff.TimeSignature #'style = #'neomensural
  s1
}

</pre><p>
 <a href="18/lily-e19e1728.ly">
  <img align="middle"
       border="0"
       src="18/lily-e19e1728.png"
       alt="[image of music]">
 </a>
</p>




<a name="chant-or-psalms-notation.ly"></a>
<hr size="6">
<a name="Ancient-time-signatures"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ancient-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Ancient time signatures&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Custodes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Custodes &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Chant or psalms notation</h2>


<p>This form of notation is used for the chant of the Psalms, where verses
aren&rsquo;t always the same length.
</p>

<pre class="verbatim">stemOn = { \revert Staff.Stem #'transparent }
stemOff = { \override Staff.Stem #'transparent = ##t }

\score {
  \new Staff \with { \remove &quot;Time_signature_engraver&quot; }
  {
    \key g \minor
    \cadenzaOn
    \stemOff a'\breve bes'4 g'4
    \stemOn a'2 \bar &quot;||&quot;
    \stemOff a'\breve g'4 a'4
    \stemOn f'2 \bar &quot;||&quot;
    \stemOff a'\breve^\markup { \italic flexe }
    \stemOn g'2 \bar &quot;||&quot;
  }
}

</pre><p>
 <a href="5b/lily-c5ec2b57.ly">
  <img align="middle"
       border="0"
       src="5b/lily-c5ec2b57.png"
       alt="[image of music]">
 </a>
</p>




<a name="custodes.ly"></a>
<hr size="6">
<a name="Custodes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Ancient-time-signatures" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Custodes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Custodes"></a>
<h2 class="unnumberedsec">Custodes</h2>


<p>Custodes may be engraved in various styles.
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

\new Staff \with { \consists &quot;Custos_engraver&quot; } \relative c' {
  \override Staff.Custos #'neutral-position = #4
  
  \override Staff.Custos #'style = #'hufnagel
  c1^&quot;hufnagel&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'medicaea
  c1^&quot;medicaea&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'vaticana
  c1^&quot;vaticana&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'mensural
  c1^&quot;mensural&quot; \break
  &lt;d a' f'&gt;1
}

</pre><p>
 <a href="6b/lily-36a7783a.ly">
  <img align="middle"
       border="0"
       src="6b/lily-36a7783a.png"
       alt="[image of music]">
 </a>
</p>




<a name="incipit.ly"></a>
<hr size="6">
<a name="Custodes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Custodes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Custodes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Custodes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Incipit</h2>


<p>Incipits can be added using the instrument name grob, but keeping
separate the instrument name definition and the incipit definition.
</p>

<pre class="verbatim">incipit =
#(define-music-function (parser location incipit-music) (ly:music?)
  #{
    \once \override Staff.InstrumentName #'self-alignment-X = #RIGHT
    \once \override Staff.InstrumentName #'self-alignment-Y = #UP
    \once \override Staff.InstrumentName #'Y-offset = #4
    \once \override Staff.InstrumentName #'padding = #0.3
    \once \override Staff.InstrumentName #'stencil =
    #(lambda (grob)
       (let* ((instrument-name (ly:grob-property grob 'long-text))
              (layout (ly:output-def-clone (ly:grob-layout grob)))
              (music (make-music 'SequentialMusic
                      'elements (list (make-music 'ContextSpeccedMusic
                                        'context-type 'MensuralStaff
                                        'element (make-music 'PropertySet
                                                   'symbol 'instrumentName
                                                   'value instrument-name))
                                      $incipit-music)))
              (score (ly:make-score music))
              (mm (ly:output-def-lookup layout 'mm))
              (indent (ly:output-def-lookup layout 'indent))
              (width (ly:output-def-lookup layout 'incipit-width))
              (incipit-width (if (number? width)
                                 (* width mm)
                                 (* indent 0.5))))
         (ly:output-def-set-variable! layout 'indent (- indent incipit-width))
         (ly:output-def-set-variable! layout 'line-width indent)
         (ly:output-def-set-variable! layout 'ragged-right #f)
         (ly:output-def-set-variable! layout 'ragged-last #f)
         (ly:output-def-set-variable! layout 'system-count 1)
         (ly:score-add-output-def! score layout)
         (ly:grob-set-property! grob 'long-text
               (markup #:score score))
         (ly:system-start-text::print grob)))
  #})

%%%%%%%%%%%%%%%%%%%%%%%%%

global = {
  \set Score.skipBars = ##t
  \key g \major
  \time 4/4

  % the actual music
  \skip 1*8

  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f

  % finis bar
  \bar &quot;|.&quot;
}

discantusIncipit = &lt;&lt;
  \new MensuralVoice = &quot;discantusIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;neomensural-c1&quot;
      \key f \major
      \time 2/2
      c''1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto discantusIncipit { IV- }
&gt;&gt;

discantusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t
    c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusIncipit = &lt;&lt;
  \new MensuralVoice = &quot;altusIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;neomensural-c3&quot;
      \key f \major
      \time 2/2
      r1 f'1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto altusIncipit { IV- }
&gt;&gt;

altusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    % two measures
    r2 g2. e4 fis g |
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t
    g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  % two measures
  Ju -- bi -- la -- te |
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorIncipit = &lt;&lt;
  \new MensuralVoice = &quot;tenorIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;neomensural-c4&quot;
      \key f \major
      \time 2/2
      r\longa
      r\breve
      r1 c'1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto tenorIncipit { IV- }
&gt;&gt;

tenorNotes = {
  \transpose c' c' {
    \once \override Staff.VerticalAxisGroup #'minimum-Y-extent = #'(-6 . 3)
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    % two measures
    r2 d'2. d'4 b e' |
    \once \override NoteHead #'transparent = ##t
    e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  % two measures
  Ju -- bi -- la -- te |
  &quot;...&quot; |
  -us. 
}

bassusIncipit = &lt;&lt;
  \new MensuralVoice = &quot;bassusIncipit&quot; &lt;&lt;
    \repeat unfold 9 { s1 \noBreak }
    {
      \clef &quot;bass&quot;
      \key f \major
      \time 2/2
      %% incipit
      r\maxima
      f1.
    }
  &gt;&gt;
  \new Lyrics \lyricsto bassusIncipit { IV- }
&gt;&gt;

bassusNotes = {
  \transpose c' c' {
    \clef &quot;bass&quot;
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t
    e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  Ju -- bi- |
  &quot;...&quot; |
  -us.
}

\score {
  &lt;&lt;
    \new StaffGroup = choirStaff &lt;&lt;
      \new Voice = &quot;discantusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Discantus&quot;
        \incipit \discantusIncipit
        \discantusNotes
      &gt;&gt;
      \new Lyrics = &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }
      \new Voice = &quot;altusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Altus&quot;
        \incipit \altusIncipit
        \altusNotes
      &gt;&gt;
      \new Lyrics = &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }
      \new Voice = &quot;tenorNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Tenor&quot;
        \incipit \tenorIncipit
        \tenorNotes
      &gt;&gt;
      \new Lyrics = &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }
      \new Voice = &quot;bassusNotes&quot; &lt;&lt;
        \global
        \set Staff.instrumentName = #&quot;Bassus&quot;
        \incipit \bassusIncipit
        \bassusNotes
      &gt;&gt;
      \new Lyrics = &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics }
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context {
      \Score
      %% no bar lines in staves or lyrics
      \override BarLine #'transparent = ##t
    }
    %% the next two instructions keep the lyrics between the bar lines
    \context {
      \Lyrics
      \consists &quot;Bar_engraver&quot;
      \consists &quot;Separating_line_group_engraver&quot;
    }
    \context {
      \Voice
      %% no slurs
      \override Slur #'transparent = ##t
      %% Comment in the below &quot;\remove&quot; command to allow line
      %% breaking also at those bar lines where a note overlaps
      %% into the next measure.  The command is commented out in this
      %% short example score, but especially for large scores, you
      %% will typically yield better line breaking and thus improve
      %% overall spacing if you comment in the following command.
      %%\remove &quot;Forbid_line_break_engraver&quot;
    }
    indent = 6\cm
    incipit-width = 4\cm
  }
}
</pre><p>
 <a href="57/lily-748505f8.ly">
  <img align="middle"
       border="0"
       src="57/lily-748505f8.png"
       alt="[image of music]">
 </a>
</p>




<a name="mensurstriche-layout-bar-lines-between-the-staves.ly"></a>
<hr size="6">
<a name="Custodes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Custodes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Custodes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Mensurstriche layout (bar lines between the staves)</h2>


<p>The mensurstriche-layout where the bar lines do not show on the staves
but between staves can be achieved with a <code>StaffGroup</code> instead of
a <code>ChoirStaff</code>.  The bar line on staves is blanked out by setting
the <code>transparent</code> property.
</p>

<pre class="verbatim">global = {
  \override Staff.BarLine #'transparent = ##t
  s1 s
  % the final bar line is not interrupted
  \revert Staff.BarLine #'transparent
  \bar &quot;|.&quot;
}
\new StaffGroup \relative c'' {
  &lt;&lt;
    \new Staff { &lt;&lt; \global { c1 c } &gt;&gt; }
    \new Staff { &lt;&lt; \global { c c } &gt;&gt; }
  &gt;&gt;
}

</pre><p>
 <a href="2b/lily-269072f3.ly">
  <img align="middle"
       border="0"
       src="2b/lily-269072f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="rest-styles.ly"></a>
<hr size="6">
<a name="Custodes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Custodes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Transcription-of-Ancient-music-with-incipit" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Transcription of Ancient music with incipit &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Rest styles</h2>


<p>Rests may be used in various styles.
</p>




<pre class="verbatim">\layout {
  indent = 0.0
  \context {
    \Staff
    \remove &quot;Time_signature_engraver&quot;
  }
}

\new Staff \relative c {
  \cadenzaOn
  \override Staff.Rest #'style = #'mensural
  r\maxima^\markup \typewriter { mensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'neomensural
  r\maxima^\markup \typewriter { neomensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'classical
  r\maxima^\markup \typewriter { classical }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest  #'style = #'default
  r\maxima^\markup \typewriter { default }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
}

</pre><p>
 <a href="34/lily-f8f4eed5.ly">
  <img align="middle"
       border="0"
       src="34/lily-f8f4eed5.png"
       alt="[image of music]">
 </a>
</p>




<a name="transcription-of-ancient-music-with-incipit.ly"></a>
<hr size="6">
<a name="Transcription-of-Ancient-music-with-incipit"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Custodes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Transcription-of-Ancient-music-with-incipit" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Transcription-of-Ancient-music-with-incipit"></a>
<h2 class="unnumberedsec">Transcription of Ancient music with incipit</h2>


<p>As a workaround to get real incipits which are independent from the
main score these are included as a markup into the field normally used
for the instrument name. As for now lyrics can only be added as a
direct markup. It doesn&rsquo;t unfortunately conform with the spacing of the
main lyrics.
</p>

<pre class="verbatim">global = {
  \set Score.skipBars = ##t
  \key g \major
  \time 4/4
  
  %make the staff lines invisible on staves
  \override Staff.BarLine #'transparent = ##t
  \skip 1*8 % the actual music

  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f

  % finis bar
  \bar &quot;|.&quot;
}

  
discantusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    r2 g2. e4 fis g | % two bars
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorNotes = {
  \transpose c' c' {
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    r2 d'2. d'4 b e' | % two bars
    \once \override NoteHead #'transparent = ##t e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  &quot;...&quot; |
  -us. 
}

bassusNotes = {
  \transpose c' c' {
    \clef &quot;bass&quot;
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  Ju -- bi- |
  &quot;...&quot; |
  -us. 
}

incipitDiscantus = \markup{
	\score{
		{
		\set Staff.instrumentName=&quot;Discantus &quot;
		\override NoteHead   #'style = #'neomensural
		\override Rest #'style = #'neomensural
		\override Staff.TimeSignature #'style = #'neomensural
		\cadenzaOn 
		\clef &quot;neomensural-c1&quot;
		\key f \major
		\time 2/2
	  	c''1._&quot;IV-&quot; s2  %two bars
	  	\skip 1*8 % eight bars
    	}
	\layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
	}
	}
}

incipitAltus = \markup{
	\score{
		{ 
		\set Staff.instrumentName=&quot;Altus &quot;
		\override NoteHead   #'style = #'neomensural
		\override Rest #'style = #'neomensural
		\override Staff.TimeSignature #'style = #'neomensural
		\cadenzaOn 
		\clef &quot;neomensural-c3&quot;
		\key f \major
		\time 2/2
	  	r1        % one bar
        f'1._&quot;IV-&quot; s2   % two bars
        \skip 1*7 % seven bars
		}
	\layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
	}
	}
}

incipitTenor = \markup{
    \score{ {
    \set Staff.instrumentName = &quot;Tenor  &quot;
    \override NoteHead   #'style = #'neomensural
	\override Rest #'style = #'neomensural
	\override Staff.TimeSignature #'style = #'neomensural
	\cadenzaOn 
	\clef &quot;neomensural-c4&quot;
	\key f \major
	\time 2/2
    r\longa   % four bars
    r\breve   % two bars
    r1        % one bar
    c'1._&quot;IV-&quot; s2   % two bars
    \skip 1   % one bar
    }
    \layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
}
}
}

incipitBassus = \markup{
    \score{ {
    \set Staff.instrumentName = &quot;Bassus  &quot;
    \override NoteHead   #'style = #'neomensural
	\override Rest #'style = #'neomensural
	\override Staff.TimeSignature #'style = #'neomensural
	\cadenzaOn 
	\clef &quot;bass&quot;
	\key f \major
	\time 2/2
    % incipit
    r\maxima  % eight bars
    f1._&quot;IV-&quot; s2    % two bars
    }
    \layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
            }
     }
}

%StaffGroup is used instead of ChoirStaff to get bar lines between systems
\score {
  &lt;&lt;
  \new StaffGroup = choirStaff &lt;&lt;
    \new Voice =
      &quot;discantusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitDiscantus   
      \discantusNotes &gt;&gt;
    \new Lyrics =
      &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }
      
    \new Voice =
      &quot;altusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitAltus 
      \altusNotes &gt;&gt;
    \new Lyrics =
      &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }
     
    \new Voice =
      &quot;tenorNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitTenor 
      \tenorNotes &gt;&gt;
    \new Lyrics =
      &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }
     
    \new Voice =
      &quot;bassusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitBassus
      \bassusNotes &gt;&gt;
      &gt;&gt;
    \new Lyrics =
      &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics } 
    %Keep the bass lyrics outside of the staff group to avoid bar lines
    %between the lyrics.
  &gt;&gt;
  
  \layout {
    \context {
      \Score

      % no bars in staves
      \override BarLine #'transparent = ##t
    }
    % the next three instructions keep the lyrics between the barlines
	\context { \Lyrics 
	   \consists &quot;Bar_engraver&quot; 
	   \override BarLine #'transparent = ##t } 
	\context { \StaffGroup \consists &quot;Separating_line_group_engraver&quot; }
    \context {
      \Voice

      % no slurs
      \override Slur #'transparent = ##t

      % Comment in the below &quot;\remove&quot; command to allow line
      % breaking also at those barlines where a note overlaps
      % into the next bar.  The command is commented out in this
      % short example score, but especially for large scores, you
      % will typically yield better line breaking and thus improve
      % overall spacing if you comment in the following command.
      %\remove &quot;Forbid_line_break_engraver&quot;
    }
    	indent=5\cm
  }
}

</pre><p>
 <a href="80/lily-486a5061.ly">
  <img align="middle"
       border="0"
       src="80/lily-486a5061.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertical-line-as-a-baroque-articulation-mark.ly"></a>
<hr size="6">
<a name="Transcription-of-Ancient-music-with-incipit"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#World-music" title="Next chapter">&nbsp;World music &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Transcription-of-Ancient-music-with-incipit" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Transcription of Ancient music with incipit&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Ancient-notation" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Ancient notation&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#World-music" title="Next section in reading order" accesskey="n" rel="next">&nbsp;World music &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vertical line as a baroque articulation mark</h2>


<p>This short vertical line placed above the note is commonly used in
baroque music.  Its meaning can vary, but generally indicates notes
that should be played with more &quot;weight&quot;.  The following example
demonstrates how to achieve such a notation.
</p>

<pre class="verbatim">upline =
#(let* ((m (make-music 'ArticulationEvent
                       'articulation-type &quot;stopped&quot;
                       'direction 1)))
   (ly:music-set-property! m 'tweaks
     (acons 'font-size 3
       (acons 'text (markup
                   #:postscript &quot;
                        .15 setlinewidth
                        0 -1 0 1.5 lineto
                        stroke&quot;)
         (acons 'stencil ly:text-interface::print
           (ly:music-property m 'tweaks)))))
   m)


\relative c' {
  a'^\upline a( c a)
}
</pre><p>
 <a href="44/lily-a947e111.ly">
  <img align="middle"
       border="0"
       src="44/lily-a947e111.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="World-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Ancient-notation" title="Beginning of this chapter or previous chapter"> &lt;&lt; Ancient notation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Contexts-and-engravers" title="Next chapter">&nbsp;Contexts and engravers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Transcription-of-Ancient-music-with-incipit" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Arabic-improvisation" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Arabic improvisation &gt; </a>]</td></tr></table>
<a name="World-music"></a>
<h1 class="unnumbered">World music</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#World-music">World music</a>.
</p>

<a name="arabic-improvisation.ly"></a>
<hr size="6">
<a name="Arabic-improvisation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#World-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; World music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Contexts-and-engravers" title="Next chapter">&nbsp;Contexts and engravers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#World-music" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; World music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#World-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;World music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Arabic-improvisation" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Arabic-improvisation"></a>
<h2 class="unnumberedsec">Arabic improvisation</h2>


<p>For improvisations or taqasim which are temporarily free, the time
signature can be omitted and <code>\cadenzaOn</code> can be used.  Adjusting
the accidental style might be required, since the absence of bar lines
will cause the accidental to be marked only once.  Here is an example
of what could be the start of a hijaz improvisation:
</p>

<pre class="verbatim">\include &quot;arabic.ly&quot;

\relative sol' {
  \key re \kurd
  #(set-accidental-style 'forget)
  \cadenzaOn
  sol4 sol sol sol fad mib sol1 fad8 mib re4. r8 mib1 fad sol
}
</pre><p>
 <a href="4f/lily-8f1bfc6d.ly">
  <img align="middle"
       border="0"
       src="4f/lily-8f1bfc6d.png"
       alt="[image of music]">
 </a>
</p>




<a name="makam-example.ly"></a>
<hr size="6">
<a name="Arabic-improvisation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#World-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; World music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Contexts-and-engravers" title="Next chapter">&nbsp;Contexts and engravers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Arabic-improvisation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Arabic improvisation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#World-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;World music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Arabic-improvisation" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Makam example</h2>


<p>Makam is a type of melody from Turkey using 1/9th-tone microtonal
alterations. Consult the initialization file &lsquo;<samp>ly/makam.ly</samp>&rsquo; for
details of pitch names and alterations. 
</p>

<pre class="verbatim">% Initialize makam settings
\include &quot;makam.ly&quot;

\relative c' {
  \set Staff.keySignature = #`((3 . ,BAKIYE) (6 . ,(- KOMA)))
  c4 cc db fk
  gbm4 gfc gfb efk
  fk4 db cc c
}
</pre><p>
 <a href="e8/lily-d6dd9777.ly">
  <img align="middle"
       border="0"
       src="e8/lily-d6dd9777.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-text-from-right-to-left.ly"></a>
<hr size="6">
<a name="Arabic-improvisation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#World-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; World music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Contexts-and-engravers" title="Next chapter">&nbsp;Contexts and engravers &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Arabic-improvisation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#World-music" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;World music&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Contexts-and-engravers" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Contexts and engravers &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing text from right to left</h2>


<p>It is possible to print text from right to left in a markup object, as
demonstrated here.
</p>

<pre class="verbatim">{
  b1^\markup {
    \line { i n g i r u m i m u s n o c t e }
  }
  f'_\markup {
    \override #'(text-direction . -1)
    \line { i n g i r u m i m u s n o c t e }
  }
}

</pre><p>
 <a href="a3/lily-2214923f.ly">
  <img align="middle"
       border="0"
       src="a3/lily-2214923f.png"
       alt="[image of music]">
 </a>
</p>





<hr size="6">
<a name="Contexts-and-engravers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#World-music" title="Beginning of this chapter or previous chapter"> &lt;&lt; World music&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Arabic-improvisation" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Contexts-and-engravers" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Contexts-and-engravers"></a>
<h1 class="unnumbered">Contexts and engravers</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Changing-defaults">Changing defaults</a>.
</p>
<p>See also Learning Manual, section
<a href="../../Documentation/user/lilypond-learning-big-page.html#Contexts-and-engravers">Contexts and engravers</a>.
</p>

<a name="adding-a-figured-bass-above-or-below-the-notes.ly"></a>
<hr size="6">
<a name="Contexts-and-engravers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Contexts-and-engravers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Contexts-and-engravers" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding a figured bass above or below the notes</h2>


<p>When writing a figured bass, here&rsquo;s a way to specify if you want your
figures to be placed above or below the bass notes, by defining the
<code>BassFigureAlignmentPositioning #'direction</code> property (exclusively
in a <code>Staff</code> context). Choices are <code>#UP</code> (or <code>#1</code>),
<code>#CENTER</code> (or <code>#0</code>) and <code>#DOWN</code> (or <code>#-1</code>).
</p>
<p>As you can see here, this property can be changed as many times as you
wish. Use <code>\once \override</code> if you don&rsquo;t want the tweak to apply
to the whole score. 
</p>

<pre class="verbatim">bass = {
  \clef bass
  g4 b, c d
  e d8 c d2
}
continuo = \figuremode {
  &lt;_&gt;4 &lt;6&gt;8
  \once \override Staff.BassFigureAlignmentPositioning #'direction = #CENTER
  &lt;5/&gt;8 &lt;_&gt;4
  \override Staff.BassFigureAlignmentPositioning #'direction = #UP
  &lt;_+&gt;4 &lt;6&gt;
  \set Staff.useBassFigureExtenders = ##t
  \override Staff.BassFigureAlignmentPositioning #'direction = #DOWN
  &lt;4&gt;4. &lt;4&gt;8 &lt;_+&gt;4
}
\score {
  &lt;&lt;
    \new Staff = bassStaff \bass
    \context Staff = bassStaff \continuo
  &gt;&gt;
}


</pre><p>
 <a href="df/lily-d5d755e5.ly">
  <img align="middle"
       border="0"
       src="df/lily-d5d755e5.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-an-extra-staff-at-a-line-break.ly"></a>
<hr size="6">
<a name="Contexts-and-engravers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Contexts-and-engravers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Contexts-and-engravers" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding an extra staff at a line break</h2>


<p>When adding a new staff at a line break, some extra space is
unfortunately added at the end of the line before the break (to fit in
a key signature change, which  will never be printed anyway).  The
workaround is to add a setting of
<code>Staff.explicitKeySignatureVisibility</code> as is shown in the example.
In versions 2.10 and earlier, a similar setting for the time signatures
is also required (see the example).
</p>



<pre class="verbatim">\score {
  \new StaffGroup \relative c'' {
    \new Staff
    \key f \major
    c1 c^&quot;Unwanted extra space&quot; \break
    &lt;&lt; { c1 | c }
       \new Staff {
         \key f \major
         \once \override Staff.TimeSignature #'stencil = ##f
         c1 | c
       } 
    &gt;&gt;
    c1 | c^&quot;Fixed here&quot; \break
    &lt;&lt; { c1 | c }
       \new Staff {
         \once \set Staff.explicitKeySignatureVisibility = #end-of-line-invisible
         % The next line is not needed in 2.11.x or later:
         \once \override Staff.TimeSignature #'break-visibility = #end-of-line-invisible
         \key f \major
         \once \override Staff.TimeSignature #'stencil = ##f
         c1 | c
       }
    &gt;&gt;
  }
}

</pre><p>
 <a href="c8/lily-8dc5e571.ly">
  <img align="middle"
       border="0"
       src="c8/lily-8dc5e571.png"
       alt="[image of music]">
 </a>
</p>




<a name="adding-an-extra-staff.ly"></a>
<hr size="6">
<a name="Contexts-and-engravers"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Contexts-and-engravers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing MIDI output to one channel per voice &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding an extra staff</h2>


<p>An extra staff can be added (possibly temporarily) after the start of a
piece.  
</p>

<pre class="verbatim">\score {
  &lt;&lt;
    \new Staff \relative c'' { c1 | c | c | c | c }
    \new StaffGroup \relative c'' {
      \new Staff {
        c1 | c &lt;&lt;
          c1 \new Staff {
            \once \override Staff.TimeSignature #'stencil = ##f
            c1
          }
        &gt;&gt;
        c1
      }
    }
  &gt;&gt;
}

</pre><p>
 <a href="ce/lily-370ca09a.ly">
  <img align="middle"
       border="0"
       src="ce/lily-370ca09a.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-midi-output-to-one-channel-per-voice.ly"></a>
<hr size="6">
<a name="Changing-MIDI-output-to-one-channel-per-voice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Contexts-and-engravers" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Changing-MIDI-output-to-one-channel-per-voice"></a>
<h2 class="unnumberedsec">Changing MIDI output to one channel per voice</h2>


<p>When outputting MIDI, the default behavior is for each staff to
represent one MIDI channel, with all the voices on a staff amalgamated.
This minimizes the risk of running out of MIDI channels, since there
are only 16 available per track.
</p>
<p>However, by moving the <code>Staff_performer</code> to the <code>Voice</code>
context, each voice on a staff can have its own MIDI channel, as is
demonstrated by the following example: despite being on the same staff,
two MIDI channels are created, each with a different
<code>midiInstrument</code>. 
</p>

<pre class="verbatim">\score {
  \new Staff &lt;&lt;
    \new Voice \relative c''' {
      \set midiInstrument = #&quot;flute&quot;
      \voiceOne
      \key g \major
      \time 2/2
      r2 g-&quot;Flute&quot; ~
      g fis ~
      fis4 g8 fis e2 ~
      e4 d8 cis d2
    }
    \new Voice \relative c'' {
      \set midiInstrument = #&quot;clarinet&quot;
      \voiceTwo
      b1-&quot;Clarinet&quot;
      a2. b8 a
      g2. fis8 e
      fis2 r
    }
  &gt;&gt;
  \layout { }
  \midi {
    \context {
      \Staff
      \remove &quot;Staff_performer&quot;
    }
    \context {
      \Voice
      \consists &quot;Staff_performer&quot;      
    }
    \context {
      \Score
      tempoWholesPerMinute = #(ly:make-moment 72 2)
    }
  }
}

</pre><p>
 <a href="29/lily-a4aee98b.ly">
  <img align="middle"
       border="0"
       src="29/lily-a4aee98b.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-time-signatures-inside-a-polymetric-section-using--scaledurations.ly"></a>
<hr size="6">
<a name="Changing-MIDI-output-to-one-channel-per-voice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing MIDI output to one channel per voice&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing time signatures inside a polymetric section using \scaleDurations</h2>


<p>The <code>measureLength</code> property, together with
<code>measurePosition</code>, determines when a bar line is needed.  However,
when using <code>\scaleDurations</code>, the scaling of durations makes it
difficult to change time signatures.  In this case,
<code>measureLength</code> should be set manually, using the
<code>ly:make-moment</code> callback.  The second argument must be the same
as the second argument of <code>\scaleDurations</code>.
</p>

<pre class="verbatim">\layout {
  \context {
    \Score
    \remove &quot;Timing_translator&quot;
    \remove &quot;Default_bar_line_engraver&quot;
  }
  \context {
    \Staff
    \consists &quot;Timing_translator&quot;
    \consists &quot;Default_bar_line_engraver&quot;
  }
}

&lt;&lt;
  \new Staff {
    \scaleDurations #'(8 . 5) {
      \time 6/8
      \set Timing.measureLength = #(ly:make-moment 6 5)
      b8 b b b b b
      \time 2/4
      \set Timing.measureLength = #(ly:make-moment 4 5)
      b4 b
    }
  }
  \new Staff {
    \clef bass
    \time 2/4
    c2 d e f
  }
&gt;&gt;
</pre><p>
 <a href="99/lily-190771d5.ly">
  <img align="middle"
       border="0"
       src="99/lily-190771d5.png"
       alt="[image of music]">
 </a>
</p>




<a name="chant-or-psalms-notation.ly"></a>
<hr size="6">
<a name="Changing-MIDI-output-to-one-channel-per-voice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Chant or psalms notation</h2>


<p>This form of notation is used for the chant of the Psalms, where verses
aren&rsquo;t always the same length.
</p>

<pre class="verbatim">stemOn = { \revert Staff.Stem #'transparent }
stemOff = { \override Staff.Stem #'transparent = ##t }

\score {
  \new Staff \with { \remove &quot;Time_signature_engraver&quot; }
  {
    \key g \minor
    \cadenzaOn
    \stemOff a'\breve bes'4 g'4
    \stemOn a'2 \bar &quot;||&quot;
    \stemOff a'\breve g'4 a'4
    \stemOn f'2 \bar &quot;||&quot;
    \stemOff a'\breve^\markup { \italic flexe }
    \stemOn g'2 \bar &quot;||&quot;
  }
}

</pre><p>
 <a href="5b/lily-c5ec2b57.ly">
  <img align="middle"
       border="0"
       src="5b/lily-c5ec2b57.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-blank-staves.ly"></a>
<hr size="6">
<a name="Changing-MIDI-output-to-one-channel-per-voice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Engravers one-by-one &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating blank staves</h2>


<p>To create blank staves, generate empty measures then remove the
<code>Bar_number_engraver</code> from the <code>Score</code> context, and the
<code>Time_signature_engraver</code>, <code>Clef_engraver</code> and
<code>Bar_engraver</code> from the <code>Staff</code> context. 
</p>

<pre class="verbatim">#(set-global-staff-size 20)

\score {
  { 
    \repeat unfold 12 { s1 \break } 
  }
  \layout {
    indent = 0\in
    \context {
      \Staff
      \remove &quot;Time_signature_engraver&quot;
      \remove &quot;Clef_engraver&quot;
      \remove &quot;Bar_engraver&quot;
    }
    \context {
      \Score
      \remove &quot;Bar_number_engraver&quot;
    }
  }
}

\paper {
  #(set-paper-size &quot;letter&quot;)
  ragged-last-bottom = ##f
  line-width = 7.5\in
  left-margin = 0.5\in
  bottom-margin = 0.25\in
  top-margin = 0.25\in
}

</pre><p>
 <a href="d1/lily-160fd34d.ly">
  <img align="middle"
       border="0"
       src="d1/lily-160fd34d.png"
       alt="[image of music]">
 </a>
</p>




<a name="engravers-one-by-one.ly"></a>
<hr size="6">
<a name="Engravers-one_002dby_002done"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-MIDI-output-to-one-channel-per-voice" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Engravers-one_002dby_002done"></a>
<h2 class="unnumberedsec">Engravers one-by-one</h2>


<p>The notation problem, creating a certain symbol, is handled by plugins.
Each plugin is called an Engraver. In this example, engravers are
switched on one by one, in the following order:
</p>
<p>- note heads
</p>

<p>- staff symbol,
</p>

<p>- clef,
</p>

<p>- stem,
</p>

<p>- beams, slurs, accents,
</p>

<p>- accidentals, bar lines, time signature, and key signature.
</p>


<p>Engravers are grouped. For example, note heads, slurs, beams etc. form
a Voice context. Engravers for key, accidental, bar, etc. form a Staff
context.
</p>

<p>You may only see the first example in this document; please download
this snippet and run it from your own computer. 
</p>

<pre class="verbatim">%% sample music
topVoice =  \relative c' {
  \key d\major
  es8([ g] a[ fis])
  b4
  b16[-. b-. b-. cis-.]
  d4-&gt;
}

botVoice =  \relative c' {
  \key d\major
  c8[( f] b[ a)]
  es4
  es16[-. es-. es-. fis-.]
  b4-&gt;
}

hoom =  \relative c {
  \key d \major
  \clef bass
  g8-. r
  r4 
  fis8-.
  r8
  r4
  b'4-&gt;
}

pah =  \relative c' {
  r8 b-.
  r4
  r8 g8-.
  r16 g-. r8
  \clef treble
  fis'4-&gt;
}

%
% setup for Request-&gt;Element conversion. Guru-only
%

MyStaff =\context {
  \type &quot;Engraver_group&quot;
  \name Staff

  \description &quot;Handles clefs, bar lines, keys, accidentals.  It can contain
@code{Voice} contexts.&quot;

  
  \consists &quot;Output_property_engraver&quot;	
  
  \consists &quot;Font_size_engraver&quot;

  \consists &quot;Volta_engraver&quot;
  \consists &quot;Separating_line_group_engraver&quot;	
  \consists &quot;Dot_column_engraver&quot;

  \consists &quot;Ottava_spanner_engraver&quot;
  \consists &quot;Rest_collision_engraver&quot;
  \consists &quot;Piano_pedal_engraver&quot;
  \consists &quot;Piano_pedal_align_engraver&quot;
  \consists &quot;Instrument_name_engraver&quot;
  \consists &quot;Grob_pq_engraver&quot;
  \consists &quot;Forbid_line_break_engraver&quot;
  \consists &quot;Axis_group_engraver&quot;

  \consists &quot;Pitch_squash_engraver&quot;

  \override VerticalAxisGroup #'minimum-Y-extent = #'(-6 . 6)
  extraVerticalExtent = ##f
  verticalExtent = ##f 
  localKeySignature = #'()

				% explicitly set instrument, so we don't get 
				% weird effects when doing instrument names for
				% piano staves

  instrumentName = #'()
  shortInstrumentName = #'()
  
  \accepts &quot;Voice&quot;
}


MyVoice = \context {
  \type &quot;Engraver_group&quot;
  \name Voice

  \description &quot;
    Corresponds to a voice on a staff.  This context handles the
    conversion of dynamic signs, stems, beams, super- and subscripts,
    slurs, ties, and rests.

    You have to instantiate this explicitly if you want to have
    multiple voices on the same staff.&quot;

  localKeySignature = #'()
  \consists &quot;Font_size_engraver&quot;
  
				% must come before all
  \consists &quot;Output_property_engraver&quot;	
  \consists &quot;Arpeggio_engraver&quot;
  \consists &quot;Multi_measure_rest_engraver&quot;
  \consists &quot;Text_spanner_engraver&quot;
  \consists &quot;Grob_pq_engraver&quot;
  \consists &quot;Note_head_line_engraver&quot;
  \consists &quot;Glissando_engraver&quot;
  \consists &quot;Ligature_bracket_engraver&quot;
  \consists &quot;Breathing_sign_engraver&quot;
				% \consists &quot;Rest_engraver&quot;
  \consists &quot;Grace_beam_engraver&quot;
  \consists &quot;New_fingering_engraver&quot;
  \consists &quot;Chord_tremolo_engraver&quot;
  \consists &quot;Percent_repeat_engraver&quot;
  \consists &quot;Slash_repeat_engraver&quot;

%{
  Must come before text_engraver, but after note_column engraver.

%}
  \consists &quot;Text_engraver&quot;
  \consists &quot;Dynamic_engraver&quot;
  \consists &quot;Fingering_engraver&quot;

  \consists &quot;Script_column_engraver&quot;
  \consists &quot;Rhythmic_column_engraver&quot;
  \consists &quot;Cluster_spanner_engraver&quot;
  \consists &quot;Tie_engraver&quot;
  \consists &quot;Tie_engraver&quot;
  \consists &quot;Tuplet_engraver&quot;
  \consists &quot;Note_heads_engraver&quot;
  \consists &quot;Rest_engraver&quot;

  \consists &quot;Skip_event_swallow_translator&quot;
}


\score {
  \topVoice
  \layout {
    \context { \MyStaff }
    \context { \MyVoice }
  }
}


MyStaff = \context {
    \MyStaff
    \consists &quot;Staff_symbol_engraver&quot;
}

\score {
  \topVoice
  \layout {
      \context { \MyStaff }
      \context { \MyVoice }
            }
}

MyStaff = \context {
    \MyStaff
    \consists &quot;Clef_engraver&quot;
    \remove &quot;Pitch_squash_engraver&quot;
}

\score {
  \topVoice
  \layout {
    \context { \MyStaff }
    \context { \MyVoice }
  }
}

MyVoice = \context {
  \MyVoice
  \consists &quot;Stem_engraver&quot;
}

\score {
  \topVoice
  \layout {
    \context { \MyStaff }
    \context { \MyVoice }
  }
}

MyVoice = \context {
  \MyVoice
  \consists &quot;Beam_engraver&quot;
}

\score {
  \topVoice
  \layout {
    \context { \MyStaff }
    \context { \MyVoice }
  }
}

MyVoice= \context {
  \MyVoice
  \consists &quot;Phrasing_slur_engraver&quot;
  \consists &quot;Slur_engraver&quot;
  \consists &quot;Script_engraver&quot;
}


\score {
  \topVoice
  \layout {
    \context { \MyStaff }
    \context { \MyVoice }
  }
}

MyStaff = \context {
  \MyStaff
  \consists &quot;Bar_engraver&quot;
  \consists &quot;Time_signature_engraver&quot;
}

\score {
  \topVoice
  \layout {
    \context { \MyStaff }
    \context { \MyVoice }
  }
}

MyStaff = \context {
  \MyStaff
  \consists &quot;Accidental_engraver&quot;    
  \consists &quot;Key_engraver&quot;
}
\score {
  \topVoice
  \layout {
    \context { \MyStaff }
    \context { \MyVoice }
  }
}


</pre><p>
 <a href="aa/lily-5726d932.ly">
  <img align="middle"
       border="0"
       src="aa/lily-5726d932.png"
       alt="[image of music]">
 </a>
</p>




<a name="mensurstriche-layout-bar-lines-between-the-staves.ly"></a>
<hr size="6">
<a name="Engravers-one_002dby_002done"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Engravers one-by-one&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Mensurstriche layout (bar lines between the staves)</h2>


<p>The mensurstriche-layout where the bar lines do not show on the staves
but between staves can be achieved with a <code>StaffGroup</code> instead of
a <code>ChoirStaff</code>.  The bar line on staves is blanked out by setting
the <code>transparent</code> property.
</p>

<pre class="verbatim">global = {
  \override Staff.BarLine #'transparent = ##t
  s1 s
  % the final bar line is not interrupted
  \revert Staff.BarLine #'transparent
  \bar &quot;|.&quot;
}
\new StaffGroup \relative c'' {
  &lt;&lt;
    \new Staff { &lt;&lt; \global { c1 c } &gt;&gt; }
    \new Staff { &lt;&lt; \global { c c } &gt;&gt; }
  &gt;&gt;
}

</pre><p>
 <a href="2b/lily-269072f3.ly">
  <img align="middle"
       border="0"
       src="2b/lily-269072f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="nesting-staves.ly"></a>
<hr size="6">
<a name="Engravers-one_002dby_002done"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Nesting staves</h2>


<p>The property <code>systemStartDelimiterHierarchy</code> can be used to make
more complex nested staff groups. The command <code>\set
StaffGroup.systemStartDelimiterHierarchy</code> takes an alphabetical list of
the number of staves produced. Before each staff a system start
delimiter can be given. It has to be enclosed in brackets and takes as
much staves as the brackets enclose. Elements in the list can be
omitted, but the first bracket takes always the complete number of
staves. The possibilities are <code>SystemStartBar</code>,
<code>SystemStartBracket</code>, <code>SystemStartBrace</code>, and
<code>SystemStartSquare</code>.
</p>

<pre class="verbatim">\new StaffGroup
\relative c'' &lt;&lt;
  \set StaffGroup.systemStartDelimiterHierarchy
    = #'(SystemStartSquare (SystemStartBrace (SystemStartBracket a
                             (SystemStartSquare b)  ) c ) d)
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
&gt;&gt;

</pre><p>
 <a href="bb/lily-f30de31d.ly">
  <img align="middle"
       border="0"
       src="bb/lily-f30de31d.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-bar-numbers-from-a-score.ly"></a>
<hr size="6">
<a name="Engravers-one_002dby_002done"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Removing bar numbers from a score</h2>


<p>Bar numbers can be removed entirely by removing the
<code>Bar_number_engraver</code> from the <code>Score</code> context.
</p>

<pre class="verbatim">\layout {
  \context {
    \Score
    \remove &quot;Bar_number_engraver&quot;
  }
}

\relative c'' {
  c4 c c c \break
  c4 c c c
}

</pre><p>
 <a href="97/lily-3a4951f3.ly">
  <img align="middle"
       border="0"
       src="97/lily-3a4951f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="use-square-bracket-at-the-start-of-a-staff-group.ly"></a>
<hr size="6">
<a name="Engravers-one_002dby_002done"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Use square bracket at the start of a staff group</h2>


<p>The system start delimiter <code>SystemStartSquare</code> can be used by
setting it explicitly in a <code>StaffGroup</code> or <code>ChoirStaffGroup</code>
context. 
</p>

<pre class="verbatim">\score {
  \new StaffGroup { &lt;&lt; 
  \set StaffGroup.systemStartDelimiter = #'SystemStartSquare
    \new Staff { c'4 d' e' f' }
    \new Staff { c'4 d' e' f' }
  &gt;&gt; }
}

</pre><p>
 <a href="bc/lily-1e783df1.ly">
  <img align="middle"
       border="0"
       src="bc/lily-1e783df1.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves.ly"></a>
<hr size="6">
<a name="Engravers-one_002dby_002done"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Tweaks-and-overrides" title="Next chapter">&nbsp;Tweaks and overrides &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Contexts-and-engravers" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Tweaks and overrides &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vocal ensemble template with lyrics aligned below and above the staves</h2>


<p>This template is basically the same as the simple &quot;Vocal ensemble&quot;
template, with the exception that here all the lyrics lines are placed
using <code>alignAboveContext</code> and <code>alignBelowContext</code>.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords = \lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  \new ChoirStaff &lt;&lt;
    \new Staff = women &lt;&lt;
      \new Voice = &quot;sopranos&quot; { \voiceOne &lt;&lt; \global \sopMusic &gt;&gt; }
      \new Voice = &quot;altos&quot; { \voiceTwo &lt;&lt; \global \altoMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = women } \lyricsto sopranos \sopWords
    \new Lyrics \with { alignBelowContext = women } \lyricsto altos \altoWords
    % we could remove the line about this with the line below, since we want
    % the alto lyrics to be below the alto Voice anyway.
    % \new Lyrics \lyricsto altos \altoWords
    
    \new Staff = men &lt;&lt;
      \clef bass
      \new Voice = &quot;tenors&quot; { \voiceOne &lt;&lt; \global \tenorMusic &gt;&gt; }
      \new Voice = &quot;basses&quot; { \voiceTwo &lt;&lt; \global \bassMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = men } \lyricsto tenors \tenorWords
    \new Lyrics \with { alignBelowContext = men } \lyricsto basses \bassWords
    % again, we could replace the line above this with the line below.
    % \new Lyrics \lyricsto basses \bassWords
  &gt;&gt;
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="45/lily-b608b16a.ly">
  <img align="middle"
       border="0"
       src="45/lily-b608b16a.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Contexts-and-engravers" title="Beginning of this chapter or previous chapter"> &lt;&lt; Contexts and engravers&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Engravers-one_002dby_002done" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Tweaks-and-overrides"></a>
<h1 class="unnumbered">Tweaks and overrides</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Changing-defaults">Changing defaults</a>.
</p>
<p>See also Learning Manual, section
<a href="../../Documentation/user/lilypond-learning-big-page.html#Tweaking-output">Tweaking output</a>.
</p>

<a name="analysis-brackets-above-the-staff.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Analysis brackets above the staff</h2>


<p>Simple horizontal analysis brackets are added below the staff by
default. The following example shows a way to place them above the
staff instead.
</p>

<pre class="verbatim">\layout {
  \context {
    \Voice
    \consists &quot;Horizontal_bracket_engraver&quot;
  }
}
\relative c'' {
  \once \override HorizontalBracket #'direction = #UP
  c2\startGroup
  d2\stopGroup
}

</pre><p>
 <a href="5b/lily-a239b125.ly">
  <img align="middle"
       border="0"
       src="5b/lily-a239b125.png"
       alt="[image of music]">
 </a>
</p>




<a name="avoiding-collisions-with-chord-fingerings.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Avoiding collisions with chord fingerings</h2>


<p>Fingerings and string numbers applied to individual notes will
automatically avoid beams and stems, but this is not true by default
for fingerings and string numbers applied to the individual notes of
chords.  The following example shows how this default behavior can be
overridden.
</p>

<pre class="verbatim">\relative c' {
  \set fingeringOrientations = #'(up)
  \set stringNumberOrientations = #'(up)
  \set strokeFingerOrientations = #'(up)
  
  % Default behavior
  r8
  &lt;f c'-5&gt;8
  &lt;f c'\5&gt;8
  &lt;f c'-\rightHandFinger #2 &gt;8
  
  % Corrected to avoid collisions
  r8
  \override Fingering #'add-stem-support = ##t
  &lt;f c'-5&gt;8
  \override StringNumber #'add-stem-support = ##t
  &lt;f c'\5&gt;8
  \override StrokeFinger #'add-stem-support = ##t
  &lt;f c'-\rightHandFinger #2 &gt;8
}

</pre><p>
 <a href="01/lily-9528ce63.ly">
  <img align="middle"
       border="0"
       src="01/lily-9528ce63.png"
       alt="[image of music]">
 </a>
</p>




<a name="caesura-railtracks-with-fermata.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Caesura (&quot;railtracks&quot;) with fermata</h2>


<p>A caesura is sometimes denoted by a double &quot;railtracks&quot; breath mark
with a fermata sign positioned above. This snippet should present an
optically pleasing combination of railtracks and fermata.
</p>

<pre class="verbatim">\relative c'' {
  c2.
  % construct the symbol
  \override BreathingSign #'text = \markup {
    \line {
      \musicglyph #&quot;scripts.caesura.curved&quot;
      \translate #'(-1.75 . 1.6)
      \musicglyph #&quot;scripts.ufermata&quot;
    }
  }
  \breathe c4
  % set the breathe mark back to normal
  \revert BreathingSign #'text
  c2. \breathe c4
  \bar &quot;|.&quot;
}
</pre><p>
 <a href="7d/lily-6711c400.ly">
  <img align="middle"
       border="0"
       src="7d/lily-6711c400.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-a-single-notes-size-in-a-chord.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Tweaks-and-overrides" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing a single note&rsquo;s size in a chord</h2>


<p>Individual note heads in a chord can be modified with the
<code>\tweak</code> command inside a chord, by altering the <code>font-size</code>
property.
</p>

<p>Inside the chord (within the brackets <code>&lt; &gt;</code>), before the note to
be altered, place the <code>\tweak</code> command, followed by
<code>#'font-size</code> and define the proper size like <code>#-2</code> (a tiny
notehead).
</p>



<pre class="verbatim">\relative {
  &lt;\tweak #'font-size #+2 c e g c \tweak #'font-size #-2 e&gt;1^\markup { A tiny e }_\markup { A big c }
}

</pre><p>
 <a href="38/lily-725be418.ly">
  <img align="middle"
       border="0"
       src="38/lily-725be418.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-form-of-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Tweaks-and-overrides"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Changing properties for individual grobs &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing form of multi-measure rests</h2>


<p>If there are ten or fewer measures of rests, a series of longa and
breve rests (called in German &quot;Kirchenpausen&quot; - church rests) is
printed within the staff; otherwise a simple line is shown. This
default number of ten may be changed by overriding the
<code>expand-limit</code> property.
</p>

<pre class="verbatim">\relative c'' {
  \compressFullBarRests
  R1*2 | R1*5 | R1*9
  \override MultiMeasureRest #'expand-limit = #3
  R1*2 | R1*5 | R1*9
}
</pre><p>
 <a href="9e/lily-7400df93.ly">
  <img align="middle"
       border="0"
       src="9e/lily-7400df93.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-properties-for-individual-grobs.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Tweaks-and-overrides" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Changing-properties-for-individual-grobs"></a>
<h2 class="unnumberedsec">Changing properties for individual grobs</h2>


<p>The <code>\applyOutput</code> command allows the tuning of any layout
object, in any context. It requires a Scheme function with three
arguments.
</p>

<pre class="verbatim">#(define (mc-squared grob grob-origin context)
  (let ((sp (ly:grob-property grob 'staff-position)))
    (if (grob::has-interface grob 'note-head-interface)
      (begin
        (ly:grob-set-property! grob 'stencil
          (grob-interpret-markup grob
            (make-lower-markup 0.5
              (case sp
                ((-5) &quot;m&quot;)
                ((-3) &quot;c &quot;)
                ((-2) (make-smaller-markup (make-bold-markup &quot;2&quot;)))
                (else &quot;bla&quot;)))))))))

\relative c' {
  &lt;d f g b&gt;2
  \applyOutput #'Voice #mc-squared
  &lt;d f g b&gt;2
}
</pre><p>
 <a href="2c/lily-65e92cd9.ly">
  <img align="middle"
       border="0"
       src="2c/lily-65e92cd9.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-default-text-font-family.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Changing properties for individual grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing the default text font family</h2>


<p>The default font families for text can be overridden with
<code>make-pango-font-tree</code>. 
</p>

<pre class="verbatim">\paper {
  % change for other default global staff size. 
  myStaffSize = #20
  %{
     run
         lilypond -dshow-available-fonts blabla
     to show all fonts available in the process log.  
  %}

  #(define fonts
    (make-pango-font-tree &quot;Times New Roman&quot;
                          &quot;Nimbus Sans&quot;
                          &quot;Luxi Mono&quot;
;;                        &quot;Helvetica&quot;
;;                        &quot;Courier&quot;
     (/ myStaffSize 20)))
}

\relative c'' {
  c4^\markup {
    roman: foo \bold bla \italic bar \italic \bold baz 
  }
  c'4_\markup {
    \override #'(font-family . sans)
    {
      sans: foo \bold bla \italic bar \italic \bold baz
    }
  }
  c'2^\markup {
    \override #'(font-family . typewriter)
    {
      mono: foo \bold bla \italic bar \italic \bold baz
    }
  }
}  


</pre><p>
 <a href="78/lily-e47679b4.ly">
  <img align="middle"
       border="0"
       src="78/lily-e47679b4.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-staff-size.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing the staff size</h2>


<p>Though the simplest way to resize staves is to use
<code>#(set-global-staff-size xx)</code>, an individual staff&rsquo;s size can be
changed by scaling the properties <code>'staff-space</code> and
<code>fontSize</code>. 
</p>

<pre class="verbatim">&lt;&lt;
  \new Staff {
    \relative c'' {
      \dynamicDown
      c8\ff c c c c c c c
    }
  }
  \new Staff \with {
    fontSize = #-3
    \override StaffSymbol #'staff-space = #(magstep -3)
  } {
    \clef bass
    c8 c c c c\f c c c
  }
&gt;&gt;

</pre><p>
 <a href="44/lily-448b205b.ly">
  <img align="middle"
       border="0"
       src="44/lily-448b205b.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-the-vertical-ordering-of-scripts.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Controlling the vertical ordering of scripts</h2>


<p>The vertical ordering of scripts is controlled with the
<code>'script-priority</code> property. The lower this number, the closer it
will be put to the note. In this example, the <code>TextScript</code> (the
sharp symbol) first has the lowest priority, so it is put lowest in the
first example. In the second, the prall trill (the <code>Script</code>) has
the lowest, so it is on the inside. When two objects have the same
priority, the order in which they are entered determines which one
comes first. 
</p>

<pre class="verbatim">\relative c''' {
  \once \override TextScript #'script-priority = #-100
  a2^\prall^\markup { \sharp }
  
  \once \override Script #'script-priority = #-100
  a2^\prall^\markup { \sharp }
}

</pre><p>
 <a href="9d/lily-6e396260.ly">
  <img align="middle"
       border="0"
       src="9d/lily-6e396260.png"
       alt="[image of music]">
 </a>
</p>




<a name="controlling-tuplet-bracket-visibility.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Controlling tuplet bracket visibility</h2>


<p>The default behavior of tuplet-bracket visibility is to print a bracket
unless there is a beam of the same length as the tuplet. To control the
visibility of tuplet brackets, set the property
<code>'bracket-visibility</code> to either <code>#t</code> (always print a
bracket), <code>#f</code> (never print a bracket) or <code>#'if-no-beam</code>
(only print a bracket if there is no beam). 
</p>

<pre class="verbatim">music = \relative c'' {
  \times 2/3 { c16[ d e } f8]
  \times 2/3 { c8 d e }
  \times 2/3 { c4 d e }
}

\new Voice {
  \relative c' {
    &lt;&lt; \music s4^&quot;default&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = #'if-no-beam
    &lt;&lt; \music s4^&quot;'if-no-beam&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##t
    &lt;&lt; \music s4^&quot;#t&quot; &gt;&gt;
    \override TupletBracket #'bracket-visibility = ##f
    &lt;&lt; \music s4^&quot;#f&quot; &gt;&gt;
  }
} 


</pre><p>
 <a href="16/lily-02d803da.ly">
  <img align="middle"
       border="0"
       src="16/lily-02d803da.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-a-delayed-turn.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating a delayed turn</h2>


<p>Creating a delayed turn, where the lower note of the turn uses the
accidental, requires several overrides.  The
<code>outside-staff-priority</code> property must be set to <code>#f</code>, as
otherwise this would take precedence over the <code>avoid-slur
property</code>.  The value of <code>halign</code> is used to position the turn
horizontally.
</p>

<pre class="verbatim">\relative c'' {
  \once \override TextScript #'avoid-slur = #'inside
  \once \override TextScript #'outside-staff-priority = ##f
  c2(^\markup \tiny \override #'(baseline-skip . 1) {
    \halign #-4
    \center-column {
      \sharp
      \musicglyph #&quot;scripts.turn&quot;
    }
  }
  d4.) c8
}
</pre><p>
 <a href="6b/lily-e30cfc0b.ly">
  <img align="middle"
       border="0"
       src="6b/lily-e30cfc0b.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-simultaneous-rehearsal-marks.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating simultaneous rehearsal marks</h2>


<p>Unlike text scripts, rehearsal marks cannot be stacked at a particular
point in a score: only one <code>RehearsalMark</code> object is created. 
Using an invisible measure and bar line, an extra rehearsal mark can be
added, giving the appearance of two marks in the same column. This
method may also prove useful for placing rehearsal marks at both the
end of one system and the start of the following system. 
</p>

<pre class="verbatim">{
  \key a \major
  \set Score.markFormatter = #format-mark-box-letters
  \once \override Score.RehearsalMark #'outside-staff-priority = #5000
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \once \override Score.RehearsalMark #'break-align-symbols = #'(key-signature)
  \mark \markup { \bold { Senza denti } }
  
  % the hidden measure and bar line
  \once \override Score.TimeSignature #'stencil = ##f
  \time 1/16
  s16 \bar &quot;&quot;
  
  \time 4/4
  \once \override Score.RehearsalMark #'self-alignment-X = #LEFT
  \mark \markup { \box \bold Intro }
  d'1
  \mark \default
  d'1
}
</pre><p>
 <a href="d8/lily-ad064fd4.ly">
  <img align="middle"
       border="0"
       src="d8/lily-ad064fd4.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-text-spanners.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating text spanners</h2>


<p>The <code>\startTextSpan</code> and <code>\stopTextSpan</code> commands allow the
creation of text spanners as easily as pedal indications or
octavations. Override some properties of the <code>TextSpanner</code> object
to modify its output.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }

\relative c'' {
  \override TextSpanner #'(bound-details left text) = #&quot;bla&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;blu&quot;
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'line
  \once \override TextSpanner
    #'(bound-details left stencil-align-dir-y) = #CENTER
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \override TextSpanner #'style = #'dashed-line
  \override TextSpanner #'(bound-details left text) =
    \markup { \draw-line #'(0 . 1) }
  \override TextSpanner #'(bound-details right text) =
    \markup { \draw-line #'(0 . -2) }
  \once \override TextSpanner #'(bound-details right padding) = #-2

  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
  
  \set Staff.middleCPosition = #-13
  \override TextSpanner #'dash-period = #10
  \override TextSpanner #'dash-fraction = #0.5
  \override TextSpanner #'thickness = #10
  a4 \startTextSpan
  b4 c
  a4 \stopTextSpan
}
</pre><p>
 <a href="c3/lily-4156fc65.ly">
  <img align="middle"
       border="0"
       src="c3/lily-4156fc65.png"
       alt="[image of music]">
 </a>
</p>




<a name="custodes.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Custodes</h2>


<p>Custodes may be engraved in various styles.
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

\new Staff \with { \consists &quot;Custos_engraver&quot; } \relative c' {
  \override Staff.Custos #'neutral-position = #4
  
  \override Staff.Custos #'style = #'hufnagel
  c1^&quot;hufnagel&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'medicaea
  c1^&quot;medicaea&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'vaticana
  c1^&quot;vaticana&quot; \break
  &lt;d a' f'&gt;1
  
  \override Staff.Custos #'style = #'mensural
  c1^&quot;mensural&quot; \break
  &lt;d a' f'&gt;1
}

</pre><p>
 <a href="6b/lily-36a7783a.ly">
  <img align="middle"
       border="0"
       src="6b/lily-36a7783a.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-fretboard-fret-diagrams.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Customizing fretboard fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For FretBoard fret diagrams, overrides
are applied to the <code>FretBoards.FretBoard</code> object. Like
<code>Voice</code>, <code>FretBoards</code> is a bottom level context, therefore
can be omitted in property overrides.
</p>

<pre class="verbatim">\include &quot;predefined-guitar-fretboards.ly&quot;
\storePredefinedDiagram \chordmode { c' }
                        #guitar-tuning
                        #&quot;x;1-1-(;3-2;3-3;3-4;1-1-);&quot;
&lt;&lt;
  \new ChordNames {
    \chordmode { c1 | c | c | d }
  }
  \new FretBoards {
    % Set global properties of fret diagram
    \override FretBoards.FretBoard #'size = #'1.2
    \override FretBoard
      #'(fret-diagram-details finger-code) = #'in-dot
    \override FretBoard
      #'(fret-diagram-details dot-color) = #'white
    \chordmode {
      c
      \once \override FretBoard #'size = #'1.0
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'straight
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      c'
      \once \override FretBoard
        #'(fret-diagram-details barre-type) = #'none
      \once \override FretBoard
        #'(fret-diagram-details number-type) = #'arabic
      \once \override FretBoard
        #'(fret-diagram-details orientation) = #'landscape
      \once \override FretBoard
        #'(fret-diagram-details mute-string) = #&quot;M&quot;
      \once \override FretBoard
        #'(fret-diagram-details label-dir) = #LEFT
      \once \override FretBoard
        #'(fret-diagram-details dot-color) = #'black
      c'
      \once \override FretBoard
        #'(fret-diagram-details finger-code) = #'below-string
      \once \override FretBoard
        #'(fret-diagram-details dot-radius) = #0.35
      \once \override FretBoard
        #'(fret-diagram-details dot-position) = #0.5
      \once \override FretBoard
        #'(fret-diagram-details fret-count) = #3
      d
    }
  }
  \new Voice {
    c'1 | c' | c' | d'
  }
&gt;&gt;
</pre><p>
 <a href="ce/lily-ccf0575b.ly">
  <img align="middle"
       border="0"
       src="ce/lily-ccf0575b.png"
       alt="[image of music]">
 </a>
</p>




<a name="customizing-markup-fret-diagrams.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Customizing markup fret diagrams</h2>


<p>Fret diagram properties can be set through
<code>'fret-diagram-details</code>.  For markup fret diagrams, overrides can
be applied to the <code>Voice.TextScript</code> object or directly to the
markup.
</p>

<pre class="verbatim">&lt;&lt;
  \chords { c1 | c | c | d }
  
  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #'1.2
    \override TextScript
      #'(fret-diagram-details finger-code) = #'in-dot
    \override TextScript
      #'(fret-diagram-details dot-color) = #'white

    %% C major for guitar, no barre, using defaults
       % terse style
    c'1^\markup { \fret-diagram-terse #&quot;x;3-3;2-2;o;1-1;o;&quot; }

    %% C major for guitar, barred on third fret
       % verbose style
       % size 1.0
       % roman fret label, finger labels below string, straight barre
    c'1^\markup {
      % standard size
      \override #'(size . 1.0) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . in-dot)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }

    %% C major for guitar, barred on third fret
       % verbose style
       % landscape orientation, arabic numbers, M for mute string
       % no barre, fret label down or left, small mute label font
    c'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (number-type . arabic)
                   (label-dir . -1)
                   (mute-string . &quot;M&quot;)
                   (orientation . landscape)
                   (barre-type . none)
                   (xo-font-magnification . 0.4)
                   (xo-padding . 0.3))) {
        \fret-diagram-verbose #'((mute 6)
                                 (place-fret 5 3 1)
                                 (place-fret 4 5 2)
                                 (place-fret 3 5 3)
                                 (place-fret 2 5 4)
                                 (place-fret 1 3 1)
                                 (barre 5 1 3))
      }
    }

    %% simple D chord
       % terse style
       % larger dots, centered dots, fewer frets
       % label below string
    d'1^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="4d/lily-5948aa0e.ly">
  <img align="middle"
       border="0"
       src="4d/lily-5948aa0e.png"
       alt="[image of music]">
 </a>
</p>




<a name="display-bracket-with-only-one-staff-in-a-system.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Display bracket with only one staff in a system</h2>


<p>If there is only one staff in one of the staff types <code>ChoirStaff</code>
or <code>StaffGroup</code>, the bracket and the starting bar line will not be
displayed as standard behavior.  This can be changed by overriding the
relevant properties.
</p>
<p>Note that in contexts such as <code>PianoStaff</code> and <code>GrandStaff</code>
where the systems begin with a brace instead of a bracket, another
property has to be set, as shown on the second system in the example. 
</p>

<pre class="verbatim">\markup \left-column {
  \score {
    \new StaffGroup &lt;&lt;
      % Must be lower than the actual number of staff lines
      \override StaffGroup.SystemStartBracket #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
  \null
  \score {
    \new PianoStaff &lt;&lt;
      \override PianoStaff.SystemStartBrace #'collapse-height = #1
      \override Score.SystemStartBar #'collapse-height = #1
      \new Staff {
        c'1
      }
    &gt;&gt;
    \layout { }
  }
}
</pre><p>
 <a href="a2/lily-746c1287.ly">
  <img align="middle"
       border="0"
       src="a2/lily-746c1287.png"
       alt="[image of music]">
 </a>
</p>




<a name="dotted-harmonics.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Dotted harmonics</h2>


<p>Artificial harmonics using <code>\harmonic</code> do not show dots.  To
override this behavior, set the context property <code>harmonicDots</code>.
</p>

<pre class="verbatim">\relative c''' {
  \time 3/4
  \key f \major
  \set harmonicDots = ##t
  &lt;bes f'\harmonic&gt;2. ~
  &lt;bes f'\harmonic&gt;4. &lt;a e'\harmonic&gt;8( &lt;gis dis'\harmonic&gt; &lt;g d'\harmonic&gt;)
  &lt;fis cis'\harmonic&gt;2.
  &lt;bes f'\harmonic&gt;2.
}
</pre><p>
 <a href="8c/lily-6e35e407.ly">
  <img align="middle"
       border="0"
       src="8c/lily-6e35e407.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-boxes-around-grobs.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Drawing boxes around grobs</h2>


<p>The <code>print-function</code> can be overridden to draw a box around an
arbitrary grob.  
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'stencil =
    #(make-stencil-boxer 0.1 0.3 ly:text-interface::print)
  c'4^&quot;foo&quot;

  \override Stem #'stencil =
    #(make-stencil-boxer 0.05 0.25 ly:stem::print)
  \override Score.RehearsalMark  #'stencil =
    #(make-stencil-boxer 0.15 0.3 ly:text-interface::print)
  b8
  
  \revert Stem #'stencil
  c4. c4
  \mark &quot;F&quot;
  c1
}



</pre><p>
 <a href="87/lily-f85ac8b5.ly">
  <img align="middle"
       border="0"
       src="87/lily-f85ac8b5.png"
       alt="[image of music]">
 </a>
</p>




<a name="drawing-circles-around-various-objects.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Drawing circles around various objects</h2>


<p>The <code>\circle</code> markup command draws circles around various
objects, for example fingering indications.  For other objects,
specific tweaks may be required: this example demonstrates two
strategies for rehearsal marks and measure numbers.
</p>

<pre class="verbatim">\relative c' {
  c1
  \set Score.markFormatter =
    #(lambda (mark context)
             (make-circle-markup (format-mark-numbers mark context)))
  \mark \default
  c2 d^\markup {
    \override #'(thickness . 3) {
      \circle \finger 2
    }
  }
  \override Score.BarNumber #'break-visibility = #all-visible
  \override Score.BarNumber #'stencil =
    #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
}
</pre><p>
 <a href="ab/lily-91aea158.ly">
  <img align="middle"
       border="0"
       src="ab/lily-91aea158.png"
       alt="[image of music]">
 </a>
</p>




<a name="fine-tuning-pedal-brackets.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Fine-tuning pedal brackets</h2>


<p>The appearance of pedal brackets may be altered in different ways.
</p>

<pre class="verbatim">\paper { ragged-right = ##f }
\relative c'' {
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'shorten-pair = #'(-7 . -2)
  c2\sostenutoOn c
  c2\sostenutoOff c
  \once \override Staff.PianoPedalBracket #'edge-height = #'(0 . 3)
  c2\sostenutoOn c
  c2\sostenutoOff c
}
</pre><p>
 <a href="f2/lily-8185dea4.ly">
  <img align="middle"
       border="0"
       src="f2/lily-8185dea4.png"
       alt="[image of music]">
 </a>
</p>




<a name="forcing-horizontal-shift-of-notes.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Forcing horizontal shift of notes</h2>


<p>When the typesetting engine cannot cope, the following syntax can be
used to override typesetting decisions. The units of measure used here
are staff spaces.
</p>

<pre class="verbatim">\relative c' &lt;&lt;
  {
    &lt;d g&gt;2 &lt;d g&gt;
  }
  \\
  {
    &lt;b f'&gt;2
    \once \override NoteColumn #'force-hshift = #1.7
    &lt;b f'&gt;2
  }
&gt;&gt;

</pre><p>
 <a href="5f/lily-606ba202.ly">
  <img align="middle"
       border="0"
       src="5f/lily-606ba202.png"
       alt="[image of music]">
 </a>
</p>




<a name="fret-diagrams-explained-and-developed.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Fret diagrams explained and developed</h2>


<p>This snippet shows many possibilities for obtaining and tweaking fret
diagrams.
</p>

<pre class="verbatim">&lt;&lt;
  \chords {
    a2 a
    \repeat unfold 3 {
      c c c d d
    }
  }
  
  \new Voice = &quot;mel&quot; {
    \textLengthOn
    % Set global properties of fret diagram
    \override TextScript #'size = #1.2
    \override TextScript 
      #'fret-diagram-details #'finger-code = #'below-string
    \override TextScript #'fret-diagram-details #'dot-color = #'black
    
    %% A chord for ukelele
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (string-count . 4)
                   (dot-color . white)
                   (finger-code . in-dot))) {
        \fret-diagram #&quot;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }
    
    %% A chord for ukelele, with formatting defined in definition string
    %  1.2 * size, 4 strings, 4 frets, fingerings below string
    %  dot radius .35 of fret spacing, dot position 0.55 of fret spacing
    a'2^\markup {
      \override #'(fret-diagram-details . (
                   (dot-color . white)
                   (open-string . &quot;o&quot;))) {
        \fret-diagram #&quot;s:1.2;w:4;h:3;f:2;d:0.35;p:0.55;4-2-2;3-1-1;2-o;1-o;&quot;
      }
    }
    
      %% These chords will be in normal orientation

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (string-thickness-factor . 0.3)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup  {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in landscape orientation
    \override TextScript 
       #'fret-diagram-details #'orientation = #'landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

      % These chords will be in opposing-landscape orientation
    \override TextScript #'fret-diagram-details 
                           #'orientation = #'opposing-landscape

    %% C major for guitar, barred on third fret
    %  verbose style
    %  roman fret label, finger labels below string, straight barre
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-lower)
                     (finger-code . below-string)
                     (barre-type . straight))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, barred on third fret
    %% Double barre used to test barre function
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . arabic)
                     (dot-label-font-mag . 0.9)
                     (finger-code . in-dot)
                     (fret-label-font-mag . 0.6)
                     (fret-label-vertical-offset . 0)
                     (label-dir . -1)
                     (mute-string . &quot;M&quot;)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (place-fret 5 3 1)
                                   (place-fret 4 5 2)
                                   (place-fret 3 5 3)
                                   (place-fret 2 5 4)
                                   (place-fret 1 3 1)
                                   (barre 4 2 5)
                                   (barre 5 1 3))
        }
      }
    }
    
    %% C major for guitar, with capo on third fret
    %  verbose style
    c'2^\markup {
      % 110% of default size
      \override #'(size . 1.1) {
        \override #'(fret-diagram-details . (
                     (number-type . roman-upper)
                     (dot-label-font-mag . 0.9)
                     (finger-code . none)
                     (fret-label-vertical-offset . 0.5)
                     (xo-font-magnification . 0.4)
                     (xo-padding . 0.3))) {
          \fret-diagram-verbose #'((mute 6)
                                   (capo 3)
                                   (open 5)
                                   (place-fret 4 5 1)
                                   (place-fret 3 5 2)
                                   (place-fret 2 5 3)
                                   (open 1))
        }
      }
    }
    
    %% simple D chord
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }

    %% simple D chord, large top fret thickness
    d'2^\markup {
      \override #'(fret-diagram-details . (
                   (finger-code . below-string)
                   (dot-radius . 0.35)
                   (dot-position . 0.5)
                   (top-fret-thickness . 7)
                   (fret-count . 3))) {
        \fret-diagram-terse #&quot;x;x;o;2-1;3-2;2-3;&quot;
      }
    }
  }
&gt;&gt;
</pre><p>
 <a href="b3/lily-c665e3f9.ly">
  <img align="middle"
       border="0"
       src="b3/lily-c665e3f9.png"
       alt="[image of music]">
 </a>
</p>




<a name="horizontally-aligning-custom-dynamics-e.g.-sempre-pp,-piu-f,-subito-p.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</h2>


<p>Some dynamic expressions involve additional text, like &quot;sempre pp&quot;.
Since lilypond aligns all dynamics centered on the note, the \pp would
be displayed way after the note it applies to.
</p>
<p>To correctly align the &quot;sempre \pp&quot; horizontally, so that it is
aligned as if it were only the \pp, there are several approaches:
</p>
<p>* Simply use <code>\once\override DynamicText #'X-offset = #-9.2</code>
before the note with the dynamics to manually shift it to the correct
position. Drawback: This has to be done manually each time you use that
dynamic markup... * Add some padding (<code>#:hspace 7.1</code>) into the
definition of your custom dynamic mark, so that after lilypond
center-aligns it, it is already correctly aligned. Drawback: The
padding really takes up that space and does not allow any other markup
or dynamics to be shown in that position.
</p>
<p>* Shift the dynamic script <code>\once\override ... #'X-offset = ..</code>.
Drawback: <code>\once\override</code> is needed for every invocation!
</p>
<p>* Set the dimensions of the additional text to 0 (using
<code>#:with-dimensions '(0 . 0) '(0 . 0)</code>). Drawback: To lilypond
&quot;sempre&quot; has no extent, so it might put other stuff there and create
collisions (which are not detected by the collision dection!). Also,
there seems to be some spacing, so it&rsquo;s not exactly the same alignment
as without the additional text
</p>
<p>* Add an explicit shifting directly inside the scheme function for the
dynamic-script.
</p>
<p>* Set an explicit alignment inside the dynamic-script. By default, this
won&rsquo;t have any effect, only if one sets X-offset! Drawback: One needs
to set <code>DynamicText #'X-offset</code>, which will apply to all dynamic
texts! Also, it is aligned at the right edge of the additional text,
not at the center of pp.
</p>




<pre class="verbatim">\header { title = &quot;Horizontally aligning custom dynamics&quot; }

\paper { ragged-right = ##f }

% Solution 1: Using a simple markup with a particular halign value
% Drawback: It's a markup, not a dynamic command, so \dynamicDown
%           etc. will have no effect
semppMarkup = \markup { \halign #1.4 \italic &quot;sempre&quot; \dynamic &quot;pp&quot; }

% Solution 2: Using a dynamic script &amp; shifting with
%             \once \override ... #'X-offset = ..
% Drawback: \once \override needed for every invocation
semppK =
#(make-dynamic-script
  (markup #:line
	  (#:normal-text
	   #:italic &quot;sempre&quot;
	   #:dynamic &quot;pp&quot;)))

% Solution 3: Padding the dynamic script so the center-alignment
%             puts it at the correct position
% Drawback: the padding really reserves the space, nothing else can be there
semppT =
#(make-dynamic-script
  (markup #:line
	  (#:normal-text
	   #:italic &quot;sempre&quot;
	   #:dynamic &quot;pp&quot;
	   #:hspace 7.1)))

% Solution 4: Dynamic, setting the dimensions of the additional text to 0
% Drawback: To lilypond &quot;sempre&quot; has no extent, so it might put
%           other stuff there =&gt; collisions
% Drawback: Also, there seems to be some spacing, so it's not exactly the
%           same alignment as without the additional text
semppM =
#(make-dynamic-script
  (markup #:line (#:with-dimensions '(0 . 0) '(0 . 0)
   #:right-align #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

% Solution 5: Dynamic with explicit shifting inside the scheme function
semppG =
#(make-dynamic-script
  (markup
    #:hspace 0 #:translate '(-18.85 . 0)
    #:line( #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

% Solution 6: Dynamic with explicit alignment. This has only effect, if one sets X-offset!
% Drawback: One needs to set DynamicText #'X-offset!
% Drawback: Aligned at the right edge of the additional text, not at the center of pp
semppMII =
#(make-dynamic-script (markup #:line(#:right-align 
  #:normal-text #:italic &quot;sempre&quot; #:dynamic &quot;pp&quot;)))

\context StaffGroup &lt;&lt;
  \context Staff = &quot;s&quot; &lt;&lt;
    \set Staff.instrumentName = &quot;Normal&quot;
    \relative c'' {
      \key es \major
      c4\pp c\p c c | c\ff c c\pp c
    }
  &gt;&gt;
  \context Staff = &quot;sMarkup&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Normal markup }
    \relative c'' {
      \key es \major
      c4-\semppMarkup c\p c c | c\ff c c-\semppMarkup c
    }
  &gt;&gt;
  \context Staff = &quot;sK&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Explicit shifting }
    \relative c'' {
      \key es \major
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c\p c c
      c4\ff c
      \once \override DynamicText #'X-offset = #-9.2
      c4\semppK c
    }
  &gt;&gt;
  \context Staff = &quot;sT&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Right padding }
    \relative c'' {
      \key es \major
      c4\semppT c\p c c | c\ff c c\semppT c
    }
  &gt;&gt;
  \context Staff = &quot;sM&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Setting dimension &quot;to zero&quot; }
    \relative c'' {
      \key es \major
      c4\semppM c\p c c | c\ff c c\semppM c
    }
  &gt;&gt;
  \context Staff = &quot;sG&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Shifting inside dynamics }
    \relative c'' {
      \key es \major
      c4\semppG c\p c c | c\ff c c\semppG c
    }
  &gt;&gt;
  \context Staff = &quot;sMII&quot; &lt;&lt;
    \set Staff.instrumentName = \markup \column { Alignment inside dynamics }
    \relative c'' {
      \key es \major
      % Setting to ##f (false) gives the same result
      \override DynamicText #'X-offset = #0
      c4\semppMII c\p c c | c\ff c c\semppMII c
    }
  &gt;&gt;
&gt;&gt;
</pre><p>
 <a href="0e/lily-d7d3650a.ly">
  <img align="middle"
       border="0"
       src="0e/lily-d7d3650a.png"
       alt="[image of music]">
 </a>
</p>




<a name="how-to-change-fret-diagram-position.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">How to change fret diagram position</h2>


<p>If you want to move the position of a fret diagram, for example, to
avoid collision, or to place it between two notes, you have various
possibilities:
</p>
<p>1) modify #&rsquo;padding or #&rsquo;extra-offset values (as shown in the first
snippet)
</p>
<p>2) you can add an invisible voice and attach the fret diagrams to the
invisible notes in that voice (as shown in the second example).
</p>
<p> If you need to move the fret according with a rythmic position inside
the bar (in the example, the third beat of the measure) the second
example is better, because the fret is aligned with the third beat
itself.  
</p>

<pre class="verbatim">harmonies = \chordmode
{
  a8:13
% THE FOLLOWING IS THE COMMAND TO MOVE THE CHORD NAME
  \once \override ChordNames.ChordName #'extra-offset = #'(10 . 0)
  b8:13 s2.
% THIS LINE IS THE SECOND METHOD
    s4 s4  b4:13
}

\score
{
  &lt;&lt;
    \context ChordNames \harmonies
    \context Staff
    {a8^\markup { \fret-diagram  #&quot;6-x;5-0;4-2;3-0;2-0;1-2;&quot;  }
% THE FOLLOWING IS THE COMMAND TO MOVE THE FRET DIAGRAM
     \once \override TextScript #'extra-offset = #'(10 . 0)
     b4.~^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  } b4. a8\break
% HERE IS THE SECOND METHOD
     &lt;&lt;
       { a8 b4.~ b4. a8} 
       { s4 s4 s4^\markup { \fret-diagram  #&quot;6-x;5-2;4-4;3-2;2-2;1-4;&quot;  }
       }
     &gt;&gt;
   }
  &gt;&gt;
}



</pre><p>
 <a href="a8/lily-d78a72ee.ly">
  <img align="middle"
       border="0"
       src="a8/lily-d78a72ee.png"
       alt="[image of music]">
 </a>
</p>




<a name="inserting-a-caesura.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Inserting a caesura</h2>


<p>Caesura marks can be created by overriding the <code>'text</code> property of
the <code>BreathingSign</code> object. A curved caesura mark is also
available. 
</p>

<pre class="verbatim">\relative c'' {
  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.straight&quot;
  }
  c8 e4. \breathe g8. e16 c4

  \override BreathingSign #'text = \markup {
    \musicglyph #&quot;scripts.caesura.curved&quot;
  }
  g8 e'4. \breathe g8. e16 c4
}
</pre><p>
 <a href="7a/lily-629a981c.ly">
  <img align="middle"
       border="0"
       src="7a/lily-629a981c.png"
       alt="[image of music]">
 </a>
</p>




<a name="line-arrows.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Line arrows</h2>


<p>Arrows can be applied to text-spanners and line-spanners (such as the
Glissando).
</p>

<pre class="verbatim">\relative c'' {
  \override TextSpanner #'bound-padding = #1.0
  \override TextSpanner #'style = #'line
  \override TextSpanner #'(bound-details right arrow) = ##t
  \override TextSpanner #'(bound-details left text) = #&quot;fof&quot;
  \override TextSpanner #'(bound-details right text) = #&quot;gag&quot;
  \override TextSpanner #'(bound-details right padding) = #0.6

  \override TextSpanner #'(bound-details right stencil-align-dir-y) = #CENTER
  \override TextSpanner #'(bound-details left stencil-align-dir-y) = #CENTER
  
  \override Glissando #'(bound-details right arrow) = ##t
  \override Glissando #'arrow-length = #0.5
  \override Glissando #'arrow-width = #0.25
  
  a8\startTextSpan gis a4 b\glissando b,
  g'4 c\stopTextSpan c2
}
</pre><p>
 <a href="51/lily-e4bcfa65.ly">
  <img align="middle"
       border="0"
       src="51/lily-e4bcfa65.png"
       alt="[image of music]">
 </a>
</p>




<a name="making-an-object-invisible-with-the-transparent-property.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Making an object invisible with the &rsquo;transparent property</h2>


<p>Setting the <code>transparent</code> property will cause an object to be
printed in &quot;invisible ink&quot;: the object is not printed, but all its
other behavior is retained.  The object still takes up space, it takes
part in collisions, and slurs, ties and beams can be attached to it.
</p>

<p>This snippet demonstrates how to connect different voices using ties.
Normally, ties only connect two notes in the same voice.  By
introducing a tie in a different voice, and blanking the first up-stem
in that voice, the tie appears to cross voices. 
</p>

<pre class="verbatim">\relative c'' {
  \time 2/4
  &lt;&lt;
    {
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      b8 ~ b\noBeam
      \once \override Stem #'transparent = ##t
      \once \override Stem #'length = #8
      g8 ~ g\noBeam
    }
    \\
    {
      b8 g g e
    }
  &gt;&gt;
}
</pre><p>
 <a href="0e/lily-a51bcbab.ly">
  <img align="middle"
       border="0"
       src="0e/lily-a51bcbab.png"
       alt="[image of music]">
 </a>
</p>




<a name="manually-controlling-beam-positions.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Manually controlling beam positions</h2>


<p>Beam positions may be controlled manually, by overriding the
<code>positions</code> setting of the <code>Beam</code> grob.
</p>




<pre class="verbatim">\relative c' {
  \time 2/4
  % from upper staff-line (position 2) to center (position 0)
  \override Beam #'positions = #'(2 . 0)
  c8 c
  % from center to one above center (position 1)
  \override Beam #'positions = #'(0 . 1)
  c8 c
}


</pre><p>
 <a href="31/lily-e99dc492.ly">
  <img align="middle"
       border="0"
       src="31/lily-e99dc492.png"
       alt="[image of music]">
 </a>
</p>




<a name="mensurstriche-layout-bar-lines-between-the-staves.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Mensurstriche layout (bar lines between the staves)</h2>


<p>The mensurstriche-layout where the bar lines do not show on the staves
but between staves can be achieved with a <code>StaffGroup</code> instead of
a <code>ChoirStaff</code>.  The bar line on staves is blanked out by setting
the <code>transparent</code> property.
</p>

<pre class="verbatim">global = {
  \override Staff.BarLine #'transparent = ##t
  s1 s
  % the final bar line is not interrupted
  \revert Staff.BarLine #'transparent
  \bar &quot;|.&quot;
}
\new StaffGroup \relative c'' {
  &lt;&lt;
    \new Staff { &lt;&lt; \global { c1 c } &gt;&gt; }
    \new Staff { &lt;&lt; \global { c c } &gt;&gt; }
  &gt;&gt;
}

</pre><p>
 <a href="2b/lily-269072f3.ly">
  <img align="middle"
       border="0"
       src="2b/lily-269072f3.png"
       alt="[image of music]">
 </a>
</p>




<a name="nesting-staves.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Nesting staves</h2>


<p>The property <code>systemStartDelimiterHierarchy</code> can be used to make
more complex nested staff groups. The command <code>\set
StaffGroup.systemStartDelimiterHierarchy</code> takes an alphabetical list of
the number of staves produced. Before each staff a system start
delimiter can be given. It has to be enclosed in brackets and takes as
much staves as the brackets enclose. Elements in the list can be
omitted, but the first bracket takes always the complete number of
staves. The possibilities are <code>SystemStartBar</code>,
<code>SystemStartBracket</code>, <code>SystemStartBrace</code>, and
<code>SystemStartSquare</code>.
</p>

<pre class="verbatim">\new StaffGroup
\relative c'' &lt;&lt;
  \set StaffGroup.systemStartDelimiterHierarchy
    = #'(SystemStartSquare (SystemStartBrace (SystemStartBracket a
                             (SystemStartSquare b)  ) c ) d)
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
  \new Staff { c1 }
&gt;&gt;

</pre><p>
 <a href="bb/lily-f30de31d.ly">
  <img align="middle"
       border="0"
       src="bb/lily-f30de31d.png"
       alt="[image of music]">
 </a>
</p>




<a name="percent-repeat-count-visibility.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Percent repeat count visibility</h2>


<p>Percent repeat counters can be shown at regular intervals by setting
the context property <code>repeatCountVisibility</code>.
</p>

<pre class="verbatim">\relative c'' {
  \set countPercentRepeats = ##t
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 5)
  \repeat percent 10 { c1 } \break
  \set repeatCountVisibility = #(every-nth-repeat-count-visible 2)
  \repeat percent 6 { c1 d1 }
}
</pre><p>
 <a href="bf/lily-f3b62c0d.ly">
  <img align="middle"
       border="0"
       src="bf/lily-f3b62c0d.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-multi-measure-rests.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Positioning multi-measure rests</h2>


<p>Unlike ordinary rests, there is no predefined command to change the
staff position of a multi-measure rest symbol of either form by
attaching it to a note.  However, in polyphonic music multi-measure
rests in odd-numbered and even-numbered voices are vertically
separated. The positioning of multi-measure rests can be controlled as
follows: 
</p>

<pre class="verbatim">\relative c'' {
  % Multi-measure rests by default are set under the fourth line
  R1
  % They can be moved with an override
  \override MultiMeasureRest #'staff-position = #-2
  R1
  % A value of 0 is the default position;
  % the following trick moves the rest to the center line
  \override MultiMeasureRest #'staff-position = #-0.01
  R1
  % Multi-measure rests in odd-numbered voices are under the top line
  &lt;&lt; { R1 } \\ { a1 } &gt;&gt;
  % Multi-measure rests in even-numbered voices are under the bottom line
  &lt;&lt; { c1 } \\ { R1 } &gt;&gt;
  % They remain separated even in empty measures
  &lt;&lt; { R1 } \\ { R1 } &gt;&gt;
  % This brings them together even though there are two voices
  \compressFullBarRests
  &lt;&lt;
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
    \\
    \revert MultiMeasureRest #'staff-position
    { R1*3 }
  &gt;&gt;
}
</pre><p>
 <a href="de/lily-d17161b9.ly">
  <img align="middle"
       border="0"
       src="de/lily-d17161b9.png"
       alt="[image of music]">
 </a>
</p>




<a name="positioning-text-markups-inside-slurs.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Positioning text markups inside slurs</h2>


<p>Text markups need to have the <code>outside-staff-priority</code> property
set to false in order to be printed inside slurs. 
</p>

<pre class="verbatim">\relative c'' {
  \override TextScript #'avoid-slur = #'inside
  \override TextScript #'outside-staff-priority = ##f
  c2(^\markup { \halign #-10 \natural } d4.) c8
}


</pre><p>
 <a href="d1/lily-d24567fb.ly">
  <img align="middle"
       border="0"
       src="d1/lily-d24567fb.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-a-repeat-sign-at-the-beginning-of-a-piece.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing a repeat sign at the beginning of a piece</h2>


<p>A <code>|:</code> bar line can be printed at the beginning of a piece, by
overriding the relevant property:
</p>

<pre class="verbatim">\relative c'' {
  \once \override Score.BreakAlignment #'break-align-orders =
        #(make-vector 3 '(instrument-name
                          left-edge
                          ambitus
                          span-bar
                          breathing-sign
                          clef
                          key-signature
                          time-signature
                          staff-bar
                          custos
                          span-bar))
  \bar &quot;|:&quot;
  c1
  d1
  d4 e f g
}

</pre><p>
 <a href="a7/lily-e2d43206.ly">
  <img align="middle"
       border="0"
       src="a7/lily-e2d43206.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-bar-numbers-inside-boxes-or-circles.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing bar numbers inside boxes or circles</h2>


<p>Bar numbers can also be printed inside boxes or circles.
</p>

<pre class="verbatim">\relative c' {
  % Prevent bar numbers at the end of a line and permit them elsewhere
  \override Score.BarNumber  #'break-visibility = #end-of-line-invisible
  \set Score.barNumberVisibility = #(every-nth-bar-number-visible 4)

  % Increase the size of the bar number by 2
  \override Score.BarNumber #'font-size = #2

  % Draw a box round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-boxer 0.1 0.25 ly:text-interface::print)
  \repeat unfold 5 { c1 }

  % Draw a circle round the following bar number(s)
  \override Score.BarNumber #'stencil
    = #(make-stencil-circler 0.1 0.25 ly:text-interface::print)
  \repeat unfold 4 { c1 } \bar &quot;|.&quot;
}

</pre><p>
 <a href="44/lily-1856a60a.ly">
  <img align="middle"
       border="0"
       src="44/lily-1856a60a.png"
       alt="[image of music]">
 </a>
</p>




<a name="printing-metronome-and-rehearsal-marks-below-the-staff.ly"></a>
<hr size="6">
<a name="Changing-properties-for-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Proportional strict notespacing &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Printing metronome and rehearsal marks below the staff</h2>


<p>By default, metronome and rehearsal marks are printed above the staff. 
To place them below the staff simply set the <code>direction</code> property
of <code>MetronomeMark</code> or <code>RehearsalMark</code> appropriately.
</p>

<pre class="verbatim">\layout { ragged-right = ##f }

{
  % Metronome marks below the staff 
  \override Score.MetronomeMark #'direction = #DOWN
  \tempo 8. = 120
  c''1

  % Rehearsal marks below the staff
  \override Score.RehearsalMark #'direction = #DOWN
  \mark \default
  c''1
}

</pre><p>
 <a href="c6/lily-d7c7a792.ly">
  <img align="middle"
       border="0"
       src="c6/lily-d7c7a792.png"
       alt="[image of music]">
 </a>
</p>




<a name="proportional-strict-notespacing.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Changing-properties-for-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Proportional-strict-notespacing"></a>
<h2 class="unnumberedsec">Proportional strict notespacing</h2>


<p>If <code>strict-note-spacing</code> is set spacing of notes is not influenced
by bars or clefs within a system. Rather, they are placed just before
the note that occurs at the same time. This may cause collisions. 
</p>

<pre class="verbatim">\relative c'' &lt;&lt;
  \override Score.SpacingSpanner #'strict-note-spacing = ##t 
  \set Score.proportionalNotationDuration = #(ly:make-moment 1 16)
  \new Staff {
    c8[ c \clef alto c c \grace { d16 } c8 c] c4
    c2 \grace { c16[ c16] } c2
  }
  \new Staff {
    c2 \times 2/3 { c8 \clef bass cis,, c } c4
    c1
  }
&gt;&gt;

</pre><p>
 <a href="f4/lily-a0aa97d3.ly">
  <img align="middle"
       border="0"
       src="f4/lily-a0aa97d3.png"
       alt="[image of music]">
 </a>
</p>




<a name="removing-the-first-empty-line.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Proportional strict notespacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Removing the first empty line</h2>


<p>The first empty staff can also be removed from the score by setting the
<code>VerticalAxisGroup</code> property <code>remove-first</code>. This can be done
globally inside the <code>\layout</code> block, or locally inside the
specific staff that should be removed.  In the latter case, you have to
specify the context (<code>Staff</code> applies only to the current staff) in
front of the property.
</p>
<p>The lower staff of the second staff group is not removed, because the
setting applies only to the specific staff inside of which it is
written. 
</p>

<pre class="verbatim">\layout {
  \context { 
    \RemoveEmptyStaffContext 
    % To use the setting globally, uncomment the following line:
    % \override VerticalAxisGroup #'remove-first = ##t
  }
}
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    % To use the setting globally, comment this line,
    % uncomment the line in the \layout block above
    \override Staff.VerticalAxisGroup #'remove-first = ##t
    R1 \break
    R
  }
&gt;&gt;
\new StaffGroup &lt;&lt;
  \new Staff \relative c' {
    e4 f g a \break
    c1
  }
  \new Staff {
    R1 \break
    R
  }
&gt;&gt;

</pre><p>
 <a href="98/lily-a844f544.ly">
  <img align="middle"
       border="0"
       src="98/lily-a844f544.png"
       alt="[image of music]">
 </a>
</p>




<a name="rest-styles.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Rest styles</h2>


<p>Rests may be used in various styles.
</p>




<pre class="verbatim">\layout {
  indent = 0.0
  \context {
    \Staff
    \remove &quot;Time_signature_engraver&quot;
  }
}

\new Staff \relative c {
  \cadenzaOn
  \override Staff.Rest #'style = #'mensural
  r\maxima^\markup \typewriter { mensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'neomensural
  r\maxima^\markup \typewriter { neomensural }
  r\longa r\breve r1 r2 r4 r8 r16 s32 s64 s128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest #'style = #'classical
  r\maxima^\markup \typewriter { classical }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
  \bar &quot;&quot;
  
  \override Staff.Rest  #'style = #'default
  r\maxima^\markup \typewriter { default }
  r\longa r\breve r1 r2 r4 r8 r16 r32 r64 r128 s128
}

</pre><p>
 <a href="34/lily-f8f4eed5.ly">
  <img align="middle"
       border="0"
       src="34/lily-f8f4eed5.png"
       alt="[image of music]">
 </a>
</p>




<a name="rhythmic-slashes.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Rhythmic slashes</h2>


<p>In &quot;simple&quot; lead-sheets, sometimes no actual notes are written,
instead only &quot;rhythmic patterns&quot; and chords above the measures are
notated giving the structure of a song. Such a feature is for example
useful while creating/transcribing the structure of a song and also
when sharing lead sheets with guitarists or jazz musicians. The
standard support for this using <code>\repeat percent</code> is unsuitable
here since the first beat has to be an ordinary note or rest. This
example shows two solutions to this problem, by redefining ordinary
rests to be printed as slashes. (If the duration of each beat is not a
quarter note, replace the <code>r4</code> in the definitions with a rest of
the appropriate duration). 
</p>

<pre class="verbatim">% Macro to print single slash
rs = {
  \once \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
  \once \override Rest #'thickness = #0.48
  \once \override Rest #'slope = #1.7
  r4
}

% Function to print a specified number of slashes
comp = #(define-music-function (parser location count) ( integer?)
  #{
    \override Rest #'stencil = #ly:percent-repeat-item-interface::beat-slash
    \override Rest #'thickness = #0.48
    \override Rest #'slope = #1.7
    \repeat unfold $count { r4 }
    \revert Rest #'stencil
  #}
)

\score {
  \relative c' {
    c4 d e f |
    \rs \rs \rs \rs |
    \comp #4 |
  }
}

</pre><p>
 <a href="fd/lily-3fba4373.ly">
  <img align="middle"
       border="0"
       src="fd/lily-3fba4373.png"
       alt="[image of music]">
 </a>
</p>




<a name="separating-key-cancellations-from-key-signature-changes.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Separating key cancellations from key signature changes</h2>


<p>By default, the accidentals used for key cancellations are placed
adjacent to those for key signature changes.  This behavior can be
changed by overriding the <code>'break-align-orders</code> property of the
<code>BreakAlignment</code> grob.
</p>

<p>The value of <code>'break-align-orders</code> is a vector of length 3, with
quoted lists of breakable items as elements.  This example only
modifies the second list, moving <code>key-cancellation</code> before
<code>staff-bar</code>; by modifying the second list, break alignment
behavior only changes in the middle of a system, not at the beginning
or the end. 
</p>

<pre class="verbatim">\new Staff {
  \override Score.BreakAlignment #'break-align-orders =
    #'#((left-edge ambitus breathing-sign clef staff-bar
                   key-cancellation key-signature time-signature custos)
      
        (left-edge ambitus breathing-sign clef key-cancellation
                   staff-bar key-signature time-signature custos)
      
        (left-edge ambitus breathing-sign clef key-cancellation
                   key-signature staff-bar time-signature custos))

  \key des \major
  c'1
  \bar &quot;||&quot;
  \key bes \major
  c'1
}
</pre><p>
 <a href="52/lily-a1e4742f.ly">
  <img align="middle"
       border="0"
       src="52/lily-a1e4742f.png"
       alt="[image of music]">
 </a>
</p>




<a name="setting-hairpin-behavior-at-bar-lines.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Setting hairpin behavior at bar lines</h2>


<p>If the note which ends a hairpin falls on a downbeat, the hairpin stops
at the bar line immediately preceding.  This behavior can be controlled
by overriding the <code>'to-barline</code> property.
</p>

<pre class="verbatim">\relative c'' {
  e4\&lt; e2.
  e1\!
  \override Hairpin #'to-barline = ##f
  e4\&lt; e2.
  e1\!
}
</pre><p>
 <a href="61/lily-7bf24bdc.ly">
  <img align="middle"
       border="0"
       src="61/lily-7bf24bdc.png"
       alt="[image of music]">
 </a>
</p>




<a name="specifying-context-with-beatgrouping.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Specifying context with beatGrouping</h2>


<p>By specifying the context, the effect of <code>beatGrouping</code> can be
limited to the context specified, and the values which may have been
set in higher-level contexts can be overridden.  The <code>\set</code>
commands must be placed after all <code>\time</code> commands:
</p>

<pre class="verbatim">\score {
  \new Staff &lt;&lt;
    \time 7/8
    \new Voice {
      \relative c'' {
        \set Staff.beatGrouping = #'(2 3 2)
        a8 a a a a a a
      }
    }
    \new Voice {
      \relative c' {
        \voiceTwo
        \set beatGrouping = #'(1 3 3)
        f8 f f f f f f
      }
    }
  &gt;&gt;
}
</pre><p>
 <a href="c9/lily-2c4fa1bc.ly">
  <img align="middle"
       border="0"
       src="c9/lily-2c4fa1bc.png"
       alt="[image of music]">
 </a>
</p>




<a name="suppressing-warnings-for-clashing-note-columns.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Suppressing warnings for clashing note columns</h2>


<p>If notes from two voices with stems in the same direction are placed at
the same position, and both voices have no shift or the same shift
specified, the error message &quot;warning: ignoring too many clashing note
columns&quot; will appear when compiling the LilyPond file.  This message
can be suppressed by setting the <code>'ignore-collision</code> property of
the <code>NoteColumn</code> object to <code>#t</code>.
</p>

<pre class="verbatim">ignore = \override NoteColumn #'ignore-collision = ##t

\relative c' {
  &lt;&lt;
    \ignore
    { \stemDown f2 g }
    \\
    { c2 c, }
  &gt;&gt;
}
</pre><p>
 <a href="3f/lily-98301536.ly">
  <img align="middle"
       border="0"
       src="3f/lily-98301536.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-in-parentheses.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Time signature in parentheses</h2>


<p>The time signature can be enclosed within parentheses.
</p>

<pre class="verbatim">\relative c'' {
  \override Staff.TimeSignature #'stencil = #(lambda (grob)
    (bracketify-stencil (ly:time-signature::print grob) Y 0.1 0.2 0.1))
  \time 2/4
  a4 b8 c
}

</pre><p>
 <a href="b7/lily-d877efef.ly">
  <img align="middle"
       border="0"
       src="b7/lily-d877efef.png"
       alt="[image of music]">
 </a>
</p>




<a name="time-signature-printing-only-the-numerator-as-a-number-instead-of-the-fraction.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Time signature printing only the numerator as a number (instead of the fraction)</h2>


<p>Sometimes, a time signature should not print the whole fraction (e.g.
7/4), but only the numerator (7 in this case). This can be easily done
by using \override Staff.TimeSignature #&rsquo;style = #&rsquo;single-digit to
change the style permanently. By using \revert Staff.TimeSignature
#&rsquo;style, this setting can be reversed. To apply the single-digit style
to only one time signature, use the \override command and prefix it
with a \once. 
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4 
  c4 c c
  % Change the style permanently
  \override Staff.TimeSignature #'style = #'single-digit
  \time 2/4 
  c c
  \time 3/4 
  c c c
  % Revert to default style:
  \revert Staff.TimeSignature #'style
  \time 2/4
  c c
  % single-digit style only for the next time signature
  \once \override Staff.TimeSignature #'style = #'single-digit
  \time 5/4
  c c c c c
  \time 2/4
  c c
}
</pre><p>
 <a href="4f/lily-5a3e51b0.ly">
  <img align="middle"
       border="0"
       src="4f/lily-5a3e51b0.png"
       alt="[image of music]">
 </a>
</p>




<a name="transcription-of-ancient-music-with-incipit.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Transcription of Ancient music with incipit</h2>


<p>As a workaround to get real incipits which are independent from the
main score these are included as a markup into the field normally used
for the instrument name. As for now lyrics can only be added as a
direct markup. It doesn&rsquo;t unfortunately conform with the spacing of the
main lyrics.
</p>

<pre class="verbatim">global = {
  \set Score.skipBars = ##t
  \key g \major
  \time 4/4
  
  %make the staff lines invisible on staves
  \override Staff.BarLine #'transparent = ##t
  \skip 1*8 % the actual music

  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f

  % finis bar
  \bar &quot;|.&quot;
}

  
discantusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusNotes = {
  \transpose c' c'' {
    \clef &quot;treble&quot;
    r2 g2. e4 fis g | % two bars
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorNotes = {
  \transpose c' c' {
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    r2 d'2. d'4 b e' | % two bars
    \once \override NoteHead #'transparent = ##t e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  Ju -- bi -- la -- te | % two bars
  &quot;...&quot; |
  -us. 
}

bassusNotes = {
  \transpose c' c' {
    \clef &quot;bass&quot;
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  Ju -- bi- |
  &quot;...&quot; |
  -us. 
}

incipitDiscantus = \markup{
	\score{
		{
		\set Staff.instrumentName=&quot;Discantus &quot;
		\override NoteHead   #'style = #'neomensural
		\override Rest #'style = #'neomensural
		\override Staff.TimeSignature #'style = #'neomensural
		\cadenzaOn 
		\clef &quot;neomensural-c1&quot;
		\key f \major
		\time 2/2
	  	c''1._&quot;IV-&quot; s2  %two bars
	  	\skip 1*8 % eight bars
    	}
	\layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
	}
	}
}

incipitAltus = \markup{
	\score{
		{ 
		\set Staff.instrumentName=&quot;Altus &quot;
		\override NoteHead   #'style = #'neomensural
		\override Rest #'style = #'neomensural
		\override Staff.TimeSignature #'style = #'neomensural
		\cadenzaOn 
		\clef &quot;neomensural-c3&quot;
		\key f \major
		\time 2/2
	  	r1        % one bar
        f'1._&quot;IV-&quot; s2   % two bars
        \skip 1*7 % seven bars
		}
	\layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
	}
	}
}

incipitTenor = \markup{
    \score{ {
    \set Staff.instrumentName = &quot;Tenor  &quot;
    \override NoteHead   #'style = #'neomensural
	\override Rest #'style = #'neomensural
	\override Staff.TimeSignature #'style = #'neomensural
	\cadenzaOn 
	\clef &quot;neomensural-c4&quot;
	\key f \major
	\time 2/2
    r\longa   % four bars
    r\breve   % two bars
    r1        % one bar
    c'1._&quot;IV-&quot; s2   % two bars
    \skip 1   % one bar
    }
    \layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
}
}
}

incipitBassus = \markup{
    \score{ {
    \set Staff.instrumentName = &quot;Bassus  &quot;
    \override NoteHead   #'style = #'neomensural
	\override Rest #'style = #'neomensural
	\override Staff.TimeSignature #'style = #'neomensural
	\cadenzaOn 
	\clef &quot;bass&quot;
	\key f \major
	\time 2/2
    % incipit
    r\maxima  % eight bars
    f1._&quot;IV-&quot; s2    % two bars
    }
    \layout {
		\context {\Voice
			\remove Ligature_bracket_engraver
			\consists Mensural_ligature_engraver
		}
		line-width=4.5\cm 
            }
     }
}

%StaffGroup is used instead of ChoirStaff to get bar lines between systems
\score {
  &lt;&lt;
  \new StaffGroup = choirStaff &lt;&lt;
    \new Voice =
      &quot;discantusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitDiscantus   
      \discantusNotes &gt;&gt;
    \new Lyrics =
      &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }
      
    \new Voice =
      &quot;altusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitAltus 
      \altusNotes &gt;&gt;
    \new Lyrics =
      &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }
     
    \new Voice =
      &quot;tenorNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitTenor 
      \tenorNotes &gt;&gt;
    \new Lyrics =
      &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }
     
    \new Voice =
      &quot;bassusNotes&quot; &lt;&lt; \global 
      \set Staff.instrumentName=\incipitBassus
      \bassusNotes &gt;&gt;
      &gt;&gt;
    \new Lyrics =
      &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics } 
    %Keep the bass lyrics outside of the staff group to avoid bar lines
    %between the lyrics.
  &gt;&gt;
  
  \layout {
    \context {
      \Score

      % no bars in staves
      \override BarLine #'transparent = ##t
    }
    % the next three instructions keep the lyrics between the barlines
	\context { \Lyrics 
	   \consists &quot;Bar_engraver&quot; 
	   \override BarLine #'transparent = ##t } 
	\context { \StaffGroup \consists &quot;Separating_line_group_engraver&quot; }
    \context {
      \Voice

      % no slurs
      \override Slur #'transparent = ##t

      % Comment in the below &quot;\remove&quot; command to allow line
      % breaking also at those barlines where a note overlaps
      % into the next bar.  The command is commented out in this
      % short example score, but especially for large scores, you
      % will typically yield better line breaking and thus improve
      % overall spacing if you comment in the following command.
      %\remove &quot;Forbid_line_break_engraver&quot;
    }
    	indent=5\cm
  }
}

</pre><p>
 <a href="80/lily-486a5061.ly">
  <img align="middle"
       border="0"
       src="80/lily-486a5061.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-clef-properties.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Tweaking clef properties</h2>


<p>The command <code>\clef &quot;treble_8&quot;</code> is equivalent to setting
<code>clefGlyph</code>, <code>clefPosition</code> (which controls the vertical
position of the clef), <code>middleCPosition</code> and
<code>clefOctavation</code>. A clef is printed when any of the properties
except <code>middleCPosition</code> are changed.
</p>

<p>Note that changing the glyph, the position of the clef, or the
octavation does not in itself change the position of subsequent notes
on the staff: the position of middle C must also be specified to do
this. The positional parameters are relative to the staff center line,
positive numbers displacing upwards, counting one for each line and
space. The <code>clefOctavation</code> value would normally be set to 7, -7,
15 or -15, but other values are valid.
</p>

<p>When a clef change takes place at a line break the new clef symbol is
printed at both the end of the previous line and the beginning of the
new line by default. If the warning clef at the end of the previous
line is not required it can be suppressed by setting the <code>Staff</code>
property <code>explicitClefVisibility</code> to the value
<code>end-of-line-invisible</code>. The default behavior can be recovered
with  <code>\unset Staff.explicitClefVisibility</code>.
</p>
<p>The following examples show the possibilities when setting these
properties manually. On the first line, the manual changes preserve the
standard relative positioning of clefs and notes, whereas on the second
line, they do not. 
</p>

<pre class="verbatim">\layout { ragged-right = ##t }

{
  % The default treble clef
  c'1
  % The standard bass clef
  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  \set Staff.middleCPosition = #6
  c'1
  % The baritone clef
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  \set Staff.clefPosition = #4
  \set Staff.middleCPosition = #4
  c'1
  % The standard choral tenor clef
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  \set Staff.clefPosition = #-2
  \set Staff.clefOctavation = #-7
  \set Staff.middleCPosition = #1
  c'1
  % A non-standard clef
  \set Staff.clefPosition = #0
  \set Staff.clefOctavation = #0
  \set Staff.middleCPosition = #-4
  c'1 \break

  % The following clef changes do not preserve
  % the normal relationship between notes and clefs:

  \set Staff.clefGlyph = #&quot;clefs.F&quot;
  \set Staff.clefPosition = #2
  c'1
  \set Staff.clefGlyph = #&quot;clefs.G&quot;
  c'1
  \set Staff.clefGlyph = #&quot;clefs.C&quot;
  c'1
  \set Staff.clefOctavation = #7
  c'1
  \set Staff.clefOctavation = #0
  \set Staff.clefPosition = #0
  c'1
  
  % Return to the normal clef:

  \set Staff.middleCPosition = #0
  c'1
}

</pre><p>
 <a href="0b/lily-b3c92d4b.ly">
  <img align="middle"
       border="0"
       src="0b/lily-b3c92d4b.png"
       alt="[image of music]">
 </a>
</p>




<a name="tweaking-grace-layout-within-music.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Tweaking grace layout within music</h2>


<p>The layout of grace expressions can be changed throughout the music
using the functions <code>add-grace-property</code> and
<code>remove-grace-property</code>. The following example undefines the
<code>Stem</code> direction for this grace, so that stems do not always point
up, and changes the default note heads to crosses. 
</p>

<pre class="verbatim">\relative c'' {
  \new Staff {
    #(remove-grace-property 'Voice 'Stem 'direction)
    #(add-grace-property 'Voice 'NoteHead 'style 'cross)
    \new Voice {
       \acciaccatura { f16 } g4
       \grace { d16[ e] } f4
       \appoggiatura { f,32[ g a] } e2
    }
  }
}
</pre><p>
 <a href="7f/lily-6e6a2a49.ly">
  <img align="middle"
       border="0"
       src="7f/lily-6e6a2a49.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-beatlength-and-beatgrouping.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Proportional-strict-notespacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Using beatLength and beatGrouping</h2>


<p>The property <code>measureLength</code> determines where bar lines should be
inserted and, with <code>beatLength</code> and <code>beatGrouping</code>, how
automatic beams should be generated for beam durations and time
signatures for which no beam-ending rules are defined.  This example
shows several ways of controlling beaming by setting these properties. 
The explanations are shown as comments in the code.
</p>

<pre class="verbatim">\relative c'' {
  \time 3/4
  % The default in 3/4 time is to beam in three groups
  % each of a quarter note length
  a16 a a a a a a a a a a a

  \time 12/16
  % No auto-beaming is defined for 12/16
  a16 a a a a a a a a a a a

  \time 3/4
  % Change time signature symbol, but retain underlying 3/4 beaming
  \set Score.timeSignatureFraction = #'(12 . 16)
  a16 a a a a a a a a a a a

  % The 3/4 time default grouping of (1 1 1) and beatLength of 1/8
  % are not consistent with a measureLength of 3/4, so the beams
  % are grouped at beatLength intervals
  \set Score.beatLength = #(ly:make-moment 1 8)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 3 2 3) 1/16th notes
  % 3+3+2+3=11, and 11*1/16&lt;&gt;3/4, so beatGrouping does not apply,
  % and beams are grouped at beatLength (1/16) intervals
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 3 2 3)
  a16 a a a a a a a a a a a

  % Specify beams in groups of (3 4 2 3) 1/16th notes
  % 3+4+2+3=12, and 12*1/16=3/4, so beatGrouping applies
  \set Score.beatLength = #(ly:make-moment 1 16)
  \set Score.beatGrouping = #'(3 4 2 3)
  a16 a a a a a a a a a a a
}
</pre><p>
 <a href="31/lily-ef8d5a53.ly">
  <img align="middle"
       border="0"
       src="31/lily-ef8d5a53.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-postscript-to-generate-special-note-head-shapes.ly"></a>
<hr size="6">
<a name="Proportional-strict-notespacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Using-the-_005ctweak-command-to-tweak-individual-grobs" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Using the \tweak command to tweak individual grobs &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Using PostScript to generate special note head shapes</h2>


<p>When a note head with a special shape cannot easily be generated with
graphic markup, PostScript code can be used to generate the shape. 
This example shows how a parallelogram-shaped note head is generated. 
</p>

<pre class="verbatim">parallelogram =
  #(ly:make-stencil (list 'embedded-ps
    &quot;gsave
      currentpoint translate
      newpath
      0 0.25 moveto
      1.3125 0.75 lineto
      1.3125 -0.25 lineto
      0 -0.75 lineto
      closepath
      fill
      grestore&quot; )
    (cons 0 1.3125)
    (cons 0 0))

myNoteHeads = \override NoteHead #'stencil = \parallelogram
normalNoteHeads = \revert NoteHead #'stencil

\relative c'' {
  \myNoteHeads
  g4 d'
  \normalNoteHeads
  &lt;f, \tweak #'stencil \parallelogram b e&gt;4 d
}


</pre><p>
 <a href="f7/lily-b8594b66.ly">
  <img align="middle"
       border="0"
       src="f7/lily-b8594b66.png"
       alt="[image of music]">
 </a>
</p>




<a name="using-the--tweak-command-to-tweak-individual-grobs.ly"></a>
<hr size="6">
<a name="Using-the-_005ctweak-command-to-tweak-individual-grobs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Proportional-strict-notespacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Vertically aligned dynamics and textscripts &gt; </a>]</td></tr></table>
<a name="Using-the-_005ctweak-command-to-tweak-individual-grobs"></a>
<h2 class="unnumberedsec">Using the \tweak command to tweak individual grobs</h2>


<p>With the <code>\tweak</code> command, every grob can be tuned directly. 
Here are some examples of available tweaks.
</p>

<pre class="verbatim">\relative c' {
  \time 2/4
  \set fingeringOrientations = #'(right)
  &lt;
    \tweak #'font-size #3 c
    \tweak #'color #red d-\tweak #'font-size #8 -4
    \tweak #'style #'cross g
    \tweak #'duration-log #2 a
  &gt;2
}

</pre><p>
 <a href="d3/lily-e97ec062.ly">
  <img align="middle"
       border="0"
       src="d3/lily-e97ec062.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligned-dynamics-and-textscripts.ly"></a>
<hr size="6">
<a name="Vertically-aligned-dynamics-and-textscripts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Using-the-_005ctweak-command-to-tweak-individual-grobs" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Using the \tweak command to tweak individual grobs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Vertically-aligned-dynamics-and-textscripts"></a>
<h2 class="unnumberedsec">Vertically aligned dynamics and textscripts</h2>


<p>By setting the <code>'Y-extent</code> property to a suitable value, all
<code>DynamicLineSpanner</code> objects (hairpins and dynamic texts) can be
aligned to a common reference point, regardless of their actual extent.
This way, every element will be vertically aligned, thus producing a
more pleasing output.
</p>
<p>The same idea is used to align the text scripts along their baseline.
</p>

<pre class="verbatim">music = \relative c'' {
  c2\p^\markup { gorgeous } c\f^\markup { fantastic }
  c4\p c\f\&gt; c c\!\p
}

{
  \music \break
  \override DynamicLineSpanner #'staff-padding = #2.0
  \override DynamicLineSpanner #'Y-extent = #'(-1.5 . 1.5)
  \override TextScript #'Y-extent = #'(-1.5 . 1.5)
  \music
}

</pre><p>
 <a href="9e/lily-750175bd.ly">
  <img align="middle"
       border="0"
       src="9e/lily-750175bd.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligning-ossias-and-lyrics.ly"></a>
<hr size="6">
<a name="Vertically-aligned-dynamics-and-textscripts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Paper-and-layout" title="Next chapter">&nbsp;Paper and layout &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Vertically aligned dynamics and textscripts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Tweaks-and-overrides" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Paper-and-layout" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Paper and layout &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vertically aligning ossias and lyrics</h2>


<p>This snippet demonstrates the use of the context properties
<code>alignBelowContext</code> and <code>alignAboveContext</code> to control the
positioning of lyrics and ossias.
</p>

<pre class="verbatim">\paper {
  ragged-right = ##t
}

\relative c' &lt;&lt;
  \new Staff = &quot;1&quot; { c4 c s2 }
  \new Staff = &quot;2&quot; { c4 c s2 }
  \new Staff = &quot;3&quot; { c4 c s2 }
  { \skip 2
    &lt;&lt;
      \lyrics {
        \set alignBelowContext = #&quot;1&quot;
        lyrics4 below
      }
      \new Staff \with {
        alignAboveContext = #&quot;3&quot;
        fontSize = #-2
        \override StaffSymbol #'staff-space = #(magstep -2)
        \remove &quot;Time_signature_engraver&quot;
      } {
        \times 4/6 {
          \override TextScript #'padding = #3
          c8[^&quot;ossia above&quot; d e d e f]
        }
      }
    &gt;&gt;
  }
&gt;&gt;

</pre><p>
 <a href="4d/lily-192a19d8.ly">
  <img align="middle"
       border="0"
       src="4d/lily-192a19d8.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Paper-and-layout"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Tweaks-and-overrides" title="Beginning of this chapter or previous chapter"> &lt;&lt; Tweaks and overrides&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Vertically-aligned-dynamics-and-textscripts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Paper-and-layout" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Paper-and-layout"></a>
<h1 class="unnumbered">Paper and layout</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Spacing-issues">Spacing issues</a>.
</p>

<a name="aligning-and-centering-instrument-names.ly"></a>
<hr size="6">
<a name="Paper-and-layout"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Paper-and-layout" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Paper-and-layout" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Paper and layout&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Book-parts" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Book parts &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Aligning and centering instrument names</h2>


<p>The horizontal alignment of instrument names is tweaked by changing the
<code>Staff.InstrumentName #'self-alignment-X</code> property. The
<code>\layout</code> variables <code>indent</code> and <code>short-indent</code> define
the space in which the instrument names are aligned before the first
and the following systems, respectively.
</p>

<pre class="verbatim">\paper {
  left-margin = 3\cm
}

\score {
  \new StaffGroup &lt;&lt;
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #LEFT
      \set Staff.instrumentName = \markup \left-column {
        &quot;Left aligned&quot;
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Left&quot;
      c''1
      \break
      c''1
    }
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #CENTER
      \set Staff.instrumentName = \markup \center-column {
        Centered
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Centered&quot;
      g'1
      g'1
    }
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #RIGHT
      \set Staff.instrumentName = \markup \right-column {
        &quot;Right aligned&quot;
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Right&quot;
      e'1
      e'1
    }
  &gt;&gt;
  \layout {
    ragged-right = ##t
    indent = 4\cm
    short-indent = 2\cm
  }
}
</pre><p>
 <a href="48/lily-0ea90e0e.ly">
  <img align="middle"
       border="0"
       src="48/lily-0ea90e0e.png"
       alt="[image of music]">
 </a>
</p>




<a name="book-parts.ly"></a>
<hr size="6">
<a name="Book-parts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Paper-and-layout" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Paper-and-layout" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Paper and layout&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Book-parts" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Book-parts"></a>
<h2 class="unnumberedsec">Book parts</h2>


<p><code>\bookpart</code> can be used to split a book into several parts. Each
part last page can be affected by <code>ragged-last-bottom</code>. Header and
footer markups can detect a part last page, and make the difference
with the book last page.
</p>

<pre class="verbatim">#(set-default-paper-size &quot;a6&quot;)

\book {

  %% book paper, which is inherited by all children bookparts
  \paper {
    ragged-last-bottom = ##t
    %% Page footer: add a different part-tagline at part last page
    oddFooterMarkup = \markup {
      \column {
        \fill-line {
          %% Copyright header field only on book first page.
          \on-the-fly #first-page \fromproperty #'header:copyright
        }
        \fill-line {
          %% Part tagline header field only on each part last page.
          \on-the-fly #part-last-page \fromproperty #'header:parttagline
        }
        \fill-line {
          %% Tagline header field only on book last page.
          \on-the-fly #last-page \fromproperty #'header:tagline
        }
      }
    }
  }

  %% book header, which is inherited by the first bookpart
  \header {
    title = &quot;Book title&quot;
    copyright = &quot;Copyright line on book first page&quot;
    parttagline = &quot;Part tagline&quot;
    tagline = &quot;Book tagline&quot;
  }
  
  \bookpart {
    %% a different page breaking function may be used on each part
    \paper { #(define page-breaking optimal-page-breaks) }
    \header { subtitle = &quot;First part&quot; }
    \markup { The first book part }
    \markup { a page break }
    \pageBreak
    \markup { first part last page }
    \markup \wordwrap { with ragged-last-bottom (see the space below this text) }
  }

  \bookpart {
    \header { subtitle = &quot;Second part&quot; }
    { c' }
  }

}
</pre><p>
 <a href="30/lily-25a38bf8.ly">
  <img align="middle"
       border="0"
       src="30/lily-25a38bf8.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-staff-size.ly"></a>
<hr size="6">
<a name="Book-parts"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Book-parts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Book parts&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Paper-and-layout" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Paper and layout&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Clip-systems" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Clip systems &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing the staff size</h2>


<p>Though the simplest way to resize staves is to use
<code>#(set-global-staff-size xx)</code>, an individual staff&rsquo;s size can be
changed by scaling the properties <code>'staff-space</code> and
<code>fontSize</code>. 
</p>

<pre class="verbatim">&lt;&lt;
  \new Staff {
    \relative c'' {
      \dynamicDown
      c8\ff c c c c c c c
    }
  }
  \new Staff \with {
    fontSize = #-3
    \override StaffSymbol #'staff-space = #(magstep -3)
  } {
    \clef bass
    c8 c c c c\f c c c
  }
&gt;&gt;

</pre><p>
 <a href="44/lily-448b205b.ly">
  <img align="middle"
       border="0"
       src="44/lily-448b205b.png"
       alt="[image of music]">
 </a>
</p>




<a name="clip-systems.ly"></a>
<hr size="6">
<a name="Clip-systems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Book-parts" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Paper-and-layout" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Paper and layout&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Clip-systems" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Clip-systems"></a>
<h2 class="unnumberedsec">Clip systems</h2>


<p>This code shows how to clip (extract) snippets from a full score.
</p>
<p>This file needs to be run separately with <code>-dclip-systems</code>; the
snippets page may not adequately show the results.
</p>
<p>The result will be files named
&lsquo;<samp>base-from-start-to-end[-count].eps</samp>&rsquo;.
</p>

<p>If system starts and ends are included, they include extents of the
System grob, e.g., instrument names.
</p>

<p>Grace notes at the end point of the region are not included.
</p>

<p>Regions can span multiple systems.  In this case, multiple EPS files
are generated. 
</p>

<pre class="verbatim">#(ly:set-option 'clip-systems)
#(set! output-count 1)

origScore = \score {
  \relative c' {
    \set Staff.instrumentName = #&quot;bla&quot;
    c1
    d1
    \grace c16 e1
    \key d \major
    f1 \break
    \clef bass
    g,1
    fis1
  }
}

\book {
  \score {
    \origScore
    \layout {
      % Each clip-region is a (START . END) pair
      % where both are rhythmic-locations.
      
      % (make-rhythmic-locations BAR-NUMBER NUM DEN)
      % means NUM/DEN whole-notes into bar numbered BAR-NUMBER

      clip-regions = #(list
      (cons
       (make-rhythmic-location 2 0 1)
       (make-rhythmic-location 4 0 1))
      
      (cons
       (make-rhythmic-location 0 0 1)
       (make-rhythmic-location 4 0 1))

      (cons
       (make-rhythmic-location 0 0 1)
       (make-rhythmic-location 6 0 1))
      )
    }
  }
}

#(set! output-count 0)
#(ly:set-option 'clip-systems #f)

\book {
  \score { \origScore }
  \markup { \bold \fontsize #6 clips }
  \score {
    \lyrics {
      \markup { from-2.0.1-to-4.0.1-clip.eps }
      \markup {
        \epsfile #X #30.0 #(format #f &quot;~a-1-from-2.0.1-to-4.0.1-clip.eps&quot;
                            (ly:parser-output-name parser)) }
    }
  }
}

</pre><p>
 <a href="b8/lily-a912ba85.ly">
  <img align="middle"
       border="0"
       src="b8/lily-a912ba85.png"
       alt="[image of music]">
 </a>
</p>




<a name="creating-blank-staves.ly"></a>
<hr size="6">
<a name="Clip-systems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Clip-systems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Clip systems&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Paper-and-layout" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Paper and layout&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Clip-systems" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Creating blank staves</h2>


<p>To create blank staves, generate empty measures then remove the
<code>Bar_number_engraver</code> from the <code>Score</code> context, and the
<code>Time_signature_engraver</code>, <code>Clef_engraver</code> and
<code>Bar_engraver</code> from the <code>Staff</code> context. 
</p>

<pre class="verbatim">#(set-global-staff-size 20)

\score {
  { 
    \repeat unfold 12 { s1 \break } 
  }
  \layout {
    indent = 0\in
    \context {
      \Staff
      \remove &quot;Time_signature_engraver&quot;
      \remove &quot;Clef_engraver&quot;
      \remove &quot;Bar_engraver&quot;
    }
    \context {
      \Score
      \remove &quot;Bar_number_engraver&quot;
    }
  }
}

\paper {
  #(set-paper-size &quot;letter&quot;)
  ragged-last-bottom = ##f
  line-width = 7.5\in
  left-margin = 0.5\in
  bottom-margin = 0.25\in
  top-margin = 0.25\in
}

</pre><p>
 <a href="d1/lily-160fd34d.ly">
  <img align="middle"
       border="0"
       src="d1/lily-160fd34d.png"
       alt="[image of music]">
 </a>
</p>




<a name="demonstrating-all-headers.ly"></a>
<hr size="6">
<a name="Clip-systems"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Clip-systems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Paper-and-layout" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Paper and layout&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Table-of-contents" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Table of contents &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Demonstrating all headers</h2>

<p>All header fields with special meanings.
</p><pre class="verbatim">\header {
  copyright = &quot;copyright&quot;
  title = &quot;title&quot;
  subtitle = &quot;subtitle&quot;
  composer = &quot;composer&quot;
  arranger = &quot;arranger&quot;
  instrument = &quot;instrument&quot;
  metre = &quot;metre&quot;
  opus = &quot;opus&quot;
  piece = &quot;piece&quot;
  poet = &quot;poet&quot;
  texidoc = &quot;All header fields with special meanings.&quot;
  copyright = &quot;public domain&quot;
  enteredby = &quot;jcn&quot;
  source = &quot;urtext&quot;
}

\layout {
  ragged-right = ##f
}

\score {
  \relative c'' { c1 | c | c | c }
}

\score {
   \relative c'' { c1 | c | c | c }
   \header {
     title = &quot;localtitle&quot;
     subtitle = &quot;localsubtitle&quot;
     composer = &quot;localcomposer&quot;
     arranger = &quot;localarranger&quot;
     instrument = &quot;localinstrument&quot;
     metre = &quot;localmetre&quot;
     opus = &quot;localopus&quot;
     piece = &quot;localpiece&quot;
     poet = &quot;localpoet&quot;
     copyright = &quot;localcopyright&quot;
   }
}

</pre><p>
 <a href="a0/lily-f7ee3ec5.ly">
  <img align="middle"
       border="0"
       src="a0/lily-f7ee3ec5.png"
       alt="[image of music]">
 </a>
</p>




<a name="table-of-contents.ly"></a>
<hr size="6">
<a name="Table-of-contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Titles" title="Next chapter">&nbsp;Titles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Clip-systems" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Paper-and-layout" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Paper and layout&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Titles" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Titles &gt; </a>]</td></tr></table>
<a name="Table-of-contents"></a>
<h2 class="unnumberedsec">Table of contents</h2>


<p>A table of contents is included using <code>\markuplines
\table-of-contents</code>.  The TOC items are added with the
<code>\tocItem</code> command.
</p>

<pre class="verbatim">#(set-default-paper-size &quot;a6&quot;)

\book {
  \markuplines \table-of-contents
  \pageBreak
  \tocItem \markup { The first score }
  \score {
    {
      c'1 \pageBreak
      \mark &quot;A&quot; \tocItem \markup { Mark A }
      d'1
    }
  }
  \pageBreak
  \tocItem \markup { The second score }
  \score {
    { e'1 }
    \header { piece = &quot;Second score&quot; }
  }
}
</pre><p>
 <a href="ce/lily-9b74a484.ly">
  <img align="middle"
       border="0"
       src="ce/lily-9b74a484.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Titles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Paper-and-layout" title="Beginning of this chapter or previous chapter"> &lt;&lt; Paper and layout&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Spacing" title="Next chapter">&nbsp;Spacing &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Table-of-contents" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Table of contents&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Titles" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Titles"></a>
<h1 class="unnumbered">Titles</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Titles-and-headers">Titles and headers</a>.
</p>

<a name="adding-the-current-date-to-a-score.ly"></a>
<hr size="6">
<a name="Titles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Titles" title="Beginning of this chapter or previous chapter"> &lt;&lt; Titles&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Spacing" title="Next chapter">&nbsp;Spacing &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Titles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Titles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Titles" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Titles&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Titles" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adding the current date to a score</h2>


<p>With a little Scheme code, the current date can easily be added to a
score.
</p>

<pre class="verbatim">% first, define a variable to hold the formatted date:
date = #(strftime &quot;%d-%m-%Y&quot; (localtime (current-time)))

% use it in the title block:
\header {
  title = &quot;Including the date!&quot;
  subtitle = \date
}

\score {
  \relative c'' {
    c4 c c c
  }
}
% and use it in a \markup block:
\markup {
  \date
}

</pre><p>
 <a href="62/lily-dae9b8a6.ly">
  <img align="middle"
       border="0"
       src="62/lily-dae9b8a6.png"
       alt="[image of music]">
 </a>
</p>




<a name="aligning-and-centering-instrument-names.ly"></a>
<hr size="6">
<a name="Titles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Titles" title="Beginning of this chapter or previous chapter"> &lt;&lt; Titles&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Spacing" title="Next chapter">&nbsp;Spacing &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Titles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Titles" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Titles&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Titles" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Aligning and centering instrument names</h2>


<p>The horizontal alignment of instrument names is tweaked by changing the
<code>Staff.InstrumentName #'self-alignment-X</code> property. The
<code>\layout</code> variables <code>indent</code> and <code>short-indent</code> define
the space in which the instrument names are aligned before the first
and the following systems, respectively.
</p>

<pre class="verbatim">\paper {
  left-margin = 3\cm
}

\score {
  \new StaffGroup &lt;&lt;
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #LEFT
      \set Staff.instrumentName = \markup \left-column {
        &quot;Left aligned&quot;
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Left&quot;
      c''1
      \break
      c''1
    }
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #CENTER
      \set Staff.instrumentName = \markup \center-column {
        Centered
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Centered&quot;
      g'1
      g'1
    }
    \new Staff {
      \override Staff.InstrumentName #'self-alignment-X = #RIGHT
      \set Staff.instrumentName = \markup \right-column {
        &quot;Right aligned&quot;
        &quot;instrument name&quot;
      }
      \set Staff.shortInstrumentName = #&quot;Right&quot;
      e'1
      e'1
    }
  &gt;&gt;
  \layout {
    ragged-right = ##t
    indent = 4\cm
    short-indent = 2\cm
  }
}
</pre><p>
 <a href="48/lily-0ea90e0e.ly">
  <img align="middle"
       border="0"
       src="48/lily-0ea90e0e.png"
       alt="[image of music]">
 </a>
</p>




<a name="demonstrating-all-headers.ly"></a>
<hr size="6">
<a name="Titles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Titles" title="Beginning of this chapter or previous chapter"> &lt;&lt; Titles&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Spacing" title="Next chapter">&nbsp;Spacing &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Titles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Titles" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Titles&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Titles" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Demonstrating all headers</h2>

<p>All header fields with special meanings.
</p><pre class="verbatim">\header {
  copyright = &quot;copyright&quot;
  title = &quot;title&quot;
  subtitle = &quot;subtitle&quot;
  composer = &quot;composer&quot;
  arranger = &quot;arranger&quot;
  instrument = &quot;instrument&quot;
  metre = &quot;metre&quot;
  opus = &quot;opus&quot;
  piece = &quot;piece&quot;
  poet = &quot;poet&quot;
  texidoc = &quot;All header fields with special meanings.&quot;
  copyright = &quot;public domain&quot;
  enteredby = &quot;jcn&quot;
  source = &quot;urtext&quot;
}

\layout {
  ragged-right = ##f
}

\score {
  \relative c'' { c1 | c | c | c }
}

\score {
   \relative c'' { c1 | c | c | c }
   \header {
     title = &quot;localtitle&quot;
     subtitle = &quot;localsubtitle&quot;
     composer = &quot;localcomposer&quot;
     arranger = &quot;localarranger&quot;
     instrument = &quot;localinstrument&quot;
     metre = &quot;localmetre&quot;
     opus = &quot;localopus&quot;
     piece = &quot;localpiece&quot;
     poet = &quot;localpoet&quot;
     copyright = &quot;localcopyright&quot;
   }
}

</pre><p>
 <a href="a0/lily-f7ee3ec5.ly">
  <img align="middle"
       border="0"
       src="a0/lily-f7ee3ec5.png"
       alt="[image of music]">
 </a>
</p>




<a name="outputting-the-version-number.ly"></a>
<hr size="6">
<a name="Titles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Titles" title="Beginning of this chapter or previous chapter"> &lt;&lt; Titles&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Spacing" title="Next chapter">&nbsp;Spacing &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Titles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Titles" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Titles&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Spacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Spacing &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Outputting the version number</h2>


<p>By putting the output of
    <code>lilypond-version</code> into a lyric, it is possible to print the 
    version number of LilyPond in a score, or in a document generated
    with <code>lilypond-book</code>.  Another possibility is to append the 
    version number to the doc-string, in this manner: 
</p>

<pre class="verbatim">\score {
  \new Lyrics {
    \override Score.RehearsalMark #'self-alignment-X = #LEFT
    \mark #(string-append &quot;Processed with LilyPond version &quot; (lilypond-version))
    s2
  }
}



</pre><p>
 <a href="d7/lily-6e9d7cd2.ly">
  <img align="middle"
       border="0"
       src="d7/lily-6e9d7cd2.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Titles" title="Beginning of this chapter or previous chapter"> &lt;&lt; Titles&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Titles" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Spacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Spacing"></a>
<h1 class="unnumbered">Spacing</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#Spacing-issues">Spacing issues</a>.
</p>

<a name="adjusting-lyrics-vertical-spacing.ly"></a>
<hr size="6">
<a name="Spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Spacing" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Adjusting lyrics vertical spacing</h2>


<p>This snippet shows how to bring the lyrics line closer to the staff.
</p>

<pre class="verbatim">% Default layout:
&lt;&lt;
  \new Staff \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \lyricsto melody { aa aa aa aa aa aa aa aa aa }

% Reducing the minimum space below the staff and above the lyrics:
  \new Staff \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1 . 4)
  }
  \new Voice = melody \relative c' {
    c4 d e f
    g4 f e d
    c1
  }
  \new Lyrics \with {
    \override VerticalAxisGroup #'minimum-Y-extent = #'(-1.2 . 1)
  }
  \lyricsto melody { aa aa aa aa aa aa aa aa aa }
&gt;&gt;

</pre><p>
 <a href="56/lily-5a2565ed.ly">
  <img align="middle"
       border="0"
       src="56/lily-5a2565ed.png"
       alt="[image of music]">
 </a>
</p>




<a name="allowing-fingerings-to-be-printed-inside-the-staff.ly"></a>
<hr size="6">
<a name="Spacing"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Page label &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Allowing fingerings to be printed inside the staff</h2>


<p>By default, vertically oriented fingerings are positioned outside the
staff.  However, this behavior can be canceled.
</p>

<pre class="verbatim">\relative c' {
  &lt;c-1 e-2 g-3 b-5&gt;2
  \once \override Fingering #'staff-padding = #'()
  &lt;c-1 e-2 g-3 b-5&gt;2
}

</pre><p>
 <a href="f2/lily-ed399441.ly">
  <img align="middle"
       border="0"
       src="f2/lily-ed399441.png"
       alt="[image of music]">
 </a>
</p>




<a name="page-label.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Spacing" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Page-label"></a>
<h2 class="unnumberedsec">Page label</h2>


<p>Page labels may be placed inside music or at top-level, and referred to
in markups.
</p>

<pre class="verbatim">#(set-default-paper-size &quot;a6&quot;)

#(define-markup-command (toc-line layout props label text)
  (symbol? markup?)
  (interpret-markup layout props
   (markup #:fill-line (text #:page-ref label &quot;8&quot; &quot;?&quot;))))

\book {
  \markup \huge \fill-line { \null Title Page \null }

  \pageBreak

  \label #'toc
  \markup \column {
    \large \fill-line { \null Table of contents \null }
    \toc-line #'toc &quot;Table of contents&quot;
    \toc-line #'firstScore &quot;First Score&quot;
    \toc-line #'markA &quot;Mark A&quot;
    \toc-line #'markB &quot;Mark B&quot;
    \toc-line #'markC &quot;Mark C&quot;
    \toc-line #'unknown &quot;Unknown label&quot;
  }

  \pageBreak

  \label #'firstScore
  \score {
    \new Staff \relative c' {
      c2 c
      \mark \markup {
        A (page \concat { \page-ref #'markA &quot;0&quot; &quot;?&quot; ) }
      } \label #'markA
      c2 c
      \pageBreak
      \mark &quot;B&quot; \label #'markB
      d2 d
      d2 d
      \once \override Score.RehearsalMark #'break-visibility =
        #begin-of-line-invisible
      \mark &quot;C&quot; \label #'markC
    }
    \header { piece = &quot;First score&quot; }
  }
}
</pre><p>
 <a href="14/lily-46a6503d.ly">
  <img align="middle"
       border="0"
       src="14/lily-46a6503d.png"
       alt="[image of music]">
 </a>
</p>




<a name="proportional-strict-notespacing.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Page label&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Proportional strict notespacing</h2>


<p>If <code>strict-note-spacing</code> is set spacing of notes is not influenced
by bars or clefs within a system. Rather, they are placed just before
the note that occurs at the same time. This may cause collisions. 
</p>

<pre class="verbatim">\relative c'' &lt;&lt;
  \override Score.SpacingSpanner #'strict-note-spacing = ##t 
  \set Score.proportionalNotationDuration = #(ly:make-moment 1 16)
  \new Staff {
    c8[ c \clef alto c c \grace { d16 } c8 c] c4
    c2 \grace { c16[ c16] } c2
  }
  \new Staff {
    c2 \times 2/3 { c8 \clef bass cis,, c } c4
    c1
  }
&gt;&gt;

</pre><p>
 <a href="f4/lily-a0aa97d3.ly">
  <img align="middle"
       border="0"
       src="f4/lily-a0aa97d3.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligned-dynamics-and-textscripts.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Page-label" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vertically aligned dynamics and textscripts</h2>


<p>By setting the <code>'Y-extent</code> property to a suitable value, all
<code>DynamicLineSpanner</code> objects (hairpins and dynamic texts) can be
aligned to a common reference point, regardless of their actual extent.
This way, every element will be vertically aligned, thus producing a
more pleasing output.
</p>
<p>The same idea is used to align the text scripts along their baseline.
</p>

<pre class="verbatim">music = \relative c'' {
  c2\p^\markup { gorgeous } c\f^\markup { fantastic }
  c4\p c\f\&gt; c c\!\p
}

{
  \music \break
  \override DynamicLineSpanner #'staff-padding = #2.0
  \override DynamicLineSpanner #'Y-extent = #'(-1.5 . 1.5)
  \override TextScript #'Y-extent = #'(-1.5 . 1.5)
  \music
}

</pre><p>
 <a href="9e/lily-750175bd.ly">
  <img align="middle"
       border="0"
       src="9e/lily-750175bd.png"
       alt="[image of music]">
 </a>
</p>




<a name="vertically-aligning-ossias-and-lyrics.ly"></a>
<hr size="6">
<a name="Page-label"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#MIDI" title="Next chapter">&nbsp;MIDI &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Spacing" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Spacing&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#MIDI" title="Next section in reading order" accesskey="n" rel="next">&nbsp;MIDI &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vertically aligning ossias and lyrics</h2>


<p>This snippet demonstrates the use of the context properties
<code>alignBelowContext</code> and <code>alignAboveContext</code> to control the
positioning of lyrics and ossias.
</p>

<pre class="verbatim">\paper {
  ragged-right = ##t
}

\relative c' &lt;&lt;
  \new Staff = &quot;1&quot; { c4 c s2 }
  \new Staff = &quot;2&quot; { c4 c s2 }
  \new Staff = &quot;3&quot; { c4 c s2 }
  { \skip 2
    &lt;&lt;
      \lyrics {
        \set alignBelowContext = #&quot;1&quot;
        lyrics4 below
      }
      \new Staff \with {
        alignAboveContext = #&quot;3&quot;
        fontSize = #-2
        \override StaffSymbol #'staff-space = #(magstep -2)
        \remove &quot;Time_signature_engraver&quot;
      } {
        \times 4/6 {
          \override TextScript #'padding = #3
          c8[^&quot;ossia above&quot; d e d e f]
        }
      }
    &gt;&gt;
  }
&gt;&gt;

</pre><p>
 <a href="4d/lily-192a19d8.ly">
  <img align="middle"
       border="0"
       src="4d/lily-192a19d8.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="MIDI"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Spacing" title="Beginning of this chapter or previous chapter"> &lt;&lt; Spacing&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Templates" title="Next chapter">&nbsp;Templates &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Page-label" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#MIDI" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="MIDI"></a>
<h1 class="unnumbered">MIDI</h1>

<p>These snippets illustrate the Notation Reference,
section <a href="../../Documentation/user/lilypond-big-page.html#MIDI-output">MIDI output</a>.
</p>

<a name="changing-midi-output-to-one-channel-per-voice.ly"></a>
<hr size="6">
<a name="MIDI"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#MIDI" title="Beginning of this chapter or previous chapter"> &lt;&lt; MIDI&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Templates" title="Next chapter">&nbsp;Templates &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#MIDI" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; MIDI&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#MIDI" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;MIDI&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#MIDI" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing MIDI output to one channel per voice</h2>


<p>When outputting MIDI, the default behavior is for each staff to
represent one MIDI channel, with all the voices on a staff amalgamated.
This minimizes the risk of running out of MIDI channels, since there
are only 16 available per track.
</p>
<p>However, by moving the <code>Staff_performer</code> to the <code>Voice</code>
context, each voice on a staff can have its own MIDI channel, as is
demonstrated by the following example: despite being on the same staff,
two MIDI channels are created, each with a different
<code>midiInstrument</code>. 
</p>

<pre class="verbatim">\score {
  \new Staff &lt;&lt;
    \new Voice \relative c''' {
      \set midiInstrument = #&quot;flute&quot;
      \voiceOne
      \key g \major
      \time 2/2
      r2 g-&quot;Flute&quot; ~
      g fis ~
      fis4 g8 fis e2 ~
      e4 d8 cis d2
    }
    \new Voice \relative c'' {
      \set midiInstrument = #&quot;clarinet&quot;
      \voiceTwo
      b1-&quot;Clarinet&quot;
      a2. b8 a
      g2. fis8 e
      fis2 r
    }
  &gt;&gt;
  \layout { }
  \midi {
    \context {
      \Staff
      \remove &quot;Staff_performer&quot;
    }
    \context {
      \Voice
      \consists &quot;Staff_performer&quot;      
    }
    \context {
      \Score
      tempoWholesPerMinute = #(ly:make-moment 72 2)
    }
  }
}

</pre><p>
 <a href="29/lily-a4aee98b.ly">
  <img align="middle"
       border="0"
       src="29/lily-a4aee98b.png"
       alt="[image of music]">
 </a>
</p>




<a name="changing-the-tempo-without-a-metronome-mark.ly"></a>
<hr size="6">
<a name="MIDI"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#MIDI" title="Beginning of this chapter or previous chapter"> &lt;&lt; MIDI&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Templates" title="Next chapter">&nbsp;Templates &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#MIDI" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#MIDI" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;MIDI&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Demo-MidiInstruments" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Demo MidiInstruments &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Changing the tempo without a metronome mark</h2>


<p>To change the tempo in MIDI output without printing anything, make the
metronome mark invisible.
</p>

<pre class="verbatim">\score {
  \new Staff \relative c' {
    \tempo 4 = 160
    c4 e g b
    c4 b d c
    \set Score.tempoHideNote = ##t
    \tempo 4 = 96
    d,4 fis a cis
    d4 cis e d
  }
  \layout { }
  \midi { }
}
</pre><p>
 <a href="92/lily-90660573.ly">
  <img align="middle"
       border="0"
       src="92/lily-90660573.png"
       alt="[image of music]">
 </a>
</p>




<a name="demo-midiinstruments.ly"></a>
<hr size="6">
<a name="Demo-MidiInstruments"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#MIDI" title="Beginning of this chapter or previous chapter"> &lt;&lt; MIDI&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#Templates" title="Next chapter">&nbsp;Templates &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#MIDI" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#MIDI" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;MIDI&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Templates" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Templates &gt; </a>]</td></tr></table>
<a name="Demo-MidiInstruments"></a>
<h2 class="unnumberedsec">Demo MidiInstruments</h2>


<p>Problem: How to know which <code>midiInstrument</code> would be best for your
composition? Solution: A LilyPond demo file.
</p>



<pre class="verbatim">\header {
  title = &quot;Demo of all midi sounds&quot;
  arranger = &quot;Myself &quot;
}

baseMelody = \relative c' {
  c4.\mf g c16 b' c d
  e16 d e f g4 g'4 r
  R1
}
melody = {
  \tempo 4 = 150
  \baseMelody
}

\score {
  \new Staff &lt;&lt;
    \new Voice \melody
  &gt;&gt;
  \layout { }
}

\score { 
  \new Staff &lt;&lt;
    \new Voice {
      r\mf
      \set Staff.midiInstrument = #&quot;acoustic grand&quot; \melody
      \set Staff.midiInstrument = #&quot;bright acoustic&quot; \melody
      \set Staff.midiInstrument = #&quot;electric grand&quot; \melody
      \set Staff.midiInstrument = #&quot;honky-tonk&quot; \melody
      \set Staff.midiInstrument = #&quot;electric piano 1&quot; \melody
      \set Staff.midiInstrument = #&quot;electric piano 2&quot; \melody
      \set Staff.midiInstrument = #&quot;harpsichord&quot; \melody
      \set Staff.midiInstrument = #&quot;clav&quot; \melody
      \set Staff.midiInstrument = #&quot;celesta&quot; \melody
      \set Staff.midiInstrument = #&quot;glockenspiel&quot; \melody
      \set Staff.midiInstrument = #&quot;music box&quot; \melody
      \set Staff.midiInstrument = #&quot;vibraphone&quot; \melody
      \set Staff.midiInstrument = #&quot;marimba&quot; \melody
      \set Staff.midiInstrument = #&quot;xylophone&quot; \melody
      \set Staff.midiInstrument = #&quot;tubular bells&quot; \melody
      \set Staff.midiInstrument = #&quot;dulcimer&quot; \melody
      \set Staff.midiInstrument = #&quot;drawbar organ&quot; \melody
      \set Staff.midiInstrument = #&quot;percussive organ&quot; \melody
      \set Staff.midiInstrument = #&quot;rock organ&quot; \melody
      \set Staff.midiInstrument = #&quot;church organ&quot; \melody
      \set Staff.midiInstrument = #&quot;reed organ&quot; \melody
      \set Staff.midiInstrument = #&quot;accordion&quot; \melody
      \set Staff.midiInstrument = #&quot;harmonica&quot; \melody
      \set Staff.midiInstrument = #&quot;concertina&quot; \melody
      \set Staff.midiInstrument = #&quot;acoustic guitar (nylon)&quot; \melody
      \set Staff.midiInstrument = #&quot;acoustic guitar (steel)&quot; \melody
      \set Staff.midiInstrument = #&quot;electric guitar (jazz)&quot; \melody
      \set Staff.midiInstrument = #&quot;electric guitar (clean)&quot; \melody
      \set Staff.midiInstrument = #&quot;electric guitar (muted)&quot; \melody
      \set Staff.midiInstrument = #&quot;overdriven guitar&quot; \melody
      \set Staff.midiInstrument = #&quot;distorted guitar&quot; \melody
      \set Staff.midiInstrument = #&quot;acoustic bass&quot; \melody
      \set Staff.midiInstrument = #&quot;electric bass (finger)&quot; \melody
      \set Staff.midiInstrument = #&quot;electric bass (pick)&quot; \melody
      \set Staff.midiInstrument = #&quot;fretless bass&quot; \melody
      \set Staff.midiInstrument = #&quot;slap bass 1&quot; \melody
      \set Staff.midiInstrument = #&quot;slap bass 2&quot; \melody
      \set Staff.midiInstrument = #&quot;synth bass 1&quot; \melody
      \set Staff.midiInstrument = #&quot;synth bass 2&quot; \melody
      \set Staff.midiInstrument = #&quot;violin&quot; \melody
      \set Staff.midiInstrument = #&quot;viola&quot; \melody
      \set Staff.midiInstrument = #&quot;cello&quot; \melody
      \set Staff.midiInstrument = #&quot;contrabass&quot; \melody
      \set Staff.midiInstrument = #&quot;tremolo strings&quot; \melody
      \set Staff.midiInstrument = #&quot;pizzicato strings&quot; \melody
      \set Staff.midiInstrument = #&quot;orchestral strings&quot; \melody
      \set Staff.midiInstrument = #&quot;timpani&quot; \melody
      \set Staff.midiInstrument = #&quot;string ensemble 1&quot; \melody
      \set Staff.midiInstrument = #&quot;string ensemble 2&quot; \melody
      \set Staff.midiInstrument = #&quot;synthstrings 1&quot; \melody
      \set Staff.midiInstrument = #&quot;synthstrings 2&quot; \melody
      \set Staff.midiInstrument = #&quot;choir aahs&quot; \melody
      \set Staff.midiInstrument = #&quot;voice oohs&quot; \melody
      \set Staff.midiInstrument = #&quot;synth voice&quot; \melody
      \set Staff.midiInstrument = #&quot;orchestra hit&quot; \melody
      \set Staff.midiInstrument = #&quot;trumpet&quot; \melody
      \set Staff.midiInstrument = #&quot;trombone&quot; \melody
      \set Staff.midiInstrument = #&quot;tuba&quot; \melody
      \set Staff.midiInstrument = #&quot;muted trumpet&quot; \melody
      \set Staff.midiInstrument = #&quot;french horn&quot; \melody
      \set Staff.midiInstrument = #&quot;brass section&quot; \melody
      \set Staff.midiInstrument = #&quot;synthbrass 1&quot; \melody
      \set Staff.midiInstrument = #&quot;synthbrass 2&quot; \melody
      \set Staff.midiInstrument = #&quot;soprano sax&quot; \melody
      \set Staff.midiInstrument = #&quot;alto sax&quot; \melody
      \set Staff.midiInstrument = #&quot;tenor sax&quot; \melody
      \set Staff.midiInstrument = #&quot;baritone sax&quot; \melody
      \set Staff.midiInstrument = #&quot;oboe&quot; \melody
      \set Staff.midiInstrument = #&quot;english horn&quot; \melody
      \set Staff.midiInstrument = #&quot;bassoon&quot; \melody
      \set Staff.midiInstrument = #&quot;clarinet&quot; \melody
      \set Staff.midiInstrument = #&quot;piccolo&quot; \melody
      \set Staff.midiInstrument = #&quot;flute&quot; \melody
      \set Staff.midiInstrument = #&quot;recorder&quot; \melody
      \set Staff.midiInstrument = #&quot;pan flute&quot; \melody
      \set Staff.midiInstrument = #&quot;blown bottle&quot; \melody
      \set Staff.midiInstrument = #&quot;shakuhachi&quot; \melody
      \set Staff.midiInstrument = #&quot;whistle&quot; \melody
      \set Staff.midiInstrument = #&quot;ocarina&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 1 (square)&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 2 (sawtooth)&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 3 (calliope)&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 4 (chiff)&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 5 (charang)&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 6 (voice)&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 7 (fifths)&quot; \melody
      \set Staff.midiInstrument = #&quot;lead 8 (bass+lead)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 1 (new age)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 2 (warm)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 3 (polysynth)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 4 (choir)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 5 (bowed)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 6 (metallic)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 7 (halo)&quot; \melody
      \set Staff.midiInstrument = #&quot;pad 8 (sweep)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 1 (rain)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 2 (soundtrack)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 3 (crystal)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 4 (atmosphere)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 5 (brightness)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 6 (goblins)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 7 (echoes)&quot; \melody
      \set Staff.midiInstrument = #&quot;fx 8 (sci-fi)&quot; \melody
      \set Staff.midiInstrument = #&quot;sitar&quot; \melody
      \set Staff.midiInstrument = #&quot;banjo&quot; \melody
      \set Staff.midiInstrument = #&quot;shamisen&quot; \melody
      \set Staff.midiInstrument = #&quot;koto&quot; \melody
      \set Staff.midiInstrument = #&quot;kalimba&quot; \melody
      \set Staff.midiInstrument = #&quot;bagpipe&quot; \melody
      \set Staff.midiInstrument = #&quot;fiddle&quot; \melody
      \set Staff.midiInstrument = #&quot;shanai&quot; \melody
      \set Staff.midiInstrument = #&quot;tinkle bell&quot; \melody
      \set Staff.midiInstrument = #&quot;agogo&quot; \melody
      \set Staff.midiInstrument = #&quot;steel drums&quot; \melody
      \set Staff.midiInstrument = #&quot;woodblock&quot; \melody
      \set Staff.midiInstrument = #&quot;taiko drum&quot; \melody
      \set Staff.midiInstrument = #&quot;melodic tom&quot; \melody
      \set Staff.midiInstrument = #&quot;synth drum&quot; \melody
      \set Staff.midiInstrument = #&quot;reverse cymbal&quot; \melody
      \set Staff.midiInstrument = #&quot;guitar fret noise&quot; \melody
      \set Staff.midiInstrument = #&quot;breath noise&quot; \melody
      \set Staff.midiInstrument = #&quot;seashore&quot; \melody
      \set Staff.midiInstrument = #&quot;bird tweet&quot; \melody
      \set Staff.midiInstrument = #&quot;telephone ring&quot; \melody
      \set Staff.midiInstrument = #&quot;helicopter&quot; \melody
      \set Staff.midiInstrument = #&quot;applause&quot; \melody
      \set Staff.midiInstrument = #&quot;gunshot&quot; \melody
    }
  &gt;&gt;
  \midi { }
}

</pre><p>
 <a href="17/lily-0a70e8e7.ly">
  <img align="middle"
       border="0"
       src="17/lily-0a70e8e7.png"
       alt="[image of music]">
 </a>
</p>




<hr size="6">
<a name="Templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#MIDI" title="Beginning of this chapter or previous chapter"> &lt;&lt; MIDI&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Demo-MidiInstruments" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Demo MidiInstruments&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Top" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Templates" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Templates"></a>
<h1 class="unnumbered">Templates</h1>


<a name="ancient-notation-template----modern-transcription-of-gregorian-music.ly"></a>
<hr size="6">
<a name="Templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Templates" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Templates" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Ancient notation template &ndash; modern transcription of gregorian music</h2>


<p>This example demonstrates how to do modern transcription of Gregorian
music. Gregorian music has no measure, no stems; it uses only half and
quarter note heads, and special marks, indicating rests of different
length.
</p>

<pre class="verbatim">\include &quot;gregorian.ly&quot;

chant = \relative c' {
  \set Score.timing = ##f
  f4 a2 \divisioMinima
  g4 b a2 f2 \divisioMaior
  g4( f) f( g) a2 \finalis
}

verba = \lyricmode {
  Lo -- rem ip -- sum do -- lor sit a -- met
}

\score {
  \new Staff &lt;&lt;
    \new Voice = &quot;melody&quot; \chant
    \new Lyrics = &quot;one&quot; \lyricsto melody \verba
  &gt;&gt;
  \layout {
    \context {
      \Staff
      \remove &quot;Time_signature_engraver&quot;
      \remove &quot;Bar_engraver&quot;
      \override Stem #'transparent = ##t
    }
    \context {
      \Voice
      \override Stem #'length = #0
    }
    \context {
      \Score
      barAlways = ##t
    }
  }
}

</pre><p>
 <a href="1b/lily-4790c942.ly">
  <img align="middle"
       border="0"
       src="1b/lily-4790c942.png"
       alt="[image of music]">
 </a>
</p>




<a name="ancient-notation-template----modern-transcription-of-mensural-music.ly"></a>
<hr size="6">
<a name="Templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Templates" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Templates" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Ancient notation template &ndash; modern transcription of mensural music</h2>


<p>When transcribing mensural music, an incipit at the beginning of the
piece is useful to indicate the original key and tempo. While today
musicians are used to bar lines in order to faster recognize rhythmic
patterns, bar lines were not yet invented during the period of mensural
music; in fact, the meter often changed after every few notes. As a
compromise, bar lines are often printed between the staves rather than
on the staves. 
</p>

<pre class="verbatim">global = {
  \set Score.skipBars = ##t

  % incipit
  \once \override Score.SystemStartBracket #'transparent = ##t
  \override Score.SpacingSpanner #'spacing-increment = #1.0 % tight spacing
  \key f \major
  \time 2/2
  \once \override Staff.TimeSignature #'style = #'neomensural
  \override Voice.NoteHead #'style = #'neomensural
  \override Voice.Rest #'style = #'neomensural
  \set Staff.printKeyCancellation = ##f
  \cadenzaOn % turn off bar lines
  \skip 1*10
  \once \override Staff.BarLine #'transparent = ##f
  \bar &quot;||&quot;
  \skip 1*1 % need this extra \skip such that clef change comes
            % after bar line
  \bar &quot;&quot;

  % main
  \revert Score.SpacingSpanner #'spacing-increment % CHECK: no effect?
  \cadenzaOff % turn bar lines on again
  \once \override Staff.Clef #'full-size-change = ##t
  \set Staff.forceClef = ##t
  \key g \major
  \time 4/4
  \override Voice.NoteHead #'style = #'default
  \override Voice.Rest #'style = #'default

  % FIXME: setting printKeyCancellation back to #t must not
  % occur in the first bar after the incipit.  Dto. for forceClef.
  % Therefore, we need an extra \skip.
  \skip 1*1
  \set Staff.printKeyCancellation = ##t
  \set Staff.forceClef = ##f

  \skip 1*7 % the actual music

  % let finis bar go through all staves
  \override Staff.BarLine #'transparent = ##f

  % finis bar
  \bar &quot;|.&quot;
}

discantusNotes = {
  \transpose c' c'' {
    \set Staff.instrumentName = #&quot;Discantus  &quot;

    % incipit
    \clef &quot;neomensural-c1&quot;
    c'1. s2   % two bars
    \skip 1*8 % eight bars
    \skip 1*1 % one bar

    % main
    \clef &quot;treble&quot;
    d'2. d'4 |
    b e' d'2 |
    c'4 e'4.( d'8 c' b |
    a4) b a2 |
    b4.( c'8 d'4) c'4 |
    \once \override NoteHead #'transparent = ##t c'1 |
    b\breve |
  }
}

discantusLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi -- |
  la -- te De -- |
  o, om --
  nis ter -- |
  ra, __ om- |
  &quot;...&quot; |
  -us. |
}

altusNotes = {
  \transpose c' c'' {
    \set Staff.instrumentName = #&quot;Altus  &quot;

    % incipit
    \clef &quot;neomensural-c3&quot;
    r1        % one bar
    f1. s2    % two bars
    \skip 1*7 % seven bars
    \skip 1*1 % one bar

    % main
    \clef &quot;treble&quot;
    r2 g2. e4 fis g | % two bars
    a2 g4 e |
    fis g4.( fis16 e fis4) |
    g1 |
    \once \override NoteHead #'transparent = ##t g1 |
    g\breve |
  }
}

altusLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi -- la -- te | % two bars
  De -- o, om -- |
  nis ter -- ra, |
  &quot;...&quot; |
  -us. |
}

tenorNotes = {
  \transpose c' c' {
    \set Staff.instrumentName = #&quot;Tenor  &quot;

    % incipit
    \clef &quot;neomensural-c4&quot;
    r\longa   % four bars
    r\breve   % two bars
    r1        % one bar
    c'1. s2   % two bars
    \skip 1*1 % one bar
    \skip 1*1 % one bar

    % main
    \clef &quot;treble_8&quot;
    R1 |
    R1 |
    R1 |
    r2 d'2. d'4 b e' | % two bars
    \once \override NoteHead #'transparent = ##t e'1 |
    d'\breve |
  }
}

tenorLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi -- la -- te | % two bars
  &quot;...&quot; |
  -us. |
}

bassusNotes = {
  \transpose c' c' {
    \set Staff.instrumentName = #&quot;Bassus  &quot;

    % incipit
    \clef &quot;bass&quot;
    r\maxima  % eight bars
    f1. s2    % two bars
    \skip 1*1 % one bar

    % main
    \clef &quot;bass&quot;
    R1 |
    R1 |
    R1 |
    R1 |
    g2. e4 |
    \once \override NoteHead #'transparent = ##t e1 |
    g\breve |
  }
}

bassusLyrics = \lyricmode {
  % incipit
  IV-

  % main
  Ju -- bi- |
  &quot;...&quot; |
  -us. |
}

\score {
  \new StaffGroup = choirStaff &lt;&lt;
    \new Voice =
      &quot;discantusNotes&quot; &lt;&lt; \global \discantusNotes &gt;&gt;
    \new Lyrics =
      &quot;discantusLyrics&quot; \lyricsto discantusNotes { \discantusLyrics }
    \new Voice =
      &quot;altusNotes&quot; &lt;&lt; \global \altusNotes &gt;&gt;
    \new Lyrics =
      &quot;altusLyrics&quot; \lyricsto altusNotes { \altusLyrics }
    \new Voice =
      &quot;tenorNotes&quot; &lt;&lt; \global \tenorNotes &gt;&gt;
    \new Lyrics =
      &quot;tenorLyrics&quot; \lyricsto tenorNotes { \tenorLyrics }
    \new Voice =
      &quot;bassusNotes&quot; &lt;&lt; \global \bassusNotes &gt;&gt;
    \new Lyrics =
      &quot;bassusLyrics&quot; \lyricsto bassusNotes { \bassusLyrics }
  &gt;&gt;
  \layout {
    \context {
      \Score

      % no bars in staves
      \override BarLine #'transparent = ##t

      % incipit should not start with a start delimiter
      \remove &quot;System_start_delimiter_engraver&quot;
    }
    \context {
      \Voice

      % no slurs
      \override Slur #'transparent = ##t

      % Comment in the below &quot;\remove&quot; command to allow line
      % breaking also at those barlines where a note overlaps
      % into the next bar.  The command is commented out in this
      % short example score, but especially for large scores, you
      % will typically yield better line breaking and thus improve
      % overall spacing if you comment in the following command.
      %\remove &quot;Forbid_line_break_engraver&quot;
    }
  }
}




</pre><p>
 <a href="02/lily-e334b25a.ly">
  <img align="middle"
       border="0"
       src="02/lily-e334b25a.png"
       alt="[image of music]">
 </a>
</p>




<a name="jazz-combo-template.ly"></a>
<hr size="6">
<a name="Templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Templates" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Orchestra" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Orchestra &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Jazz combo template</h2>


<p>This is quite an advanced template, for a jazz ensemble. Note that all
instruments are notated in <code>\key c \major</code>. This refers to the
key in concert pitch; the key will be automatically transposed if the
music is within a <code>\transpose</code> section.
</p>

<pre class="verbatim">\header {
  title = &quot;Song&quot;
  subtitle = &quot;(tune)&quot;
  composer = &quot;Me&quot;
  meter = &quot;moderato&quot;
  piece = &quot;Swing&quot;
  tagline = \markup {
    \column {
      &quot;LilyPond example file by Amelie Zapf,&quot;
      &quot;Berlin 07/07/2003&quot;
    }
  }
}

%#(set-global-staff-size 16)
\include &quot;english.ly&quot;

%%%%%%%%%%%% Some macros %%%%%%%%%%%%%%%%%%%

sl = {
  \override NoteHead #'style = #'slash
  \override Stem #'transparent = ##t
}
nsl = {
  \revert NoteHead #'style
  \revert Stem #'transparent
}
crOn = \override NoteHead #'style = #'cross
crOff = \revert NoteHead #'style

%% insert chord name style stuff here.

jazzChords = { }

%%%%%%%%%%%% Keys'n'thangs %%%%%%%%%%%%%%%%%

global = { \time 4/4 }

Key = { \key c \major }

% ############ Horns ############

% ------ Trumpet ------
trpt = \transpose c d \relative c'' {
  \Key
  c1 | c | c |
}
trpHarmony = \transpose c' d {
  \jazzChords
}
trumpet = {
  \global
  \set Staff.instrumentName = #&quot;Trumpet&quot;
  \clef treble
  &lt;&lt;
    \trpt
  &gt;&gt;
}

% ------ Alto Saxophone ------
alto = \transpose c a \relative c' {
  \Key
  c1 | c | c |
}
altoHarmony = \transpose c' a {
  \jazzChords
}
altoSax = {
  \global
  \set Staff.instrumentName = #&quot;Alto Sax&quot;
  \clef treble
  &lt;&lt;
    \alto
  &gt;&gt;
}

% ------ Baritone Saxophone ------
bari = \transpose c a' \relative c {
  \Key
  c1
  c1
  \sl
  d4^&quot;Solo&quot; d d d
  \nsl
}
bariHarmony = \transpose c' a \chordmode {
  \jazzChords s1 s d2:maj e:m7
}
bariSax = {
  \global
  \set Staff.instrumentName = #&quot;Bari Sax&quot;
  \clef treble
  &lt;&lt;
    \bari
  &gt;&gt;
}

% ------ Trombone ------
tbone = \relative c {
  \Key
  c1 | c | c
}
tboneHarmony = \chordmode {
  \jazzChords
}
trombone = {
  \global
  \set Staff.instrumentName = #&quot;Trombone&quot;
  \clef bass
  &lt;&lt;
    \tbone
  &gt;&gt;
}

% ############ Rhythm Section #############

% ------ Guitar ------
gtr = \relative c'' {
  \Key
  c1
  \sl
  b4 b b b
  \nsl
  c1
}
gtrHarmony = \chordmode {
  \jazzChords
  s1 c2:min7+ d2:maj9
}
guitar = {
  \global
  \set Staff.instrumentName = #&quot;Guitar&quot;
  \clef treble
  &lt;&lt;
    \gtr
  &gt;&gt;
}

%% ------ Piano ------
rhUpper = \relative c'' {
  \voiceOne
  \Key
  c1 | c | c
}
rhLower = \relative c' {
  \voiceTwo
  \Key
  e1 | e | e
}

lhUpper = \relative c' {
  \voiceOne
  \Key
  g1 | g | g
}
lhLower = \relative c {
  \voiceTwo
  \Key
  c1 | c | c
}

PianoRH = {
  \clef treble
  \global
  \set Staff.midiInstrument = #&quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \rhUpper
    \new Voice = &quot;two&quot; \rhLower
  &gt;&gt;
}
PianoLH = {
  \clef bass
  \global
  \set Staff.midiInstrument = &quot;acoustic grand&quot;
  &lt;&lt;
    \new Voice = &quot;one&quot; \lhUpper
    \new Voice = &quot;two&quot; \lhLower
  &gt;&gt;
}

piano = {
  &lt;&lt;
    \set PianoStaff.instrumentName = #&quot;Piano&quot;
    \new Staff = &quot;upper&quot; \PianoRH
    \new Staff = &quot;lower&quot; \PianoLH
  &gt;&gt;
}

% ------ Bass Guitar ------
Bass = \relative c {
  \Key
  c1 | c | c
}
bass = {
  \global
  \set Staff.instrumentName = #&quot;Bass&quot;
  \clef bass
  &lt;&lt;
    \Bass
  &gt;&gt;
}

% ------ Drums ------
up = \drummode {
  \voiceOne
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
  hh4 &lt;hh sn&gt; hh &lt;hh sn&gt;
}
down = \drummode {
  \voiceTwo
  bd4 s bd s
  bd4 s bd s
  bd4 s bd s
}

drumContents = {
  \global
  &lt;&lt;
    \set DrumStaff.instrumentName = #&quot;Drums&quot;
    \new DrumVoice \up
    \new DrumVoice \down
  &gt;&gt;
}

%%%%%%%%% It All Goes Together Here %%%%%%%%%%%%%%%%%%%%%%

\score {
  &lt;&lt;
    \new StaffGroup = &quot;horns&quot; &lt;&lt;
      \new Staff = &quot;trumpet&quot; \trumpet
      \new Staff = &quot;altosax&quot; \altoSax
      \new ChordNames = &quot;barichords&quot; \bariHarmony
      \new Staff = &quot;barisax&quot; \bariSax
      \new Staff = &quot;trombone&quot; \trombone
    &gt;&gt;
    
    \new StaffGroup = &quot;rhythm&quot; &lt;&lt;
      \new ChordNames = &quot;chords&quot; \gtrHarmony
      \new Staff = &quot;guitar&quot; \guitar
      \new PianoStaff = &quot;piano&quot; \piano
      \new Staff = &quot;bass&quot; \bass
      \new DrumStaff \drumContents
    &gt;&gt;
  &gt;&gt;
  
  \layout {
    \context { \RemoveEmptyStaffContext }
    \context {
      \Score
      \override BarNumber #'padding = #3
      \override RehearsalMark #'padding = #2
      skipBars = ##t
    }
  }
  
  \midi { }
}

</pre><p>
 <a href="4e/lily-20354a0d.ly">
  <img align="middle"
       border="0"
       src="4e/lily-20354a0d.png"
       alt="[image of music]">
 </a>
</p>




<a name="orchestra,-choir-and-piano-template.ly"></a>
<hr size="6">
<a name="Orchestra"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Templates" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Orchestra" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Orchestra"></a>
<h2 class="unnumberedsec">Orchestra, choir and piano template</h2>


<p>This template demonstrates the use of nested <code>StaffGroup</code> and
<code>GrandStaff</code> contexts to sub-group instruments of the same type
together, and the use of <code>\transpose</code> for transposing
instruments.  All music in variables is stored in C.  Music may be
entered in C or, alternatively, entered in the instrument key and
transposed to C before being assigned to a variable.
</p>

<pre class="verbatim">#(set-global-staff-size 17)

\paper {
  indent = 3.0\cm
  short-indent = 1.5\cm
}

fluteMusic = \relative c { \key c \major c'1 d }
oboeMusic = \relative c { \key c \major c'1 d }
clarinetMusic = \relative c { \key c \major c'1 d }
bassoonMusic = \relative c { \clef bass \key c \major c1 d }
trumpetMusic = \relative c { \key c \major c''1 d }
tromboneMusic = \relative c { \key c \major c1 d }
hornIMusic = \relative c { c'1 d }
hornIIMusic = \relative c { c1 d }
percussionMusic = \relative c { \key c \major c1 d }
sopranoMusic = \relative c'' { \key c \major c1 d }
sopranoLyrics = \lyricmode { Sop -- ra }
altoIMusic = \relative c' { \key c \major c1 d }
altoILyrics = \lyricmode { A -- one }
altoIIMusic = \relative c' { \key c \major c1 d }
altoIILyrics = \lyricmode { A -- two }
tenorMusic = \relative c' { \key c \major c1 d }
tenorLyrics = \lyricmode { Ten -- or }
pianoRHMusic = \relative c { \key c \major c'1 d }
pianoLHMusic = \relative c { \key c \major c1 d }
violinIMusic = \relative c { \key c \major c'1 d }
violinIIMusic = \relative c { \key c \major c'1 d }
violaMusic = \relative c { \clef alto \key c \major c'1 d }
celloMusic = \relative c { \clef bass \key c \major c1 d }
bassMusic = \relative c { \clef &quot;bass_8&quot; \key c \major c,1 d }

\score {
  \new GrandStaff = &quot;GrandStaff_score&quot; &lt;&lt;
    \new StaffGroup = &quot;StaffGroup_woodwinds&quot; &lt;&lt;
      \new Staff = &quot;Staff_flute&quot; {
        \set Staff.instrumentName = #&quot;Flute&quot;
        \fluteMusic
      }
      \new Staff = &quot;Staff_oboe&quot; {
        \set Staff.instrumentName = #&quot;Oboe&quot;
        \oboeMusic
      }
      \new Staff = &quot;Staff_clarinet&quot; {
        \set Staff.instrumentName = \markup \concat { &quot;Clarinet in B&quot; \flat }
        \transposition bes
        \transpose bes c' \clarinetMusic
      }
      \new Staff = &quot;Staff_bassoon&quot; {
        \set Staff.instrumentName = #&quot;Bassoon&quot;
        \bassoonMusic
      }
    &gt;&gt;
    \new StaffGroup = &quot;StaffGroup_brass&quot; &lt;&lt;
      \new GrandStaff &lt;&lt;
        \new Staff = &quot;Staff_hornI&quot; {
          \set Staff.instrumentName = #&quot;Horn I&quot;
          \transposition f
          \transpose f c' \hornIMusic
        }
        \new Staff = &quot;Staff_hornII&quot; {
          \set Staff.instrumentName = #&quot;Horn II&quot;
          \clef bass
          \transposition f'
          \transpose f c \hornIIMusic
        }
      &gt;&gt;
      \new Staff = &quot;Staff_trumpet&quot; {
        \set Staff.instrumentName = #&quot;Trumpet in C&quot;
        \trumpetMusic
      }
      \new Staff = &quot;Staff_trombone&quot; {
        \set Staff.instrumentName = #&quot;Trombone&quot;
        \clef bass
        \tromboneMusic
      }
    &gt;&gt;
    \new RhythmicStaff = &quot;RhythmicStaff_percussion&quot; &lt;&lt;
      \set RhythmicStaff.instrumentName = #&quot;Percussion&quot;
      \percussionMusic
    &gt;&gt;
    \new PianoStaff &lt;&lt;
      \set PianoStaff.instrumentName = #&quot;Piano&quot;
      \new Staff { \pianoRHMusic }
      \new Staff {
        \clef bass
        \pianoLHMusic
      }
    &gt;&gt;
    \new ChoirStaff = &quot;ChoirStaff_choir&quot; &lt;&lt;
      \new Staff = &quot;Staff_soprano&quot; {
        \set Staff.instrumentName = #&quot;Soprano&quot;
        \new Voice = &quot;soprano&quot;
        \sopranoMusic
      }
      \new Lyrics \lyricsto &quot;soprano&quot; { \sopranoLyrics }
      \new GrandStaff = &quot;GrandStaff_altos&quot; \with { \accepts Lyrics } &lt;&lt;
        \new Staff = &quot;Staff_altoI&quot;  {
          \set Staff.instrumentName = #&quot;Alto I&quot;
          \new Voice = &quot;altoI&quot;
          \altoIMusic
        }
        \new Lyrics \lyricsto &quot;altoI&quot; { \altoILyrics }
        \new Staff = &quot;Staff_altoII&quot; {
          \set Staff.instrumentName = #&quot;Alto II&quot;
          \new Voice = &quot;altoII&quot;
          \altoIIMusic
        }
        \new Lyrics \lyricsto &quot;altoII&quot; { \altoIILyrics }
      &gt;&gt;
      \new Staff = &quot;Staff_tenor&quot; {
        \set Staff.instrumentName = #&quot;Tenor&quot;
        \clef &quot;treble_8&quot;
        \new Voice = &quot;tenor&quot;
        \tenorMusic
      }
      \new Lyrics \lyricsto &quot;tenor&quot; { \tenorLyrics }
    &gt;&gt;
    \new StaffGroup = &quot;StaffGroup_strings&quot; &lt;&lt;
      \new GrandStaff = &quot;GrandStaff_violins&quot; &lt;&lt;
        \new Staff = &quot;Staff_violinI&quot; {
          \set Staff.instrumentName = #&quot;Violin I&quot;
          \violinIMusic
        }
        \new Staff = &quot;Staff_violinII&quot; {
          \set Staff.instrumentName = #&quot;Violin II&quot;
          \violinIIMusic
        }
      &gt;&gt;
      \new Staff = &quot;Staff_viola&quot; {
        \set Staff.instrumentName = #&quot;Viola&quot;
        \violaMusic
      }
      \new Staff = &quot;Staff_cello&quot; {
        \set Staff.instrumentName = #&quot;Cello&quot;
        \celloMusic
      }
      \new Staff = &quot;Staff_bass&quot; {
        \set Staff.instrumentName = #&quot;Double Bass&quot;
        \bassMusic
      }
    &gt;&gt;
  &gt;&gt;
}
</pre><p>
 <a href="3e/lily-a73c07ba.ly">
  <img align="middle"
       border="0"
       src="3e/lily-a73c07ba.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-simple.ly"></a>
<hr size="6">
<a name="Orchestra"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Orchestra" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Orchestra&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Orchestra" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Piano template (simple)</h2>


<p>Here is a simple piano staff with some notes.
</p>

<pre class="verbatim">upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

\score {
  \new PianoStaff &lt;&lt;
    \set PianoStaff.instrumentName = #&quot;Piano  &quot;
    \new Staff = &quot;upper&quot; \upper
    \new Staff = &quot;lower&quot; \lower
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="92/lily-ff74007a.ly">
  <img align="middle"
       border="0"
       src="92/lily-ff74007a.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-centered-dynamics.ly"></a>
<hr size="6">
<a name="Orchestra"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Orchestra" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Orchestra" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Piano template with centered dynamics</h2>


<p>Many piano scores have the dynamics centered between the two staves.
This requires a bit of tweaking to implement, but since the template is
right here, you don&rsquo;t have to do the tweaking yourself.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

upper = \relative c'' {
  \clef treble
  a4 b c d
}

lower = \relative c {
  \clef bass
  a2 c
}

dynamics = {
  s2\fff\&gt; s4 s\!\pp
}

pedal = {
  s2\sustainOn s\sustainOff
}

\score {
  \new PianoStaff = &quot;PianoStaff_pf&quot; &lt;&lt;
    \new Staff = &quot;Staff_pfUpper&quot; &lt;&lt; \global \upper &gt;&gt;
    \new Dynamics = &quot;Dynamics_pf&quot; \dynamics
    \new Staff = &quot;Staff_pfLower&quot; &lt;&lt; \global \lower &gt;&gt;
    \new Dynamics = &quot;pedal&quot; \pedal
  &gt;&gt;

  \layout {
    % define Dynamics context
    \context {
      \type &quot;Engraver_group&quot;
      \name Dynamics
      \alias Voice
      \consists &quot;Output_property_engraver&quot;
      \consists &quot;Piano_pedal_engraver&quot;
      \consists &quot;Script_engraver&quot;
      \consists &quot;New_dynamic_engraver&quot;
      \consists &quot;Dynamic_align_engraver&quot;
      \consists &quot;Text_engraver&quot;
      \consists &quot;Skip_event_swallow_translator&quot;
      \consists &quot;Axis_group_engraver&quot;

      pedalSustainStrings = #'(&quot;Ped.&quot; &quot;*Ped.&quot; &quot;*&quot;)
      pedalUnaCordaStrings = #'(&quot;una corda&quot; &quot;&quot; &quot;tre corde&quot;)
      \override DynamicLineSpanner #'Y-offset = #0
      \override TextScript #'font-size = #2
      \override TextScript #'font-shape = #'italic
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-1 . 1)
    }
    % modify PianoStaff context to accept Dynamics context
    \context {
      \PianoStaff
      \accepts Dynamics
    }
  }
}

\score {
  \new PianoStaff = &quot;PianoStaff_pf&quot; &lt;&lt;
    \new Staff = &quot;Staff_pfUpper&quot; &lt;&lt; \global \upper \dynamics \pedal &gt;&gt;
    \new Staff = &quot;Staff_pfLower&quot; &lt;&lt; \global \lower \dynamics \pedal &gt;&gt;
  &gt;&gt;
  \midi { }
}
</pre><p>
 <a href="4a/lily-6f94be39.ly">
  <img align="middle"
       border="0"
       src="4a/lily-6f94be39.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-centered-lyrics.ly"></a>
<hr size="6">
<a name="Orchestra"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Orchestra" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Orchestra" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Piano template with centered lyrics</h2>


<p>Instead of having a full staff for the melody and lyrics, lyrics can be
centered between the staves of a piano staff.
</p>

<pre class="verbatim">upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

\score {
  \new GrandStaff &lt;&lt;
    \new Staff = upper { \new Voice = &quot;singer&quot; \upper }
    \new Lyrics \lyricsto &quot;singer&quot; \text
    \new Staff = lower { \lower }
  &gt;&gt;
  \layout {
    \context {
      \GrandStaff
      \accepts &quot;Lyrics&quot;
    }
    \context {
      \Lyrics
      \consists &quot;Bar_engraver&quot;
    }
  }
  \midi { }
}

</pre><p>
 <a href="a9/lily-1d5833a3.ly">
  <img align="middle"
       border="0"
       src="a9/lily-1d5833a3.png"
       alt="[image of music]">
 </a>
</p>




<a name="piano-template-with-melody-and-lyrics.ly"></a>
<hr size="6">
<a name="Orchestra"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Orchestra" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Score for diatonic accordion &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Piano template with melody and lyrics</h2>


<p>Here is a typical song format: one staff with the melody and lyrics,
with piano accompaniment underneath. 
</p>

<pre class="verbatim">melody = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a b c d  
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

upper = \relative c'' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d  
}

lower = \relative c {
  \clef bass
  \key c \major
  \time 4/4
  
  a2 c  
}

\score {
  &lt;&lt;
    \new Voice = &quot;mel&quot; { \autoBeamOff \melody }
    \new Lyrics \lyricsto mel \text    
    \new PianoStaff &lt;&lt;
      \new Staff = &quot;upper&quot; \upper
      \new Staff = &quot;lower&quot; \lower
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context { \RemoveEmptyStaffContext }
  }
  \midi { }
}

</pre><p>
 <a href="62/lily-c6e42fc9.ly">
  <img align="middle"
       border="0"
       src="62/lily-c6e42fc9.png"
       alt="[image of music]">
 </a>
</p>




<a name="score-for-diatonic-accordion.ly"></a>
<hr size="6">
<a name="Score-for-diatonic-accordion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Orchestra" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Score-for-diatonic-accordion"></a>
<h2 class="unnumberedsec">Score for diatonic accordion</h2>


<p>A template to write a score for a diatonic accordion.
</p>
<p>- There is a horizontal staff indicating if the accordion must be
pushed (thick line) or pulled (thin line)
</p>
<p>- There is a small rhythmic staff with lyrics that describes the bass
buttons to press. The bar lines are made from gridlines
</p>
<p>- The tabulator staff for diatonic accordions shows the geographic
position of the buttons and not (as for every other instrument) the
pitch of the notes; the keys on the melody-side of the accordion are
placed in three columns and about 12 rows
</p>

<p>In the tabulator staff notation the outermost column is described with
notes between lines, the innermost column is described with notes
between lines and a cross as accidental, and the middle column is
described with notes on a line, whereby the row in the middle is
represented on the middle line in the staff.
</p>

<p>Some words to transpose piano notes to the diatonic accordion:
</p>

<p>1. Every diatonic accordion is built for some keys only (for example,
for the keys of C major and F major), so it is important to transpose a
piano melody to match one of these keys. Transpose the source code, not
only the output because this code is required later on to translate it
once more to the tabulator staff. This can be done with the command
<code>displayLilyMusic</code>.
</p>

<p>2. You have to alternate the push- and pull-direction of the accordion
regularly. If the player has a too long part to pull the accordion gets
broken. On the other hand, some harmonies are only available in one
direction. Considering this, decide which parts of the melody are the
push-parts and which the pull-parts.
</p>

<p>3. For each pull- or push-part translate the piano notes to the
according tabulature representation.
</p>

<p>This snippet comes with a useful optional macro for the jEdit text
editor. 
</p>

<pre class="verbatim">verse = \lyricmode { Wie gross bist du! Wie gross bist du! }

harmonies = \new ChordNames \chordmode {
  \germanChords
  \set chordChanges = ##t
	bes8 bes8 bes8
  es2 f
  bes1
}

NoStem = \override Stem #'transparent = ##t
NoNoteHead = \override NoteHead #'transparent = ##t
ZeroBeam = \override Beam  #'positions = #'(0 . 0)

staffTabLine = \new Staff \with {
  \remove &quot;Time_signature_engraver&quot;
  \remove &quot;Clef_engraver&quot;
} {
  \override Staff.StaffSymbol #'line-positions = #'(0)
% Shows one horizontal line. The vertical line (simulating a bar-line) is simulated with a gridline
	\set Staff.midiInstrument = #&quot;choir aahs&quot;
	\key c \major
	\relative c''
		{  
			% disable the following line to see the the noteheads while writing the song 
			\NoNoteHead  
			\override NoteHead #'no-ledgers = ##t

			% The beam between 8th-notes is used to draw the push-line
			%How to fast write the push-lines: 
			%	 1. write repeatedly 'c c c c c c c c |' for the whole length of the song 
			%	 2. uncomment the line \NoNoteHead
			%	 3. compile
			%	 4. Mark the positions on which push/pull changes. 
			%	    In the score-picture click on the position the push- or pull-part starts 
                        %           (on the noteHead, the cursor will change to a hand-icon).
			%	    The cursor in the source code will jump just at this position.
			%	  a) If a push-part starts there, replace the 'c' by an 'e['
			%	  b) If a pull-part starts there, replace the 'c' by an 's'
			%	 5. Switch into 'overwrite-mode' by pressing the 'ins' key. 
			%	 6. For the pull-parts overwrite the 'c' with 's' 
			%	 7. For every push-part replace the last 'c' with 'e]' 
			%        8. Switch into 'insert-mode' again 
			%	 9. At last it should look lik e.g. (s s e[ c | c c c c c c c c | c c c c c c e] s s)
			%	10. re-enable the line \NoNoteHead
			\autoBeamOff
			\ZeroBeam 
			 s8 s s e[ c c c c c c e] | s s s s s 
		}
}

%{
%}

% Accordion melody in tabulator score		
% 1. Place a copy of the piano melody below
% 2. Separate piano melody into pull- and push-parts according to the staffTabLine you've already made      
% 3. For each line: Double the line. Remark the 1st one (Keeps unchanged as reference) and then change the second line using the transformation paper
%    or the macros 'conv2diaton push.bsh' and 'conv2diaton pull.bsh' 
% Tips:
% - In jEdit Search &amp; Replace mark the Option 'Keep Dialog'

AccordionTabTwoCBesDur = {
 % pull 1
 %&lt;f' bes'&gt;8 &lt;f' a'&gt;8 &lt;d' bes'&gt;8 | 
&lt;g'' a''&gt;8 &lt;g'' b''&gt;8 &lt;e'' a''&gt;8 | 
 % push 2
 %&lt;g' c''&gt;4 &lt;f' d''&gt; &lt;g' ees''&gt; &lt;f' a'&gt; | 
&lt;g'' a''&gt;4 &lt;d'' eisis''&gt; &lt;g'' bisis''&gt; &lt;d'' f''&gt; | 
 % pull 3
% &lt;f' bes'&gt;2 r8 }
 &lt;g'' a''&gt;2 r8 }

  AccordionTab= { \dynamicUp		
% 1. Place a copy of the piano melody above
% 2. Separate piano melody into pull- and push-parts according to the staffTabLine you've already made      
% 3. For each line: Double the line. Remark the 1st one (Keeps unchanged as reference) and then 
%    change the second line using the transformation paper
% Tips:
% - In jEdit Search &amp; Replace mark the Option 'Keep Dialog'
% - 
\AccordionTabTwoCBesDur
 }


 
 \layout {   
 \context {
   \Staff    	  
   \consists &quot;Grid_point_engraver&quot;

   gridInterval = #(ly:make-moment 4 4) % 4/4 - tact. How many beats per bar

   % The following line has to be adjusted O-F-T-E-N.
   \override GridPoint #'Y-extent = #'(-2 . -21)   
 }
 \context {
    \ChoirStaff
    \remove &quot;System_start_delimiter_engraver&quot; 
 }
}

staffVoice = \new Staff=astaffvoice  {
	\time 4/4
	\set Staff.instrumentName=&quot;Voice&quot;
	\set Staff.midiInstrument=&quot;voice oohs&quot;
	\key bes \major
	\partial 8*3 
	\clef treble
	{ 	
		\context Voice = &quot;melodyVoi&quot; 
		{ &lt;f' bes'&gt;8 &lt;f' a'&gt;8 &lt;d' bes'&gt;8 | &lt;g' c''&gt;4 &lt;f' d''&gt; &lt;g' es''&gt; &lt;f' a'&gt; | &lt;f' bes'&gt;2 r8 }
	\bar &quot;|.&quot;
	}
}

staffAccordionMel = \new Staff  \with { \remove &quot;Clef_engraver&quot; } {
	#(set-accidental-style 'forget) %Set the accidentals (Vorzeichen) for each note, 
					%do not remember them for the rest of the measure.  
	\time 4/4
	\set Staff.instrumentName=&quot;Accordion&quot;
	\set Staff.midiInstrument=&quot;voice oohs&quot;
	\key c \major
	\clef treble
	{ \AccordionTab \bar &quot;|.&quot; }
}

	AltOn = #(define-music-function (parser location mag) (number?)
        	#{ \override Stem #'length = #$(* 7.0 mag)
		\override NoteHead #'font-size =
		#$(inexact-&gt;exact (* (/ 6.0 (log 2.0)) (log mag))) #})
     
	AltOff = {
		\revert Stem #'length
		\revert NoteHead #'font-size
		}

BassRhytm = {s4 s8 | c2 c2 | c2 s8 }
LyricBassRhythmI=  \lyricmode { c b | c }

staffBassRhytm = \new Staff=staffbass  \with { \remove &quot;Clef_engraver&quot; } {
	% This is not a RhythmicStaff  because it must be possible to append lyrics.
		
	\override Score.GridLine #'extra-offset = #'( 13.0 . 0.0 ) % x.y
	\override Staff.StaffSymbol #'line-positions = #'( 0 ) 
        % Shows one horizontal line. The vertical line (simulating a bar-line) is simulated by a grid
        % Search for 'grid' in this page to find all related functions 
	\time 4/4
	{ 	
		\context Voice = &quot;VoiceBassRhytm&quot; 
		\stemDown \AltOn #0.6
		\relative c''
		{   
		\BassRhytm
		}
		\AltOff
	\bar &quot;|.&quot;
	}
}

\new Score 
\with {
 \consists &quot;Grid_line_span_engraver&quot; %The vertical line (simulating a bar-line) in the staffBassRhytm is a gridline 
}
\new ChoirStaff 
	&lt;&lt;
		\harmonies 
		\staffVoice
		\context Lyrics = &quot;lmelodyVoi&quot; \with {alignBelowContext=astaffvoice} { \lyricsto &quot;melodyVoi&quot; \verse }
		\staffAccordionMel
		\staffTabLine
		\staffBassRhytm
	\context Lyrics = &quot;lBassRhytmAboveI&quot; \with {alignAboveContext=staffbass} \lyricsto VoiceBassRhytm \LyricBassRhythmI
	&gt;&gt;
%}

</pre><p>
 <a href="3f/lily-d9df2b5f.ly">
  <img align="middle"
       border="0"
       src="3f/lily-d9df2b5f.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes,-lyrics,-and-chords.ly"></a>
<hr size="6">
<a name="Score-for-diatonic-accordion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Score for diatonic accordion&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Single staff template with notes, lyrics, and chords</h2>


<p>This template allows the preparation of a song with melody, words, and
chords. 
</p>

<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

harmonies = \chordmode {
  a2 c
}

\score {
  &lt;&lt;
    \new ChordNames {
      \set chordChanges = ##t
      \harmonies
    }
    \new Voice = &quot;one&quot; { \autoBeamOff \melody }
    \new Lyrics \lyricsto &quot;one&quot; \text
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="be/lily-11b65b1b.ly">
  <img align="middle"
       border="0"
       src="be/lily-11b65b1b.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes,-lyrics,-chords-and-frets.ly"></a>
<hr size="6">
<a name="Score-for-diatonic-accordion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Single staff template with notes, lyrics, chords and frets</h2>


<p>Here is a simple lead sheet template with melody, lyrics, chords and
fret diagrams.
</p>

<pre class="verbatim">verseI = \lyricmode {
  \set stanza = #&quot;1.&quot;
  This is the first verse
}

verseII = \lyricmode {
  \set stanza = #&quot;2.&quot;
  This is the second verse.
}

theChords = \chordmode {
  % insert chords for chordnames and fretboards here
  c2 g4 c
}

staffMelody = \relative c' {
   \key c \major
   \clef treble
   % Type notes for melody here
   c4 d8 e f4 g
   \bar &quot;|.&quot;
}

\score {
  &lt;&lt;
    \context ChordNames { \theChords }
    \context FretBoards { \theChords }
    \new Staff {
      \context Voice = &quot;voiceMelody&quot; { \staffMelody }
    }
    \new Lyrics = &quot;lyricsI&quot; {
      \lyricsto &quot;voiceMelody&quot; \verseI
    }
    \new Lyrics = &quot;lyricsII&quot; {
      \lyricsto &quot;voiceMelody&quot; \verseII
    }
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="85/lily-0e9127ce.ly">
  <img align="middle"
       border="0"
       src="85/lily-0e9127ce.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes-and-chords.ly"></a>
<hr size="6">
<a name="Score-for-diatonic-accordion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Single staff template with notes and chords</h2>


<p>Want to prepare a lead sheet with a melody and chords? Look no further!
</p>


<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  f4 e8[ c] d4 g
  a2 ~ a
}

harmonies = \chordmode {
  c4:m f:min7 g:maj c:aug
  d2:dim b:sus
}

\score {
  &lt;&lt;
    \new ChordNames {
      \set chordChanges = ##t
      \harmonies
    }
    \new Staff \melody
  &gt;&gt;  
  \layout{ }
  \midi { }
}

</pre><p>
 <a href="ec/lily-eeb1a4e9.ly">
  <img align="middle"
       border="0"
       src="ec/lily-eeb1a4e9.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-notes-and-lyrics.ly"></a>
<hr size="6">
<a name="Score-for-diatonic-accordion"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp;Single staff template with only notes &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Single staff template with notes and lyrics</h2>


<p>This small template demonstrates a simple melody with lyrics. Cut and
paste, add notes, then words for the lyrics. This example turns off
automatic beaming, which is common for vocal parts. To use automatic
beaming, change or comment out the relevant line.
</p>

<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d
}

text = \lyricmode {
  Aaa Bee Cee Dee
}

\score{
  &lt;&lt;
    \new Voice = &quot;one&quot; {
      \autoBeamOff
      \melody
    }
    \new Lyrics \lyricsto &quot;one&quot; \text
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="cc/lily-0df0fb81.ly">
  <img align="middle"
       border="0"
       src="cc/lily-0df0fb81.png"
       alt="[image of music]">
 </a>
</p>




<a name="single-staff-template-with-only-notes.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-only-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Score-for-diatonic-accordion" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="Single-staff-template-with-only-notes"></a>
<h2 class="unnumberedsec">Single staff template with only notes</h2>


<p>This very simple template gives you a staff with notes, suitable for a
solo instrument or a melodic fragment. Cut and paste this into a file,
add notes, and you&rsquo;re finished! 
</p>

<pre class="verbatim">melody = \relative c' {
  \clef treble
  \key c \major
  \time 4/4
  
  a4 b c d
}

\score {
  \new Staff \melody
  \layout { }
  \midi { }
}

</pre><p>
 <a href="bc/lily-88ebb612.ly">
  <img align="middle"
       border="0"
       src="bc/lily-88ebb612.png"
       alt="[image of music]">
 </a>
</p>




<a name="string-quartet-template-simple.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-only-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; Single staff template with only notes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">String quartet template (simple)</h2>


<p>This template demonstrates a simple string quartet. It also uses a
<code>\global</code> section for time and key signatures
</p>

<pre class="verbatim">global= {
  \time 4/4
  \key c \major
}

violinOne = \new Voice \relative c'' {
  \set Staff.instrumentName = #&quot;Violin 1 &quot;
  
  c2 d
  e1
  
  \bar &quot;|.&quot;
}
 
violinTwo = \new Voice \relative c'' {
  \set Staff.instrumentName = #&quot;Violin 2 &quot;
  
  g2 f
  e1
  
  \bar &quot;|.&quot;
}

viola = \new Voice \relative c' {
  \set Staff.instrumentName = #&quot;Viola &quot;  
  \clef alto
  
  e2 d
  c1
  
  \bar &quot;|.&quot;
}

cello = \new Voice \relative c' {
  \set Staff.instrumentName = #&quot;Cello &quot;
  \clef bass
  
  c2 b
  a1
  
  \bar &quot;|.&quot;
}

\score {
  \new StaffGroup &lt;&lt;
    \new Staff &lt;&lt; \global \violinOne &gt;&gt;
    \new Staff &lt;&lt; \global \violinTwo &gt;&gt;
    \new Staff &lt;&lt; \global \viola &gt;&gt;
    \new Staff &lt;&lt; \global \cello &gt;&gt;
  &gt;&gt;
  \layout { }
  \midi { }
}

</pre><p>
 <a href="85/lily-3d9c96b5.ly">
  <img align="middle"
       border="0"
       src="85/lily-3d9c96b5.png"
       alt="[image of music]">
 </a>
</p>




<a name="string-quartet-template-with-separate-parts.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-only-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">String quartet template with separate parts</h2>


<p>The &quot;String quartet template&quot; snippet produces a nice string quartet,
but what if you needed to print parts? This new template demonstrates
how to use the <code>\tag</code> feature to easily split a piece into
individual parts.
</p>
<p>You need to split this template into separate files; the filenames are
contained in comments at the beginning of each file. <code>piece.ly</code>
contains all the music definitions. The other files – <code>score.ly</code>,
<code>vn1.ly</code>, <code>vn2.ly</code>, <code>vla.ly</code>, and <code>vlc.ly</code> –
produce the appropriate part.
</p>

<p>Do not forget to remove specified comments when using separate files! 
</p>

<pre class="verbatim">%%%%% piece.ly
%%%%% (This is the global definitions file)

global= {
  \time 4/4
  \key c \major
}

Violinone = \new Voice { \relative c''{
  \set Staff.instrumentName = #&quot;Violin 1 &quot;

  c2 d e1

\bar &quot;|.&quot; }}   %*********************************
Violintwo = \new Voice { \relative c''{
  \set Staff.instrumentName = #&quot;Violin 2 &quot;

  g2 f e1

\bar &quot;|.&quot; }}   %*********************************
Viola = \new Voice { \relative c' {
  \set Staff.instrumentName = #&quot;Viola &quot;
  \clef alto

  e2 d c1

\bar &quot;|.&quot; }}   %*********************************
Cello = \new Voice { \relative c' {
  \set Staff.instrumentName = #&quot;Cello &quot;
  \clef bass

  c2 b a1

\bar &quot;|.&quot;}}   %**********************************

music = {
  &lt;&lt;
    \tag #'score \tag #'vn1 \new Staff { &lt;&lt; \global \Violinone &gt;&gt; }
    \tag #'score \tag #'vn2 \new Staff { &lt;&lt; \global \Violintwo&gt;&gt; }
    \tag #'score \tag #'vla \new Staff { &lt;&lt; \global \Viola&gt;&gt; }
    \tag #'score \tag #'vlc \new Staff { &lt;&lt; \global \Cello&gt;&gt; }
  &gt;&gt;
}

%%% These are the other files you need to save on your computer

%%%%% score.ly
%%%%% (This is the main file)


%\include &quot;piece.ly&quot;             %%% uncomment this line when using a separate file
#(set-global-staff-size 14)
\score {
  \new StaffGroup \keepWithTag #'score \music
  \layout { }
  \midi { }
}


%{ Uncomment this block when using separate files

%%%%% vn1.ly
%%%%% (This is the Violin 1 part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vn1 \music
  \layout { }
}


%%%%% vn2.ly
%%%%% (This is the Violin 2 part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vn2 \music
  \layout { }
}


%%%%% vla.ly
%%%%% (This is the Viola part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vla \music
  \layout { }
}


%%%%% vlc.ly
%%%%% (This is the Cello part file)

\include &quot;piece.ly&quot;
\score {
  \keepWithTag #'vlc \music
  \layout { }
}

%}

</pre><p>
 <a href="72/lily-9ef68368.ly">
  <img align="middle"
       border="0"
       src="72/lily-9ef68368.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template-with-automatic-piano-reduction.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-only-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vocal ensemble template with automatic piano reduction</h2>


<p>This template adds an automatic piano reduction to the standard SATB
vocal score demonstrated in &quot;Vocal ensemble template&quot;. This
demonstrates one of the strengths of LilyPond – you can use a music
definition more than once. If any changes are made to the vocal notes
(say, <code>tenorMusic</code>), then the changes will also apply to the piano
reduction.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords =\lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  &lt;&lt;
    \new ChoirStaff &lt;&lt;
      \new Lyrics = sopranos { s1 }
      \new Staff = women &lt;&lt;
        \new Voice = sopranos { \voiceOne &lt;&lt; \global \sopMusic &gt;&gt; }
        \new Voice = altos { \voiceTwo &lt;&lt; \global \altoMusic &gt;&gt; }
      &gt;&gt;
      \new Lyrics = altos { s1 }
      \new Lyrics = tenors { s1 }
      \new Staff = men &lt;&lt;
        \clef bass
        \new Voice = tenors { \voiceOne &lt;&lt;\global \tenorMusic &gt;&gt; }
        \new Voice = basses { \voiceTwo &lt;&lt;\global \bassMusic &gt;&gt; }
      &gt;&gt;
      \new Lyrics = basses { s1 }
      \context Lyrics = sopranos \lyricsto sopranos \sopWords
      \context Lyrics = altos \lyricsto altos \altoWords
      \context Lyrics = tenors \lyricsto tenors \tenorWords
      \context Lyrics = basses \lyricsto basses \bassWords
    &gt;&gt;
    \new PianoStaff &lt;&lt;
      \new Staff &lt;&lt;
        \set Staff.printPartCombineTexts = ##f
        \partcombine
        &lt;&lt; \global \sopMusic &gt;&gt;
        &lt;&lt; \global \altoMusic &gt;&gt;
      &gt;&gt;
      \new Staff &lt;&lt;
        \clef bass
        \set Staff.printPartCombineTexts = ##f
        \partcombine
        &lt;&lt; \global \tenorMusic &gt;&gt;
        &lt;&lt; \global \bassMusic &gt;&gt;
      &gt;&gt;
    &gt;&gt;
  &gt;&gt;
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="fa/lily-db838dfc.ly">
  <img align="middle"
       border="0"
       src="fa/lily-db838dfc.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-only-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Next section in reading order" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h2 class="unnumberedsec">Vocal ensemble template with lyrics aligned below and above the staves</h2>


<p>This template is basically the same as the simple &quot;Vocal ensemble&quot;
template, with the exception that here all the lyrics lines are placed
using <code>alignAboveContext</code> and <code>alignBelowContext</code>.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords = \lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  \new ChoirStaff &lt;&lt;
    \new Staff = women &lt;&lt;
      \new Voice = &quot;sopranos&quot; { \voiceOne &lt;&lt; \global \sopMusic &gt;&gt; }
      \new Voice = &quot;altos&quot; { \voiceTwo &lt;&lt; \global \altoMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = women } \lyricsto sopranos \sopWords
    \new Lyrics \with { alignBelowContext = women } \lyricsto altos \altoWords
    % we could remove the line about this with the line below, since we want
    % the alto lyrics to be below the alto Voice anyway.
    % \new Lyrics \lyricsto altos \altoWords
    
    \new Staff = men &lt;&lt;
      \clef bass
      \new Voice = &quot;tenors&quot; { \voiceOne &lt;&lt; \global \tenorMusic &gt;&gt; }
      \new Voice = &quot;basses&quot; { \voiceTwo &lt;&lt; \global \bassMusic &gt;&gt; }
    &gt;&gt;
    \new Lyrics \with { alignAboveContext = men } \lyricsto tenors \tenorWords
    \new Lyrics \with { alignBelowContext = men } \lyricsto basses \bassWords
    % again, we could replace the line above this with the line below.
    % \new Lyrics \lyricsto basses \bassWords
  &gt;&gt;
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="45/lily-b608b16a.ly">
  <img align="middle"
       border="0"
       src="45/lily-b608b16a.png"
       alt="[image of music]">
 </a>
</p>




<a name="vocal-ensemble-template.ly"></a>
<hr size="6">
<a name="Single-staff-template-with-only-notes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#Templates" title="Beginning of this chapter or previous chapter"> &lt;&lt; Templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#Single-staff-template-with-only-notes" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#Templates" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[&nbsp; &gt; ]</td></tr></table>
<h2 class="unnumberedsec">Vocal ensemble template</h2>


<p>Here is a standard four-part SATB vocal score. With larger ensembles,
it is often useful to include a section which is included in all parts.
For example, the time signature and key signature are almost always the
same for all parts. Like in the &quot;Hymn&quot; template, the four voices are
regrouped on only two staves.
</p>

<pre class="verbatim">global = {
  \key c \major
  \time 4/4
}

sopMusic = \relative c'' {
  c4 c c8[( b)] c4
}
sopWords = \lyricmode {
  hi hi hi hi
}

altoMusic = \relative c' {
  e4 f d e
}
altoWords = \lyricmode {
  ha ha ha ha
}

tenorMusic = \relative c' {
  g4 a f g
}
tenorWords = \lyricmode {
  hu hu hu hu
}

bassMusic = \relative c {
  c4 c g c
}
bassWords = \lyricmode {
  ho ho ho ho
}

\score {
  \new ChoirStaff &lt;&lt;
    \new Lyrics = sopranos { s1 }
    \new Staff = women &lt;&lt;
      \new Voice = &quot;sopranos&quot; {
        \voiceOne
        &lt;&lt; \global \sopMusic &gt;&gt;
      }
      \new Voice = &quot;altos&quot; {
        \voiceTwo
        &lt;&lt; \global \altoMusic &gt;&gt;
      }
    &gt;&gt;
    \new Lyrics = &quot;altos&quot; { s1 }
    \new Lyrics = &quot;tenors&quot; { s1 }
    \new Staff = men &lt;&lt;
      \clef bass
      \new Voice = &quot;tenors&quot; {
        \voiceOne
        &lt;&lt; \global \tenorMusic &gt;&gt;
      }
      \new Voice = &quot;basses&quot; {
        \voiceTwo &lt;&lt; \global \bassMusic &gt;&gt;
      }
    &gt;&gt;
    \new Lyrics = basses { s1 }    
    \context Lyrics = sopranos \lyricsto sopranos \sopWords
    \context Lyrics = altos \lyricsto altos \altoWords
    \context Lyrics = tenors \lyricsto tenors \tenorWords
    \context Lyrics = basses \lyricsto basses \bassWords
  &gt;&gt;  
  \layout {
    \context {
      % a little smaller so lyrics
      % can be closer to the staff
      \Staff
      \override VerticalAxisGroup #'minimum-Y-extent = #'(-3 . 3)
    }
  }
}

</pre><p>
 <a href="3f/lily-e9336a36.ly">
  <img align="middle"
       border="0"
       src="3f/lily-e9336a36.png"
       alt="[image of music]">
 </a>
</p>





<hr size="6">
<a name="SEC_Contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Pitches-1" href="#Pitches">Pitches</a>
  <ul class="toc">
    <li><a name="toc-Adding-ambitus-per-voice-3" href="#Adding-ambitus-per-voice">Adding ambitus per voice</a></li>
    <li><a name="toc-Ambitus-with-multiple-voices-2" href="#Ambitus-with-multiple-voices">Ambitus with multiple voices</a></li>
    <li><a name="toc-Ambitus-2" href="#Ambitus">Ambitus</a></li>
    <li><a name="toc-Applying-note-head-styles-depending-on-the-step-of-the-scale-1" href="#Applying-note-head-styles-depending-on-the-step-of-the-scale">Applying note head styles depending on the step of the scale</a></li>
    <li><a name="toc-Coloring-notes-depending-on-their-pitch-1" href="#Coloring-notes-depending-on-their-pitch">Coloring notes depending on their pitch</a></li>
    <li><a name="toc-Creating-a-sequence-of-notes-on-various-pitches-1" href="#Creating-a-sequence-of-notes-on-various-pitches">Creating a sequence of notes on various pitches</a></li>
    <li><a name="toc-Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals-1" href="#Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals">Dodecaphonic-style accidentals for each note including naturals</a></li>
    <li><a name="toc-Generating-random-notes-1" href="#Generating-random-notes">Generating random notes</a></li>
    <li><a name="toc-Makam-example-2" href="#Makam-example">Makam example</a></li>
    <li><a name="toc-Non_002dtraditional-key-signatures-1" href="#Non_002dtraditional-key-signatures">Non-traditional key signatures</a></li>
    <li><a name="toc-Ottava-text-2" href="#Ottava-text">Ottava text</a></li>
    <li><a name="toc-Preventing-extra-naturals-from-being-automatically-added-1" href="#Preventing-extra-naturals-from-being-automatically-added">Preventing extra naturals from being automatically added</a></li>
    <li><a name="toc-Preventing-natural-signs-from-being-printed-when-the-key-signature-changes-1" href="#Preventing-natural-signs-from-being-printed-when-the-key-signature-changes">Preventing natural signs from being printed when the key signature changes</a></li>
    <li><a name="toc-Quoting-another-voice-with-transposition-1" href="#Quoting-another-voice-with-transposition">Quoting another voice with transposition</a></li>
    <li><a name="toc-Separating-key-cancellations-from-key-signature-changes-1" href="#Separating-key-cancellations-from-key-signature-changes">Separating key cancellations from key signature changes</a></li>
    <li><a name="toc-Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029-1" href="#Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029">Transposing pitches with minimum accidentals (&quot;Smart&quot; transpose)</a></li>
    <li><a name="toc-Tweaking-clef-properties-2" href="#Tweaking-clef-properties">Tweaking clef properties</a></li>
  </ul></li>
  <li><a name="toc-Rhythms-1" href="#Rhythms">Rhythms</a>
  <ul class="toc">
    <li><a name="toc-Adding-beams_002c-slurs_002c-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms" href="#Adding-beams">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</a></li>
    <li><a name="toc-Adding-drum-parts-1" href="#Adding-drum-parts">Adding drum parts</a></li>
    <li><a name="toc-Aligning-bar-numbers-1" href="#Aligning-bar-numbers">Aligning bar numbers</a></li>
    <li><a name="toc-Automatic-beam-subdivisions-1" href="#Automatic-beam-subdivisions">Automatic beam subdivisions</a></li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-1" href="#Avoiding-collisions-with-chord-fingerings">Avoiding collisions with chord fingerings</a></li>
    <li><a name="toc-Beam-endings-in-Score-context-1" href="#Beam-endings-in-Score-context">Beam endings in Score context</a></li>
    <li><a name="toc-Beam-grouping-in-7_002f8-time-1" href="#Beam-grouping-in-7_002f8-time">Beam grouping in 7/8 time</a></li>
    <li><a name="toc-Beams-across-line-breaks-1" href="#Beams-across-line-breaks">Beams across line breaks</a></li>
    <li><a name="toc-Changing-beam-knee-gap-1" href="#Changing-beam-knee-gap">Changing beam knee gap</a></li>
    <li><a name="toc-Changing-form-of-multi_002dmeasure-rests-1" href="#Changing-form-of-multi_002dmeasure-rests">Changing form of multi-measure rests</a></li>
    <li><a name="toc-Changing-the-time-signature-without-affecting-the-beaming-1" href="#Changing-the-time-signature-without-affecting-the-beaming">Changing the time signature without affecting the beaming</a></li>
    <li><a name="toc-Changing-the-tuplet-number-1" href="#Changing-the-tuplet-number">Changing the tuplet number</a></li>
    <li><a name="toc-Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations-1" href="#Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations">Changing time signatures inside a polymetric section using \scaleDurations</a></li>
    <li><a name="toc-Chant-or-psalms-notation-3" href="#Chant-or-psalms-notation">Chant or psalms notation</a></li>
    <li><a name="toc-Compound-time-signatures-1" href="#Compound-time-signatures">Compound time signatures</a></li>
    <li><a name="toc-Conducting-signs_002c-measure-grouping-signs" href="#Conducting-signs">Conducting signs, measure grouping signs</a></li>
    <li><a name="toc-Controlling-tuplet-bracket-visibility-1" href="#Controlling-tuplet-bracket-visibility">Controlling tuplet bracket visibility</a></li>
    <li><a name="toc-Engraving-ties-manually-1" href="#Engraving-ties-manually">Engraving ties manually</a></li>
    <li><a name="toc-Engraving-tremolos-with-floating-beams-2" href="#Engraving-tremolos-with-floating-beams">Engraving tremolos with floating beams</a></li>
    <li><a name="toc-Entering-several-tuplets-using-only-one-_005ctimes-command-1" href="#Entering-several-tuplets-using-only-one-_005ctimes-command">Entering several tuplets using only one \times command</a></li>
    <li><a name="toc-Flat-flags-and-beam-nibs-1" href="#Flat-flags-and-beam-nibs">Flat flags and beam nibs</a></li>
    <li><a name="toc-Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number-1" href="#Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number">Forcing rehearsal marks to start from a given letter or number</a></li>
    <li><a name="toc-Grouping-beats-1" href="#Grouping-beats">Grouping beats</a></li>
    <li><a name="toc-Guitar-strum-rhythms-1" href="#Guitar-strum-rhythms">Guitar strum rhythms</a></li>
    <li><a name="toc-Heavily-customized-polymetric-time-signatures-1" href="#Heavily-customized-polymetric-time-signatures">Heavily customized polymetric time signatures</a></li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-1" href="#Making-an-object-invisible-with-the-_0027transparent-property">Making an object invisible with the &rsquo;transparent property</a></li>
    <li><a name="toc-Manually-controlling-beam-positions-1" href="#Manually-controlling-beam-positions">Manually controlling beam positions</a></li>
    <li><a name="toc-Merging-multi_002dmeasure-rests-in-a-polyphonic-part-1" href="#Merging-multi_002dmeasure-rests-in-a-polyphonic-part">Merging multi-measure rests in a polyphonic part</a></li>
    <li><a name="toc-Modifying-tuplet-bracket-length-1" href="#Modifying-tuplet-bracket-length">Modifying tuplet bracket length</a></li>
    <li><a name="toc-Multi_002dmeasure-rest-markup-1" href="#Multi_002dmeasure-rest-markup">Multi-measure rest markup</a></li>
    <li><a name="toc-Permitting-line-breaks-within-beamed-tuplets-1" href="#Permitting-line-breaks-within-beamed-tuplets">Permitting line breaks within beamed tuplets</a></li>
    <li><a name="toc-Positioning-grace-notes-with-floating-space-1" href="#Positioning-grace-notes-with-floating-space">Positioning grace notes with floating space</a></li>
    <li><a name="toc-Positioning-multi_002dmeasure-rests-1" href="#Positioning-multi_002dmeasure-rests">Positioning multi-measure rests</a></li>
    <li><a name="toc-Printing-bar-numbers-at-regular-intervals-1" href="#Printing-bar-numbers-at-regular-intervals">Printing bar numbers at regular intervals</a></li>
    <li><a name="toc-Printing-bar-numbers-inside-boxes-or-circles-2" href="#Printing-bar-numbers-inside-boxes-or-circles">Printing bar numbers inside boxes or circles</a></li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-1" href="#Printing-metronome-and-rehearsal-marks-below-the-staff">Printing metronome and rehearsal marks below the staff</a></li>
    <li><a name="toc-Printing-music-with-different-time-signatures-2" href="#Printing-music-with-different-time-signatures">Printing music with different time signatures</a></li>
    <li><a name="toc-Printing-the-bar-number-for-the-first-measure-1" href="#Printing-the-bar-number-for-the-first-measure">Printing the bar number for the first measure</a></li>
    <li><a name="toc-Redefining-grace-note-global-defaults-1" href="#Redefining-grace-note-global-defaults">Redefining grace note global defaults</a></li>
    <li><a name="toc-Removing-bar-numbers-from-a-score-2" href="#Removing-bar-numbers-from-a-score">Removing bar numbers from a score</a></li>
    <li><a name="toc-Rest-styles-2" href="#Rest-styles">Rest styles</a></li>
    <li><a name="toc-Reverting-default-beam-endings-1" href="#Reverting-default-beam-endings">Reverting default beam endings</a></li>
    <li><a name="toc-Rhythmic-slashes-1" href="#Rhythmic-slashes">Rhythmic slashes</a></li>
    <li><a name="toc-Skips-in-lyric-mode-_00282_0029-2" href="#Skips-in-lyric-mode-_00282_0029">Skips in lyric mode (2)</a></li>
    <li><a name="toc-Skips-in-lyric-mode-2" href="#Skips-in-lyric-mode">Skips in lyric mode</a></li>
    <li><a name="toc-Specifying-context-with-beatGrouping-2" href="#Specifying-context-with-beatGrouping">Specifying context with beatGrouping</a></li>
    <li><a name="toc-Stemlets-1" href="#Stemlets">Stemlets</a></li>
    <li><a name="toc-Sub_002ddividing-beams-1" href="#Sub_002ddividing-beams">Sub-dividing beams</a></li>
    <li><a name="toc-Three_002dsided-box-2" href="#Three_002dsided-box">Three-sided box</a></li>
    <li><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029-1" href="#Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029">Time signature printing only the numerator as a number (instead of the fraction)</a></li>
    <li><a name="toc-Tweaking-grace-layout-within-music-2" href="#Tweaking-grace-layout-within-music">Tweaking grace layout within music</a></li>
    <li><a name="toc-Using-beatLength-and-beatGrouping-1" href="#Using-beatLength-and-beatGrouping">Using beatLength and beatGrouping</a></li>
    <li><a name="toc-Using-grace-note-slashes-with-normal-heads-1" href="#Using-grace-note-slashes-with-normal-heads">Using grace note slashes with normal heads</a></li>
    <li><a name="toc-Using-ties-with-arpeggios-1" href="#Using-ties-with-arpeggios">Using ties with arpeggios</a></li>
  </ul></li>
  <li><a name="toc-Expressive-marks-1" href="#Expressive-marks">Expressive marks</a>
  <ul class="toc">
    <li><a name="toc-Adding-beams_002c-slurs_002c-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms-1" href="#Expressive-marks">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</a></li>
    <li><a name="toc-Adding-parentheses-around-an-expressive-mark-or-chordal-note-1" href="#Adding-parentheses-around-an-expressive-mark-or-chordal-note">Adding parentheses around an expressive mark or chordal note</a></li>
    <li><a name="toc-Adjusting-the-shape-of-falls-and-doits-1" href="#Adjusting-the-shape-of-falls-and-doits">Adjusting the shape of falls and doits</a></li>
    <li><a name="toc-Breathing-signs-1" href="#Breathing-signs">Breathing signs</a></li>
    <li><a name="toc-Broken-Crescendo-Hairpin-1" href="#Broken-Crescendo-Hairpin">Broken Crescendo Hairpin</a></li>
    <li><a name="toc-Caesura-_0028_0022railtracks_0022_0029-with-fermata-2" href="#Caesura-_0028_0022railtracks_0022_0029-with-fermata">Caesura (&quot;railtracks&quot;) with fermata</a></li>
    <li><a name="toc-Center-text-below-hairpin-dynamics-2" href="#Center-text-below-hairpin-dynamics">Center text below hairpin dynamics</a></li>
    <li><a name="toc-Changing-_005cflageolet-mark-size-2" href="#Changing-_005cflageolet-mark-size">Changing \flageolet mark size</a></li>
    <li><a name="toc-Changing-text-and-spanner-styles-for-text-dynamics-1" href="#Changing-text-and-spanner-styles-for-text-dynamics">Changing text and spanner styles for text dynamics</a></li>
    <li><a name="toc-Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed-1" href="#Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed">Changing the appearance of a slur from solid to dotted or dashed</a></li>
    <li><a name="toc-Changing-the-breath-mark-symbol-1" href="#Changing-the-breath-mark-symbol">Changing the breath mark symbol</a></li>
    <li><a name="toc-Combining-dynamics-with-markup-texts-2" href="#Combining-dynamics-with-markup-texts">Combining dynamics with markup texts</a></li>
    <li><a name="toc-Contemporary-glissando-1" href="#Contemporary-glissando">Contemporary glissando</a></li>
    <li><a name="toc-Controlling-the-vertical-ordering-of-scripts-1" href="#Controlling-the-vertical-ordering-of-scripts">Controlling the vertical ordering of scripts</a></li>
    <li><a name="toc-Creating-a-delayed-turn-2" href="#Creating-a-delayed-turn">Creating a delayed turn</a></li>
    <li><a name="toc-Creating-arpeggios-across-notes-in-different-voices-1" href="#Creating-arpeggios-across-notes-in-different-voices">Creating arpeggios across notes in different voices</a></li>
    <li><a name="toc-Creating-cross_002dstaff-arpeggios-in-a-piano-staff-1" href="#Creating-cross_002dstaff-arpeggios-in-a-piano-staff">Creating cross-staff arpeggios in a piano staff</a></li>
    <li><a name="toc-Creating-cross_002dstaff-arpeggios-in-other-contexts-1" href="#Creating-cross_002dstaff-arpeggios-in-other-contexts">Creating cross-staff arpeggios in other contexts</a></li>
    <li><a name="toc-Creating-_0022real_0022-parenthesized-dynamics-1" href="#Creating-_0022real_0022-parenthesized-dynamics">Creating &quot;real&quot; parenthesized dynamics</a></li>
    <li><a name="toc-Creating-simultaneous-rehearsal-marks-2" href="#Creating-simultaneous-rehearsal-marks">Creating simultaneous rehearsal marks</a></li>
    <li><a name="toc-Creating-slurs-across-voices-3" href="#Creating-slurs-across-voices">Creating slurs across voices</a></li>
    <li><a name="toc-Creating-text-spanners-2" href="#Creating-text-spanners">Creating text spanners</a></li>
    <li><a name="toc-Double-glissando-1" href="#Double-glissando">Double glissando</a></li>
    <li><a name="toc-Hiding-the-extender-line-for-text-dynamics-1" href="#Hiding-the-extender-line-for-text-dynamics">Hiding the extender line for text dynamics</a></li>
    <li><a name="toc-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022_002c-_0022piu-f_0022_002c-_0022subito-p_0022_0029-1" href="#Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</a></li>
    <li><a name="toc-Inserting-a-caesura-1" href="#Inserting-a-caesura">Inserting a caesura</a></li>
    <li><a name="toc-Laissez-vibrer-ties-1" href="#Laissez-vibrer-ties">Laissez vibrer ties</a></li>
    <li><a name="toc-Line-arrows-1" href="#Line-arrows">Line arrows</a></li>
    <li><a name="toc-Modifying-default-values-for-articulation-shorthand-notation-1" href="#Modifying-default-values-for-articulation-shorthand-notation">Modifying default values for articulation shorthand notation</a></li>
    <li><a name="toc-Piano-template-with-centered-dynamics-2" href="#Piano-template-with-centered-dynamics">Piano template with centered dynamics</a></li>
    <li><a name="toc-Positioning-text-markups-inside-slurs-3" href="#Positioning-text-markups-inside-slurs">Positioning text markups inside slurs</a></li>
    <li><a name="toc-Printing-hairpins-using-al-niente-notation-1" href="#Printing-hairpins-using-al-niente-notation">Printing hairpins using al niente notation</a></li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-2" href="#Printing-hairpins-using-al-niente-notation">Printing metronome and rehearsal marks below the staff</a></li>
    <li><a name="toc-Setting-hairpin-behavior-at-bar-lines-1" href="#Setting-hairpin-behavior-at-bar-lines">Setting hairpin behavior at bar lines</a></li>
    <li><a name="toc-Setting-the-minimum-length-of-hairpins-1" href="#Setting-the-minimum-length-of-hairpins">Setting the minimum length of hairpins</a></li>
    <li><a name="toc-Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029-2" href="#Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029">Snap-pizzicato markup (&quot;Bartok pizzicato&quot;)</a></li>
    <li><a name="toc-Using-double-slurs-for-legato-chords-1" href="#Using-double-slurs-for-legato-chords">Using double slurs for legato chords</a></li>
    <li><a name="toc-Vertical-line-as-a-baroque-articulation-mark-2" href="#Vertical-line-as-a-baroque-articulation-mark">Vertical line as a baroque articulation mark</a></li>
    <li><a name="toc-Vertically-aligning-dynamics-across-multiple-notes-1" href="#Vertically-aligning-dynamics-across-multiple-notes">Vertically aligning dynamics across multiple notes</a></li>
  </ul></li>
  <li><a name="toc-Repeats-1" href="#Repeats">Repeats</a>
  <ul class="toc">
    <li><a name="toc-Adding-volta-brackets-to-additional-staves-1" href="#Adding-volta-brackets-to-additional-staves">Adding volta brackets to additional staves</a></li>
    <li><a name="toc-Engraving-tremolos-with-floating-beams-1" href="#Adding-volta-brackets-to-additional-staves">Engraving tremolos with floating beams</a></li>
    <li><a name="toc-Isolated-percent-repeats-1" href="#Isolated-percent-repeats">Isolated percent repeats</a></li>
    <li><a name="toc-Measure-counter-1" href="#Measure-counter">Measure counter</a></li>
    <li><a name="toc-Percent-repeat-count-visibility-1" href="#Percent-repeat-count-visibility">Percent repeat count visibility</a></li>
    <li><a name="toc-Percent-repeat-counter-1" href="#Percent-repeat-counter">Percent repeat counter</a></li>
    <li><a name="toc-Positioning-segno-and-coda-_0028with-line-break_0029-1" href="#Positioning-segno-and-coda-_0028with-line-break_0029">Positioning segno and coda (with line break)</a></li>
    <li><a name="toc-Printing-a-repeat-sign-at-the-beginning-of-a-piece-2" href="#Printing-a-repeat-sign-at-the-beginning-of-a-piece">Printing a repeat sign at the beginning of a piece</a></li>
    <li><a name="toc-Shortening-volta-brackets-1" href="#Shortening-volta-brackets">Shortening volta brackets</a></li>
    <li><a name="toc-Volta-below-chords-1" href="#Volta-below-chords">Volta below chords</a></li>
    <li><a name="toc-Volta-multi-staff-1" href="#Volta-multi-staff">Volta multi staff</a></li>
    <li><a name="toc-Volta-text-markup-using-repeatCommands-2" href="#Volta-text-markup-using-repeatCommands">Volta text markup using repeatCommands</a></li>
  </ul></li>
  <li><a name="toc-Simultaneous-notes-1" href="#Simultaneous-notes">Simultaneous notes</a>
  <ul class="toc">
    <li><a name="toc-Additional-voices-to-avoid-collisions-1" href="#Additional-voices-to-avoid-collisions">Additional voices to avoid collisions</a></li>
    <li><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-1" href="#Changing-a-single-note_0027s-size-in-a-chord">Changing a single note&rsquo;s size in a chord</a></li>
    <li><a name="toc-Changing-partcombine-texts-1" href="#Changing-partcombine-texts">Changing partcombine texts</a></li>
    <li><a name="toc-Clusters-1" href="#Clusters">Clusters</a></li>
    <li><a name="toc-Combining-two-parts-on-the-same-staff-1" href="#Combining-two-parts-on-the-same-staff">Combining two parts on the same staff</a></li>
    <li><a name="toc-Displaying-complex-chords-1" href="#Displaying-complex-chords">Displaying complex chords</a></li>
    <li><a name="toc-Double-glissando-2" href="#Displaying-complex-chords">Double glissando</a></li>
    <li><a name="toc-Forcing-horizontal-shift-of-notes-1" href="#Forcing-horizontal-shift-of-notes">Forcing horizontal shift of notes</a></li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-2" href="#Forcing-horizontal-shift-of-notes">Making an object invisible with the &rsquo;transparent property</a></li>
    <li><a name="toc-Suppressing-warnings-for-clashing-note-columns-2" href="#Suppressing-warnings-for-clashing-note-columns">Suppressing warnings for clashing note columns</a></li>
  </ul></li>
  <li><a name="toc-Staff-notation-1" href="#Staff-notation">Staff notation</a>
  <ul class="toc">
    <li><a name="toc-Adding-ambitus-per-voice-2" href="#Staff-notation">Adding ambitus per voice</a></li>
    <li><a name="toc-Adding-an-extra-staff-at-a-line-break-1" href="#Adding-an-extra-staff-at-a-line-break">Adding an extra staff at a line break</a></li>
    <li><a name="toc-Adding-an-extra-staff-2" href="#Adding-an-extra-staff">Adding an extra staff</a></li>
    <li><a name="toc-Changing-the-number-of-lines-in-a-staff-1" href="#Changing-the-number-of-lines-in-a-staff">Changing the number of lines in a staff</a></li>
    <li><a name="toc-Changing-the-staff-size-2" href="#Changing-the-staff-size">Changing the staff size</a></li>
    <li><a name="toc-Changing-the-tempo-without-a-metronome-mark-1" href="#Changing-the-tempo-without-a-metronome-mark">Changing the tempo without a metronome mark</a></li>
    <li><a name="toc-Creating-blank-staves-2" href="#Creating-blank-staves">Creating blank staves</a></li>
    <li><a name="toc-Creating-metronome-marks-in-markup-mode-1" href="#Creating-metronome-marks-in-markup-mode">Creating metronome marks in markup mode</a></li>
    <li><a name="toc-Display-bracket-with-only-one-staff-in-a-system-2" href="#Display-bracket-with-only-one-staff-in-a-system">Display bracket with only one staff in a system</a></li>
    <li><a name="toc-Incipit-2" href="#Incipit">Incipit</a></li>
    <li><a name="toc-Inserting-score-fragments-above-a-staff_002c-as-markups" href="#Inserting-score-fragments-above-a-staff">Inserting score fragments above a staff, as markups</a></li>
    <li><a name="toc-Letter-tablature-formatting-2" href="#Letter-tablature-formatting">Letter tablature formatting</a></li>
    <li><a name="toc-Making-some-staff-lines-thicker-than-the-others-1" href="#Making-some-staff-lines-thicker-than-the-others">Making some staff lines thicker than the others</a></li>
    <li><a name="toc-Measure-counter-2" href="#Making-some-staff-lines-thicker-than-the-others">Measure counter</a></li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-2" href="#Mensurstriche-layout-_0028bar-lines-between-the-staves_0029">Mensurstriche layout (bar lines between the staves)</a></li>
    <li><a name="toc-Modern-TAB-text-clef-1" href="#Modern-TAB-text-clef">Modern TAB text clef</a></li>
    <li><a name="toc-Nesting-staves-3" href="#Nesting-staves">Nesting staves</a></li>
    <li><a name="toc-Non_002dtraditional-key-signatures-2" href="#Nesting-staves">Non-traditional key signatures</a></li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-4" href="#Nesting-staves">Printing metronome and rehearsal marks below the staff</a></li>
    <li><a name="toc-Quoting-another-voice-with-transposition-2" href="#Nesting-staves">Quoting another voice with transposition</a></li>
    <li><a name="toc-Quoting-another-voice-1" href="#Quoting-another-voice">Quoting another voice</a></li>
    <li><a name="toc-Removing-the-first-empty-line-1" href="#Removing-the-first-empty-line">Removing the first empty line</a></li>
    <li><a name="toc-Tick-bar-lines-1" href="#Tick-bar-lines">Tick bar lines</a></li>
    <li><a name="toc-Time-signature-in-parentheses-1" href="#Time-signature-in-parentheses">Time signature in parentheses</a></li>
    <li><a name="toc-Tweaking-clef-properties-1" href="#Time-signature-in-parentheses">Tweaking clef properties</a></li>
    <li><a name="toc-Use-square-bracket-at-the-start-of-a-staff-group-2" href="#Use-square-bracket-at-the-start-of-a-staff-group">Use square bracket at the start of a staff group</a></li>
    <li><a name="toc-Volta-below-chords-3" href="#Use-square-bracket-at-the-start-of-a-staff-group">Volta below chords</a></li>
    <li><a name="toc-Volta-multi-staff-2" href="#Use-square-bracket-at-the-start-of-a-staff-group">Volta multi staff</a></li>
  </ul></li>
  <li><a name="toc-Editorial-annotations-1" href="#Editorial-annotations">Editorial annotations</a>
  <ul class="toc">
    <li><a name="toc-Adding-fingerings-to-a-score-1" href="#Adding-fingerings-to-a-score">Adding fingerings to a score</a></li>
    <li><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-2" href="#Allowing-fingerings-to-be-printed-inside-the-staff">Allowing fingerings to be printed inside the staff</a></li>
    <li><a name="toc-Analysis-brackets-above-the-staff-2" href="#Analysis-brackets-above-the-staff">Analysis brackets above the staff</a></li>
    <li><a name="toc-Applying-note-head-styles-depending-on-the-step-of-the-scale-2" href="#Analysis-brackets-above-the-staff">Applying note head styles depending on the step of the scale</a></li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-3" href="#Analysis-brackets-above-the-staff">Avoiding collisions with chord fingerings</a></li>
    <li><a name="toc-Blanking-staff-lines-using-the-_005cwhiteout-command-2" href="#Blanking-staff-lines-using-the-_005cwhiteout-command">Blanking staff lines using the \whiteout command</a></li>
    <li><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-3" href="#Blanking-staff-lines-using-the-_005cwhiteout-command">Changing a single note&rsquo;s size in a chord</a></li>
    <li><a name="toc-Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed-2" href="#Blanking-staff-lines-using-the-_005cwhiteout-command">Changing the appearance of a slur from solid to dotted or dashed</a></li>
    <li><a name="toc-Coloring-notes-depending-on-their-pitch-2" href="#Blanking-staff-lines-using-the-_005cwhiteout-command">Coloring notes depending on their pitch</a></li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-1" href="#Controlling-the-placement-of-chord-fingerings">Controlling the placement of chord fingerings</a></li>
    <li><a name="toc-Creating-a-delayed-turn-3" href="#Controlling-the-placement-of-chord-fingerings">Creating a delayed turn</a></li>
    <li><a name="toc-Creating-blank-staves-3" href="#Controlling-the-placement-of-chord-fingerings">Creating blank staves</a></li>
    <li><a name="toc-Default-direction-of-stems-on-the-center-line-of-the-staff-1" href="#Default-direction-of-stems-on-the-center-line-of-the-staff">Default direction of stems on the center line of the staff</a></li>
    <li><a name="toc-Drawing-boxes-around-grobs-1" href="#Drawing-boxes-around-grobs">Drawing boxes around grobs</a></li>
    <li><a name="toc-Drawing-circles-around-various-objects-2" href="#Drawing-circles-around-various-objects">Drawing circles around various objects</a></li>
    <li><a name="toc-Embedding-native-PostScript-in-a-_005cmarkup-block-2" href="#Embedding-native-PostScript-in-a-_005cmarkup-block">Embedding native PostScript in a \markup block</a></li>
    <li><a name="toc-Grid-lines_003a-changing-their-appearance-1" href="#Grid-lines_003a-changing-their-appearance">Grid lines: changing their appearance</a></li>
    <li><a name="toc-Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization-1" href="#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization">Grid lines: emphasizing rhythms and notes synchronization</a></li>
    <li><a name="toc-Making-some-staff-lines-thicker-than-the-others-2" href="#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization">Making some staff lines thicker than the others</a></li>
    <li><a name="toc-Marking-notes-of-spoken-parts-with-a-cross-on-the-stem-2" href="#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem">Marking notes of spoken parts with a cross on the stem</a></li>
    <li><a name="toc-Measure-counter-3" href="#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem">Measure counter</a></li>
    <li><a name="toc-Positioning-fingering-indications-precisely-1" href="#Positioning-fingering-indications-precisely">Positioning fingering indications precisely</a></li>
    <li><a name="toc-Positioning-text-markups-inside-slurs-2" href="#Positioning-fingering-indications-precisely">Positioning text markups inside slurs</a></li>
    <li><a name="toc-Printing-text-from-right-to-left-1" href="#Printing-text-from-right-to-left">Printing text from right to left</a></li>
    <li><a name="toc-Using-PostScript-to-generate-special-note-head-shapes-2" href="#Using-PostScript-to-generate-special-note-head-shapes">Using PostScript to generate special note head shapes</a></li>
  </ul></li>
  <li><a name="toc-Text-1" href="#Text">Text</a>
  <ul class="toc">
    <li><a name="toc-Adding-the-current-date-to-a-score-1" href="#Adding-the-current-date-to-a-score">Adding the current date to a score</a></li>
    <li><a name="toc-Adjusting-lyrics-vertical-spacing-1" href="#Adjusting-lyrics-vertical-spacing">Adjusting lyrics vertical spacing</a></li>
    <li><a name="toc-Aligning-and-centering-instrument-names-3" href="#Aligning-and-centering-instrument-names">Aligning and centering instrument names</a></li>
    <li><a name="toc-Aligning-marks-with-various-notation-objects-1" href="#Aligning-marks-with-various-notation-objects">Aligning marks with various notation objects</a></li>
    <li><a name="toc-Aligning-objects-created-with-the-_005cmark-command-1" href="#Aligning-objects-created-with-the-_005cmark-command">Aligning objects created with the \mark command</a></li>
    <li><a name="toc-Blanking-staff-lines-using-the-_005cwhiteout-command-1" href="#Aligning-objects-created-with-the-_005cmark-command">Blanking staff lines using the \whiteout command</a></li>
    <li><a name="toc-Center-text-below-hairpin-dynamics-1" href="#Aligning-objects-created-with-the-_005cmark-command">Center text below hairpin dynamics</a></li>
    <li><a name="toc-Changing-the-default-text-font-family-1" href="#Changing-the-default-text-font-family">Changing the default text font family</a></li>
    <li><a name="toc-Combining-dynamics-with-markup-texts-1" href="#Changing-the-default-text-font-family">Combining dynamics with markup texts</a></li>
    <li><a name="toc-Combining-two-parts-on-the-same-staff-2" href="#Changing-the-default-text-font-family">Combining two parts on the same staff</a></li>
    <li><a name="toc-Creating-_0022real_0022-parenthesized-dynamics-2" href="#Changing-the-default-text-font-family">Creating &quot;real&quot; parenthesized dynamics</a></li>
    <li><a name="toc-Creating-simultaneous-rehearsal-marks-1" href="#Changing-the-default-text-font-family">Creating simultaneous rehearsal marks</a></li>
    <li><a name="toc-Creating-text-spanners-1" href="#Changing-the-default-text-font-family">Creating text spanners</a></li>
    <li><a name="toc-Demonstrating-all-headers-3" href="#Demonstrating-all-headers">Demonstrating all headers</a></li>
    <li><a name="toc-Embedding-native-PostScript-in-a-_005cmarkup-block-1" href="#Demonstrating-all-headers">Embedding native PostScript in a \markup block</a></li>
    <li><a name="toc-Formatting-lyrics-syllables-1" href="#Formatting-lyrics-syllables">Formatting lyrics syllables</a></li>
    <li><a name="toc-How-to-put-ties-between-syllables-in-lyrics-2" href="#How-to-put-ties-between-syllables-in-lyrics">How to put ties between syllables in lyrics</a></li>
    <li><a name="toc-Lyrics-alignment-1" href="#Lyrics-alignment">Lyrics alignment</a></li>
    <li><a name="toc-Markup-lines-1" href="#Markup-lines">Markup lines</a></li>
    <li><a name="toc-Multi_002dmeasure-rest-markup-2" href="#Markup-lines">Multi-measure rest markup</a></li>
    <li><a name="toc-Ottava-text-1" href="#Markup-lines">Ottava text</a></li>
    <li><a name="toc-Outputting-the-version-number-2" href="#Outputting-the-version-number">Outputting the version number</a></li>
    <li><a name="toc-Piano-template-with-centered-lyrics-2" href="#Piano-template-with-centered-lyrics">Piano template with centered lyrics</a></li>
    <li><a name="toc-Printing-marks-at-the-end-of-a-line-or-a-score-1" href="#Printing-marks-at-the-end-of-a-line-or-a-score">Printing marks at the end of a line or a score</a></li>
    <li><a name="toc-Printing-marks-on-every-staff-1" href="#Printing-marks-on-every-staff">Printing marks on every staff</a></li>
    <li><a name="toc-Printing-text-from-right-to-left-2" href="#Printing-marks-on-every-staff">Printing text from right to left</a></li>
    <li><a name="toc-Stand_002dalone-two_002dcolumn-markup-1" href="#Stand_002dalone-two_002dcolumn-markup">Stand-alone two-column markup</a></li>
    <li><a name="toc-Three_002dsided-box-1" href="#Stand_002dalone-two_002dcolumn-markup">Three-sided box</a></li>
    <li><a name="toc-UTF_002d8-1" href="#UTF_002d8">UTF-8</a></li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-3" href="#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Vocal ensemble template with lyrics aligned below and above the staves</a></li>
    <li><a name="toc-Volta-text-markup-using-repeatCommands-1" href="#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Volta text markup using repeatCommands</a></li>
  </ul></li>
  <li><a name="toc-Vocal-music-1" href="#Vocal-music">Vocal music</a>
  <ul class="toc">
    <li><a name="toc-Adding-ambitus-per-voice-1" href="#Vocal-music">Adding ambitus per voice</a></li>
    <li><a name="toc-Adjusting-lyrics-vertical-spacing-3" href="#Vocal-music">Adjusting lyrics vertical spacing</a></li>
    <li><a name="toc-Ambitus-with-multiple-voices-1" href="#Vocal-music">Ambitus with multiple voices</a></li>
    <li><a name="toc-Ambitus-1" href="#Vocal-music">Ambitus</a></li>
    <li><a name="toc-Changing-stanza-fonts-1" href="#Changing-stanza-fonts">Changing stanza fonts</a></li>
    <li><a name="toc-Chant-or-psalms-notation-1" href="#Changing-stanza-fonts">Chant or psalms notation</a></li>
    <li><a name="toc-Formatting-lyrics-syllables-2" href="#Changing-stanza-fonts">Formatting lyrics syllables</a></li>
    <li><a name="toc-How-to-put-ties-between-syllables-in-lyrics-1" href="#Changing-stanza-fonts">How to put ties between syllables in lyrics</a></li>
    <li><a name="toc-Lyrics-alignment-2" href="#Changing-stanza-fonts">Lyrics alignment</a></li>
    <li><a name="toc-Marking-notes-of-spoken-parts-with-a-cross-on-the-stem-1" href="#Changing-stanza-fonts">Marking notes of spoken parts with a cross on the stem</a></li>
    <li><a name="toc-Piano-template-with-melody-and-lyrics-1" href="#Piano-template-with-melody-and-lyrics">Piano template with melody and lyrics</a></li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-and-chords-1" href="#Single-staff-template-with-notes">Single staff template with notes, lyrics, and chords</a></li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-chords-and-frets-1" href="#Single-staff-template-with-notes">Single staff template with notes, lyrics, chords and frets</a></li>
    <li><a name="toc-Single-staff-template-with-notes-and-lyrics-2" href="#Single-staff-template-with-notes-and-lyrics">Single staff template with notes and lyrics</a></li>
    <li><a name="toc-Skips-in-lyric-mode-_00282_0029-1" href="#Single-staff-template-with-notes-and-lyrics">Skips in lyric mode (2)</a></li>
    <li><a name="toc-Skips-in-lyric-mode-1" href="#Single-staff-template-with-notes-and-lyrics">Skips in lyric mode</a></li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-3" href="#Vertically-aligning-ossias-and-lyrics">Vertically aligning ossias and lyrics</a></li>
    <li><a name="toc-Vertically-centered-common-lyrics-1" href="#Vertically-centered-common-lyrics">Vertically centered common lyrics</a></li>
    <li><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-1" href="#Vocal-ensemble-template-with-automatic-piano-reduction">Vocal ensemble template with automatic piano reduction</a></li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-4" href="#Vocal-ensemble-template-with-automatic-piano-reduction">Vocal ensemble template with lyrics aligned below and above the staves</a></li>
    <li><a name="toc-Vocal-ensemble-template-1" href="#Vocal-ensemble-template">Vocal ensemble template</a></li>
  </ul></li>
  <li><a name="toc-Chords-1" href="#Chords">Chords</a>
  <ul class="toc">
    <li><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-3" href="#Adding-a-figured-bass-above-or-below-the-notes">Adding a figured bass above or below the notes</a></li>
    <li><a name="toc-Adding-bar-lines-to-ChordNames-context-1" href="#Adding-bar-lines-to-ChordNames-context">Adding bar lines to ChordNames context</a></li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-4" href="#Adding-bar-lines-to-ChordNames-context">Avoiding collisions with chord fingerings</a></li>
    <li><a name="toc-Changing-chord-separator-1" href="#Changing-chord-separator">Changing chord separator</a></li>
    <li><a name="toc-Changing-the-chord-names-to-German-or-semi_002dGerman-notation-1" href="#Changing-the-chord-names-to-German-or-semi_002dGerman-notation">Changing the chord names to German or semi-German notation</a></li>
    <li><a name="toc-Changing-the-positions-of-figured-bass-alterations-1" href="#Changing-the-positions-of-figured-bass-alterations">Changing the positions of figured bass alterations</a></li>
    <li><a name="toc-Chord-name-exceptions-1" href="#Chord-name-exceptions">Chord name exceptions</a></li>
    <li><a name="toc-chord-name-major7-1" href="#chord-name-major7">chord name major7</a></li>
    <li><a name="toc-Clusters-3" href="#chord-name-major7">Clusters</a></li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-4" href="#chord-name-major7">Controlling the placement of chord fingerings</a></li>
    <li><a name="toc-Displaying-complex-chords-2" href="#chord-name-major7">Displaying complex chords</a></li>
    <li><a name="toc-Manually-break-figured-bass-extenders-for-only-some-numbers-1" href="#Manually-break-figured-bass-extenders-for-only-some-numbers">Manually break figured bass extenders for only some numbers</a></li>
    <li><a name="toc-Showing-chords-at-changes-1" href="#Showing-chords-at-changes">Showing chords at changes</a></li>
    <li><a name="toc-Simple-lead-sheet-1" href="#Simple-lead-sheet">Simple lead sheet</a></li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-and-chords-2" href="#Simple-lead-sheet">Single staff template with notes, lyrics, and chords</a></li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-chords-and-frets-2" href="#Simple-lead-sheet">Single staff template with notes, lyrics, chords and frets</a></li>
    <li><a name="toc-Single-staff-template-with-notes-and-chords-2" href="#Single-staff-template-with-notes-and-chords">Single staff template with notes and chords</a></li>
    <li><a name="toc-Volta-below-chords-2" href="#Single-staff-template-with-notes-and-chords">Volta below chords</a></li>
  </ul></li>
  <li><a name="toc-Keyboards-1" href="#Keyboards">Keyboards</a>
  <ul class="toc">
    <li><a name="toc-Accordion_002ddiscant-symbols-1" href="#Accordion_002ddiscant-symbols">Accordion-discant symbols</a></li>
    <li><a name="toc-Clusters-2" href="#Accordion_002ddiscant-symbols">Clusters</a></li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-2" href="#Accordion_002ddiscant-symbols">Controlling the placement of chord fingerings</a></li>
    <li><a name="toc-Creating-slurs-across-voices-1" href="#Accordion_002ddiscant-symbols">Creating slurs across voices</a></li>
    <li><a name="toc-Fine_002dtuning-pedal-brackets-2" href="#Fine_002dtuning-pedal-brackets">Fine-tuning pedal brackets</a></li>
    <li><a name="toc-Indicating-cross_002dstaff-chords-with-arpeggio-bracket-1" href="#Indicating-cross_002dstaff-chords-with-arpeggio-bracket">Indicating cross-staff chords with arpeggio bracket</a></li>
    <li><a name="toc-Jazz-combo-template-1" href="#Jazz-combo-template">Jazz combo template</a></li>
    <li><a name="toc-Laissez-vibrer-ties-3" href="#Jazz-combo-template">Laissez vibrer ties</a></li>
    <li><a name="toc-Piano-template-_0028simple_0029-1" href="#Piano-template-_0028simple_0029">Piano template (simple)</a></li>
    <li><a name="toc-Piano-template-with-centered-dynamics-1" href="#Piano-template-_0028simple_0029">Piano template with centered dynamics</a></li>
    <li><a name="toc-Piano-template-with-centered-lyrics-3" href="#Piano-template-_0028simple_0029">Piano template with centered lyrics</a></li>
    <li><a name="toc-Piano-template-with-melody-and-lyrics-3" href="#Piano-template-_0028simple_0029">Piano template with melody and lyrics</a></li>
    <li><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-3" href="#Piano-template-_0028simple_0029">Vocal ensemble template with automatic piano reduction</a></li>
  </ul></li>
  <li><a name="toc-Percussion-1" href="#Percussion">Percussion</a>
  <ul class="toc">
    <li><a name="toc-Adding-drum-parts-2" href="#Percussion">Adding drum parts</a></li>
    <li><a name="toc-Heavily-customized-polymetric-time-signatures-2" href="#Percussion">Heavily customized polymetric time signatures</a></li>
    <li><a name="toc-Jazz-combo-template-4" href="#Percussion">Jazz combo template</a></li>
    <li><a name="toc-Percussion-beaters-1" href="#Percussion-beaters">Percussion beaters</a></li>
    <li><a name="toc-Printing-music-with-different-time-signatures-1" href="#Percussion-beaters">Printing music with different time signatures</a></li>
  </ul></li>
  <li><a name="toc-Fretted-strings-1" href="#Fretted-strings">Fretted strings</a>
  <ul class="toc">
    <li><a name="toc-Adding-fingerings-to-a-score-2" href="#Fretted-strings">Adding fingerings to a score</a></li>
    <li><a name="toc-Adding-fingerings-to-tablatures-1" href="#Adding-fingerings-to-tablatures">Adding fingerings to tablatures</a></li>
    <li><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-3" href="#Adding-fingerings-to-tablatures">Allowing fingerings to be printed inside the staff</a></li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-3" href="#Adding-fingerings-to-tablatures">Controlling the placement of chord fingerings</a></li>
    <li><a name="toc-Customizing-fretboard-fret-diagrams-1" href="#Customizing-fretboard-fret-diagrams">Customizing fretboard fret diagrams</a></li>
    <li><a name="toc-Customizing-markup-fret-diagrams-1" href="#Customizing-markup-fret-diagrams">Customizing markup fret diagrams</a></li>
    <li><a name="toc-Defining-predefined-fretboards-for-other-instruments-1" href="#Defining-predefined-fretboards-for-other-instruments">Defining predefined fretboards for other instruments</a></li>
    <li><a name="toc-Faking-a-hammer-in-tablatures-1" href="#Faking-a-hammer-in-tablatures">Faking a hammer in tablatures</a></li>
    <li><a name="toc-Fingerings_002c-string-indications_002c-and-right_002dhand-fingerings" href="#Fingerings">Fingerings, string indications, and right-hand fingerings</a></li>
    <li><a name="toc-Flamenco-notation-1" href="#Flamenco-notation">Flamenco notation</a></li>
    <li><a name="toc-Fret-diagrams-explained-and-developed-2" href="#Fret-diagrams-explained-and-developed">Fret diagrams explained and developed</a></li>
    <li><a name="toc-Guitar-strum-rhythms-2" href="#Fret-diagrams-explained-and-developed">Guitar strum rhythms</a></li>
    <li><a name="toc-How-to-change-fret-diagram-position-1" href="#How-to-change-fret-diagram-position">How to change fret diagram position</a></li>
    <li><a name="toc-Jazz-combo-template-3" href="#How-to-change-fret-diagram-position">Jazz combo template</a></li>
    <li><a name="toc-Laissez-vibrer-ties-2" href="#How-to-change-fret-diagram-position">Laissez vibrer ties</a></li>
    <li><a name="toc-Letter-tablature-formatting-1" href="#How-to-change-fret-diagram-position">Letter tablature formatting</a></li>
    <li><a name="toc-Modern-TAB-text-clef-2" href="#How-to-change-fret-diagram-position">Modern TAB text clef</a></li>
    <li><a name="toc-Placement-of-right_002dhand-fingerings-1" href="#Placement-of-right_002dhand-fingerings">Placement of right-hand fingerings</a></li>
    <li><a name="toc-Polyphony-in-tablature-1" href="#Polyphony-in-tablature">Polyphony in tablature</a></li>
    <li><a name="toc-Stem-and-beam-behavior-in-tablature-1" href="#Stem-and-beam-behavior-in-tablature">Stem and beam behavior in tablature</a></li>
  </ul></li>
  <li><a name="toc-Unfretted-strings-1" href="#Unfretted-strings">Unfretted strings</a>
  <ul class="toc">
    <li><a name="toc-Changing-_005cflageolet-mark-size-1" href="#Unfretted-strings">Changing \flageolet mark size</a></li>
    <li><a name="toc-Creating-slurs-across-voices-2" href="#Unfretted-strings">Creating slurs across voices</a></li>
    <li><a name="toc-Dotted-harmonics-2" href="#Dotted-harmonics">Dotted harmonics</a></li>
    <li><a name="toc-Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029-1" href="#Dotted-harmonics">Snap-pizzicato markup (&quot;Bartok pizzicato&quot;)</a></li>
    <li><a name="toc-String-quartet-template-_0028simple_0029-2" href="#String-quartet-template-_0028simple_0029">String quartet template (simple)</a></li>
    <li><a name="toc-String-quartet-template-with-separate-parts-2" href="#String-quartet-template-with-separate-parts">String quartet template with separate parts</a></li>
  </ul></li>
  <li><a name="toc-Winds-1" href="#Winds">Winds</a>
  <ul class="toc">
    <li><a name="toc-Flute-slap-notation-1" href="#Flute-slap-notation">Flute slap notation</a></li>
  </ul></li>
  <li><a name="toc-Ancient-notation-1" href="#Ancient-notation">Ancient notation</a>
  <ul class="toc">
    <li><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-2" href="#Ancient-notation">Adding a figured bass above or below the notes</a></li>
    <li><a name="toc-Ancient-fonts-1" href="#Ancient-fonts">Ancient fonts</a></li>
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music-1" href="#Ancient-notation-template-_002d-modern-transcription-of-gregorian-music">Ancient notation template &ndash; modern transcription of gregorian music</a></li>
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-mensural-music-2" href="#Ancient-notation-template-_002d-modern-transcription-of-mensural-music">Ancient notation template &ndash; modern transcription of mensural music</a></li>
    <li><a name="toc-Ancient-time-signatures-1" href="#Ancient-time-signatures">Ancient time signatures</a></li>
    <li><a name="toc-Chant-or-psalms-notation-4" href="#Ancient-time-signatures">Chant or psalms notation</a></li>
    <li><a name="toc-Custodes-2" href="#Custodes">Custodes</a></li>
    <li><a name="toc-Incipit-1" href="#Custodes">Incipit</a></li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-1" href="#Custodes">Mensurstriche layout (bar lines between the staves)</a></li>
    <li><a name="toc-Rest-styles-1" href="#Custodes">Rest styles</a></li>
    <li><a name="toc-Transcription-of-Ancient-music-with-incipit-2" href="#Transcription-of-Ancient-music-with-incipit">Transcription of Ancient music with incipit</a></li>
    <li><a name="toc-Vertical-line-as-a-baroque-articulation-mark-1" href="#Transcription-of-Ancient-music-with-incipit">Vertical line as a baroque articulation mark</a></li>
  </ul></li>
  <li><a name="toc-World-music-1" href="#World-music">World music</a>
  <ul class="toc">
    <li><a name="toc-Arabic-improvisation-1" href="#Arabic-improvisation">Arabic improvisation</a></li>
    <li><a name="toc-Makam-example-1" href="#Arabic-improvisation">Makam example</a></li>
    <li><a name="toc-Printing-text-from-right-to-left-3" href="#Arabic-improvisation">Printing text from right to left</a></li>
  </ul></li>
  <li><a name="toc-Contexts-and-engravers-1" href="#Contexts-and-engravers">Contexts and engravers</a>
  <ul class="toc">
    <li><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-1" href="#Contexts-and-engravers">Adding a figured bass above or below the notes</a></li>
    <li><a name="toc-Adding-an-extra-staff-at-a-line-break-2" href="#Contexts-and-engravers">Adding an extra staff at a line break</a></li>
    <li><a name="toc-Adding-an-extra-staff-1" href="#Contexts-and-engravers">Adding an extra staff</a></li>
    <li><a name="toc-Changing-MIDI-output-to-one-channel-per-voice-2" href="#Changing-MIDI-output-to-one-channel-per-voice">Changing MIDI output to one channel per voice</a></li>
    <li><a name="toc-Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations-2" href="#Changing-MIDI-output-to-one-channel-per-voice">Changing time signatures inside a polymetric section using \scaleDurations</a></li>
    <li><a name="toc-Chant-or-psalms-notation-2" href="#Changing-MIDI-output-to-one-channel-per-voice">Chant or psalms notation</a></li>
    <li><a name="toc-Creating-blank-staves-1" href="#Changing-MIDI-output-to-one-channel-per-voice">Creating blank staves</a></li>
    <li><a name="toc-Engravers-one_002dby_002done-1" href="#Engravers-one_002dby_002done">Engravers one-by-one</a></li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-4" href="#Engravers-one_002dby_002done">Mensurstriche layout (bar lines between the staves)</a></li>
    <li><a name="toc-Nesting-staves-2" href="#Engravers-one_002dby_002done">Nesting staves</a></li>
    <li><a name="toc-Removing-bar-numbers-from-a-score-1" href="#Engravers-one_002dby_002done">Removing bar numbers from a score</a></li>
    <li><a name="toc-Use-square-bracket-at-the-start-of-a-staff-group-1" href="#Engravers-one_002dby_002done">Use square bracket at the start of a staff group</a></li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-2" href="#Engravers-one_002dby_002done">Vocal ensemble template with lyrics aligned below and above the staves</a></li>
  </ul></li>
  <li><a name="toc-Tweaks-and-overrides-1" href="#Tweaks-and-overrides">Tweaks and overrides</a>
  <ul class="toc">
    <li><a name="toc-Analysis-brackets-above-the-staff-1" href="#Tweaks-and-overrides">Analysis brackets above the staff</a></li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-2" href="#Tweaks-and-overrides">Avoiding collisions with chord fingerings</a></li>
    <li><a name="toc-Caesura-_0028_0022railtracks_0022_0029-with-fermata-1" href="#Tweaks-and-overrides">Caesura (&quot;railtracks&quot;) with fermata</a></li>
    <li><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-2" href="#Tweaks-and-overrides">Changing a single note&rsquo;s size in a chord</a></li>
    <li><a name="toc-Changing-form-of-multi_002dmeasure-rests-2" href="#Tweaks-and-overrides">Changing form of multi-measure rests</a></li>
    <li><a name="toc-Changing-properties-for-individual-grobs-1" href="#Changing-properties-for-individual-grobs">Changing properties for individual grobs</a></li>
    <li><a name="toc-Changing-the-default-text-font-family-2" href="#Changing-properties-for-individual-grobs">Changing the default text font family</a></li>
    <li><a name="toc-Changing-the-staff-size-1" href="#Changing-properties-for-individual-grobs">Changing the staff size</a></li>
    <li><a name="toc-Controlling-the-vertical-ordering-of-scripts-2" href="#Changing-properties-for-individual-grobs">Controlling the vertical ordering of scripts</a></li>
    <li><a name="toc-Controlling-tuplet-bracket-visibility-2" href="#Changing-properties-for-individual-grobs">Controlling tuplet bracket visibility</a></li>
    <li><a name="toc-Creating-a-delayed-turn-1" href="#Changing-properties-for-individual-grobs">Creating a delayed turn</a></li>
    <li><a name="toc-Creating-simultaneous-rehearsal-marks-3" href="#Changing-properties-for-individual-grobs">Creating simultaneous rehearsal marks</a></li>
    <li><a name="toc-Creating-text-spanners-3" href="#Changing-properties-for-individual-grobs">Creating text spanners</a></li>
    <li><a name="toc-Custodes-1" href="#Changing-properties-for-individual-grobs">Custodes</a></li>
    <li><a name="toc-Customizing-fretboard-fret-diagrams-2" href="#Changing-properties-for-individual-grobs">Customizing fretboard fret diagrams</a></li>
    <li><a name="toc-Customizing-markup-fret-diagrams-2" href="#Changing-properties-for-individual-grobs">Customizing markup fret diagrams</a></li>
    <li><a name="toc-Display-bracket-with-only-one-staff-in-a-system-1" href="#Changing-properties-for-individual-grobs">Display bracket with only one staff in a system</a></li>
    <li><a name="toc-Dotted-harmonics-1" href="#Changing-properties-for-individual-grobs">Dotted harmonics</a></li>
    <li><a name="toc-Drawing-boxes-around-grobs-2" href="#Changing-properties-for-individual-grobs">Drawing boxes around grobs</a></li>
    <li><a name="toc-Drawing-circles-around-various-objects-1" href="#Changing-properties-for-individual-grobs">Drawing circles around various objects</a></li>
    <li><a name="toc-Fine_002dtuning-pedal-brackets-1" href="#Changing-properties-for-individual-grobs">Fine-tuning pedal brackets</a></li>
    <li><a name="toc-Forcing-horizontal-shift-of-notes-2" href="#Changing-properties-for-individual-grobs">Forcing horizontal shift of notes</a></li>
    <li><a name="toc-Fret-diagrams-explained-and-developed-1" href="#Changing-properties-for-individual-grobs">Fret diagrams explained and developed</a></li>
    <li><a name="toc-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022_002c-_0022piu-f_0022_002c-_0022subito-p_0022_0029" href="#Changing-properties-for-individual-grobs">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</a></li>
    <li><a name="toc-How-to-change-fret-diagram-position-2" href="#Changing-properties-for-individual-grobs">How to change fret diagram position</a></li>
    <li><a name="toc-Inserting-a-caesura-2" href="#Changing-properties-for-individual-grobs">Inserting a caesura</a></li>
    <li><a name="toc-Line-arrows-2" href="#Changing-properties-for-individual-grobs">Line arrows</a></li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-3" href="#Changing-properties-for-individual-grobs">Making an object invisible with the &rsquo;transparent property</a></li>
    <li><a name="toc-Manually-controlling-beam-positions-2" href="#Changing-properties-for-individual-grobs">Manually controlling beam positions</a></li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-3" href="#Changing-properties-for-individual-grobs">Mensurstriche layout (bar lines between the staves)</a></li>
    <li><a name="toc-Nesting-staves-1" href="#Changing-properties-for-individual-grobs">Nesting staves</a></li>
    <li><a name="toc-Percent-repeat-count-visibility-2" href="#Changing-properties-for-individual-grobs">Percent repeat count visibility</a></li>
    <li><a name="toc-Positioning-multi_002dmeasure-rests-2" href="#Changing-properties-for-individual-grobs">Positioning multi-measure rests</a></li>
    <li><a name="toc-Positioning-text-markups-inside-slurs-1" href="#Changing-properties-for-individual-grobs">Positioning text markups inside slurs</a></li>
    <li><a name="toc-Printing-a-repeat-sign-at-the-beginning-of-a-piece-1" href="#Changing-properties-for-individual-grobs">Printing a repeat sign at the beginning of a piece</a></li>
    <li><a name="toc-Printing-bar-numbers-inside-boxes-or-circles-1" href="#Changing-properties-for-individual-grobs">Printing bar numbers inside boxes or circles</a></li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-3" href="#Changing-properties-for-individual-grobs">Printing metronome and rehearsal marks below the staff</a></li>
    <li><a name="toc-Proportional-strict-notespacing-1" href="#Proportional-strict-notespacing">Proportional strict notespacing</a></li>
    <li><a name="toc-Removing-the-first-empty-line-2" href="#Proportional-strict-notespacing">Removing the first empty line</a></li>
    <li><a name="toc-Rest-styles-3" href="#Proportional-strict-notespacing">Rest styles</a></li>
    <li><a name="toc-Rhythmic-slashes-2" href="#Proportional-strict-notespacing">Rhythmic slashes</a></li>
    <li><a name="toc-Separating-key-cancellations-from-key-signature-changes-2" href="#Proportional-strict-notespacing">Separating key cancellations from key signature changes</a></li>
    <li><a name="toc-Setting-hairpin-behavior-at-bar-lines-2" href="#Proportional-strict-notespacing">Setting hairpin behavior at bar lines</a></li>
    <li><a name="toc-Specifying-context-with-beatGrouping-1" href="#Proportional-strict-notespacing">Specifying context with beatGrouping</a></li>
    <li><a name="toc-Suppressing-warnings-for-clashing-note-columns-1" href="#Proportional-strict-notespacing">Suppressing warnings for clashing note columns</a></li>
    <li><a name="toc-Time-signature-in-parentheses-2" href="#Proportional-strict-notespacing">Time signature in parentheses</a></li>
    <li><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029-2" href="#Proportional-strict-notespacing">Time signature printing only the numerator as a number (instead of the fraction)</a></li>
    <li><a name="toc-Transcription-of-Ancient-music-with-incipit-1" href="#Proportional-strict-notespacing">Transcription of Ancient music with incipit</a></li>
    <li><a name="toc-Tweaking-clef-properties-3" href="#Proportional-strict-notespacing">Tweaking clef properties</a></li>
    <li><a name="toc-Tweaking-grace-layout-within-music-1" href="#Proportional-strict-notespacing">Tweaking grace layout within music</a></li>
    <li><a name="toc-Using-beatLength-and-beatGrouping-2" href="#Proportional-strict-notespacing">Using beatLength and beatGrouping</a></li>
    <li><a name="toc-Using-PostScript-to-generate-special-note-head-shapes-1" href="#Proportional-strict-notespacing">Using PostScript to generate special note head shapes</a></li>
    <li><a name="toc-Using-the-_005ctweak-command-to-tweak-individual-grobs-1" href="#Using-the-_005ctweak-command-to-tweak-individual-grobs">Using the \tweak command to tweak individual grobs</a></li>
    <li><a name="toc-Vertically-aligned-dynamics-and-textscripts-1" href="#Vertically-aligned-dynamics-and-textscripts">Vertically aligned dynamics and textscripts</a></li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-2" href="#Vertically-aligned-dynamics-and-textscripts">Vertically aligning ossias and lyrics</a></li>
  </ul></li>
  <li><a name="toc-Paper-and-layout-1" href="#Paper-and-layout">Paper and layout</a>
  <ul class="toc">
    <li><a name="toc-Aligning-and-centering-instrument-names-2" href="#Paper-and-layout">Aligning and centering instrument names</a></li>
    <li><a name="toc-Book-parts-1" href="#Book-parts">Book parts</a></li>
    <li><a name="toc-Changing-the-staff-size-3" href="#Book-parts">Changing the staff size</a></li>
    <li><a name="toc-Clip-systems-1" href="#Clip-systems">Clip systems</a></li>
    <li><a name="toc-Creating-blank-staves-4" href="#Clip-systems">Creating blank staves</a></li>
    <li><a name="toc-Demonstrating-all-headers-1" href="#Clip-systems">Demonstrating all headers</a></li>
    <li><a name="toc-Table-of-contents-1" href="#Table-of-contents">Table of contents</a></li>
  </ul></li>
  <li><a name="toc-Titles-1" href="#Titles">Titles</a>
  <ul class="toc">
    <li><a name="toc-Adding-the-current-date-to-a-score-2" href="#Titles">Adding the current date to a score</a></li>
    <li><a name="toc-Aligning-and-centering-instrument-names-1" href="#Titles">Aligning and centering instrument names</a></li>
    <li><a name="toc-Demonstrating-all-headers-2" href="#Titles">Demonstrating all headers</a></li>
    <li><a name="toc-Outputting-the-version-number-1" href="#Titles">Outputting the version number</a></li>
  </ul></li>
  <li><a name="toc-Spacing-1" href="#Spacing">Spacing</a>
  <ul class="toc">
    <li><a name="toc-Adjusting-lyrics-vertical-spacing-2" href="#Spacing">Adjusting lyrics vertical spacing</a></li>
    <li><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-1" href="#Spacing">Allowing fingerings to be printed inside the staff</a></li>
    <li><a name="toc-Page-label-1" href="#Page-label">Page label</a></li>
    <li><a name="toc-Proportional-strict-notespacing-2" href="#Page-label">Proportional strict notespacing</a></li>
    <li><a name="toc-Vertically-aligned-dynamics-and-textscripts-2" href="#Page-label">Vertically aligned dynamics and textscripts</a></li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-1" href="#Page-label">Vertically aligning ossias and lyrics</a></li>
  </ul></li>
  <li><a name="toc-MIDI-1" href="#MIDI">MIDI</a>
  <ul class="toc">
    <li><a name="toc-Changing-MIDI-output-to-one-channel-per-voice-1" href="#MIDI">Changing MIDI output to one channel per voice</a></li>
    <li><a name="toc-Changing-the-tempo-without-a-metronome-mark-2" href="#MIDI">Changing the tempo without a metronome mark</a></li>
    <li><a name="toc-Demo-MidiInstruments-1" href="#Demo-MidiInstruments">Demo MidiInstruments</a></li>
  </ul></li>
  <li><a name="toc-Templates-1" href="#Templates">Templates</a>
  <ul class="toc">
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music-2" href="#Templates">Ancient notation template &ndash; modern transcription of gregorian music</a></li>
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-mensural-music-1" href="#Templates">Ancient notation template &ndash; modern transcription of mensural music</a></li>
    <li><a name="toc-Jazz-combo-template-2" href="#Templates">Jazz combo template</a></li>
    <li><a name="toc-Orchestra_002c-choir-and-piano-template" href="#Orchestra">Orchestra, choir and piano template</a></li>
    <li><a name="toc-Piano-template-_0028simple_0029-2" href="#Orchestra">Piano template (simple)</a></li>
    <li><a name="toc-Piano-template-with-centered-dynamics-3" href="#Orchestra">Piano template with centered dynamics</a></li>
    <li><a name="toc-Piano-template-with-centered-lyrics-1" href="#Orchestra">Piano template with centered lyrics</a></li>
    <li><a name="toc-Piano-template-with-melody-and-lyrics-2" href="#Orchestra">Piano template with melody and lyrics</a></li>
    <li><a name="toc-Score-for-diatonic-accordion-1" href="#Score-for-diatonic-accordion">Score for diatonic accordion</a></li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-and-chords" href="#Score-for-diatonic-accordion">Single staff template with notes, lyrics, and chords</a></li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-chords-and-frets" href="#Score-for-diatonic-accordion">Single staff template with notes, lyrics, chords and frets</a></li>
    <li><a name="toc-Single-staff-template-with-notes-and-chords-1" href="#Score-for-diatonic-accordion">Single staff template with notes and chords</a></li>
    <li><a name="toc-Single-staff-template-with-notes-and-lyrics-1" href="#Score-for-diatonic-accordion">Single staff template with notes and lyrics</a></li>
    <li><a name="toc-Single-staff-template-with-only-notes-1" href="#Single-staff-template-with-only-notes">Single staff template with only notes</a></li>
    <li><a name="toc-String-quartet-template-_0028simple_0029-1" href="#Single-staff-template-with-only-notes">String quartet template (simple)</a></li>
    <li><a name="toc-String-quartet-template-with-separate-parts-1" href="#Single-staff-template-with-only-notes">String quartet template with separate parts</a></li>
    <li><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-2" href="#Single-staff-template-with-only-notes">Vocal ensemble template with automatic piano reduction</a></li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-1" href="#Single-staff-template-with-only-notes">Vocal ensemble template with lyrics aligned below and above the staves</a></li>
    <li><a name="toc-Vocal-ensemble-template-2" href="#Single-staff-template-with-only-notes">Vocal ensemble template</a></li>
  </ul>
</li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#Top" title="Cover (top) of document" rel="start">Top</a>][<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][Index][<a href="#SEC_About" title="About (help)" rel="help"> ? </a>]</td></tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>Graham Percival</em> on <em>January 13, 2010</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<!-- footer_tag -->
<div class="footer">
<p class="footer_version">
This page is for LilyPond-2.12.3 (stable-branch).
</p>
<p class="footer_report">
Your <a href="http://lilypond.org/web/devel/participating/documentation-adding">suggestions for the documentation</a> are welcome, please report errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../index.html" 
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="#Top" title="Start of the manual">Snippets List</a></h4>
<div class="contents">
<ul class="toc">
  <li><a name="toc-Pitches-1" href="lilypond-snippets-big-page.html#Pitches">Pitches</a>
  <ul class="toc">
    <li><a name="toc-Adding-ambitus-per-voice-3" href="lilypond-snippets-big-page.html#Adding-ambitus-per-voice">Adding ambitus per voice</a>    </li>
    <li><a name="toc-Ambitus-with-multiple-voices-2" href="lilypond-snippets-big-page.html#Ambitus-with-multiple-voices">Ambitus with multiple voices</a>    </li>
    <li><a name="toc-Ambitus-2" href="lilypond-snippets-big-page.html#Ambitus">Ambitus</a>    </li>
    <li><a name="toc-Applying-note-head-styles-depending-on-the-step-of-the-scale-1" href="lilypond-snippets-big-page.html#Applying-note-head-styles-depending-on-the-step-of-the-scale">Applying note head styles depending on the step of the scale</a>    </li>
    <li><a name="toc-Coloring-notes-depending-on-their-pitch-1" href="lilypond-snippets-big-page.html#Coloring-notes-depending-on-their-pitch">Coloring notes depending on their pitch</a>    </li>
    <li><a name="toc-Creating-a-sequence-of-notes-on-various-pitches-1" href="lilypond-snippets-big-page.html#Creating-a-sequence-of-notes-on-various-pitches">Creating a sequence of notes on various pitches</a>    </li>
    <li><a name="toc-Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals-1" href="lilypond-snippets-big-page.html#Dodecaphonic_002dstyle-accidentals-for-each-note-including-naturals">Dodecaphonic-style accidentals for each note including naturals</a>    </li>
    <li><a name="toc-Generating-random-notes-1" href="lilypond-snippets-big-page.html#Generating-random-notes">Generating random notes</a>    </li>
    <li><a name="toc-Makam-example-2" href="lilypond-snippets-big-page.html#Makam-example">Makam example</a>    </li>
    <li><a name="toc-Non_002dtraditional-key-signatures-1" href="lilypond-snippets-big-page.html#Non_002dtraditional-key-signatures">Non-traditional key signatures</a>    </li>
    <li><a name="toc-Ottava-text-2" href="lilypond-snippets-big-page.html#Ottava-text">Ottava text</a>    </li>
    <li><a name="toc-Preventing-extra-naturals-from-being-automatically-added-1" href="lilypond-snippets-big-page.html#Preventing-extra-naturals-from-being-automatically-added">Preventing extra naturals from being automatically added</a>    </li>
    <li><a name="toc-Preventing-natural-signs-from-being-printed-when-the-key-signature-changes-1" href="lilypond-snippets-big-page.html#Preventing-natural-signs-from-being-printed-when-the-key-signature-changes">Preventing natural signs from being printed when the key signature changes</a>    </li>
    <li><a name="toc-Quoting-another-voice-with-transposition-1" href="lilypond-snippets-big-page.html#Quoting-another-voice-with-transposition">Quoting another voice with transposition</a>    </li>
    <li><a name="toc-Separating-key-cancellations-from-key-signature-changes-1" href="lilypond-snippets-big-page.html#Separating-key-cancellations-from-key-signature-changes">Separating key cancellations from key signature changes</a>    </li>
    <li><a name="toc-Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029-1" href="lilypond-snippets-big-page.html#Transposing-pitches-with-minimum-accidentals-_0028_0022Smart_0022-transpose_0029">Transposing pitches with minimum accidentals (&quot;Smart&quot; transpose)</a>    </li>
    <li><a name="toc-Tweaking-clef-properties-2" href="lilypond-snippets-big-page.html#Tweaking-clef-properties">Tweaking clef properties</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Rhythms-1" href="lilypond-snippets-big-page.html#Rhythms">Rhythms</a>
  <ul class="toc">
    <li><a name="toc-Adding-beams_002c-slurs_002c-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms" href="lilypond-snippets-big-page.html#Adding-beams">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</a>    </li>
    <li><a name="toc-Adding-drum-parts-1" href="lilypond-snippets-big-page.html#Adding-drum-parts">Adding drum parts</a>    </li>
    <li><a name="toc-Aligning-bar-numbers-1" href="lilypond-snippets-big-page.html#Aligning-bar-numbers">Aligning bar numbers</a>    </li>
    <li><a name="toc-Automatic-beam-subdivisions-1" href="lilypond-snippets-big-page.html#Automatic-beam-subdivisions">Automatic beam subdivisions</a>    </li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-1" href="lilypond-snippets-big-page.html#Avoiding-collisions-with-chord-fingerings">Avoiding collisions with chord fingerings</a>    </li>
    <li><a name="toc-Beam-endings-in-Score-context-1" href="lilypond-snippets-big-page.html#Beam-endings-in-Score-context">Beam endings in Score context</a>    </li>
    <li><a name="toc-Beam-grouping-in-7_002f8-time-1" href="lilypond-snippets-big-page.html#Beam-grouping-in-7_002f8-time">Beam grouping in 7/8 time</a>    </li>
    <li><a name="toc-Beams-across-line-breaks-1" href="lilypond-snippets-big-page.html#Beams-across-line-breaks">Beams across line breaks</a>    </li>
    <li><a name="toc-Changing-beam-knee-gap-1" href="lilypond-snippets-big-page.html#Changing-beam-knee-gap">Changing beam knee gap</a>    </li>
    <li><a name="toc-Changing-form-of-multi_002dmeasure-rests-1" href="lilypond-snippets-big-page.html#Changing-form-of-multi_002dmeasure-rests">Changing form of multi-measure rests</a>    </li>
    <li><a name="toc-Changing-the-time-signature-without-affecting-the-beaming-1" href="lilypond-snippets-big-page.html#Changing-the-time-signature-without-affecting-the-beaming">Changing the time signature without affecting the beaming</a>    </li>
    <li><a name="toc-Changing-the-tuplet-number-1" href="lilypond-snippets-big-page.html#Changing-the-tuplet-number">Changing the tuplet number</a>    </li>
    <li><a name="toc-Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations-1" href="lilypond-snippets-big-page.html#Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations">Changing time signatures inside a polymetric section using \scaleDurations</a>    </li>
    <li><a name="toc-Chant-or-psalms-notation-3" href="lilypond-snippets-big-page.html#Chant-or-psalms-notation">Chant or psalms notation</a>    </li>
    <li><a name="toc-Compound-time-signatures-1" href="lilypond-snippets-big-page.html#Compound-time-signatures">Compound time signatures</a>    </li>
    <li><a name="toc-Conducting-signs_002c-measure-grouping-signs" href="lilypond-snippets-big-page.html#Conducting-signs">Conducting signs, measure grouping signs</a>    </li>
    <li><a name="toc-Controlling-tuplet-bracket-visibility-1" href="lilypond-snippets-big-page.html#Controlling-tuplet-bracket-visibility">Controlling tuplet bracket visibility</a>    </li>
    <li><a name="toc-Engraving-ties-manually-1" href="lilypond-snippets-big-page.html#Engraving-ties-manually">Engraving ties manually</a>    </li>
    <li><a name="toc-Engraving-tremolos-with-floating-beams-2" href="lilypond-snippets-big-page.html#Engraving-tremolos-with-floating-beams">Engraving tremolos with floating beams</a>    </li>
    <li><a name="toc-Entering-several-tuplets-using-only-one-_005ctimes-command-1" href="lilypond-snippets-big-page.html#Entering-several-tuplets-using-only-one-_005ctimes-command">Entering several tuplets using only one \times command</a>    </li>
    <li><a name="toc-Flat-flags-and-beam-nibs-1" href="lilypond-snippets-big-page.html#Flat-flags-and-beam-nibs">Flat flags and beam nibs</a>    </li>
    <li><a name="toc-Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number-1" href="lilypond-snippets-big-page.html#Forcing-rehearsal-marks-to-start-from-a-given-letter-or-number">Forcing rehearsal marks to start from a given letter or number</a>    </li>
    <li><a name="toc-Grouping-beats-1" href="lilypond-snippets-big-page.html#Grouping-beats">Grouping beats</a>    </li>
    <li><a name="toc-Guitar-strum-rhythms-1" href="lilypond-snippets-big-page.html#Guitar-strum-rhythms">Guitar strum rhythms</a>    </li>
    <li><a name="toc-Heavily-customized-polymetric-time-signatures-1" href="lilypond-snippets-big-page.html#Heavily-customized-polymetric-time-signatures">Heavily customized polymetric time signatures</a>    </li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-1" href="lilypond-snippets-big-page.html#Making-an-object-invisible-with-the-_0027transparent-property">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li><a name="toc-Manually-controlling-beam-positions-1" href="lilypond-snippets-big-page.html#Manually-controlling-beam-positions">Manually controlling beam positions</a>    </li>
    <li><a name="toc-Merging-multi_002dmeasure-rests-in-a-polyphonic-part-1" href="lilypond-snippets-big-page.html#Merging-multi_002dmeasure-rests-in-a-polyphonic-part">Merging multi-measure rests in a polyphonic part</a>    </li>
    <li><a name="toc-Modifying-tuplet-bracket-length-1" href="lilypond-snippets-big-page.html#Modifying-tuplet-bracket-length">Modifying tuplet bracket length</a>    </li>
    <li><a name="toc-Multi_002dmeasure-rest-markup-1" href="lilypond-snippets-big-page.html#Multi_002dmeasure-rest-markup">Multi-measure rest markup</a>    </li>
    <li><a name="toc-Permitting-line-breaks-within-beamed-tuplets-1" href="lilypond-snippets-big-page.html#Permitting-line-breaks-within-beamed-tuplets">Permitting line breaks within beamed tuplets</a>    </li>
    <li><a name="toc-Positioning-grace-notes-with-floating-space-1" href="lilypond-snippets-big-page.html#Positioning-grace-notes-with-floating-space">Positioning grace notes with floating space</a>    </li>
    <li><a name="toc-Positioning-multi_002dmeasure-rests-1" href="lilypond-snippets-big-page.html#Positioning-multi_002dmeasure-rests">Positioning multi-measure rests</a>    </li>
    <li><a name="toc-Printing-bar-numbers-at-regular-intervals-1" href="lilypond-snippets-big-page.html#Printing-bar-numbers-at-regular-intervals">Printing bar numbers at regular intervals</a>    </li>
    <li><a name="toc-Printing-bar-numbers-inside-boxes-or-circles-2" href="lilypond-snippets-big-page.html#Printing-bar-numbers-inside-boxes-or-circles">Printing bar numbers inside boxes or circles</a>    </li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-1" href="lilypond-snippets-big-page.html#Printing-metronome-and-rehearsal-marks-below-the-staff">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li><a name="toc-Printing-music-with-different-time-signatures-2" href="lilypond-snippets-big-page.html#Printing-music-with-different-time-signatures">Printing music with different time signatures</a>    </li>
    <li><a name="toc-Printing-the-bar-number-for-the-first-measure-1" href="lilypond-snippets-big-page.html#Printing-the-bar-number-for-the-first-measure">Printing the bar number for the first measure</a>    </li>
    <li><a name="toc-Redefining-grace-note-global-defaults-1" href="lilypond-snippets-big-page.html#Redefining-grace-note-global-defaults">Redefining grace note global defaults</a>    </li>
    <li><a name="toc-Removing-bar-numbers-from-a-score-2" href="lilypond-snippets-big-page.html#Removing-bar-numbers-from-a-score">Removing bar numbers from a score</a>    </li>
    <li><a name="toc-Rest-styles-2" href="lilypond-snippets-big-page.html#Rest-styles">Rest styles</a>    </li>
    <li><a name="toc-Reverting-default-beam-endings-1" href="lilypond-snippets-big-page.html#Reverting-default-beam-endings">Reverting default beam endings</a>    </li>
    <li><a name="toc-Rhythmic-slashes-1" href="lilypond-snippets-big-page.html#Rhythmic-slashes">Rhythmic slashes</a>    </li>
    <li><a name="toc-Skips-in-lyric-mode-_00282_0029-2" href="lilypond-snippets-big-page.html#Skips-in-lyric-mode-_00282_0029">Skips in lyric mode (2)</a>    </li>
    <li><a name="toc-Skips-in-lyric-mode-2" href="lilypond-snippets-big-page.html#Skips-in-lyric-mode">Skips in lyric mode</a>    </li>
    <li><a name="toc-Specifying-context-with-beatGrouping-2" href="lilypond-snippets-big-page.html#Specifying-context-with-beatGrouping">Specifying context with beatGrouping</a>    </li>
    <li><a name="toc-Stemlets-1" href="lilypond-snippets-big-page.html#Stemlets">Stemlets</a>    </li>
    <li><a name="toc-Sub_002ddividing-beams-1" href="lilypond-snippets-big-page.html#Sub_002ddividing-beams">Sub-dividing beams</a>    </li>
    <li><a name="toc-Three_002dsided-box-2" href="lilypond-snippets-big-page.html#Three_002dsided-box">Three-sided box</a>    </li>
    <li><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029-1" href="lilypond-snippets-big-page.html#Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029">Time signature printing only the numerator as a number (instead of the fraction)</a>    </li>
    <li><a name="toc-Tweaking-grace-layout-within-music-2" href="lilypond-snippets-big-page.html#Tweaking-grace-layout-within-music">Tweaking grace layout within music</a>    </li>
    <li><a name="toc-Using-beatLength-and-beatGrouping-1" href="lilypond-snippets-big-page.html#Using-beatLength-and-beatGrouping">Using beatLength and beatGrouping</a>    </li>
    <li><a name="toc-Using-grace-note-slashes-with-normal-heads-1" href="lilypond-snippets-big-page.html#Using-grace-note-slashes-with-normal-heads">Using grace note slashes with normal heads</a>    </li>
    <li><a name="toc-Using-ties-with-arpeggios-1" href="lilypond-snippets-big-page.html#Using-ties-with-arpeggios">Using ties with arpeggios</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Expressive-marks-1" href="lilypond-snippets-big-page.html#Expressive-marks">Expressive marks</a>
  <ul class="toc">
    <li><a name="toc-Adding-beams_002c-slurs_002c-ties-etc_002e-when-using-tuplet-and-non_002dtuplet-rhythms-1" href="lilypond-snippets-big-page.html#Expressive-marks">Adding beams, slurs, ties etc. when using tuplet and non-tuplet rhythms</a>    </li>
    <li><a name="toc-Adding-parentheses-around-an-expressive-mark-or-chordal-note-1" href="lilypond-snippets-big-page.html#Adding-parentheses-around-an-expressive-mark-or-chordal-note">Adding parentheses around an expressive mark or chordal note</a>    </li>
    <li><a name="toc-Adjusting-the-shape-of-falls-and-doits-1" href="lilypond-snippets-big-page.html#Adjusting-the-shape-of-falls-and-doits">Adjusting the shape of falls and doits</a>    </li>
    <li><a name="toc-Breathing-signs-1" href="lilypond-snippets-big-page.html#Breathing-signs">Breathing signs</a>    </li>
    <li><a name="toc-Broken-Crescendo-Hairpin-1" href="lilypond-snippets-big-page.html#Broken-Crescendo-Hairpin">Broken Crescendo Hairpin</a>    </li>
    <li><a name="toc-Caesura-_0028_0022railtracks_0022_0029-with-fermata-2" href="lilypond-snippets-big-page.html#Caesura-_0028_0022railtracks_0022_0029-with-fermata">Caesura (&quot;railtracks&quot;) with fermata</a>    </li>
    <li><a name="toc-Center-text-below-hairpin-dynamics-2" href="lilypond-snippets-big-page.html#Center-text-below-hairpin-dynamics">Center text below hairpin dynamics</a>    </li>
    <li><a name="toc-Changing-_005cflageolet-mark-size-2" href="lilypond-snippets-big-page.html#Changing-_005cflageolet-mark-size">Changing \flageolet mark size</a>    </li>
    <li><a name="toc-Changing-text-and-spanner-styles-for-text-dynamics-1" href="lilypond-snippets-big-page.html#Changing-text-and-spanner-styles-for-text-dynamics">Changing text and spanner styles for text dynamics</a>    </li>
    <li><a name="toc-Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed-1" href="lilypond-snippets-big-page.html#Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed">Changing the appearance of a slur from solid to dotted or dashed</a>    </li>
    <li><a name="toc-Changing-the-breath-mark-symbol-1" href="lilypond-snippets-big-page.html#Changing-the-breath-mark-symbol">Changing the breath mark symbol</a>    </li>
    <li><a name="toc-Combining-dynamics-with-markup-texts-2" href="lilypond-snippets-big-page.html#Combining-dynamics-with-markup-texts">Combining dynamics with markup texts</a>    </li>
    <li><a name="toc-Contemporary-glissando-1" href="lilypond-snippets-big-page.html#Contemporary-glissando">Contemporary glissando</a>    </li>
    <li><a name="toc-Controlling-the-vertical-ordering-of-scripts-1" href="lilypond-snippets-big-page.html#Controlling-the-vertical-ordering-of-scripts">Controlling the vertical ordering of scripts</a>    </li>
    <li><a name="toc-Creating-a-delayed-turn-2" href="lilypond-snippets-big-page.html#Creating-a-delayed-turn">Creating a delayed turn</a>    </li>
    <li><a name="toc-Creating-arpeggios-across-notes-in-different-voices-1" href="lilypond-snippets-big-page.html#Creating-arpeggios-across-notes-in-different-voices">Creating arpeggios across notes in different voices</a>    </li>
    <li><a name="toc-Creating-cross_002dstaff-arpeggios-in-a-piano-staff-1" href="lilypond-snippets-big-page.html#Creating-cross_002dstaff-arpeggios-in-a-piano-staff">Creating cross-staff arpeggios in a piano staff</a>    </li>
    <li><a name="toc-Creating-cross_002dstaff-arpeggios-in-other-contexts-1" href="lilypond-snippets-big-page.html#Creating-cross_002dstaff-arpeggios-in-other-contexts">Creating cross-staff arpeggios in other contexts</a>    </li>
    <li><a name="toc-Creating-_0022real_0022-parenthesized-dynamics-1" href="lilypond-snippets-big-page.html#Creating-_0022real_0022-parenthesized-dynamics">Creating &quot;real&quot; parenthesized dynamics</a>    </li>
    <li><a name="toc-Creating-simultaneous-rehearsal-marks-2" href="lilypond-snippets-big-page.html#Creating-simultaneous-rehearsal-marks">Creating simultaneous rehearsal marks</a>    </li>
    <li><a name="toc-Creating-slurs-across-voices-3" href="lilypond-snippets-big-page.html#Creating-slurs-across-voices">Creating slurs across voices</a>    </li>
    <li><a name="toc-Creating-text-spanners-2" href="lilypond-snippets-big-page.html#Creating-text-spanners">Creating text spanners</a>    </li>
    <li><a name="toc-Double-glissando-1" href="lilypond-snippets-big-page.html#Double-glissando">Double glissando</a>    </li>
    <li><a name="toc-Hiding-the-extender-line-for-text-dynamics-1" href="lilypond-snippets-big-page.html#Hiding-the-extender-line-for-text-dynamics">Hiding the extender line for text dynamics</a>    </li>
    <li><a name="toc-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022_002c-_0022piu-f_0022_002c-_0022subito-p_0022_0029-1" href="lilypond-snippets-big-page.html#Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</a>    </li>
    <li><a name="toc-Inserting-a-caesura-1" href="lilypond-snippets-big-page.html#Inserting-a-caesura">Inserting a caesura</a>    </li>
    <li><a name="toc-Laissez-vibrer-ties-1" href="lilypond-snippets-big-page.html#Laissez-vibrer-ties">Laissez vibrer ties</a>    </li>
    <li><a name="toc-Line-arrows-1" href="lilypond-snippets-big-page.html#Line-arrows">Line arrows</a>    </li>
    <li><a name="toc-Modifying-default-values-for-articulation-shorthand-notation-1" href="lilypond-snippets-big-page.html#Modifying-default-values-for-articulation-shorthand-notation">Modifying default values for articulation shorthand notation</a>    </li>
    <li><a name="toc-Piano-template-with-centered-dynamics-2" href="lilypond-snippets-big-page.html#Piano-template-with-centered-dynamics">Piano template with centered dynamics</a>    </li>
    <li><a name="toc-Positioning-text-markups-inside-slurs-3" href="lilypond-snippets-big-page.html#Positioning-text-markups-inside-slurs">Positioning text markups inside slurs</a>    </li>
    <li><a name="toc-Printing-hairpins-using-al-niente-notation-1" href="lilypond-snippets-big-page.html#Printing-hairpins-using-al-niente-notation">Printing hairpins using al niente notation</a>    </li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-2" href="lilypond-snippets-big-page.html#Printing-hairpins-using-al-niente-notation">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li><a name="toc-Setting-hairpin-behavior-at-bar-lines-1" href="lilypond-snippets-big-page.html#Setting-hairpin-behavior-at-bar-lines">Setting hairpin behavior at bar lines</a>    </li>
    <li><a name="toc-Setting-the-minimum-length-of-hairpins-1" href="lilypond-snippets-big-page.html#Setting-the-minimum-length-of-hairpins">Setting the minimum length of hairpins</a>    </li>
    <li><a name="toc-Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029-2" href="lilypond-snippets-big-page.html#Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029">Snap-pizzicato markup (&quot;Bartok pizzicato&quot;)</a>    </li>
    <li><a name="toc-Using-double-slurs-for-legato-chords-1" href="lilypond-snippets-big-page.html#Using-double-slurs-for-legato-chords">Using double slurs for legato chords</a>    </li>
    <li><a name="toc-Vertical-line-as-a-baroque-articulation-mark-2" href="lilypond-snippets-big-page.html#Vertical-line-as-a-baroque-articulation-mark">Vertical line as a baroque articulation mark</a>    </li>
    <li><a name="toc-Vertically-aligning-dynamics-across-multiple-notes-1" href="lilypond-snippets-big-page.html#Vertically-aligning-dynamics-across-multiple-notes">Vertically aligning dynamics across multiple notes</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Repeats-1" href="lilypond-snippets-big-page.html#Repeats">Repeats</a>
  <ul class="toc">
    <li><a name="toc-Adding-volta-brackets-to-additional-staves-1" href="lilypond-snippets-big-page.html#Adding-volta-brackets-to-additional-staves">Adding volta brackets to additional staves</a>    </li>
    <li><a name="toc-Engraving-tremolos-with-floating-beams-1" href="lilypond-snippets-big-page.html#Adding-volta-brackets-to-additional-staves">Engraving tremolos with floating beams</a>    </li>
    <li><a name="toc-Isolated-percent-repeats-1" href="lilypond-snippets-big-page.html#Isolated-percent-repeats">Isolated percent repeats</a>    </li>
    <li><a name="toc-Measure-counter-1" href="lilypond-snippets-big-page.html#Measure-counter">Measure counter</a>    </li>
    <li><a name="toc-Percent-repeat-count-visibility-1" href="lilypond-snippets-big-page.html#Percent-repeat-count-visibility">Percent repeat count visibility</a>    </li>
    <li><a name="toc-Percent-repeat-counter-1" href="lilypond-snippets-big-page.html#Percent-repeat-counter">Percent repeat counter</a>    </li>
    <li><a name="toc-Positioning-segno-and-coda-_0028with-line-break_0029-1" href="lilypond-snippets-big-page.html#Positioning-segno-and-coda-_0028with-line-break_0029">Positioning segno and coda (with line break)</a>    </li>
    <li><a name="toc-Printing-a-repeat-sign-at-the-beginning-of-a-piece-2" href="lilypond-snippets-big-page.html#Printing-a-repeat-sign-at-the-beginning-of-a-piece">Printing a repeat sign at the beginning of a piece</a>    </li>
    <li><a name="toc-Shortening-volta-brackets-1" href="lilypond-snippets-big-page.html#Shortening-volta-brackets">Shortening volta brackets</a>    </li>
    <li><a name="toc-Volta-below-chords-1" href="lilypond-snippets-big-page.html#Volta-below-chords">Volta below chords</a>    </li>
    <li><a name="toc-Volta-multi-staff-1" href="lilypond-snippets-big-page.html#Volta-multi-staff">Volta multi staff</a>    </li>
    <li><a name="toc-Volta-text-markup-using-repeatCommands-2" href="lilypond-snippets-big-page.html#Volta-text-markup-using-repeatCommands">Volta text markup using repeatCommands</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Simultaneous-notes-1" href="lilypond-snippets-big-page.html#Simultaneous-notes">Simultaneous notes</a>
  <ul class="toc">
    <li><a name="toc-Additional-voices-to-avoid-collisions-1" href="lilypond-snippets-big-page.html#Additional-voices-to-avoid-collisions">Additional voices to avoid collisions</a>    </li>
    <li><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-1" href="lilypond-snippets-big-page.html#Changing-a-single-note_0027s-size-in-a-chord">Changing a single note&rsquo;s size in a chord</a>    </li>
    <li><a name="toc-Changing-partcombine-texts-1" href="lilypond-snippets-big-page.html#Changing-partcombine-texts">Changing partcombine texts</a>    </li>
    <li><a name="toc-Clusters-1" href="lilypond-snippets-big-page.html#Clusters">Clusters</a>    </li>
    <li><a name="toc-Combining-two-parts-on-the-same-staff-1" href="lilypond-snippets-big-page.html#Combining-two-parts-on-the-same-staff">Combining two parts on the same staff</a>    </li>
    <li><a name="toc-Displaying-complex-chords-1" href="lilypond-snippets-big-page.html#Displaying-complex-chords">Displaying complex chords</a>    </li>
    <li><a name="toc-Double-glissando-2" href="lilypond-snippets-big-page.html#Displaying-complex-chords">Double glissando</a>    </li>
    <li><a name="toc-Forcing-horizontal-shift-of-notes-1" href="lilypond-snippets-big-page.html#Forcing-horizontal-shift-of-notes">Forcing horizontal shift of notes</a>    </li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-2" href="lilypond-snippets-big-page.html#Forcing-horizontal-shift-of-notes">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li><a name="toc-Suppressing-warnings-for-clashing-note-columns-2" href="lilypond-snippets-big-page.html#Suppressing-warnings-for-clashing-note-columns">Suppressing warnings for clashing note columns</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Staff-notation-1" href="lilypond-snippets-big-page.html#Staff-notation">Staff notation</a>
  <ul class="toc">
    <li><a name="toc-Adding-ambitus-per-voice-2" href="lilypond-snippets-big-page.html#Staff-notation">Adding ambitus per voice</a>    </li>
    <li><a name="toc-Adding-an-extra-staff-at-a-line-break-1" href="lilypond-snippets-big-page.html#Adding-an-extra-staff-at-a-line-break">Adding an extra staff at a line break</a>    </li>
    <li><a name="toc-Adding-an-extra-staff-2" href="lilypond-snippets-big-page.html#Adding-an-extra-staff">Adding an extra staff</a>    </li>
    <li><a name="toc-Changing-the-number-of-lines-in-a-staff-1" href="lilypond-snippets-big-page.html#Changing-the-number-of-lines-in-a-staff">Changing the number of lines in a staff</a>    </li>
    <li><a name="toc-Changing-the-staff-size-2" href="lilypond-snippets-big-page.html#Changing-the-staff-size">Changing the staff size</a>    </li>
    <li><a name="toc-Changing-the-tempo-without-a-metronome-mark-1" href="lilypond-snippets-big-page.html#Changing-the-tempo-without-a-metronome-mark">Changing the tempo without a metronome mark</a>    </li>
    <li><a name="toc-Creating-blank-staves-2" href="lilypond-snippets-big-page.html#Creating-blank-staves">Creating blank staves</a>    </li>
    <li><a name="toc-Creating-metronome-marks-in-markup-mode-1" href="lilypond-snippets-big-page.html#Creating-metronome-marks-in-markup-mode">Creating metronome marks in markup mode</a>    </li>
    <li><a name="toc-Display-bracket-with-only-one-staff-in-a-system-2" href="lilypond-snippets-big-page.html#Display-bracket-with-only-one-staff-in-a-system">Display bracket with only one staff in a system</a>    </li>
    <li><a name="toc-Incipit-2" href="lilypond-snippets-big-page.html#Incipit">Incipit</a>    </li>
    <li><a name="toc-Inserting-score-fragments-above-a-staff_002c-as-markups" href="lilypond-snippets-big-page.html#Inserting-score-fragments-above-a-staff">Inserting score fragments above a staff, as markups</a>    </li>
    <li><a name="toc-Letter-tablature-formatting-2" href="lilypond-snippets-big-page.html#Letter-tablature-formatting">Letter tablature formatting</a>    </li>
    <li><a name="toc-Making-some-staff-lines-thicker-than-the-others-1" href="lilypond-snippets-big-page.html#Making-some-staff-lines-thicker-than-the-others">Making some staff lines thicker than the others</a>    </li>
    <li><a name="toc-Measure-counter-2" href="lilypond-snippets-big-page.html#Making-some-staff-lines-thicker-than-the-others">Measure counter</a>    </li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-2" href="lilypond-snippets-big-page.html#Mensurstriche-layout-_0028bar-lines-between-the-staves_0029">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li><a name="toc-Modern-TAB-text-clef-1" href="lilypond-snippets-big-page.html#Modern-TAB-text-clef">Modern TAB text clef</a>    </li>
    <li><a name="toc-Nesting-staves-3" href="lilypond-snippets-big-page.html#Nesting-staves">Nesting staves</a>    </li>
    <li><a name="toc-Non_002dtraditional-key-signatures-2" href="lilypond-snippets-big-page.html#Nesting-staves">Non-traditional key signatures</a>    </li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-4" href="lilypond-snippets-big-page.html#Nesting-staves">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li><a name="toc-Quoting-another-voice-with-transposition-2" href="lilypond-snippets-big-page.html#Nesting-staves">Quoting another voice with transposition</a>    </li>
    <li><a name="toc-Quoting-another-voice-1" href="lilypond-snippets-big-page.html#Quoting-another-voice">Quoting another voice</a>    </li>
    <li><a name="toc-Removing-the-first-empty-line-1" href="lilypond-snippets-big-page.html#Removing-the-first-empty-line">Removing the first empty line</a>    </li>
    <li><a name="toc-Tick-bar-lines-1" href="lilypond-snippets-big-page.html#Tick-bar-lines">Tick bar lines</a>    </li>
    <li><a name="toc-Time-signature-in-parentheses-1" href="lilypond-snippets-big-page.html#Time-signature-in-parentheses">Time signature in parentheses</a>    </li>
    <li><a name="toc-Tweaking-clef-properties-1" href="lilypond-snippets-big-page.html#Time-signature-in-parentheses">Tweaking clef properties</a>    </li>
    <li><a name="toc-Use-square-bracket-at-the-start-of-a-staff-group-2" href="lilypond-snippets-big-page.html#Use-square-bracket-at-the-start-of-a-staff-group">Use square bracket at the start of a staff group</a>    </li>
    <li><a name="toc-Volta-below-chords-3" href="lilypond-snippets-big-page.html#Use-square-bracket-at-the-start-of-a-staff-group">Volta below chords</a>    </li>
    <li><a name="toc-Volta-multi-staff-2" href="lilypond-snippets-big-page.html#Use-square-bracket-at-the-start-of-a-staff-group">Volta multi staff</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Editorial-annotations-1" href="lilypond-snippets-big-page.html#Editorial-annotations">Editorial annotations</a>
  <ul class="toc">
    <li><a name="toc-Adding-fingerings-to-a-score-1" href="lilypond-snippets-big-page.html#Adding-fingerings-to-a-score">Adding fingerings to a score</a>    </li>
    <li><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-2" href="lilypond-snippets-big-page.html#Allowing-fingerings-to-be-printed-inside-the-staff">Allowing fingerings to be printed inside the staff</a>    </li>
    <li><a name="toc-Analysis-brackets-above-the-staff-2" href="lilypond-snippets-big-page.html#Analysis-brackets-above-the-staff">Analysis brackets above the staff</a>    </li>
    <li><a name="toc-Applying-note-head-styles-depending-on-the-step-of-the-scale-2" href="lilypond-snippets-big-page.html#Analysis-brackets-above-the-staff">Applying note head styles depending on the step of the scale</a>    </li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-3" href="lilypond-snippets-big-page.html#Analysis-brackets-above-the-staff">Avoiding collisions with chord fingerings</a>    </li>
    <li><a name="toc-Blanking-staff-lines-using-the-_005cwhiteout-command-2" href="lilypond-snippets-big-page.html#Blanking-staff-lines-using-the-_005cwhiteout-command">Blanking staff lines using the \whiteout command</a>    </li>
    <li><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-3" href="lilypond-snippets-big-page.html#Blanking-staff-lines-using-the-_005cwhiteout-command">Changing a single note&rsquo;s size in a chord</a>    </li>
    <li><a name="toc-Changing-the-appearance-of-a-slur-from-solid-to-dotted-or-dashed-2" href="lilypond-snippets-big-page.html#Blanking-staff-lines-using-the-_005cwhiteout-command">Changing the appearance of a slur from solid to dotted or dashed</a>    </li>
    <li><a name="toc-Coloring-notes-depending-on-their-pitch-2" href="lilypond-snippets-big-page.html#Blanking-staff-lines-using-the-_005cwhiteout-command">Coloring notes depending on their pitch</a>    </li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-1" href="lilypond-snippets-big-page.html#Controlling-the-placement-of-chord-fingerings">Controlling the placement of chord fingerings</a>    </li>
    <li><a name="toc-Creating-a-delayed-turn-3" href="lilypond-snippets-big-page.html#Controlling-the-placement-of-chord-fingerings">Creating a delayed turn</a>    </li>
    <li><a name="toc-Creating-blank-staves-3" href="lilypond-snippets-big-page.html#Controlling-the-placement-of-chord-fingerings">Creating blank staves</a>    </li>
    <li><a name="toc-Default-direction-of-stems-on-the-center-line-of-the-staff-1" href="lilypond-snippets-big-page.html#Default-direction-of-stems-on-the-center-line-of-the-staff">Default direction of stems on the center line of the staff</a>    </li>
    <li><a name="toc-Drawing-boxes-around-grobs-1" href="lilypond-snippets-big-page.html#Drawing-boxes-around-grobs">Drawing boxes around grobs</a>    </li>
    <li><a name="toc-Drawing-circles-around-various-objects-2" href="lilypond-snippets-big-page.html#Drawing-circles-around-various-objects">Drawing circles around various objects</a>    </li>
    <li><a name="toc-Embedding-native-PostScript-in-a-_005cmarkup-block-2" href="lilypond-snippets-big-page.html#Embedding-native-PostScript-in-a-_005cmarkup-block">Embedding native PostScript in a \markup block</a>    </li>
    <li><a name="toc-Grid-lines_003a-changing-their-appearance-1" href="lilypond-snippets-big-page.html#Grid-lines_003a-changing-their-appearance">Grid lines: changing their appearance</a>    </li>
    <li><a name="toc-Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization-1" href="lilypond-snippets-big-page.html#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization">Grid lines: emphasizing rhythms and notes synchronization</a>    </li>
    <li><a name="toc-Making-some-staff-lines-thicker-than-the-others-2" href="lilypond-snippets-big-page.html#Grid-lines_003a-emphasizing-rhythms-and-notes-synchronization">Making some staff lines thicker than the others</a>    </li>
    <li><a name="toc-Marking-notes-of-spoken-parts-with-a-cross-on-the-stem-2" href="lilypond-snippets-big-page.html#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem">Marking notes of spoken parts with a cross on the stem</a>    </li>
    <li><a name="toc-Measure-counter-3" href="lilypond-snippets-big-page.html#Marking-notes-of-spoken-parts-with-a-cross-on-the-stem">Measure counter</a>    </li>
    <li><a name="toc-Positioning-fingering-indications-precisely-1" href="lilypond-snippets-big-page.html#Positioning-fingering-indications-precisely">Positioning fingering indications precisely</a>    </li>
    <li><a name="toc-Positioning-text-markups-inside-slurs-2" href="lilypond-snippets-big-page.html#Positioning-fingering-indications-precisely">Positioning text markups inside slurs</a>    </li>
    <li><a name="toc-Printing-text-from-right-to-left-1" href="lilypond-snippets-big-page.html#Printing-text-from-right-to-left">Printing text from right to left</a>    </li>
    <li><a name="toc-Using-PostScript-to-generate-special-note-head-shapes-2" href="lilypond-snippets-big-page.html#Using-PostScript-to-generate-special-note-head-shapes">Using PostScript to generate special note head shapes</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Text-1" href="lilypond-snippets-big-page.html#Text">Text</a>
  <ul class="toc">
    <li><a name="toc-Adding-the-current-date-to-a-score-1" href="lilypond-snippets-big-page.html#Adding-the-current-date-to-a-score">Adding the current date to a score</a>    </li>
    <li><a name="toc-Adjusting-lyrics-vertical-spacing-1" href="lilypond-snippets-big-page.html#Adjusting-lyrics-vertical-spacing">Adjusting lyrics vertical spacing</a>    </li>
    <li><a name="toc-Aligning-and-centering-instrument-names-3" href="lilypond-snippets-big-page.html#Aligning-and-centering-instrument-names">Aligning and centering instrument names</a>    </li>
    <li><a name="toc-Aligning-marks-with-various-notation-objects-1" href="lilypond-snippets-big-page.html#Aligning-marks-with-various-notation-objects">Aligning marks with various notation objects</a>    </li>
    <li><a name="toc-Aligning-objects-created-with-the-_005cmark-command-1" href="lilypond-snippets-big-page.html#Aligning-objects-created-with-the-_005cmark-command">Aligning objects created with the \mark command</a>    </li>
    <li><a name="toc-Blanking-staff-lines-using-the-_005cwhiteout-command-1" href="lilypond-snippets-big-page.html#Aligning-objects-created-with-the-_005cmark-command">Blanking staff lines using the \whiteout command</a>    </li>
    <li><a name="toc-Center-text-below-hairpin-dynamics-1" href="lilypond-snippets-big-page.html#Aligning-objects-created-with-the-_005cmark-command">Center text below hairpin dynamics</a>    </li>
    <li><a name="toc-Changing-the-default-text-font-family-1" href="lilypond-snippets-big-page.html#Changing-the-default-text-font-family">Changing the default text font family</a>    </li>
    <li><a name="toc-Combining-dynamics-with-markup-texts-1" href="lilypond-snippets-big-page.html#Changing-the-default-text-font-family">Combining dynamics with markup texts</a>    </li>
    <li><a name="toc-Combining-two-parts-on-the-same-staff-2" href="lilypond-snippets-big-page.html#Changing-the-default-text-font-family">Combining two parts on the same staff</a>    </li>
    <li><a name="toc-Creating-_0022real_0022-parenthesized-dynamics-2" href="lilypond-snippets-big-page.html#Changing-the-default-text-font-family">Creating &quot;real&quot; parenthesized dynamics</a>    </li>
    <li><a name="toc-Creating-simultaneous-rehearsal-marks-1" href="lilypond-snippets-big-page.html#Changing-the-default-text-font-family">Creating simultaneous rehearsal marks</a>    </li>
    <li><a name="toc-Creating-text-spanners-1" href="lilypond-snippets-big-page.html#Changing-the-default-text-font-family">Creating text spanners</a>    </li>
    <li><a name="toc-Demonstrating-all-headers-3" href="lilypond-snippets-big-page.html#Demonstrating-all-headers">Demonstrating all headers</a>    </li>
    <li><a name="toc-Embedding-native-PostScript-in-a-_005cmarkup-block-1" href="lilypond-snippets-big-page.html#Demonstrating-all-headers">Embedding native PostScript in a \markup block</a>    </li>
    <li><a name="toc-Formatting-lyrics-syllables-1" href="lilypond-snippets-big-page.html#Formatting-lyrics-syllables">Formatting lyrics syllables</a>    </li>
    <li><a name="toc-How-to-put-ties-between-syllables-in-lyrics-2" href="lilypond-snippets-big-page.html#How-to-put-ties-between-syllables-in-lyrics">How to put ties between syllables in lyrics</a>    </li>
    <li><a name="toc-Lyrics-alignment-1" href="lilypond-snippets-big-page.html#Lyrics-alignment">Lyrics alignment</a>    </li>
    <li><a name="toc-Markup-lines-1" href="lilypond-snippets-big-page.html#Markup-lines">Markup lines</a>    </li>
    <li><a name="toc-Multi_002dmeasure-rest-markup-2" href="lilypond-snippets-big-page.html#Markup-lines">Multi-measure rest markup</a>    </li>
    <li><a name="toc-Ottava-text-1" href="lilypond-snippets-big-page.html#Markup-lines">Ottava text</a>    </li>
    <li><a name="toc-Outputting-the-version-number-2" href="lilypond-snippets-big-page.html#Outputting-the-version-number">Outputting the version number</a>    </li>
    <li><a name="toc-Piano-template-with-centered-lyrics-2" href="lilypond-snippets-big-page.html#Piano-template-with-centered-lyrics">Piano template with centered lyrics</a>    </li>
    <li><a name="toc-Printing-marks-at-the-end-of-a-line-or-a-score-1" href="lilypond-snippets-big-page.html#Printing-marks-at-the-end-of-a-line-or-a-score">Printing marks at the end of a line or a score</a>    </li>
    <li><a name="toc-Printing-marks-on-every-staff-1" href="lilypond-snippets-big-page.html#Printing-marks-on-every-staff">Printing marks on every staff</a>    </li>
    <li><a name="toc-Printing-text-from-right-to-left-2" href="lilypond-snippets-big-page.html#Printing-marks-on-every-staff">Printing text from right to left</a>    </li>
    <li><a name="toc-Stand_002dalone-two_002dcolumn-markup-1" href="lilypond-snippets-big-page.html#Stand_002dalone-two_002dcolumn-markup">Stand-alone two-column markup</a>    </li>
    <li><a name="toc-Three_002dsided-box-1" href="lilypond-snippets-big-page.html#Stand_002dalone-two_002dcolumn-markup">Three-sided box</a>    </li>
    <li><a name="toc-UTF_002d8-1" href="lilypond-snippets-big-page.html#UTF_002d8">UTF-8</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-3" href="lilypond-snippets-big-page.html#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
    <li><a name="toc-Volta-text-markup-using-repeatCommands-1" href="lilypond-snippets-big-page.html#Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves">Volta text markup using repeatCommands</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Vocal-music-1" href="lilypond-snippets-big-page.html#Vocal-music">Vocal music</a>
  <ul class="toc">
    <li><a name="toc-Adding-ambitus-per-voice-1" href="lilypond-snippets-big-page.html#Vocal-music">Adding ambitus per voice</a>    </li>
    <li><a name="toc-Adjusting-lyrics-vertical-spacing-3" href="lilypond-snippets-big-page.html#Vocal-music">Adjusting lyrics vertical spacing</a>    </li>
    <li><a name="toc-Ambitus-with-multiple-voices-1" href="lilypond-snippets-big-page.html#Vocal-music">Ambitus with multiple voices</a>    </li>
    <li><a name="toc-Ambitus-1" href="lilypond-snippets-big-page.html#Vocal-music">Ambitus</a>    </li>
    <li><a name="toc-Changing-stanza-fonts-1" href="lilypond-snippets-big-page.html#Changing-stanza-fonts">Changing stanza fonts</a>    </li>
    <li><a name="toc-Chant-or-psalms-notation-1" href="lilypond-snippets-big-page.html#Changing-stanza-fonts">Chant or psalms notation</a>    </li>
    <li><a name="toc-Formatting-lyrics-syllables-2" href="lilypond-snippets-big-page.html#Changing-stanza-fonts">Formatting lyrics syllables</a>    </li>
    <li><a name="toc-How-to-put-ties-between-syllables-in-lyrics-1" href="lilypond-snippets-big-page.html#Changing-stanza-fonts">How to put ties between syllables in lyrics</a>    </li>
    <li><a name="toc-Lyrics-alignment-2" href="lilypond-snippets-big-page.html#Changing-stanza-fonts">Lyrics alignment</a>    </li>
    <li><a name="toc-Marking-notes-of-spoken-parts-with-a-cross-on-the-stem-1" href="lilypond-snippets-big-page.html#Changing-stanza-fonts">Marking notes of spoken parts with a cross on the stem</a>    </li>
    <li><a name="toc-Piano-template-with-melody-and-lyrics-1" href="lilypond-snippets-big-page.html#Piano-template-with-melody-and-lyrics">Piano template with melody and lyrics</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-and-chords-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-notes">Single staff template with notes, lyrics, and chords</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-chords-and-frets-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-notes">Single staff template with notes, lyrics, chords and frets</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes-and-lyrics-2" href="lilypond-snippets-big-page.html#Single-staff-template-with-notes-and-lyrics">Single staff template with notes and lyrics</a>    </li>
    <li><a name="toc-Skips-in-lyric-mode-_00282_0029-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-notes-and-lyrics">Skips in lyric mode (2)</a>    </li>
    <li><a name="toc-Skips-in-lyric-mode-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-notes-and-lyrics">Skips in lyric mode</a>    </li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-3" href="lilypond-snippets-big-page.html#Vertically-aligning-ossias-and-lyrics">Vertically aligning ossias and lyrics</a>    </li>
    <li><a name="toc-Vertically-centered-common-lyrics-1" href="lilypond-snippets-big-page.html#Vertically-centered-common-lyrics">Vertically centered common lyrics</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-1" href="lilypond-snippets-big-page.html#Vocal-ensemble-template-with-automatic-piano-reduction">Vocal ensemble template with automatic piano reduction</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-4" href="lilypond-snippets-big-page.html#Vocal-ensemble-template-with-automatic-piano-reduction">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-1" href="lilypond-snippets-big-page.html#Vocal-ensemble-template">Vocal ensemble template</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Chords-1" href="lilypond-snippets-big-page.html#Chords">Chords</a>
  <ul class="toc">
    <li><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-3" href="lilypond-snippets-big-page.html#Adding-a-figured-bass-above-or-below-the-notes">Adding a figured bass above or below the notes</a>    </li>
    <li><a name="toc-Adding-bar-lines-to-ChordNames-context-1" href="lilypond-snippets-big-page.html#Adding-bar-lines-to-ChordNames-context">Adding bar lines to ChordNames context</a>    </li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-4" href="lilypond-snippets-big-page.html#Adding-bar-lines-to-ChordNames-context">Avoiding collisions with chord fingerings</a>    </li>
    <li><a name="toc-Changing-chord-separator-1" href="lilypond-snippets-big-page.html#Changing-chord-separator">Changing chord separator</a>    </li>
    <li><a name="toc-Changing-the-chord-names-to-German-or-semi_002dGerman-notation-1" href="lilypond-snippets-big-page.html#Changing-the-chord-names-to-German-or-semi_002dGerman-notation">Changing the chord names to German or semi-German notation</a>    </li>
    <li><a name="toc-Changing-the-positions-of-figured-bass-alterations-1" href="lilypond-snippets-big-page.html#Changing-the-positions-of-figured-bass-alterations">Changing the positions of figured bass alterations</a>    </li>
    <li><a name="toc-Chord-name-exceptions-1" href="lilypond-snippets-big-page.html#Chord-name-exceptions">Chord name exceptions</a>    </li>
    <li><a name="toc-chord-name-major7-1" href="lilypond-snippets-big-page.html#chord-name-major7">chord name major7</a>    </li>
    <li><a name="toc-Clusters-3" href="lilypond-snippets-big-page.html#chord-name-major7">Clusters</a>    </li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-4" href="lilypond-snippets-big-page.html#chord-name-major7">Controlling the placement of chord fingerings</a>    </li>
    <li><a name="toc-Displaying-complex-chords-2" href="lilypond-snippets-big-page.html#chord-name-major7">Displaying complex chords</a>    </li>
    <li><a name="toc-Manually-break-figured-bass-extenders-for-only-some-numbers-1" href="lilypond-snippets-big-page.html#Manually-break-figured-bass-extenders-for-only-some-numbers">Manually break figured bass extenders for only some numbers</a>    </li>
    <li><a name="toc-Showing-chords-at-changes-1" href="lilypond-snippets-big-page.html#Showing-chords-at-changes">Showing chords at changes</a>    </li>
    <li><a name="toc-Simple-lead-sheet-1" href="lilypond-snippets-big-page.html#Simple-lead-sheet">Simple lead sheet</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-and-chords-2" href="lilypond-snippets-big-page.html#Simple-lead-sheet">Single staff template with notes, lyrics, and chords</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-chords-and-frets-2" href="lilypond-snippets-big-page.html#Simple-lead-sheet">Single staff template with notes, lyrics, chords and frets</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes-and-chords-2" href="lilypond-snippets-big-page.html#Single-staff-template-with-notes-and-chords">Single staff template with notes and chords</a>    </li>
    <li><a name="toc-Volta-below-chords-2" href="lilypond-snippets-big-page.html#Single-staff-template-with-notes-and-chords">Volta below chords</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Keyboards-1" href="lilypond-snippets-big-page.html#Keyboards">Keyboards</a>
  <ul class="toc">
    <li><a name="toc-Accordion_002ddiscant-symbols-1" href="lilypond-snippets-big-page.html#Accordion_002ddiscant-symbols">Accordion-discant symbols</a>    </li>
    <li><a name="toc-Clusters-2" href="lilypond-snippets-big-page.html#Accordion_002ddiscant-symbols">Clusters</a>    </li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-2" href="lilypond-snippets-big-page.html#Accordion_002ddiscant-symbols">Controlling the placement of chord fingerings</a>    </li>
    <li><a name="toc-Creating-slurs-across-voices-1" href="lilypond-snippets-big-page.html#Accordion_002ddiscant-symbols">Creating slurs across voices</a>    </li>
    <li><a name="toc-Fine_002dtuning-pedal-brackets-2" href="lilypond-snippets-big-page.html#Fine_002dtuning-pedal-brackets">Fine-tuning pedal brackets</a>    </li>
    <li><a name="toc-Indicating-cross_002dstaff-chords-with-arpeggio-bracket-1" href="lilypond-snippets-big-page.html#Indicating-cross_002dstaff-chords-with-arpeggio-bracket">Indicating cross-staff chords with arpeggio bracket</a>    </li>
    <li><a name="toc-Jazz-combo-template-1" href="lilypond-snippets-big-page.html#Jazz-combo-template">Jazz combo template</a>    </li>
    <li><a name="toc-Laissez-vibrer-ties-3" href="lilypond-snippets-big-page.html#Jazz-combo-template">Laissez vibrer ties</a>    </li>
    <li><a name="toc-Piano-template-_0028simple_0029-1" href="lilypond-snippets-big-page.html#Piano-template-_0028simple_0029">Piano template (simple)</a>    </li>
    <li><a name="toc-Piano-template-with-centered-dynamics-1" href="lilypond-snippets-big-page.html#Piano-template-_0028simple_0029">Piano template with centered dynamics</a>    </li>
    <li><a name="toc-Piano-template-with-centered-lyrics-3" href="lilypond-snippets-big-page.html#Piano-template-_0028simple_0029">Piano template with centered lyrics</a>    </li>
    <li><a name="toc-Piano-template-with-melody-and-lyrics-3" href="lilypond-snippets-big-page.html#Piano-template-_0028simple_0029">Piano template with melody and lyrics</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-3" href="lilypond-snippets-big-page.html#Piano-template-_0028simple_0029">Vocal ensemble template with automatic piano reduction</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Percussion-1" href="lilypond-snippets-big-page.html#Percussion">Percussion</a>
  <ul class="toc">
    <li><a name="toc-Adding-drum-parts-2" href="lilypond-snippets-big-page.html#Percussion">Adding drum parts</a>    </li>
    <li><a name="toc-Heavily-customized-polymetric-time-signatures-2" href="lilypond-snippets-big-page.html#Percussion">Heavily customized polymetric time signatures</a>    </li>
    <li><a name="toc-Jazz-combo-template-4" href="lilypond-snippets-big-page.html#Percussion">Jazz combo template</a>    </li>
    <li><a name="toc-Percussion-beaters-1" href="lilypond-snippets-big-page.html#Percussion-beaters">Percussion beaters</a>    </li>
    <li><a name="toc-Printing-music-with-different-time-signatures-1" href="lilypond-snippets-big-page.html#Percussion-beaters">Printing music with different time signatures</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Fretted-strings-1" href="lilypond-snippets-big-page.html#Fretted-strings">Fretted strings</a>
  <ul class="toc">
    <li><a name="toc-Adding-fingerings-to-a-score-2" href="lilypond-snippets-big-page.html#Fretted-strings">Adding fingerings to a score</a>    </li>
    <li><a name="toc-Adding-fingerings-to-tablatures-1" href="lilypond-snippets-big-page.html#Adding-fingerings-to-tablatures">Adding fingerings to tablatures</a>    </li>
    <li><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-3" href="lilypond-snippets-big-page.html#Adding-fingerings-to-tablatures">Allowing fingerings to be printed inside the staff</a>    </li>
    <li><a name="toc-Controlling-the-placement-of-chord-fingerings-3" href="lilypond-snippets-big-page.html#Adding-fingerings-to-tablatures">Controlling the placement of chord fingerings</a>    </li>
    <li><a name="toc-Customizing-fretboard-fret-diagrams-1" href="lilypond-snippets-big-page.html#Customizing-fretboard-fret-diagrams">Customizing fretboard fret diagrams</a>    </li>
    <li><a name="toc-Customizing-markup-fret-diagrams-1" href="lilypond-snippets-big-page.html#Customizing-markup-fret-diagrams">Customizing markup fret diagrams</a>    </li>
    <li><a name="toc-Defining-predefined-fretboards-for-other-instruments-1" href="lilypond-snippets-big-page.html#Defining-predefined-fretboards-for-other-instruments">Defining predefined fretboards for other instruments</a>    </li>
    <li><a name="toc-Faking-a-hammer-in-tablatures-1" href="lilypond-snippets-big-page.html#Faking-a-hammer-in-tablatures">Faking a hammer in tablatures</a>    </li>
    <li><a name="toc-Fingerings_002c-string-indications_002c-and-right_002dhand-fingerings" href="lilypond-snippets-big-page.html#Fingerings">Fingerings, string indications, and right-hand fingerings</a>    </li>
    <li><a name="toc-Flamenco-notation-1" href="lilypond-snippets-big-page.html#Flamenco-notation">Flamenco notation</a>    </li>
    <li><a name="toc-Fret-diagrams-explained-and-developed-2" href="lilypond-snippets-big-page.html#Fret-diagrams-explained-and-developed">Fret diagrams explained and developed</a>    </li>
    <li><a name="toc-Guitar-strum-rhythms-2" href="lilypond-snippets-big-page.html#Fret-diagrams-explained-and-developed">Guitar strum rhythms</a>    </li>
    <li><a name="toc-How-to-change-fret-diagram-position-1" href="lilypond-snippets-big-page.html#How-to-change-fret-diagram-position">How to change fret diagram position</a>    </li>
    <li><a name="toc-Jazz-combo-template-3" href="lilypond-snippets-big-page.html#How-to-change-fret-diagram-position">Jazz combo template</a>    </li>
    <li><a name="toc-Laissez-vibrer-ties-2" href="lilypond-snippets-big-page.html#How-to-change-fret-diagram-position">Laissez vibrer ties</a>    </li>
    <li><a name="toc-Letter-tablature-formatting-1" href="lilypond-snippets-big-page.html#How-to-change-fret-diagram-position">Letter tablature formatting</a>    </li>
    <li><a name="toc-Modern-TAB-text-clef-2" href="lilypond-snippets-big-page.html#How-to-change-fret-diagram-position">Modern TAB text clef</a>    </li>
    <li><a name="toc-Placement-of-right_002dhand-fingerings-1" href="lilypond-snippets-big-page.html#Placement-of-right_002dhand-fingerings">Placement of right-hand fingerings</a>    </li>
    <li><a name="toc-Polyphony-in-tablature-1" href="lilypond-snippets-big-page.html#Polyphony-in-tablature">Polyphony in tablature</a>    </li>
    <li><a name="toc-Stem-and-beam-behavior-in-tablature-1" href="lilypond-snippets-big-page.html#Stem-and-beam-behavior-in-tablature">Stem and beam behavior in tablature</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Unfretted-strings-1" href="lilypond-snippets-big-page.html#Unfretted-strings">Unfretted strings</a>
  <ul class="toc">
    <li><a name="toc-Changing-_005cflageolet-mark-size-1" href="lilypond-snippets-big-page.html#Unfretted-strings">Changing \flageolet mark size</a>    </li>
    <li><a name="toc-Creating-slurs-across-voices-2" href="lilypond-snippets-big-page.html#Unfretted-strings">Creating slurs across voices</a>    </li>
    <li><a name="toc-Dotted-harmonics-2" href="lilypond-snippets-big-page.html#Dotted-harmonics">Dotted harmonics</a>    </li>
    <li><a name="toc-Snap_002dpizzicato-markup-_0028_0022Bartok-pizzicato_0022_0029-1" href="lilypond-snippets-big-page.html#Dotted-harmonics">Snap-pizzicato markup (&quot;Bartok pizzicato&quot;)</a>    </li>
    <li><a name="toc-String-quartet-template-_0028simple_0029-2" href="lilypond-snippets-big-page.html#String-quartet-template-_0028simple_0029">String quartet template (simple)</a>    </li>
    <li><a name="toc-String-quartet-template-with-separate-parts-2" href="lilypond-snippets-big-page.html#String-quartet-template-with-separate-parts">String quartet template with separate parts</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Winds-1" href="lilypond-snippets-big-page.html#Winds">Winds</a>
  <ul class="toc">
    <li><a name="toc-Flute-slap-notation-1" href="lilypond-snippets-big-page.html#Flute-slap-notation">Flute slap notation</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Ancient-notation-1" href="lilypond-snippets-big-page.html#Ancient-notation">Ancient notation</a>
  <ul class="toc">
    <li><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-2" href="lilypond-snippets-big-page.html#Ancient-notation">Adding a figured bass above or below the notes</a>    </li>
    <li><a name="toc-Ancient-fonts-1" href="lilypond-snippets-big-page.html#Ancient-fonts">Ancient fonts</a>    </li>
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music-1" href="lilypond-snippets-big-page.html#Ancient-notation-template-_002d-modern-transcription-of-gregorian-music">Ancient notation template &ndash; modern transcription of gregorian music</a>    </li>
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-mensural-music-2" href="lilypond-snippets-big-page.html#Ancient-notation-template-_002d-modern-transcription-of-mensural-music">Ancient notation template &ndash; modern transcription of mensural music</a>    </li>
    <li><a name="toc-Ancient-time-signatures-1" href="lilypond-snippets-big-page.html#Ancient-time-signatures">Ancient time signatures</a>    </li>
    <li><a name="toc-Chant-or-psalms-notation-4" href="lilypond-snippets-big-page.html#Ancient-time-signatures">Chant or psalms notation</a>    </li>
    <li><a name="toc-Custodes-2" href="lilypond-snippets-big-page.html#Custodes">Custodes</a>    </li>
    <li><a name="toc-Incipit-1" href="lilypond-snippets-big-page.html#Custodes">Incipit</a>    </li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-1" href="lilypond-snippets-big-page.html#Custodes">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li><a name="toc-Rest-styles-1" href="lilypond-snippets-big-page.html#Custodes">Rest styles</a>    </li>
    <li><a name="toc-Transcription-of-Ancient-music-with-incipit-2" href="lilypond-snippets-big-page.html#Transcription-of-Ancient-music-with-incipit">Transcription of Ancient music with incipit</a>    </li>
    <li><a name="toc-Vertical-line-as-a-baroque-articulation-mark-1" href="lilypond-snippets-big-page.html#Transcription-of-Ancient-music-with-incipit">Vertical line as a baroque articulation mark</a>    </li>
  </ul>
  </li>
  <li><a name="toc-World-music-1" href="lilypond-snippets-big-page.html#World-music">World music</a>
  <ul class="toc">
    <li><a name="toc-Arabic-improvisation-1" href="lilypond-snippets-big-page.html#Arabic-improvisation">Arabic improvisation</a>    </li>
    <li><a name="toc-Makam-example-1" href="lilypond-snippets-big-page.html#Arabic-improvisation">Makam example</a>    </li>
    <li><a name="toc-Printing-text-from-right-to-left-3" href="lilypond-snippets-big-page.html#Arabic-improvisation">Printing text from right to left</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Contexts-and-engravers-1" href="lilypond-snippets-big-page.html#Contexts-and-engravers">Contexts and engravers</a>
  <ul class="toc">
    <li><a name="toc-Adding-a-figured-bass-above-or-below-the-notes-1" href="lilypond-snippets-big-page.html#Contexts-and-engravers">Adding a figured bass above or below the notes</a>    </li>
    <li><a name="toc-Adding-an-extra-staff-at-a-line-break-2" href="lilypond-snippets-big-page.html#Contexts-and-engravers">Adding an extra staff at a line break</a>    </li>
    <li><a name="toc-Adding-an-extra-staff-1" href="lilypond-snippets-big-page.html#Contexts-and-engravers">Adding an extra staff</a>    </li>
    <li><a name="toc-Changing-MIDI-output-to-one-channel-per-voice-2" href="lilypond-snippets-big-page.html#Changing-MIDI-output-to-one-channel-per-voice">Changing MIDI output to one channel per voice</a>    </li>
    <li><a name="toc-Changing-time-signatures-inside-a-polymetric-section-using-_005cscaleDurations-2" href="lilypond-snippets-big-page.html#Changing-MIDI-output-to-one-channel-per-voice">Changing time signatures inside a polymetric section using \scaleDurations</a>    </li>
    <li><a name="toc-Chant-or-psalms-notation-2" href="lilypond-snippets-big-page.html#Changing-MIDI-output-to-one-channel-per-voice">Chant or psalms notation</a>    </li>
    <li><a name="toc-Creating-blank-staves-1" href="lilypond-snippets-big-page.html#Changing-MIDI-output-to-one-channel-per-voice">Creating blank staves</a>    </li>
    <li><a name="toc-Engravers-one_002dby_002done-1" href="lilypond-snippets-big-page.html#Engravers-one_002dby_002done">Engravers one-by-one</a>    </li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-4" href="lilypond-snippets-big-page.html#Engravers-one_002dby_002done">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li><a name="toc-Nesting-staves-2" href="lilypond-snippets-big-page.html#Engravers-one_002dby_002done">Nesting staves</a>    </li>
    <li><a name="toc-Removing-bar-numbers-from-a-score-1" href="lilypond-snippets-big-page.html#Engravers-one_002dby_002done">Removing bar numbers from a score</a>    </li>
    <li><a name="toc-Use-square-bracket-at-the-start-of-a-staff-group-1" href="lilypond-snippets-big-page.html#Engravers-one_002dby_002done">Use square bracket at the start of a staff group</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-2" href="lilypond-snippets-big-page.html#Engravers-one_002dby_002done">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Tweaks-and-overrides-1" href="lilypond-snippets-big-page.html#Tweaks-and-overrides">Tweaks and overrides</a>
  <ul class="toc">
    <li><a name="toc-Analysis-brackets-above-the-staff-1" href="lilypond-snippets-big-page.html#Tweaks-and-overrides">Analysis brackets above the staff</a>    </li>
    <li><a name="toc-Avoiding-collisions-with-chord-fingerings-2" href="lilypond-snippets-big-page.html#Tweaks-and-overrides">Avoiding collisions with chord fingerings</a>    </li>
    <li><a name="toc-Caesura-_0028_0022railtracks_0022_0029-with-fermata-1" href="lilypond-snippets-big-page.html#Tweaks-and-overrides">Caesura (&quot;railtracks&quot;) with fermata</a>    </li>
    <li><a name="toc-Changing-a-single-note_0027s-size-in-a-chord-2" href="lilypond-snippets-big-page.html#Tweaks-and-overrides">Changing a single note&rsquo;s size in a chord</a>    </li>
    <li><a name="toc-Changing-form-of-multi_002dmeasure-rests-2" href="lilypond-snippets-big-page.html#Tweaks-and-overrides">Changing form of multi-measure rests</a>    </li>
    <li><a name="toc-Changing-properties-for-individual-grobs-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Changing properties for individual grobs</a>    </li>
    <li><a name="toc-Changing-the-default-text-font-family-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Changing the default text font family</a>    </li>
    <li><a name="toc-Changing-the-staff-size-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Changing the staff size</a>    </li>
    <li><a name="toc-Controlling-the-vertical-ordering-of-scripts-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Controlling the vertical ordering of scripts</a>    </li>
    <li><a name="toc-Controlling-tuplet-bracket-visibility-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Controlling tuplet bracket visibility</a>    </li>
    <li><a name="toc-Creating-a-delayed-turn-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Creating a delayed turn</a>    </li>
    <li><a name="toc-Creating-simultaneous-rehearsal-marks-3" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Creating simultaneous rehearsal marks</a>    </li>
    <li><a name="toc-Creating-text-spanners-3" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Creating text spanners</a>    </li>
    <li><a name="toc-Custodes-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Custodes</a>    </li>
    <li><a name="toc-Customizing-fretboard-fret-diagrams-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Customizing fretboard fret diagrams</a>    </li>
    <li><a name="toc-Customizing-markup-fret-diagrams-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Customizing markup fret diagrams</a>    </li>
    <li><a name="toc-Display-bracket-with-only-one-staff-in-a-system-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Display bracket with only one staff in a system</a>    </li>
    <li><a name="toc-Dotted-harmonics-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Dotted harmonics</a>    </li>
    <li><a name="toc-Drawing-boxes-around-grobs-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Drawing boxes around grobs</a>    </li>
    <li><a name="toc-Drawing-circles-around-various-objects-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Drawing circles around various objects</a>    </li>
    <li><a name="toc-Fine_002dtuning-pedal-brackets-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Fine-tuning pedal brackets</a>    </li>
    <li><a name="toc-Forcing-horizontal-shift-of-notes-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Forcing horizontal shift of notes</a>    </li>
    <li><a name="toc-Fret-diagrams-explained-and-developed-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Fret diagrams explained and developed</a>    </li>
    <li><a name="toc-Horizontally-aligning-custom-dynamics-_0028e_002eg_002e-_0022sempre-pp_0022_002c-_0022piu-f_0022_002c-_0022subito-p_0022_0029" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Horizontally aligning custom dynamics (e.g. &quot;sempre pp&quot;, &quot;piu f&quot;, &quot;subito p&quot;)</a>    </li>
    <li><a name="toc-How-to-change-fret-diagram-position-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">How to change fret diagram position</a>    </li>
    <li><a name="toc-Inserting-a-caesura-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Inserting a caesura</a>    </li>
    <li><a name="toc-Line-arrows-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Line arrows</a>    </li>
    <li><a name="toc-Making-an-object-invisible-with-the-_0027transparent-property-3" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Making an object invisible with the &rsquo;transparent property</a>    </li>
    <li><a name="toc-Manually-controlling-beam-positions-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Manually controlling beam positions</a>    </li>
    <li><a name="toc-Mensurstriche-layout-_0028bar-lines-between-the-staves_0029-3" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Mensurstriche layout (bar lines between the staves)</a>    </li>
    <li><a name="toc-Nesting-staves-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Nesting staves</a>    </li>
    <li><a name="toc-Percent-repeat-count-visibility-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Percent repeat count visibility</a>    </li>
    <li><a name="toc-Positioning-multi_002dmeasure-rests-2" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Positioning multi-measure rests</a>    </li>
    <li><a name="toc-Positioning-text-markups-inside-slurs-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Positioning text markups inside slurs</a>    </li>
    <li><a name="toc-Printing-a-repeat-sign-at-the-beginning-of-a-piece-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Printing a repeat sign at the beginning of a piece</a>    </li>
    <li><a name="toc-Printing-bar-numbers-inside-boxes-or-circles-1" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Printing bar numbers inside boxes or circles</a>    </li>
    <li><a name="toc-Printing-metronome-and-rehearsal-marks-below-the-staff-3" href="lilypond-snippets-big-page.html#Changing-properties-for-individual-grobs">Printing metronome and rehearsal marks below the staff</a>    </li>
    <li><a name="toc-Proportional-strict-notespacing-1" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Proportional strict notespacing</a>    </li>
    <li><a name="toc-Removing-the-first-empty-line-2" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Removing the first empty line</a>    </li>
    <li><a name="toc-Rest-styles-3" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Rest styles</a>    </li>
    <li><a name="toc-Rhythmic-slashes-2" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Rhythmic slashes</a>    </li>
    <li><a name="toc-Separating-key-cancellations-from-key-signature-changes-2" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Separating key cancellations from key signature changes</a>    </li>
    <li><a name="toc-Setting-hairpin-behavior-at-bar-lines-2" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Setting hairpin behavior at bar lines</a>    </li>
    <li><a name="toc-Specifying-context-with-beatGrouping-1" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Specifying context with beatGrouping</a>    </li>
    <li><a name="toc-Suppressing-warnings-for-clashing-note-columns-1" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Suppressing warnings for clashing note columns</a>    </li>
    <li><a name="toc-Time-signature-in-parentheses-2" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Time signature in parentheses</a>    </li>
    <li><a name="toc-Time-signature-printing-only-the-numerator-as-a-number-_0028instead-of-the-fraction_0029-2" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Time signature printing only the numerator as a number (instead of the fraction)</a>    </li>
    <li><a name="toc-Transcription-of-Ancient-music-with-incipit-1" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Transcription of Ancient music with incipit</a>    </li>
    <li><a name="toc-Tweaking-clef-properties-3" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Tweaking clef properties</a>    </li>
    <li><a name="toc-Tweaking-grace-layout-within-music-1" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Tweaking grace layout within music</a>    </li>
    <li><a name="toc-Using-beatLength-and-beatGrouping-2" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Using beatLength and beatGrouping</a>    </li>
    <li><a name="toc-Using-PostScript-to-generate-special-note-head-shapes-1" href="lilypond-snippets-big-page.html#Proportional-strict-notespacing">Using PostScript to generate special note head shapes</a>    </li>
    <li><a name="toc-Using-the-_005ctweak-command-to-tweak-individual-grobs-1" href="lilypond-snippets-big-page.html#Using-the-_005ctweak-command-to-tweak-individual-grobs">Using the \tweak command to tweak individual grobs</a>    </li>
    <li><a name="toc-Vertically-aligned-dynamics-and-textscripts-1" href="lilypond-snippets-big-page.html#Vertically-aligned-dynamics-and-textscripts">Vertically aligned dynamics and textscripts</a>    </li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-2" href="lilypond-snippets-big-page.html#Vertically-aligned-dynamics-and-textscripts">Vertically aligning ossias and lyrics</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Paper-and-layout-1" href="lilypond-snippets-big-page.html#Paper-and-layout">Paper and layout</a>
  <ul class="toc">
    <li><a name="toc-Aligning-and-centering-instrument-names-2" href="lilypond-snippets-big-page.html#Paper-and-layout">Aligning and centering instrument names</a>    </li>
    <li><a name="toc-Book-parts-1" href="lilypond-snippets-big-page.html#Book-parts">Book parts</a>    </li>
    <li><a name="toc-Changing-the-staff-size-3" href="lilypond-snippets-big-page.html#Book-parts">Changing the staff size</a>    </li>
    <li><a name="toc-Clip-systems-1" href="lilypond-snippets-big-page.html#Clip-systems">Clip systems</a>    </li>
    <li><a name="toc-Creating-blank-staves-4" href="lilypond-snippets-big-page.html#Clip-systems">Creating blank staves</a>    </li>
    <li><a name="toc-Demonstrating-all-headers-1" href="lilypond-snippets-big-page.html#Clip-systems">Demonstrating all headers</a>    </li>
    <li><a name="toc-Table-of-contents-1" href="lilypond-snippets-big-page.html#Table-of-contents">Table of contents</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Titles-1" href="lilypond-snippets-big-page.html#Titles">Titles</a>
  <ul class="toc">
    <li><a name="toc-Adding-the-current-date-to-a-score-2" href="lilypond-snippets-big-page.html#Titles">Adding the current date to a score</a>    </li>
    <li><a name="toc-Aligning-and-centering-instrument-names-1" href="lilypond-snippets-big-page.html#Titles">Aligning and centering instrument names</a>    </li>
    <li><a name="toc-Demonstrating-all-headers-2" href="lilypond-snippets-big-page.html#Titles">Demonstrating all headers</a>    </li>
    <li><a name="toc-Outputting-the-version-number-1" href="lilypond-snippets-big-page.html#Titles">Outputting the version number</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Spacing-1" href="lilypond-snippets-big-page.html#Spacing">Spacing</a>
  <ul class="toc">
    <li><a name="toc-Adjusting-lyrics-vertical-spacing-2" href="lilypond-snippets-big-page.html#Spacing">Adjusting lyrics vertical spacing</a>    </li>
    <li><a name="toc-Allowing-fingerings-to-be-printed-inside-the-staff-1" href="lilypond-snippets-big-page.html#Spacing">Allowing fingerings to be printed inside the staff</a>    </li>
    <li><a name="toc-Page-label-1" href="lilypond-snippets-big-page.html#Page-label">Page label</a>    </li>
    <li><a name="toc-Proportional-strict-notespacing-2" href="lilypond-snippets-big-page.html#Page-label">Proportional strict notespacing</a>    </li>
    <li><a name="toc-Vertically-aligned-dynamics-and-textscripts-2" href="lilypond-snippets-big-page.html#Page-label">Vertically aligned dynamics and textscripts</a>    </li>
    <li><a name="toc-Vertically-aligning-ossias-and-lyrics-1" href="lilypond-snippets-big-page.html#Page-label">Vertically aligning ossias and lyrics</a>    </li>
  </ul>
  </li>
  <li><a name="toc-MIDI-1" href="lilypond-snippets-big-page.html#MIDI">MIDI</a>
  <ul class="toc">
    <li><a name="toc-Changing-MIDI-output-to-one-channel-per-voice-1" href="lilypond-snippets-big-page.html#MIDI">Changing MIDI output to one channel per voice</a>    </li>
    <li><a name="toc-Changing-the-tempo-without-a-metronome-mark-2" href="lilypond-snippets-big-page.html#MIDI">Changing the tempo without a metronome mark</a>    </li>
    <li><a name="toc-Demo-MidiInstruments-1" href="lilypond-snippets-big-page.html#Demo-MidiInstruments">Demo MidiInstruments</a>    </li>
  </ul>
  </li>
  <li><a name="toc-Templates-1" href="lilypond-snippets-big-page.html#Templates">Templates</a>
  <ul class="toc">
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-gregorian-music-2" href="lilypond-snippets-big-page.html#Templates">Ancient notation template &ndash; modern transcription of gregorian music</a>    </li>
    <li><a name="toc-Ancient-notation-template-_002d_002d-modern-transcription-of-mensural-music-1" href="lilypond-snippets-big-page.html#Templates">Ancient notation template &ndash; modern transcription of mensural music</a>    </li>
    <li><a name="toc-Jazz-combo-template-2" href="lilypond-snippets-big-page.html#Templates">Jazz combo template</a>    </li>
    <li><a name="toc-Orchestra_002c-choir-and-piano-template" href="lilypond-snippets-big-page.html#Orchestra">Orchestra, choir and piano template</a>    </li>
    <li><a name="toc-Piano-template-_0028simple_0029-2" href="lilypond-snippets-big-page.html#Orchestra">Piano template (simple)</a>    </li>
    <li><a name="toc-Piano-template-with-centered-dynamics-3" href="lilypond-snippets-big-page.html#Orchestra">Piano template with centered dynamics</a>    </li>
    <li><a name="toc-Piano-template-with-centered-lyrics-1" href="lilypond-snippets-big-page.html#Orchestra">Piano template with centered lyrics</a>    </li>
    <li><a name="toc-Piano-template-with-melody-and-lyrics-2" href="lilypond-snippets-big-page.html#Orchestra">Piano template with melody and lyrics</a>    </li>
    <li><a name="toc-Score-for-diatonic-accordion-1" href="lilypond-snippets-big-page.html#Score-for-diatonic-accordion">Score for diatonic accordion</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-and-chords" href="lilypond-snippets-big-page.html#Score-for-diatonic-accordion">Single staff template with notes, lyrics, and chords</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes_002c-lyrics_002c-chords-and-frets" href="lilypond-snippets-big-page.html#Score-for-diatonic-accordion">Single staff template with notes, lyrics, chords and frets</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes-and-chords-1" href="lilypond-snippets-big-page.html#Score-for-diatonic-accordion">Single staff template with notes and chords</a>    </li>
    <li><a name="toc-Single-staff-template-with-notes-and-lyrics-1" href="lilypond-snippets-big-page.html#Score-for-diatonic-accordion">Single staff template with notes and lyrics</a>    </li>
    <li><a name="toc-Single-staff-template-with-only-notes-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-only-notes">Single staff template with only notes</a>    </li>
    <li><a name="toc-String-quartet-template-_0028simple_0029-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-only-notes">String quartet template (simple)</a>    </li>
    <li><a name="toc-String-quartet-template-with-separate-parts-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-only-notes">String quartet template with separate parts</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-with-automatic-piano-reduction-2" href="lilypond-snippets-big-page.html#Single-staff-template-with-only-notes">Vocal ensemble template with automatic piano reduction</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-with-lyrics-aligned-below-and-above-the-staves-1" href="lilypond-snippets-big-page.html#Single-staff-template-with-only-notes">Vocal ensemble template with lyrics aligned below and above the staves</a>    </li>
    <li><a name="toc-Vocal-ensemble-template-2" href="lilypond-snippets-big-page.html#Single-staff-template-with-only-notes">Vocal ensemble template</a>    </li>
  </ul>
  </li>
</ul>
</div>
</div>

</body>
</html>
